if (window.performance && window.performance.mark) { window.performance.mark('startLoadBundleInner-async'); }
define("ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline",["require","exports"],function(require,exports){var e=exports;e.NewReleaseName="New release name";e.GatesLastSampling="Last updated time";e.Summary="Summary";e.LinkedArtifactsFolderName="Linked artifacts";e.AllTargetsInParallel="All targets in parallel";e.OpenText="Open";e.ExternalLink="External link";e.InvalidLinkedArtifactId="Invalid release/release stage ID. The correct format is releaseID:environmentID";e.VariableSingular="variable";e.UsePATWarning="Note: depending upon system policies, sensitive data passed to a command line may be saved in shell history and audit logs.";e.DeploymentGroupRegisterIconToolTip="Register target";e.TaskGroupReferenceDescription="Expand each category for task group references.";e.ChangeColumnHeaderAuthorToltip="Author";e.CreateReleaseDialogClosing="Are you sure you want to discard this release?";e.TaskAgentPoolAgentsTitleFormat="Agents for pool {0}";e.ReleaseActionAbandonTooltip="Abandon the release. No further actions are permitted on abandoned releases.";e.ReleaseSettingsHubRetentionSettingsText="Retention policy settings";e.ArtifactsGridColumnVersion="Version";e.CancelButtonText="Cancel";e.EnvironmentTriggerAutomatically="Automatically deploy whenever a deployment to the stage {0} is successful";e.SecurityToolBarMenu="Security...";e.NoReferencesFoundText="No references found.";e.BuildReplacedMessage="Replaced build with another build that has the same pipeline. {0} New build: \u0027{1}\u0027 {2} Previous build: \u0027{3}\u0027 {4} Build pipeline: \u0027{5}\u0027";e.DeploymentAnalyticsText="Deployment analytics";e.DeploymentTime="Deployment time";e.LogsViewFilterTasks="Tasks";e.DeploymentGroupDeploymentConfiguration="Deployment configuration";e.SharingDisabledForDGPoolForEnvironment="Pool sharing is disabled for the deployment pool configured via environment.\"";e.SummarRecentActivitySuccessfulRelease="Deployment to \u0027{0}\u0027 succeeded.";e.DeploymentStatusWidgetRepoLabel="Repository:";e.AgentAcquisitionLinuxCreateAgentMarkdownFormat="```bash\r\n~/$ mkdir myagent \u0026\u0026 cd myagent\r\n~/myagent$ tar zxvf ~/Downloads/{0}\r\n```";e.AgentPoolsNotFoundErrorMessage="A default agent pool is not specified in \u0027{0}\u0027 for the stages \u0027{1}\u0027 or you do not have access to organization agent pools. Contact your administrator to obtain permission.";e.DeploymentGroupActions="Deployment group actions";e.DeploymentStatusWidgetReleaseDefinitionNameToolTip="Release pipeline: {0}";e.ArtifactDefinitionCollapseSpliiterLabelSuffix="{0} artifacts";e.WidgetEmptyReleaseDefinitionPickerMessage="Please select a build pipeline above";e.ImportReleaseDefinitionText="Import release pipeline";e.DeploymentPreApprovalRejectedTooltipText="Pre-deployment approval rejected";e.SelectPoolLabel="Select a pool";e.MultiPreApprovalsPending="Pre-deployment approvals pending";e.BuildStatusSucceeded="Succeeded";e.GatesEvaluationEndTimeText="Timeout and fail gates at";e.AutomaticAgentUpdates="Automatic agent updates";e.GridRemoveVariableText="Remove variable";e.InActiveApproverWarningFormat="{0} is an invalid user. Override this approval or restart deployment after editing the approver list.";e.ApprovalsHubTabText="Approvals";e.ManualIntervention="Manual intervention";e.DeploymentGroupTeamProjectDescription="Share this deployment group with other projects.";e.SummaryEnvironmentStatusQueued=" Queued";e.DSWBranchPickerToolTip="Filter builds on the selected branch, or use the default build pipeline repository setting.";e.EnvironmentSettingsArtifactsChooseLaterText="Choose later";e.AdminViewNoAgents="No agents are registered or you do not have permission to view the agents.";e.PSMinVersionCheck="The minimum version of Windows PowerShell that is required by the script (3.0) does not match the currently running version of Windows PowerShell.";e.MoreOptionsText="More options";e.WorkItemAndChangesReleaseComparisonText="Comparing the current release with {0}.";e.EnvironmentSettingsManageQueueText="manage queues";e.ReleaseSummaryRecentActivityLogLink="Show more...";e.EnvironmentExecutionPolicyQueueDepthInfiniteTooltip="Select this option for all queued deployments to be started one after another in order.";e.CreateReleaseDefinitionConfirmationDialogTitle="Create a release pipeline";e.ApprovalsTextToolTip="When the approval is automatic, the deployment is automatically approved.\u003cbr\u003e Alternately, specific users (or groups) can be marked as approvers. By default, all of them must approve (in any order) for the deployment to proceed. If a group is added, one user in the group must approve the deployment.\u003cbr\u003e See more options to change the default behavior.";e.SelectHoursText="Select hours";e.FilterByNamePlaceHolder="Filter by name";e.ProjectReferencesTitle="Project references";e.EditArtifactSourceDialogTitle="Edit the artifact source";e.EnvironmentEditOptionsDefaultPool="Default pool";e.ReleaseLogStateNotStarted="Not started";e.ArtifactDefinitionRemove="Remove artifact definition";e.DeploymentTargetPassing=" Passing";e.DeploymentPoolsImportButtonText="Import";e.ErrorWhileSavingStages="An error has occurred while saving stages.";e.TargetsCount="Target count";e.SequentialApprovers="All users in sequential order";e.MyFavoritesNodeText="My favorites";e.AgentPoolLabelOnDGDetailsPage="Deployment pool";e.ReleaseActionResume="Resume";e.SummaryEnvironmentSection="Stages";e.DateFilterName="Date";e.TaskAgentPoolDisplayNameMultiFormat="{0} (referenced by pool {1} and {2} others)";e.SummaryGatesStatusStabilizingInfoText="Waiting on delay before gates evaluation. View logs for more details.";e.DeploymentQueueEnvironmentExecutionPolicyConcurrencyInfiniteTooltip="Select this option to allow all deployments to start in parallel.";e.WidgetReleaseDefinitionPickerMessage="Select release pipeline stage";e.ReleaseLogForDGStartedTimeHeader="Started time";e.ReleaseBannerApproveOrRejectText="Approve or reject";e.ReleaseSettingsHubUndoChangesText="Undo changes";e.AcceptanceCriteriaCountText="{0}/{1} acceptance criteria";e.ReleaseTriggeredBy="Release triggered by {0}";e.ApprovalReassignLink="(Reassign)";e.ReleaseActionStop="Stop";e.ArtifactsDisplayMessage="The artifacts published by each version will be available for deployment in release pipelines. The last successful version of \u003cb\u003e{0}\u003c/b\u003e ";e.SearchBoxLabelTextForAllDefinitions="Search all pipelines";e.RemoveMachine="Remove the machine";e.ImportText="Import";e.NewReleaseQueue="New pool...";e.DeploymentPoolTargetsSearchPlaceHolder="Search by name";e.EnvironmentDefaultNameText="Stage {0}";e.ConfirmReleaseDefinitionNavigateOut="You have unsaved changes to this release pipeline which will be lost.";e.ReleaseArtifactDateColumn="Date";e.LoadEnvironmentTemplatesDialogTitle="Deployment templates";e.SummaryEnvironmentStatusNotStarted="Not started";e.ChooseLaterOptionTooltipText="Link an artifact source later";e.ManageQueuesText="Manage";e.ChangeColumnHeaderDate="Date";e.EnvironmentStartedAtTooltip="Started at {0}";e.SavingStage="Saving stage...";e.AddEnvironmentPreApprovalDescription="Select the users who can approve or reject deployments to the new stage";e.ScheduleConflictWarning="You have specified both a schedule and a pre-deployment approver on this stage. The approver(s) must grant approval when the scheduled deployment triggers, and so the release will not deploy automatically at the scheduled time. It is also possible that an approver may not grant approval, in which case the deployment will be rejected. For scheduled deployments, consider setting pre-deployment approval to automatic.";e.DeploymentGroupTabTitleMachines="Machines";e.QueueForPipelineTooltipText="Queued for an available job";e.ReleaseConsoleRunningOnServer="Waiting for server task execution...";e.LogTypeColumnLabelText="Log type";e.StatusHeaderColumn="Status";e.AgentPoolNotConfigured="A default agent pool is not configured or you do not have the access to the agent pool. Contact your administrator to obtain permission.";e.EnvironmentAgentQueueText="Agent pool";e.FilePathNotPresent="The file path from where content should be retrieved is empty. Please provide a valid file path.";e.SpecificUsersLabel="Specific users";e.ThisWeekDeployments="This week";e.FailedCancelledText="failed (canceled by {0})";e.RunOnServerDesciptionText="A job is a logical grouping of tasks that defines the runtime target on which the tasks will be executed. A server job allows running a set of tasks on the server and will not require any agent.";e.WidgetNotificationConfigure_ScreenReaderSupportText="{0} widget has not been configured. Contact your administrator for it to be configured.";e.ScheduleRemovedWarning="Removing the schedule will cancel all currently scheduled deployments to this stage.";e.DeploymentPoolNameLabel="Name";e.DeleteQueueMenuItemText="Delete";e.DeploymentQueueEnvironmentExecutionPoliciesOptionsDescription="Define behavior for deployments queued on this stage.";e.ArtifactDefinitionNamePlaceholder="Specify artifact name";e.ArtifactsGridColumnDescriptionTooltip="Artifact description";e.NotStartedAsBranchTagConditionNotMetFooterTooltip="The build from \u0027{0}\u0027 should match \u0027{1}\u0027. ";e.ClearFiltersText="Clear all filters";e.DefinitionImportInvalidJson="Either the exported JSON is not valid or it is not compatible with the current product version. Please retry exporting and importing.";e.DeploymentCompletedTime="Completed time";e.DeploymentGroupRollingPercentLable="Maximum number of targets in parallel";e.UpgradeMachinesConfirmationDescription="Are you sure you want to upgrade all targets in deployment group {0}? ";e.StatusColumnLabelText="Status";e.IssueWithReleaseProblem="There are issues with the release pipeline that may prevent deployment of a release";e.ReleaseDefinitionVariableNameTooltip="Variable name";e.SaveMetaTaskConfirmationCancelText="Cancel";e.RDPickerErrorMessage="Select a stage";e.HourFormat="{0}h";e.NowOnText="now on";e.NoMatchingTargets="No targets";e.ReleaseComparisonCurrentOnEnvironment="(currently on {0})";e.ReleaseBannerPendingPreApprovalText="A pre-deployment approval is pending for the \u0027{0}\u0027 stage. {1}";e.NoBuildDefinitionsFound="No build pipelines exist in this project.";e.SummaryDescriptionSubText="Triggered automatically by \u0027{0}\u0027 build ";e.FixReleaseNameFormatWarningMessage="Names of releases from this pipeline may not be unique. Please use pre-defined variables listed \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=616085\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027 \u003ehere\u003c/a\u003e in release name format.";e.EnvironmentOwnerCannotBeEmptyError="The stage owner cannot be empty. Please assign a valid owner to the stage.";e.SelectedApprovalText="Selective stages";e.ZeroLinkedArtifactWithoutLink="No artifact sources are linked to this release pipeline.";e.ReleaseQueueTitleText="Queue:";e.ReleaseSummaryTestRunsCompleted="Completed";e.Environment="Stage";e.AddTag="Add a tag";e.BuildsAndLinkedWorkItemsHeader="Build and linked work items";e.LoadingVariableGroups="Loading variable groups...";e.RDVariablesDescription="Define custom variables to use in this release pipeline. View list of \u003ca href=\"https://go.microsoft.com/fwlink?linkid=615899\" target=\"_blank\" rel=\"noopener noreferrer\"\u003epre-defined variables\u003c/a\u003e";e.Capabilities="Capabilities";e.ReleaseBannerApproveText="Approve";e.EditEnvironmentOption="Edit options...";e.ConfirmTaskGroupListRefresh="You have unsaved changes to this task group which will be lost. Are you sure you want to refresh this task group list?";e.ErrorExportingReleaseTemplate="We\u0027re sorry, but something went wrong while trying to export template: \u0027{0}\u0027.";e.DeploymentPoolTargetsOffline="Offline";e.ActionsToolBarMenu="Actions";e.AllDefinitionsCreatedByColumn="Created by";e.BranchFilterAriaLabel="Filter by branch";e.ReleaseSummaryTestRunsNotStarted="Not started";e.ReleaseLogSeeAdditionalManualInterventionDetails="Click on the manual intervention icon in the left pane for details.";e.GetAgentText="Download the agent";e.NewPoolLabel="Create a new pool";e.GetHelpButton="Help";e.StateInProgress="In progress";e.DeploymentStatus="Deployment status";e.QueueReleaseOnMultipleEnvironmentsDialogTitle="Deploy to multiple stages";e.EnvironmentEditOptionsDemandValue="Value";e.TemplateDescriptionPlaceHolder="Enter a description";e.ContinuousDeploymentTriggerDescription="Creates a release every time a new artifact version is available.";e.PATCheckBoxLabel="Use a personal access token in the script for authentication";e.SendMailNoSubjectConfirmationTitle="No subject";e.SaveDeploymentTarget="Save target";e.ScheduleForDeploymentForDeletedReleaseTooltipText="If the release is undeleted, the schedule will run at {0}";e.LatestFromBranchWithTags="Latest from branch: {0}; with tags: {1}";e.TriggerBranchLabel="for branch";e.LatestFromAllBranchesAndNoTagsFilter="Latest from any branch";e.PhaseConditionCustomConditionText="A custom condition using variable expressions";e.PhaseConditionCustomConditionHelp="Specifies an expression that controls when this job should run. [More information](https://go.microsoft.com/fwlink/?linkid=851344)";e.ReleaseActionRestart="Restart";e.MailCharactersCount="{0}/{1} characters";e.XamlBuildArtifactText="{0} (XAML)";e.TimeoutText="Deployment timeout";e.DeleteReleaseConfirmMessage="This will remove the selected release from the release list. Do you want to continue?";e.TemplateCategoryDeployment="Deployment";e.ErrorWhileAddingCriteria="We\u0027re sorry, but something went wrong while adding the acceptance criteria. Please try again.";e.VariableGroupDeletedMessage="This variable group no longer exists. Remove the entry from the pipeline.";e.ReleaseLogStateAbandoned="Abandoned";e.ArtifactDefinitionDescriptionPlaceholder="Add description";e.MachineCapabilities="Machine capabilities";e.DeployDialogWorkItemsRemovedTooltipText="Work items that will be removed from this stage as part of this release.";e.SaveEnvironmentTemplateDialogTitle="Save \u0027{0}\u0027 stage as a template";e.AzureKeyVaultVariablesSuffixText="from Azure Key Vault: {0}";e.RunOnMachineGroupDesciptionText="A deployment group job can be used to run a set of tasks on machines which are part of a deployment group.";e.QueuesNotFoundMessage="Could not find any queues.";e.SkipDownloadArtifactsText="Skip artifacts download";e.TaskDetailsLogTooltip="Download the log";e.ReleaseEnvironmentsSearchText="Filter stages...";e.ZeroLinkedArtifactsBanner="No artifact sources are linked to this release pipeline.  \u003ca tabindex=\u00270\u0027 id=\u0027popup\u0027 class=\u0027popupLink\u0027 \u003eLink to an artifact source\u003c/a\u003e";e.ArtifactsAddToolTipText="Click here to add artifacts";e.DisablePriorVersionsCheckboxMessage="Disable prior versions of this task group";e.ArtifactsDisplayMessageLatestWithBranchAndNoTags="The artifacts published by each version will be available for deployment in release pipelines. The latest successful build of \u003cb\u003e{0}\u003c/b\u003e from branch \u003cb\u003e{1}\u003c/b\u003e ";e.ReleaseBannerReassignText="Reassign";e.TemplateCategoryCustom="Custom";e.StackholderAccessDetails="You can view releases and manage approvals with a Stakeholder access level. Basic access level is required in order to create or manage releases. \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=822604\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027\u003eLearn more\u003c/a\u003e.";e.DraftPublished="Draft published";e.DefaultAlertDialogBoxTitle="Message";e.RemoveTagText="Remove tag {0}";e.ReleaseLogStateQueued="Queued";e.ArtifactPathEmptyErrorMessage="Path cannot be empty.";e.DeploymentGroupTitleBarSecurity="Security";e.MillisecondFormat="{0}ms";e.PredeploymentApprovalReassigned="Pre-deployment approval reassigned";e.AssignApproverDialogBoxTitle="Assign approvers for the \u0027{0}\u0027 stage";e.TaskAgentPoolsTreeCollectionNodeFormat="{0}";e.MultipleManualInterventionsPendingText="Multiple manual interventions are pending for this release. Resume or reject from {0} or {1}.";e.TriggerTagLabel="with tags";e.EnvironmentDeploymentConditionsOnReleaseCreationlTooltip="Start deployment automatically when a new release is created";e.ReleaseReasonManual="Manual";e.ReleaseLogForDGDurationHeader="Duration";e.DateFilterToday="Today";e.DeleteWorkItemText="Remove";e.BuildStatusStopped="Stopped";e.TriggerContinuousIntegrationRequestedForText="Continuous deployment requested for";e.DeploymentRequestedBy="Requested by";e.ReleaseSummaryMailTitle="Email release summary";e.DeploymentGroupsSecurityDialogTitle="Manage default security roles for all deployment groups";e.ReleaseCreatorLabel="Release creator";e.ShowMoreDeploymentGroups="Show more";e.FilteredListNoItems="No items";e.OfflineStatus="Offline";e.ArtifactsGridColumnDescription="Description";e.BuildDefinitionLabel="Build pipelines";e.DeleteArtifactConfirmationDialogTitle="Unlink artifact";e.ApprovalPendingForDeletedReleaseTooltipText="Deployment approval is not allowed for a deleted release";e.NoEnvironmentsSelectedForPublishing="You must select at least one stage below";e.ReleaseLastModified="Last modified";e.AllArtifactsLabel="All artifacts";e.ArtifactsDisplayMessageLatest="The artifacts published by each version will be available for deployment in release pipelines. The latest successful build of \u003cb\u003e{0}\u003c/b\u003e ";e.ReleaseTemplate="Release template";e.UnsavedChangesConfirmationTitle="Pending changes";e.ReleaseNameDetailsTooltipText="Name: {0} and description: {1}";e.DeploymentGroupRoleAssignmentsPermissionDeniedMessage="You do not have permission to manage this deployment group’s roles.";e.AgentPoolNoMatchingAgentFoundMessage="Could not find any agents matching all demands.";e.AllOfSpecifiedUserInAnyOrder="All users in any order";e.DSWDefaultBranchText="\u003cdefault build pipeline branch\u003e";e.DeleteReleaseDefinitionTooltip="Delete release pipeline";e.ManageLimitsText="Manage limits.";e.PublishTaskGroupDialogLabel="Publish the task group";e.ApprovalAssignedToText="Approval assigned to {0}";e.RequiredFieldIndicator="*";e.DeleteReleaseNotAllowed="Deleting a release with stage(s) pending pre-deploy approval is not allowed. Please cancel \u0027{0}\u0027 stage(s) and try again.";e.DeploymentGroupOverview="Deployment group overview";e.SummaryEnvironmentsTaskSubsection="Tasks";e.PermissionsForText="Permissions for {0}";e.NoReleaseDefinitionsGuidanceLinkText="here";e.ARIALabelReleaseSettingsEditorMainView="Release settings editor";e.EnvironmentOwner="Stage owner";e.NewDeploymentPoolButtonText="New";e.ArtifactsDownloadLocationTooltip="Artifacts of a release are downloaded to a unique folder on the agent.";e.DeleteAttachmentFromAcceptanceCriteriaTooltip="Delete attachment";e.ModalDialogCancel="Cancel";e.DeploymentGroupsPageTitle="Deployment groups";e.DeploymentMachineTagPickerAriaLabel="Tags";e.ReleaseLogSeeAdditionalApprovalDetails="Click on the approval icon in the left pane for details.";e.Cancel="Cancel";e.ReleaseLogStateCanceled="Cancelled";e.ReleaseSummaryTestRunsWaiting="Waiting";e.ReleaseSettingsHubScanReleaseDefinitionText="Block release definition edits that contain plaintext credentials or other secrets.";e.EnvironmentTemplatesDialogOkButton="OK";e.ReleaseActionRetryTooltip="Restart the release for a failed stage";e.Create="Create";e.SendMailSendButton="Send";e.Custom="Custom";e.DurationColumnLabelText="Duration";e.BuildStatusNone="None";e.EnvironmentTemplateSelectionPageTitle="Select a template";e.FailedRejectedText="failed (post-deployment approval rejected)";e.GuidanceForRunShellScript="Run from an administrator command prompt";e.SummaryRecentActivityApprovalForText=" approval for ";e.NameLabel="Name";e.EnvironmentCompletedOnColumn="Completed";e.SourceAliasText="Source alias";e.ApprovalNotStatedText="Not started";e.DeleteTemplateConfirmation="This will permanently delete this template: \u0027{0}\u0027. Do you want to continue?";e.DeploymentTrigger="Trigger";e.DemandsNotMetForDeployPhase="There were issues with deploy job \u0027{0}\u0027. No agents could be found that match the following demands (pool: \u0027{1}\u0027): {2}";e.CancelDeploymentTitle="Cancel deployment";e.ReleaseDetailViewConfirmStopRetainingIndefinitely="Are you sure you want to make the release eligible for deletion by the retention policy?";e.EnvironmentDeploymentConditionsTriggeringEnvironmentsText="Stage(s)";e.BuildStatusCancelling="Canceling";e.CreateQueueDialogTitle="Create a pool";e.ArtifactsGridColumnNameTooltip="Artifact name";e.DeploymentPoolProjectDescription="Provision a corresponding deployment group for the selected projects:";e.PariallySucceededDeployments="Trigger for partially succeeded";e.FilteredListAriaDescribeSearchbox="Type to filter the list of items.";e.CreateReleaseDefinitionConfirmationDialogContent="There are no release pipelines associated with this build pipeline. Do you wish to create one?";e.ChangesGridHeaderText="Commits associated with this release since";e.ApproverMoreOptionsTitle="Specify the number and order of approvals required";e.EnvironmentApprovalCountOneText="{0} approval";e.LatestVersionText="Latest Version";e.WaitForFreePipelineWithRefreshMessage="No jobs are currently available to run this release. Refresh for updated status, or buy more from the \u003ca href=\"{0}\" target=\"_blank\" rel=\u0027noopener noreferrer\u0027 \u003eRetention and parallel jobs\u003c/a\u003e page.";e.BuyMorePipelinesLinkText="Retention and parallel jobs";e.ManualDeploymentTriggerText="Manual by {0}";e.AllArtifactDefinitionsLabel="All definitions";e.GatesStabilizationTimeLabel="Delay before evaluation";e.ManageDeploymentGroupsDescription="Manage deployment groups";e.EnvironmentDurationTooltip="Started at {0} and ended at {1}.";e.DemandsNotMetForEnvironment="Issues with stage \u0027{0}\u0027:";e.TriggerTabText="Triggers";e.DeleteMetaTaskConfirmationCancelText="Cancel";e.ViewBuildDefinitionSummaryText="View build pipeline summary";e.SummaryEnvironmentStatusPending=" Pending";e.ReleaseLogStateFailed="Failed";e.EnvironmentPostApprovalsCountText="Post-deployment approval ({0})";e.EnvironmentDeploymentConditionsOnReleaseCreationlText="After release creation";e.DescriptionLabel="Release description";e.SummaryWorkItemsRemovedTooltipText="Work items that will be removed in this release when compared to the previous release.";e.ReleasesWaitingForDeploymentText="Waiting for deployment";e.PublishAsPreview="Publish as a preview";e.ReleaseLogStateDone="Done";e.ReleaseDefinitionActionEdit="Edit pipeline...";e.MachineStatus="Machine status: {0}";e.ReleaseDefinitionActionOpen="Open this release pipeline";e.AutomatedDeploymentsSection="Automated deployments";e.SaveAllToolTip="Save all";e.ManualInterventionStatusRejected="Rejected";e.ReleaseSettingsHubSaveChangesText="Save changes";e.TasksHubTabText="Tasks";e.AssignApprovers="Assign approvers...";e.ShareViaEmailTooltip="Share the release summary in email";e.PinToDashboardMenuItemTooltip="Add to dashboard";e.MinuteFormat="{0}m";e.SectionWillNotBeIncludedInMail="(This section will not be included in the outgoing email)";e.FieldNameCannotBeEmptyErrorMessage="\u0027Name\u0027 cannot be empty.";e.ArtifactSourceAliasHelpText="This is an identifier (typically a short name) that uniquely identifies the artifact linked in a release pipeline. It cannot use any of the following characters: \\\\ / : * ? \u003c \u003e | and double quote";e.NoMetaTaskFound="No task groups are available for this project. Learn more about {0}.";e.MachineNeverDeployed="Never deployed";e.TagSelectionToolTipOnEnvironment="You may optionally specify tags. Deployment will be triggered only if the build is tagged with the specified keywords.";e.DefinitionImportInvalidJsonAlertTitle="JSON error";e.AllBuildsText="All";e.SkipPreDeployApproval="Automatically approve auto-triggered deployments to this stage for users who have approved deployment to the previous stage.";e.ArtifactLabel="Artifact:";e.ReleaseBannerPipeText="|";e.SendMailDialogTitle="Send release summary mail";e.ReleaseSettingsHubDaysToRetainText="Days to retain a release";e.WorkitemsNotFoundText="No associated work items were found.";e.IdColumnLabelText="ID";e.DeploymentGroupDeployOneAtATimeToolTip="Deploys to one target at a time. The status of the overall deployment will be displayed as ‘succeeded or partially succeeded’, if the deployment was successful to at least one or more targets else the overall status will be displayed as ‘Failed’";e.ReleaseLogForDGFinishedTimeHeader="Finished time";e.TypeOfParallelismText="Type of parallelism";e.NoReleaseDefinitionsGuidanceForNonAdvanceLicencedUser="You cannot create releases without a release pipeline.";e.ReleaseLogStateApproved="Approved";e.DeploymentTargetsOfflineOnline="{0} offline, {1} online";e.ReleaseStagesHeader="Stages";e.WidgetAdditionFailedMessage="The widget \u0027{0}\u0027 could not be added. {1}";e.ApprovalsSplitterText="Approvals";e.SaveAll="Save all";e.RedeployActionText="Redeploy";e.DeploymentGroupTabTitleRoles="Roles";e.ReleaseDefinitionVariableValueHeader="Value";e.FriendlySeconds="{0} seconds";e.AutomatedDeploymentOnReleaseCreationToolTipText="Automated deployment: after release creation";e.ReleaseSummaryTestResults="Test results";e.DeploymentTargetsOffline="{0} offline";e.ReleaseLogManualInterventionPendingInfo="The manual intervention {0} is pending.";e.ImportDefinitionText="Import";e.WorkItemColumnHeaderWorkItemTypeTooltip="Work Item Type";e.DeploymentGroupDescription="Description";e.EnvironmentPreApprovalsCountText="Pre-deployment approval ({0})";e.PendingApprovalTileByYouTitleText="{0} for the {1} {2} on you";e.DeleteText="Delete";e.PendingOnYouText="Pending on you";e.NotDeployedRejected="not deployed (pre-deployment approval rejected)";e.WidgetOverlayMetricsPickerMessage="Select a view";e.ConsoleLineSectionStart="******************************************************************************";e.ConfigurationSelectionReleaseVariables="Release variables";e.ChangeColumnHeaderMessageTooltip="Message";e.DeployDialogCommitsAddedMoreThanPageMaxTooltipText="More than {0} commits will be deployed to this stage as part of this release.";e.AutoselectButtonText="Auto-select";e.InitiateNewReleaseText="create a new Release";e.SkippedFor="Skipped for {0}";e.ScheduledOnDeploymentTriggerType="Scheduled: after successful deployment on \u0027{0}\u0027";e.DeploymentGroups="Deployment groups";e.ReleaseIssuesErrorText="Error";e.AllArtifactsText="All artifacts";e.SearchQueuesText="Search queues...";e.RejectAllButtonText="Reject all";e.FileUploadRemoved="Uploaded file has been removed.";e.DeleteMetaTaskMenuItem="Delete";e.DateFilterLast48Hours="Last 48 hours";e.ArtifactsAdd="Add artifacts";e.NoReleaseDefinitionsGuidanceForNonLicensedUserLinkText="Learn more";e.ReleaseSummaryEnvironmentTasksStatePending="Pending";e.ArtifactDefaultVersionIsInvalid="No version matching default criteria was found. Select an artifact version.";e.ReleaseLogManualInterventionCompletedInfo="The manual intervention {0} has been {1} by {2}.";e.NoPoolAssociatedText="No associated pool";e.ChooseMachineType="Type of target to register:";e.TeamBuildArtifactsText="Team Build";e.ReleaseComparisonWithNoPrimaryArtifactException="Cannot compare releases. Either the current release or the selected release does not have a primary artifact set. ";e.InputValueQueryError="The following error occurred while retreiving values for input \u0027{0}\u0027: {1}";e.DSWBuildPickerToolTip="The build pipeline for which the widget will show the deployment and test status.";e.WorkItemNameNotFound="We can\u0027t find any work items matching work item type {0}. Did you rename this work item type?";e.ReassignedBy="Reassigned by {0}";e.GuidanceForUnsavedDeploymentGroup="Save the deployment group prior to registering the machine";e.ArtifactsSetPrimaryTooltip="Set primary to choose trigger for release pipeline";e.DswNoBuildsMessage="There are no builds for this build pipeline.";e.ReleaseLogInitialMessage="Please wait...";e.ReleaseArtifactDownloadCountColumn="Download Count";e.ReleasePreviewBanner="Go \u003ca href=\u0027https://aka.ms/rmhelp\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027 \u003ehere\u003c/a\u003e for help getting started with release pipelines.";e.DefinitionImportDialogOkText="Import";e.EnvironmentVariablesTabText="Variables";e.EnvironmentDeploymentConditionsAlwaysManualText="No automated deployment";e.DeploymentPoolsSecurityButtonText="Security";e.ReleaseWorkItemComparisionWithUnSupportedArtifactTypeException="The work item view is not supported for artifact type {0}.";e.SourceBranchFilterAll="All";e.ViewReleasesForRdTitle="View all releases for {0}";e.ReleaseLogStatePending="Pending";e.ArtifactDefaultVersionValueSelectDuringReleaseCreation="Select during release creation";e.EnvironmentDeploymentConditionsTimeFormatText="Time (24 hrs)";e.PendingPostDeploymentApproval="Pending post-deployment approval";e.DescriptionLabelText="Description";e.ReleaseLogStateDeferred="Deferred";e.ArtifactTypeFieldBranchDeletedErrorMessage="Field \u0027{0}\u0027 must have valid values. Select another branch as the default.";e.AddStageButtonText="Add";e.DeploymentGroupTitleBarAvailableSharedPools="Available pools";e.StateNotStarted="Not started";e.OpenStageToolTip="Open this stage";e.EnvironmentDeploymentConditionsAlwaysManualTooltip="Users must start all deployments manually";e.ExpandCriteriaText="Expand";e.WaitingForAvailableAgent="Waiting for an available agent";e.ErrorDeletingReleaseTemplate="We\u0027re sorry, but something went wrong while deleting template: \u0027{0}\u0027. Please try again.";e.ArtifactDefinitionTitle="Define artifacts";e.NoReleaseDefinitionAlertTitle="No associated release pipeline";e.TypeColumnHeader="Type";e.CreateReleaseLink="Create a release.";e.ReassignButtonText="Reassign";e.ViewReleaseSummaryText="View {0} summary";e.ReleaseDefinitionHistoryUndelete="Undelete";e.ReleaseHasBeenAbandoned="Release \u0027{0}\u0027 has been abandoned.";e.DeploymentStatusWidgetNA="N/A";e.InvalidCharactersInArtifactSearch="Invalid characters in name field";e.TaskVisibilityRelease="Release";e.ReleaseDefinitionHasBeenDeleted="Release pipeline \u0027{0}\u0027 and associated releases have been deleted.";e.PropertyValue="Value";e.WaitingForAvailableAgentWithPositionFormat="Waiting for an available agent. The current queue position is {0}.";e.DeploymentGroupSecurityDialogTitle="Manage security roles for deployment group: {0}";e.MachineDeploymentUnknown="Unknown";e.ReleasePipelinePlanGroupsQueueQueuedStatusHeaderText="Shows releases currently waiting for a job.";e.ConfirmReleaseDefinitionRefresh="You have unsaved changes to this release pipeline which will be lost. Are you sure you want to refresh this release pipeline?";e.TaskGroupHubTitleCaption="Task group:";e.TriggerManualRequestByTooltipText="{0} {1} on {2}";e.ArtifactsGridColumnPath2="Path";e.DeploymentGroupTabTitleDetails="Details";e.PhaseConditionAlwaysText="Even if a previous job has failed";e.ChildRemovedText="{0} {1} was removed.";e.Publish="Publish";e.NoTasks="0 tasks";e.ForceDeleteReleaseDefinition="Automatically cancel any in-progress release deployments";e.DeploymentStatusWidgetEnvironmentName="Stage name: {0}";e.VariablesSectionTitle="Variables";e.VariableGroupsDescriptionTextPart="Link variable groups to this release pipeline to include the variables they contain. Manage variable groups";e.UserCapabilitiesGuidance="Shows information about user-defined capabilities supported by this host";e.AgentNotAllocatedHeaderMessage="not allocated";e.VariableExpressionHelpText="Variable expression help";e.ConfirmDeleteReleaseDefinitionAndReleases="Are you sure you want to delete release pipeline \u0027{0}\u0027 and all its associated releases?";e.NoneText="None";e.EnvironmentApprovalCountText="{0} approvals";e.CreateRelease="Create release";e.HideDetails="Hide details";e.CreatedByColumnLabelText="Created by";e.DeployMultipleEnvironmentsErrorMessage="Error: failed to trigger deployments on one or more selected stages";e.ApprovalsIconTooltipText="Approvals";e.MaxMachineCountText="Number of agents";e.EnvironmentEditOptionsAddDemand="Add demand";e.SummaryRecentActivityStoppedRelease=" has been stopped.";e.ReleaseLastModifiedBy="Last modified by";e.CreateNewReleaseText="New release";e.SummaryGatesStatusInProgress="Evaluating gates";e.CreateNewReleaseLink="\u003ca class=\u0027deployLink\u0027 tabindex=\"0\"\u003eCreate a release...\u003c/a\u003e";e.CommentLabel="Comment";e.NoReleaseExistsForRDMessage="No release exists";e.ChangeColumnHeaderDateTooltip="Date";e.DeploymentGroupDeploymentConfigurationToolTip="Deploys to {0} of targets at once. The status of the overall deployment will be displayed as ‘succeeded or partially succeeded’, if the deployment was successful to at least {0} of the targets else the overall status will be displayed as ‘Failed’";e.ApproverIdentityFieldEmptyErrorMessage="Field \u0027{0}\u0027 cannot be empty";e.DeleteDeploymentPoolConfirmationTitle="Delete {0}?";e.ReleaseActionCancel="Cancel";e.EnvironmentEditOptionsDeemandsTitle="Demands";e.RmQsHubCreateRDText="Start by creating a new release pipeline.";e.DeploymentGroupTitleBarDownloadAgent="Get the latest agent";e.DeletedReleasesText="Deleted";e.FilteredListShowingCount="Showing {0} matched items. Use the up and down keys to navigate.";e.LinkNewArtifactDialogTitle="Create artifacts";e.DeploymentPoolsSearchPlaceHolder="Search deployment pools";e.ReleaseWaitingForPipelineOrAgentText="The r is waiting for a job or agent to be assigned. Refresh for updated status.";e.ArtifactGridColumnSourceAlias="Source alias";e.BuildExistsWarning="Selecting this build will replace another build with the same pipeline on this stage’s build list.";e.ArtifactsGridColumnSourceType="Type";e.ReleaseTemplateXmlSchemaValidationError="Cannot validate the XML for this release template. Line: {0}, position: {1}, message: {2}.";e.ArtifactsGridColumnSourceName="Source name";e.ContinuousDeploymentTriggerText="Continuous deployment";e.RetentionPolicyIntroductionTextRetentionTab="Define retention policy for releases deployed to each stage in this release pipeline. Learn more about \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=616087\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027 \u003eretention policy\u003c/a\u003e.";e.ReleaseDetailsShortLabel="Details";e.ReleaseTriggerTitle="Release triggers";e.DeploymentStatusWidgetBranchLabel="Branch:";e.EnvironmentSettingsAgentQueueLabel="Select an agent pool | ";e.ChildAddedText="{0} {1} was added.";e.SummaryRecentActivityRejectedPostfix=" has been rejected by ";e.AddArtifactConditionButton="Add an artifact condition";e.BuildArtifactOptionTooltipText="Artifacts are published by a build pipeline";e.TypeOfParallelismToolTip="The manner in which running is parallelized. \u003cbr/\u003e \u003cbr/\u003e \u003cb\u003eNone:\u003c/b\u003e Tasks will run on a single agent.\u003cbr/\u003e\u003cbr/\u003e \u003cb\u003eMulti-configuration:\u003c/b\u003e Run the same set of tasks on multiple configurations as specified in the multipliers. Configurations will run in parallel and each configuration will use a single agent. The total number of agents used by the job will depend on the number of configurations, and can be limited by specifying the maximum number of agents. \u003cbr/\u003e \u003cbr/\u003e \u003cb\u003eMulti-agent:\u003c/b\u003e Run the same set of tasks on multiple agents, using the specified number of agents. \u003cbr/\u003e\u003cbr/\u003e\u003ca href=\u0027https://go.microsoft.com/fwlink/?linkid=835763\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027 \u003eMore information.\u003c/a\u003e";e.ArtifactDefinitionSplitterCollapseLabel="Artifact definition";e.AddToDashboard_FailureMessage="{0} was not successfully added to the {1} dashboard.";e.ReleaseDefinitionsSearchText="Search release pipelines...";e.ApprovalTimeoutText="Timeout";e.DeploymentPoolProjectReferences="Project references of the deployment pool";e.RDWidgetEnvironmentTileTooltip="Stage: {0}\r\nStatus: {1}\r\nBuild: {2}\r\nBranch: {3}";e.ReleaseDefinition="Release pipeline";e.BuildDetailsSummaryNoRelease="No deployments were found for this build.";e.RejectedByYou="Rejected by you";e.DeploymentGatesSummaryHeader="{0} summary";e.AddVariableButtonText="Variable";e.EnvironmentOwnerNeverEmailNotificationLabel="Never";e.DeploySameArtifactMessage="The release you have selected to deploy has the same build version that is currently deployed to this stage.";e.AutomatedDeploymentsMessage="Stages to which deployments will be triggered automatically. You can choose to disable automated deployment to a stage.";e.NotDeployedOtherEnvironmentConditionEnvironmentLogText="Deployment to this stage will be triggered after successful deployment to \u0027{0}\u0027.";e.BranchSelectionToolTipOnEnvironment="Deployment will be triggered only for a build from the specified branch. For example, selecting master will trigger a deployment only if the build is from the master branch. To trigger a deployment for all builds, use the default value or \"*\".";e.SourceBranchNotMatchedException="Releases can\u0027t be compared as source mapping \u0027{0}\u0027 and \u0027{1}\u0027 are different between builds. Compare releases with same source branch mapping.";e.ViewSummaryTooltip="View the summary details for the selected release";e.ReleaseDefinitionActionOpenToolTip="Click to open this release pipeline";e.ReleaseSettingsHubDaysToKeepDeletedReleasesText="Days to keep releases after deletion";e.NoItemsInSharePoolPanel="No projects are available for sharing";e.WorkItemColumnHeaderId="ID";e.AcceptanceCriteriaFilterDeclined="Declined";e.ApprovedBuildsListHeader="Approved builds: ";e.RelativePathNotPresent="The file path relative to a linked artifact is not present. Please make sure the file path is present and valid.";e.StepText="Step";e.MinimumOneRunOnAgentPhaseError="This job cannot be deleted because at least one \u0027run on an agent\u0027 job is required.";e.AddDeploymentGroupText="Add a deployment group";e.ColumnOptionsInvalidWidth="Enter a value between 0 and 65536.";e.DeploymentGroupName="Deployment group name";e.DeploymentGroupText="Deployment group";e.VariableGroupsNotAvailable="No variable groups are available.";e.AutomatedCheckBoxLabel="Automatic";e.ReleaseStatusReleased="Released";e.ReleaseToolTipWithArtifactInfo="Release: {0}\r\nBuild: {1}\r\nBranch: {2}";e.AgentAcquisitionLinuxRunAgentMarkdown="```bash\r\n~/myagent$ ./run.sh\r\n```";e.NoReleasesAvailable="No releases yet |";e.ReleaseSummaryIssuesWarningHeader="Warnings ({0})";e.ViewQueueToolTipText="View the releases queued for deployment to this stage";e.ReleasePipelinePlanGroupsQueueRunningStatusHeaderText="Shows releases currently running using available jobs.";e.WaitingForPipelineToBeAssigned="The release is waiting for a job to be assigned.";e.AutomatedOnDeploymentTriggerType="Automated: after successful deployment on \u0027{0}\u0027";e.SummaryrecentActivityPostApprovedPrefixAutomated="Post-deployment approval for \u0027{0}\u0027 has been auto-approved.";e.WorkItemColumnHeaderStateTooltip="State";e.ReassignedByYou="Reassigned by you";e.ReleaseLogsDetailViewOff="Off";e.ConfigurationTab="Configuration";e.DeploymentGroupPhaseTaskDemandName="Name";e.SummaryRecentActivityDeploymentPrefix="Deployment to ";e.ReleaseLogsRetriesHeaderNewText="Previous attempts ({0})";e.EnvironmentExecutionPolicyQueueDepthLastReleaseTooltip="Select this option to start deployment for the latest release only. All other deployments will be removed from the queue.";e.SaveAsReleaseTemplate="Save as a template";e.ReleaseActionRetry="Restart";e.ApprovalStatusSkippedComment="This approval is skipped because it was approved by another user. As per approval settings on this stage, one approval is sufficient.";e.CreateReleaseDefinitionConfirmationDialogYesOption="Yes";e.DeploymentStatusWidgetLatestBuildLabel="Latest build:";e.ReleaseActionStart="Start";e.LinkArtifactSourceDialogTitle="Link an artifact source";e.DeploymentQueuedTime="Queued time";e.DeploymentTriggerManual="Manual";e.Select="Select";e.ReleaseDetailsTooltipText="Description: {0}";e.MetaTasksTreeRootText="Task groups";e.ApprovalStatusReassigned="Reassigned";e.EnvironmentDeploymentQueue="Deployment pool";e.DeploymentGroupPhaseAgentsNotMeetingDemands="Machines are missing demand";e.ArtifactDefinitionAddButtonText="Add artifact";e.EnableAccessTokenText="Allow scripts to access the OAuth token";e.ReleaseCreatorCanNotBeApprover="The user creating the release or deployment should not approve the deployment to this stage";e.DeployStatusWidgetLoadingMessage="Loading...";e.DefinitionWithInvalidTasksMessage="The following task(s) are removed from the pipeline because they cannot be retrieved. They might be deleted or removed from the project\r\n{0}\r\nSave to update the pipeline with these tasks removed, or reinstall the tasks and revisit this pipeline.\r\n";e.PoolNameInputPlaceholder="Enter pool name";e.BuildStatusPostponed="Postponed";e.AgentPoolNotSelected="Select a pool for the stage.";e.ReleaseArtifactRatingColumn="Rating";e.DSWClickToViewDeploymentTootlipMessage="Click or press enter to view details of this deployment";e.SelectColumnsText="Select columns";e.DeleteArtifactContextMenu="Remove";e.LearnMoreInfoAboutPAT="Learn more about personal access tokens";e.StartWorkItemText="Start";e.ReleaseDefinitionColumnLabelText="Release pipeline";e.BuildStatusNotStarted="Not started";e.SummaryGatesStatusStabilizing="Waiting for evaluation";e.ValidateDemandsConfirmationTitle="Demands not met";e.ScheduledEnvironmentLogBasicUserText=" {0}To deploy now, choose Deploy on the toolbar or a stage’s shortcut menu. {0}To cancel a schedule, choose Cancel on the toolbar or a stage’s shortcut menu.";e.ArtifactsGridColumnTrigger="Trigger";e.ContinuousDeploymentAddNewTrigger="Add new trigger";e.WaitingForAvailableAgentOnSelfHostedConcurrentJobsPrefix="Waiting for available self-hosted parallel jobs, ";e.ArtifactAliasCannotBeEmpty="VS402916: The artifact alias cannot be empty. Specify a valid artifact alias and try again.";e.DeploymentGroupDeploymentConfigHelpIndicationsInvalid=" (not applicable for {0} machine count)";e.DeploymentGroupHubTitle="Deployment groups";e.FriendlyMinutes="{0} minutes";e.SummaryHubText="Summary";e.SummaryEnvironmentStatusScheduled="Scheduled";e.ManageDeploymentPoolLabel="Manage";e.ArtifactSourceNotFoundText="Artifact source not found";e.ReleaseLinkText="release";e.ErrorWhileCreatingRelease="We\u0027re sorry, but something went wrong while creating the release. Please try again.";e.ReleaseIssuesLabel="Release issues";e.DeploymentGroupSecurityText="Deployment group security";e.ReleaseActionAbandon="Abandon";e.TaskGroupCyclicDependencyToParentError="A cyclic dependency to a parent is not allowed. Dependency path: {0}";e.ReleaseNotesNotFound="No associated notes";e.DetailsPaneOn="On";e.AdminNoQueuesDescription="No release queues have been created for this collection. To get started, click the \"New pool...\" button.";e.MoreInformation="More information";e.ReleaseDefinitionsNotFoundText="No release pipelines found";e.EnvironmentEditOptionsDemandType="Type";e.EnvironmentEditOptionsDemandName="Name";e.UndoDeleteMachineGroup="Undo delete";e.DeploymentGroupPageTitle="Deployment group";e.MetaTaskRunsOnMismatch="Task \u0027{0}\u0027 runsOn value \u0027{1}\u0027 does not match with other tasks in this task group. Please remove it and try again.";e.MultiplePostDeploymentApprovalsPendingText="Multiple post-deployment approvals are pending for this release. Approve or reject {0}, {1}";e.DeploymentWidgetTestsDurationToolTipDuration="Test duration: {0}";e.ApprovalStatusPending="Pending";e.BuildPipelinePlanGroupsQueueQueuedStatusHeaderText="Shows builds currently waiting for a job.";e.ReleaseManagementQuickStartGettingStarted="Getting started";e.ErrorWhileSavingCriteria="We\u0027re sorry, but something went wrong while saving the acceptance criteria. Please try again.";e.ArtifactsGridColumnPathTooltip2="The relative path of the artifact from the build path";e.AcceptanceCriteriaFilterAll="All";e.DeleteArtifactConfirmationDialogContent="Unlinking this artifact can cause some of the task configurations to become invalid. Are you sure that you want to unlink this artifact source from this release pipeline?";e.GuidanceForInsufficientPermissions="Insufficient permissions to register a target.";e.AgentPoolNoAgentPoolsFoundMessage="Could not find any organization agent pools.";e.StartedColumnLabelText="Started";e.EnvironmentOwnerEmailNotificationTooltip="Send an email notification to the stage owner when a deployment completes on this stage.";e.ConfigurationsTabText="Variables";e.DeploymentStatusWidgetTableHeader="Stages";e.SummaryRecentActivityRejectedPostApprovalPrefix="Post-deployment approval for \u0027{0}\u0027 was rejected by {1}.";e.ReleaseStatusRejected="Rejected";e.CollapseCriteriaText="Collapse";e.PreApprovalSpecificUsers="Specific users";e.NoAgentQueueFound="No agent pool with ID {0} was found.";e.AfterSuccessfulDeploymentTriggerText="After successful deployment to {0}";e.RemoveVariableText="Remove variable";e.ByFilterName="By";e.ReleaseSummaryTestRunName="{0}:{1}";e.ForceDeleteReleaseDefinitionTooltip="Selecting this option marks all in-progress, queued, or pending release deployments for cancelation and proceeds with the release pipeline deletion.";e.EnvironmentDeploymentConditionsChooseDeploymentStartText="Choose when the deployment should start";e.DefaultArtifactLatestText="Latest";e.SummaryEnvironmentStatusCancelling="Canceling";e.MachinesCountWithTags="We found {0} machines with the above-mentioned tags";e.GetSampleResult=" to get results for all samples.";e.ParallizeOptionMultiConfigurationText="Multi-configuration";e.ReleaseDefinitionOverviewArtifactCount="Artifacts ({0})";e.TemplateSecretVariablesNotSavedWarning="Any secret variable in the stage won\u0027t be saved as part of the template.";e.MoveToFolderText="Move to a folder";e.ReleaseStatusDraft="Draft";e.BuildDropLocationEmailText=" (Build location)";e.EnvironmentOwnerAlwaysEmailNotificationLabel="Always";e.PreAndPostDeploymentStepError="Pre-deployment and post-deployment data is not valid. Select an approver for each or make the steps automated";e.ShareViaEmailText="Email summary";e.EnvironmentSummaryRightPaneLabel="Stage summary right pane";e.AllDefinitionsHubText="All pipelines";e.PipelinesPlanGroupsQueueDialogTitle="Pipelines queue";e.DeploymentGroupSecurity="Security";e.EnvDepConditionsTriggeringEnvironmentsTextWithoutArtifactCondition="Triggering stage(s)";e.PendingAutomaticApproval="Pending automatic approval";e.DeploymentsText="Deployments";e.ReleaseSummaryTestRunsNeedsInvestigation="Needs investigation";e.RetentionPolicyDaysToKeepToolTip="Set the number of days to retain a release deployed to this stage. Any release can be retained for at least 1 day and a maximum of {0} days. More details about retention policy \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=616087\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027 \u003ehere\u003c/a\u003e.";e.ApprovalPendingOnAutoApproval="for auto-approval";e.ApprovalReassignLinkText="Reassign";e.ReleaseManagementAccessDenied="You do not have permissions to perform release actions. Contact your Release Administrator.";e.TriggerPullRequestDeploymentRequestedForText="Pull request deployment requested for";e.ConfirmRedeploy="Do you want to redeploy on \u0027{0}\u0027?";e.StagesGridColumnHeaderState="State";e.EditDeploymentConditions="Deployment conditions...";e.ReleaseStarted="Started";e.DeploymentPools="Deployment pools";e.ShowMoreLinkText="Show more \u003e";e.FilterByTags="Filter by tag(s)";e.StagesGridColumnHeaderTitle="Title";e.ReleaseActionRestartTooltip="Restart the release with approvals";e.ItemState="State";e.ReleaseLogManualPreApprovalPendingInfo="The pre-deployment approval is pending on {0}.";e.RetainIndefinitelyText="Retain indefinitely";e.AddDeploymentGroupDisabledTip="Creating deployment groups is disabled. Contact your project / organization administrator for details.";e.ApprovalPopupReassignHistory="Reassign history";e.WorkItemColumnHeaderWorkItemType="Work item type";e.MetaTaskCannotAddToSelf="A task group cannot be added to itself. Please remove \u0027{0}\u0027 from the task list.";e.SaveAsTemplate="Save as a template...";e.DeployRollbackReleaseMessage="The release you have selected to deploy is older than the one that is currently deployed to this stage. Deployment of this release might remove some work items and commits from this stage.";e.ReleaseComparisonComparing="Comparing ";e.CannotEditTaskGroupFromExtension="Cannot modify this task group {0} as it was installed via an extension.";e.MultipleApproversList="{0} \u0026 {1} other(s)";e.ViewDeploymentSummary="View deployment summary";e.SaveAsReleaseTemplateTooltip="Save this release as a template for creating new releases";e.TitleName="Name";e.TitleText="Title";e.GatesStabilizingStatusLogsTabInfoText="The deployment is waiting for the gate samples to reach a stable state. Samples from individual gates are collected, but the overall gate status is evaluated and applied to deployment after the specified delay.";e.EnvironmentDeploymentConditionsTitle="Trigger";e.ChangeType="Change type";e.NewReleaseDefinitionTitle="New release pipeline name";e.PathText="Path";e.Comment="Comment";e.RetentionPolicyEnvironment="Stage :\u0026nbsp;";e.FilteredListRemoveFromFavorites="Remove from favorites";e.ReleaseTriggerDescription="A release trigger specifies when a new release will get created.";e.ReleaseDefinitions="Release pipelines";e.TimeoutHelpText="Specifies the maximum time in minutes that a deployment is allowed to execute on an agent before being canceled by the server. \u003cbr\u003eA zero value indicates a timeout of 48 hours.";e.DateHeaderColumn="Date";e.ParallizeOptionMultiMachineText="Multi-agent";e.ReleaseNotesHeader="Release notes";e.DeploymentGroupTitleBarAddMachine="Machine";e.DeleteMetaTaskConfirmationDialogText="Deleting the task group {0} would affect all build pipelines, release pipelines, and task groups consuming it. Are you sure you want to delete it?";e.ApprovedByYou="Approved by you";e.ReleaseDefinitionDoesNotExist="VS402936: Release pipeline with ID {0} does not exist. Specify a valid ID and try again.";e.ExplorerHubText="Explorer";e.UndeleteText="Undelete";e.SummaryRecentActivityInProgress="Deployment to \u0027{0}\u0027 has started.";e.AgentVersion="Agent version";e.DownloadHubText="Downloads";e.ArtifactsGridColumnSourceTooltip="Artifact source name";e.InitiateNewReleaseFromTemplateText="choose from templates.";e.EnvironmentEditOptionsDemandTypeEquals="equals";e.SaveReleaseSettingsDialogText="Changes to the settings will take effect only for the new release pipeline and stages created after saving.";e.ApprovalPopupReassignHistoryInfoTextWithPreviousOwner="to {0} by {1}";e.DeploymentPoolDetailsTab="Details";e.ReleasesHubTitleBarText="Release pipelines";e.HistoryTabText="History";e.DeploymentPoolTargetsOnline="Online";e.ChangeColumnHeaderAuthor="Author";e.EnvironmentEditOptionsDemandTypeExists="exists";e.AgentAcquisitionDarwinRunAgentMarkdown="```bash\r\n~/myagent$ ./run.sh\r\n```";e.Overview="Overview";e.BuildFetchingWaitMessage="Getting build details...";e.RejectedBy="Rejected by {0}";e.StartTime="Start time";e.AgentText="Agent";e.ReleaseComparisionWithNoArtifactException="There is no artifact version available. Releases cannot be compared.";e.DefinitionNameTitleText="Name";e.CreatedColumnLabelText="Created";e.PreDeploymentGates="Pre-deployment gates";e.ApprovalPendingOn="on {0}";e.ReleasePipelineView="Release (pipeline view)";e.ArtifactDefinitionPathPlaceholder="Specify relative path";e.ThreeDots="...";e.ReleaseDetailsLabel="Release Details";e.SummaryRecentActivitySuccessfulDeployment="Successfully released to ";e.ReassignedByYouOnBehalfOf="Reassigned by you on behalf of {0}";e.EnvironmentHeaderColumn="Stage";e.DeploymentConditionsTabText="Deployment conditions";e.WidgetBuildDefinitionPickerMessage="Select a build pipeline";e.DeploymentTargetOffline=" Offline";e.EditArtifactContextMenu="Edit";e.BuildStatusCompleted="Completed";e.AgentStatusOffline="Offline";e.ReleaseLogStateCancelling="Canceling";e.WidgetNotificationConfigure_ScreenReaderSupportText_Admin="{0} widget has not been configured. Click to configure.";e.CreateReleaseFromTemplate="New release from template";e.FailingStatus="Failing";e.GatesEvaluationTimeOutText="Evaluation duration";e.FilteredListAddToFavorites="Add to favorites";e.DeploymentGroupTabTitleTargets="Targets";e.RecentGatesSampling="Recent gate sampling";e.ManualInterventionStatus="{0} is {1}";e.SendMailTo="To";e.AllApprovalText="All";e.MachineDisabled="No";e.ManualDeploymentsMessage="Stages on which deployments must be manually triggered:";e.ApprovalAssignedToYouText="Approval assigned to you";e.ReleasenameFormatLinkPart="pre-defined variables.";e.SummaryRecentActivityAbandonedRelease="Deployment to \u0027{0}\u0027 was abandoned.";e.FilteredListTooManyMatches="Showing {0} of {1} matches. Click here to show all.";e.ApprovalOptions="Options";e.InProgressReleasesText="In progress";e.SharedBadgeText="SHARED";e.ReleasePoolTitleText="Pool:";e.ReleaseLogAutoPostApprovalInfo="The post-deployment approval has been auto-approved.";e.ConfirmReleaseStop="You are about to stop the release \u0027{0}\u0027. This action cannot be reversed.";e.TaskLogViewLimitExceededMessage="The log is too big to be displayed in the browser. You can download the log and view it offline.";e.GuidanceForRunPowerShellScript="Run from an administrator PowerShell command prompt";e.EnvironmentDeploymentConditionsScheduledDescription="Trigger a new deployment to this stage at a specified time.";e.RegisterMachine="Register machine";e.DeploymentPoolsSecurityDialogTitle="Manage default security roles for all deployment pools";e.DeploymentConditionsDescription="Define the trigger that will start deployment to this stage.";e.SendMailTitle="Send mail";e.UpdateAgents="Update agents";e.DefaultHostedImage="Default hosted image";e.ApprovalDialogCommentTitle="Type comments here...";e.CommitsHubTabText="Commits";e.CloneDefinitionText="Clone";e.ConfirmDeleteEnvironmentTemplate="Delete template {0}?";e.AreYouSureToProceedMessage="Are you sure you want to proceed?";e.TaskProgressLabelFormat="{0}/{1}";e.StateFilterName="State";e.ApprovedBy="Approved by {0}";e.ReferencesTabText="References";e.DefaultVersionTooltip="Default version";e.PreviouslyDeployedReleasesText="Recently deployed";e.NoSuchArtifact="There is no such artifact \u0027{0}\u0027 linked to this release pipeline.";e.LogsViewFilterApprovals="Approvals";e.ArtifactSearchResultEmpty="There are no artifacts to show. Specify the search criteria and click on Search to view artifacts";e.AllDefinitionsLastDeployedColumn="Last deployed";e.VariableExpressionLabel="Variable expression";e.DefaultConfirmDialogBoxTitle="Verify action";e.DeletedDateColumnLabelText="Date deleted";e.CannotReleaseFromFailedBuildTitle="Cannot create a release";e.UnPendingApprovalTileTitle="{0} for {1} was {2} by {3}";e.ReleaseHasBeenQueued="Release {0} has been created.";e.NewDefinition="New pipeline";e.DeploymentNeverStartedTooltip="Deployment never started on the stage for this release";e.CreateReleaseDefinition="New release pipeline";e.MultipleEnvironmentsText="Multiple stages";e.DownloadInstaller="Download the installer";e.MultipleApprovalsPendingText="Multiple approvals are pending for this release. Approve or reject from {0} or {1}.";e.RetentionPolicyReleasesToKeep="Minimum releases to keep :\u0026nbsp;";e.PhaseConditionOnSucceededText="Only when all previous jobs have succeeded";e.TaskAgentActivityFormat="Running {0} {1}";e.ReleaseDefinitionActionEditTooltip="Click to edit the release pipeline";e.StatusAriaLabel="Status";e.ColumnOptionsToolTip="Column options";e.ModalDialogCancelButton="Cancel";e.DeploymentTargetPageTitle="Deployment target";e.SelectedVariableGroupsCountText="{0} variable group(s) selected";e.InvalidIdForBuildArtifactErrorMessage="The version provided for the source \u0027{0}\u0027 is invalid. Provide a valid build ID. \u003ca href=\"{1}\" target=\"_blank\" rel=\u0027noopener noreferrer\u0027 \u003eLearn more\u003c/a\u003e";e.NoAgentPoolFound="No agent pool with ID {0} was found.";e.ErrorWhileStartingWorkItem="We\u0027re sorry, but something went wrong while starting the work item. Please try again.";e.TagFilterDropdownTooltip="Show more...";e.ArtifactsGridColumnSource="Source";e.BranchName="Branch: {0}";e.DeploymentStatusWidgetLatestBuildTooltip="View build \u0027{0}\u0027";e.MarkAsPrimaryArtifactConfirmationDialogContent="Releases are reported against the primary artifact. Marking an artifact source as primary also implies the artifact variables will be available with global artifact variables that begin with {0}.{1}Are you sure you want to mark {2} as the primary artifact?";e.DeploymentTriggerColumnHeaderInRelease="Deployment trigger";e.DefinitionOverviewText="Overview";e.AddVariable="Add variable";e.MachinesCount="Machine count";e.LinkedWorkItemsNotFound="No linked work items";e.AddToTeamFavoritesText="Add to team favorites";e.TasksNotFoundAlertTitle="Tasks not found";e.MachineOverview="Machine overview";e.LabelWithManageServiceDisplayFormat="{0} ({1})";e.ShowMoreDeploymentTargetsTooltip="Load more deployment targets";e.GridAddCapabilityText="Add capability";e.PendingApprovalText="pending approval ";e.ApprovalStatusAbandoned="Abandoned";e.ApprovalsText="Select the users who can approve or reject deployments to this stage.";e.EnvironmentColumnsFilterIconLabel="Filter stage columns";e.EnvironmentExecutionPolicyChangedWarningText="Changes made to queue settings will be effective immediately. All currently queued deployments to this stage will be processed based on new settings.";e.ReleaseLogStateRejected="Rejected";e.AllDefinitionsArtifactsColumn="Artifacts";e.FilteredListWatermark="Filter items...";e.AfterSuccessfulDeploymentToText="after successful deployment to {0}";e.GuidanceForUnsavedDeploymentPool="Save the deployment pool prior to registering the machine.";e.PropertyName="Property";e.NoReleaseDescriptionText="No description";e.DeleteMachineGroupConfirmationTitle="Delete {0}?";e.SelectTimeZoneText="Select Time zone";e.SkipDownloadArtifactHelpText="Skip downloading artifacts to the agent before starting the deployment. The artifact directory will not be cleaned if this is checked.";e.DefinitionImportDialogTitle="Import release pipeline";e.ArtifactTypeFieldDeletedErrorMessage="Field \u0027{0}\u0027 should have valid values. If the source (build pipeline) doesn’t exist anymore, delete this artifact from the release pipeline";e.EnvironmentVariablesDescription="Define custom variables to use in this stage. You can also use \u003ca href=\"https://go.microsoft.com/fwlink?linkid=615899\" target=\"_blank\" rel=\"noopener noreferrer\"\u003epre-defined variables.\u003c/a\u003e";e.ReleaseSummaryEnvironmentTasksStateCompleted="Completed";e.EnvironmentSettingsArtifactsDescriptionText="Choose a source that publishes the artifact to be deployed";e.ManageTemplatesTitle="Manage templates";e.MultipliersText="Multipliers";e.DeploymentPoolPageTitle="Deployment pool";e.PhaseConditionOnFailureText="Only when a previous job has failed";e.ReleaseSummaryIssuesErrorsHeader="Errors ({0})";e.SharedProjectListDescription="Shared with";e.SummaryWorkItemsAddedTooltipText="Work items that will be deployed as part of this release when compared to the previous release.";e.ReleasesPipelinesDisplayHubName="Releases";e.AddAcceptanceCriteriaText="Add criteria";e.ArtifactAliasHasInvalidCharacters="VS403174: Artifact alias \u0027{0}\u0027 is invalid. It cannot contain characters: \\ / : * ? \" \u003c \u003e and |. Specify a different name and try again.";e.ConfirmDeleteAgent="Delete this agent?";e.ViewQueue="View queue";e.ApprovalPopupClose="Close";e.SecurityButtonText="Security";e.PhaseSummary="Job summary";e.MineHubText="Mine";e.ExportMetaTaskMenuItem="Export";e.DeleteDGsFromPoolConfirmationTitle="Delete deployment groups?";e.AbandonReleaseTitle="Abandon release";e.ConfirmDeleteQueue="Delete pool {0}?";e.ReleaseSummaryNoIssuesText="No issues reported in this release.";e.UnsupportedArtifactsInTriggersGuidanceLinkText="Manage artifacts";e.DownloadAllLogs="Download all logs";e.AgentPlatformRedhat="Red Hat";e.UndeleteReleaseTitle="Undelete a release";e.ReleaseStatusUndefined="Undefined";e.ArtifactsAlreadyAddedText="{0} artifacts are already part of this release pipeline";e.ArtifactsHubText="Artifacts";e.GatesEvaluatingStatusLogsTabInfoText="All gates are concurrently being queried for samples. This is repeated at the specified sampling interval. Deployment will proceed when all gates are successful in the same sampling interval.";e.ReleaseIssuesWarningText="Warning";e.SummaryEnvironmentStatusRejected=" Rejected";e.VariableGroups="Variable groups";e.SummaryEnvironmentText="Stage:";e.AddBuildText="Add";e.ReleaseEditorRightPaneLabel="Release editor right pane";e.EditDescriptionDialogtLabel="Edit the release description";e.ReleaseActionOpenReleaseInNewTab="Open in a new tab";e.ArtifactTypeFieldVersionDeletedErrorMessage="Field \u0027{0}\u0027 must have valid values. Select another version as the default.";e.BranchPickerErrorMessage="Select a branch";e.QueuesNotFoundErrorMessage="A default pool is not specified in \u0027{0}\u0027 for the stages \u0027{1}\u0027 or you do not have access to the pool. Contact your administrator to obtain permission.";e.LinkVariableGroupsButtonText="Variable group";e.DownloadLocationTooltip="An artifact is downloaded to {0} under the working directory on the agent.";e.TaskGroupParentCannotBeAddedToDraft="A parent task group cannot be added to its draft version. Please remove \u0027{0}\u0027 from the task list.";e.DateFilterLast7Days="Last 7 days";e.NewReleaseDefinitionEditorBannerHeader="\u003cspan class={0}\u003eNew release pipeline editor\u003c/span\u003e";e.DeploymentTargetFailing=" Failing";e.SystemCapabilitiesGuidance="Shows information about the capabilities provided by this host";e.RequiredTitleText="Title*";e.ExportDefinitionText="Export";e.DeploymentGroupDeploymentOptionsText="Deploy to";e.SecurityLockText="Change the variable type to secret";e.StopRetainingIndefinitelyToolTip="Stop retaining indefinitely";e.QueuedEnvironmentLogText="This release has been queued for deployment to this stage.{0}Other releases are in the queue or being processed for the same stage.";e.ReleaseActionStartTooltip="Start release";e.AddMachine="Add a machine";e.MarkAsPrimaryContextMenu="Mark as primary";e.ExportTemplate="Export template";e.DeploymentQueueEnvironmentExecutionPolicyUserConcurrency="Specify the maximum limit";e.CloseButtonText="Close";e.LastWeekDeployments="Last week";e.ApprovedBuildsList="Builds approved: \u0027{0}\u0027.";e.ContinueOnErrorText="Continue on error";e.DeleteWorkItemToolTip="Remove the selected release";e.ReleaseComparisonTooltipFormat="Comparing {0} with {1} (currently on {2})";e.ReleaseSettingsHubPermanentlyDestroyReleasesText="Permanently destroy releases";e.EnvironmentDeploymentConditionsScheduledText="Scheduled";e.RequiredPlaceHolder="\u003cRequired\u003e";e.ReleaseTitleRequired="The release title cannot be empty";e.DescriptionEditIconHelpText="Click on description to modify it";e.ContinuousDeploymentForBuildCompleteLabelText="Continuous deployment (create a release and deploy whenever a build completes)";e.EnvironmentDefinitionOptions="Stage definition options";e.ApprovalsAssignedFilterName="Assigned";e.ResultsHeaderColumn="Results";e.NewReleaseDefinitionDialogTitle="Create a release pipeline";e.DefaultValueForApproverComboBox="Select an identity";e.ReleaseBannerRejectText="Reject";e.WaitForFreePipelineWithRefreshTooltipMessage="No jobs are currently available to run this release. Refresh for updated status, or buy more from the Retention and parallel jobs page.";e.ReleaseCommitsComparisionWithUnSupportedArtifactTypeException="The commits view is not supported for artifact type {0}.";e.AgentPlatformUbuntu="Ubuntu";e.VariablesIconTooltipText="Variables";e.EnvironmentDeploymentConditionsAfterSuccessfulDeploymentTooltip="Start deployment automatically after successful deployment to another stage";e.DeploymentPartiallySucceededTooltipText="Partially succeeded";e.BackToHistory="Back to history.";e.NoVersionSelectedForOneOrMoreSourcesErrorMessage="No artifact version has been selected for one or more sources.";e.ColumnOptions="Column options";e.SelectReleaseDefinition="Release pipeline";e.ArtifactsDisplayMessageSelectDuringReleaseCreation="The artifacts published by each version will be available for deployment in release pipelines. Select the version when you create a release. For automatically triggered releases, the latest version will be chosen.";e.SequentialApprovalsToolTip="Select this option if approvals must follow the order in which the users are specified.";e.ErrorExtractingTemplate="We\u0027re sorry, but something went wrong while creating the template. Please try again.";e.DeploymentGroupsSearchPlaceHolder="Search deployment groups";e.AutomatedDeploymentsMissingMessage="No deployment will be triggered automatically after release creation. Set the required condition on each stage.";e.SaveReleaseSettingsConfirmationCancelText="Cancel";e.RemoveTriggerTooltip="Remove the trigger";e.NotStartedReleasesText="Not started";e.ReleasesEnvironmentListLabel="Stages list";e.QueueReleaseOnEnvironmentDialogCancelButton="Cancel";e.FailedToFetchFlattenedMetaTask="Failed to retrieve the flattened task group {0}";e.MetaTaskImportDialogTitle="Import a task group";e.NoReleaseDefinitionsGuidance="You cannot create releases without a release pipeline. Click {0} to get started.";e.StateCompleted="Completed";e.CannotDeleteTaskGroupFromExtention="Cannot delete this task group {0} as it was installed via an extension.";e.PredecessorStageUpdatedReleaseWithApprovedBuilds="Updated release with builds approved by stage {0}.";e.TemplateTitleInvalid="This template title isn\u0027t valid because it might contain special characters: \\ / : * ? \" \u003c \u003e |";e.EditDescriptionText="Description";e.DeferredDateShouldBeInFutureText="You have specified a date to defer the deployment, but it is in the past. The date should be in the future.";e.SecondFormat="{0}s";e.LogsHubText="Logs";e.ApprovedByOnBehlafOf="Approved by {0} on behalf of {1}";e.MachineNameAndStatus="Machine name: {0} Status: {1} ";e.NotStartedAsPreviousEnvironmentNotExecuted="Deployment to \u0027{0}\u0027 will start after successful deployment to \u0027{1}\u0027.";e.ShareDeploymentGroupSharingButton="Sharing";e.FieldLabelFormatWithRequiredDecorator="{0}{1}";e.NoVersionHasBeenSelectedToolTip="No version has been selected for this artifact source.";e.DateFilterLast24Hours="Last 24 hours";e.AdminHostsUndoChanges="Undo changes";e.PublishDraftTaskGroupConfirmationMessage="Changes made to the draft version will overwrite the parent task group version and the draft task group will be deleted. Are you sure you want to proceed?";e.ReleaseWaitingForPipelineText="The release is waiting for a job to be assigned.";e.WidgetLoadFailedInvalidSettings="The release pipeline summary widget could not be loaded because its settings are invalid.";e.DescriptionDialogPlaceholderText="Enter description...";e.TagFilterShowAllButtonText="All";e.NotDeployedPartiallySucceededOtherEnvironmentConditionEnvironmentLogText="Deployment to this stage will be triggered after successful or partially successful deployment to \u0027{0}\u0027.";e.DSWMetricsPickerToolTip="The numerical values metric to show as part of the status, such as the test pass rate.";e.ReleaseHubTitleCaption="Release:";e.ReleaseComparisionWithIncompatibleBuildDefinitionException="Not able to compare releases of two different build pipelines {0} and {1}.";e.DeploymentTriggerAutomated="Automated";e.RetainIndefinitelyColumnLabelText="Retain indefinitely";e.ConfigurationEnvironmentSelctionLabel="Stages";e.StateFilterAriaLabel="Filter by state";e.ArtifactSourceAlreadyLinkedErrorMessage="The source alias \u0027{0}\u0027 is already linked to the release pipeline. Provide a different alias name.";e.UpdateTargets="Update targets";e.RmQsHubMainContent="Release Management helps you automate the deployment and testing of your software in multiple stages. You can either fully automate the delivery of your software all the way to production, or set up semi-automated pipelines with approvals and on-demand deployments.";e.DeploymentGroupTitleBarHelp="Help";e.ReleaseDefinitionSnapshotUpdateSummary="Change details of the release update performed on \u003cb\u003e{0}\u003c/b\u003e by \u003cb\u003e{1}\u003c/b\u003e.";e.ArtifactsGridColumnPrimary="Primary";e.PinToDashboardMenuItemText="Add to dashboard";e.LinkButtonText="Link";e.TemplateAlreadyExistsMessage="\u0027{0}\u0027 already exists. Do you want to replace it?";e.Enabled="Enabled";e.DeployDialogCommitsRemovedMoreThanPageMaxTooltipText="More than {0} commits will be removed from this stage as part of this release.";e.SummaryEnvironmentStatusStopped=" Stopped";e.AcceptanceCriteriaFilterLabel="Show";e.ManualInterventionInstructionsLabel="Instructions";e.Ok="OK";e.Or="or";e.EnvironmentDeploymentConditionsDaysRepetitionText="Repeat on days";e.AnalyticsText="Analytics*";e.ReleaseLogManualPostApprovalCompletedInfo="The post-deployment approval has been {0}.";e.ApproveAllButtonText="Approve all";e.EnableAccessTokenHelpText="Enables scripts and other processes launched during the deployments from this release stage to access the OAuth token via the System.AccessToken variable.";e.DeleteMetaTaskConfirmationDialogNewText="Task group {0} might be in use. Please see {1} of the task group and remove them to delete the task group safely. Are you sure you want to delete it?";e.PreDeploymentApproval="Pre-deployment approval";e.PreDeploymentApprover="Pre-deployment approver";e.DeploymentGroupsDeploymentStatusColumnName="Deployment status";e.TeamFavoritesNodeText="Team favorites";e.SystemPreRequisitesLinkText="System prerequisites";e.ArtifactsTitleTextWithArtifactsCount="Artifacts ({0})";e.SummaryEnvironmentStatusPartiallySucceeded="Succeeded (partial)";e.ReleaseHasBeenUnDeleted="has been undeleted and moved to \u0027Releases\u0027.";e.NoDefinitionAvailableMessage="There are no source pipelines with the given name that can be accessed in the project. Please create a source pipeline if there is none.";e.FilteredListNoMatches="No items contain the filter text";e.RefreshQueuesDescription="Refresh agent pools";e.DeleteReleaseTitle="Delete a release";e.TriggerReleaseWithArtifact="Trigger a release when a build completes";e.ErrorWhileFetchingArtifactVersions="There was an error while fetching artifact versions. Error: \u0027{0}\u0027";e.ReleaseDefinitionEditorRightPaneLabel="Release pipeline editor right pane";e.LearnMoreAboutMachineGroupsText="Learn more about deployment groups";e.AddTasksLabel="Add tasks";e.DeploymentDuration="Duration";e.CreateReleaseFromTemplateToolTip="Create a new release from a template";e.CannotReleaseFromFailedBuild="Releases can be created only from successful builds. The status of the build you have chosen is: {0}. Choose a successful build to create a release.";e.MetaTaskDirtyWarning="You have unsaved changes to this task group which will be lost.";e.DSWRDPickerLabel="Linked release pipelines";e.StartWorkItemToolTip="Start the selected release";e.EnvironmentNameToolTipText="Stage name: {0}";e.TaskGroupDetailsText="Task group details";e.ReleaseExplorerRightPaneLabel="Release explorer right pane";e.EnableDisableButtonLabel="Deployment to this target";e.ReleaseLogStateReassigned="Reassigned";e.NoLogsAvailable="(no logs available)";e.ArtifactsDisplayMessageLatestWithAllBranchAndAllTags="The artifacts published by each version will be available for deployment in release pipelines. The latest successful build of \u003cb\u003e{0}\u003c/b\u003e ";e.DeploymentApprovalsEmailNotificationEnabledCheckBoxLabel="Send an email notification to the approver on whom the approval is pending";e.CreateReleaseSelectArtifactVersionHelpText="Choose the artifact version to include as part of this release. If the version is not available in the drop-down, type in the version number.";e.CloneEnvironment="Clone stage";e.NewReleaseDefinitionNameMultiWordText="New {0} {1}";e.ManageReleaseApproversPermissionDenied="You don\u0027t have necessary permissions to manage approvers on this stage.";e.QueueReleaseOnEnvironmentStepsInTheDeploymentHeader="Steps in this deployment";e.ArtifactSourceColumnFormat="{0} ({1})";e.ArtifactGridColumnDefaultVersion="Default version";e.EditEnvironmentPermissionDenied="You don\u0027t have necessary permissions to edit this stage.";e.WorkItemRetrievalException="Unable to retrieve work item details. Try again later.";e.SummaryGatesStatusEvaluatingInfoText="Evaluating gates. View logs for more details.";e.ReleaseNotFound="No release found with name \u0027{0}\u0027.";e.CopyScriptToClipboard="Copy script to the clipboard";e.ScheduledTriggerTime="24h time:";e.ScheduledTriggerText="Scheduled";e.BuildStatusFailed="Failed";e.NoReleasesForAnalyticsText="No releases deployed yet";e.SaveDeploymentGroup="Save deployment group";e.CommentPlaceHolder="Enter a comment";e.EnterValidMailId="Select an organization identity that is a valid user of the organization or project.";e.ReleaseArtifactTitleColumn="Title";e.StartButtonText="Start";e.StateFilterAll="All";e.MachineTagsDescription="The tags defined above can be used in the release pipeline to target a subset of machines in the group.";e.PivotTabNavigationAriaLabel="Tabs";e.ApproversHeadingLabel="Approvers";e.ArtifactsToBePublishedMessage="published the following artifacts: \u003cb\u003e\u003cem\u003e{0}\u003c/em\u003e\u003c/b\u003e.";e.CreateNewArtifact="Create new...";e.PendingPreDeploymentApproval="Pending pre-deployment approval";e.ArtifactsTitleText="Artifacts";e.PublishAsPreviewHelpMessage="Publish a new preview version of the task group. This is recommended if the changes are not backward-compatible.";e.RDSummaryWidgetDefaultName="Release pipeline summary";e.GateResultToolTip="in delay before evaluation";e.NoBuildsFoundMatchingTheFilterCriteria="No builds match your filter criteria.";e.ReleaseDefinitionActionCreateReleaseToolTip="Trigger a release from release pipeline";e.ReleaseLogStateUndefined="Undefined";e.GatesRecentSamplingInfoText="Showing the latest {0} of {1} samples.";e.OneTargetAtATime="One target at a time";e.ArtifactsSourceNameWithTypeFormat="{0} ({1})";e.ArtifactsDisplayMessageLatestWithBranchAndTags="The artifacts published by each version will be available for deployment in release pipelines. The latest successful build of \u003cb\u003e{0}\u003c/b\u003e from branch \u003cb\u003e{1}\u003c/b\u003e with tags \u003cb\u003e{2}\u003c/b\u003e ";e.ArtifactPickerFileShareMessage="The artifact location cannot be browsed here. You can browse the following location manually to obtain the path of the file and use it as a parameter for the task.";e.ReassignedByOnBehalfOf="Reassigned by {0} on behalf of {1}";e.StateBlocked="Blocked";e.ChooseEnvironmentsLabel="Choose stages to queue deployments";e.PreApprovalAutomaticApproval="Automatically approve";e.DefinitionCloneSuffix="- Copy";e.AvailableSharedPoolsText="Available shared deployment pools can be used to create the new deployment groups";e.SummaryEnvironmentStatusInprogress=" In progress ";e.WorkItemColumnHeaderIdTooltip="ID";e.QueueForDeploymentTooltipText="Queued for deployment";e.DeleteMetaTaskConfirmationOkText="Delete";e.BranchFilterLabel="Branch";e.AddNewEnvironmentDialogText="Add a new stage";e.And="and";e.PendingApprovalOnText="Pending approval on {0}";e.DeleteTemplate="Delete template";e.WorkItemColumnHeaderAssignedTo="Assigned to";e.MatchingTargetsResolvedAtRuntime="Matching targets to be resolved at run time for \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003edeployment group\u003c/a\u003e";e.FilteredListShowingMultipleCounts="Showing {0} matched items. Use the tab key to select the first matched item, then use the up and down keys to navigate.";e.DeleteReleaseDefinitionConfirmTitle="Delete the release pipeline";e.QueueReleaseOnEnvironmentReleaseTitle="{0}";e.RetentionPolicyRetainBuildToolTip="Retain build for all releases deployed to this stage. More details \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=616087\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027 \u003ehere\u003c/a\u003e.";e.SaveMetaTaskConfirmationOkText="Save";e.Count="Count";e.DefinitionImportDialogInstruction="Select the release pipeline JSON file to import";e.SummaryEnvironmentStatusNotDeployed="Not deployed";e.ChangedDate="Changed date";e.DeploymentTargetNeverDeployed=" Never deployed";e.CreateNewDeploymentLink="\u003ca class=\u0027deployLink\u0027 tabindex=\"0\" \u003eDeploy \u003c/a\u003e";e.AllDefinitions="All release pipelines";e.Tasks="Tasks";e.ApprovalCommentWaterMarkText="Add your comments here...";e.SummaryrecentActivityPostApprovedPrefix="Post-deployment approval for \u0027{0}\u0027 was granted by {1}.";e.Pools="Pools";e.SummaryrecentActivityPreApprovedPrefix="Pre-deployment approval for \u0027{0}\u0027 was granted by {1}.";e.EnvironmentExecutionPoliciesOptionsDescriptionTooltip="Deployment on a stage can be in parallel where multiple releases can be deployed at the same time, or in order where releases get deployed one after another.";e.CreateReleaseButtonText="Create a release";e.UnsupportedTypeMessageInArtifactsPicker="Artifacts of type {0} are not supported. Please enter the path manually.";e.FilteredListAriaDescribeFavorites="List items can be favorited via right arrow and Enter.";e.AddEnvironmentsLabel="Add a stage";e.AutoProvisonedDeploymentGroupDescription="A deployment group was created from pool {0}";e.DeploymentQueueEnvironmentExecutionPolicyConcurrencyDescription="The maximum number of deployments that can proceed at one time";e.UndoDetete="Undo delete";e.AutomatedOnReleaseTriggerType="Automated: after release creation";e.AutomaticallyApproved="Automatically approved";e.ReleaseBannerResumeOrRejectText="Resume or reject";e.LinkArtifactServiceErrorMessage="The service or its artifact sources could not be accessed. The artifact source has not been verified. Please enter the fields manually. An incorrect source input may lead to deployment failures.";e.SummaryRecentActivityCanceledRelease="Deployment to \u0027{0}\u0027 was canceled.";e.ReleaseSummaryEnvironmentStatusCompleted="Completed";e.LatestDeployment="Latest deployment";e.StateRejected="Rejected";e.WorkItemsHubTabText="Work items";e.ArtifactSourcesText="Artifact sources";e.ScheduledTriggerDescription="Create a new release at a specified time.";e.TemplateCategoryLoading="Loading...";e.SummaryrecentActivityPreApprovedPrefixAutomated="Pre-deployment approval for \u0027{0}\u0027 has been auto-approved.";e.LogsViewFilterAll="All";e.ArtifactSourceLabel="{0}\\{1}";e.NoTriggerReleaseWithArtifact="No trigger";e.ConfirmToDiscardEditedEmail="Leaving this page will discard the email. Are you sure you want to discard these changes?";e.ReleaseDetailViewConfirmStopRetainingIndefinitelyTitle="Stop retaining indefinitely";e.CancelReassignText="Cancel";e.ViewBuildResultText="View build results";e.QueueReleaseOnEnvironmentDialogOkButton="Deploy";e.QueueReleaseOnEnvironmentDialogTitle="Deploy {0} to {1}";e.TagAddButtonText="Add...";e.HalfOfTargetsInParallel="1/2 of the targets in parallel";e.WidgetNotificationConfigureTitle="Configure widget";e.PhaseRename="Rename";e.LoadMoreDefinitionsText="Load more pipelines...";e.DeploymentPoolRoleAssignmentsPermissionDeniedMessage="You do not have permission to manage this deployment pool’s roles.";e.DeploymentGroupDeployCustomToolTip="Specify a percentage number of targets that can be deployed to at once. The status of the overall deployment will be displayed as ‘succeeded or partially succeeded’, if the deployment was successful to specified percentage of targets else the overall status will be displayed as ‘Failed’";e.ArtifactsGridColumnTriggerTooltip="Triggers a release with a new artifact";e.AddTags="Add tags";e.GateSampleTime="Sample time";e.DiscardChangesConfirmationTitle="Discard changes";e.NotStartedAsConditionManual="Deployment to \u0027{0}\u0027 will start when it is manually triggered using the deploy action.";e.ReleaseArtifactDownloadActivityColumn="Download Activity";e.Machines="Machines";e.FailedToAddStage="We\u0027re sorry, but we can\u0027t add a stage to this release. Please try again.";e.TestResultsDetailedReport="Detailed report \u003e";e.CopyExistingReleaseToolTip="Create a copy of the selected release";e.TargetName="Target name";e.DeployActionText="Deploy";e.DeploymentStatusWidgetReleaseToolTip="Release: {0}";e.EnvironmentVariablesDescriptionForRelease="A list of custom variables defined on the stages in this release. Changes will be reflected in future deployments of this release.";e.RejectedByOnBehalfOf="Rejected by {0} on behalf of {1}";e.ReleaseLogsRetriesAttemptHeader="Attempt #{0}";e.WaitForFreePipelineTooltipMessage="No jobs are currently available to run this release. Wait until a pipeline becomes available, or buy more from the Retention and parallel jobs page.";e.TasksEnabledText=" tasks enabled";e.ViewLatestReleaseText="view latest release";e.AddEnvironmentFromTemplateMenuItemText="Create new stage";e.ReleaseSummaryTestRunsUnspecified="Unspecified";e.ShareDeploymentGroup="Share";e.RefreshText="Refresh";e.TypeText="Type";e.ConfirmReleaseRefresh="You have unsaved changes to this release which will be lost. Are you sure you want to refresh this release?";e.ReleaseDefinitionVariableScopeHeader="Scope";e.PostdeploymentApprovalreassigned="Post-deployment approval reassigned";e.ReleaseDefinitionEditText="Edit";e.CopyExistingReleaseText="Copy";e.AllReleasesText="All";e.StagesGridColumnHeaderAssignedTo="Assigned to";e.DeleteDGsFromPoolConfirmationDescription="Are you sure you want to delete the following deployment groups? {0}";e.SecurityTitleFormat="Permissions for {0}";e.ReleaseDefinitionVariableNameHeader="Name";e.LatestText="latest";e.NotDeployedCancelledText="not deployed (canceled by {0})";e.ArtifactConfirmationDialogYesOption="Yes";e.DeploymentStatusWidgetDeploymentStatusToolTip="Deployment status: {0}";e.DeferredDeploymentTime="Deferred deployment time";e.DeferredDeploymentText="Defer this deployment to";e.DeferredDeploymentDate="Deferred deployment date";e.DeploymentInProgressTooltipText="Deployment in progress";e.MachineName="Machine name";e.MachineTags="Machine tags";e.CommitsTabRollbackMessage="Deployment of {0} to a stage after {1} has been deployed to it might remove the below commits. This could happen if {0} is linked to an older build version as compared to the one linked to {1}.";e.VariableGroupDeleted="[Variable group deleted]";e.ApprovalCompletedByYouText="Completed by you";e.VariablePlural="variables";e.Disabled="Disabled";e.TargetSettingsAriaLabel="Target settings";e.InvalidApprover="Select the correct approver for the stage.";e.EnvironmentEditOptionsConfigureQueue="Configure the pool";e.FavoriteReleaseDefinitionsNotFoundText="No favorite release pipelines found";e.NoVariableGroupViewPermissions="You do not have permissions to view this variable group.";e.ApprovalStatusCanceled="Cancelled";e.ArtifactsReadyToAddText="{0} artifacts are selected to be added to this pipeline";e.DeploymentGroupTagsLabel="Machine tags";e.ScheduledOnReleaseTriggerType="Scheduled: after release creation";e.SourceColumnHeader="Source Alias";e.DSWRDPickerToolTip="Release pipelines linked to the selected build pipeline for which stage status will be shown. Create release pipelines in the Releases tab.";e.ViewDeploymentPoolTooltip="View deployment pool: {0}";e.DeploySameReleaseMessage="The release you have selected to deploy is the same release that is currently deployed to this stage.";e.Comments="Comments";e.DeployRoolbackHeader="Rolling back changes";e.EnvironmentQueuesTabText="Queue";e.DeploymentGroupDeployAllTargetsInParallelToolTip="Attempts to deploy to as many targets as possible at once. The status of the overall deployment will be displayed as ‘succeeded or partially succeeded’, if the deployment was successful to one or more targets. If deployment fails on all targets then the overall status will be displayed as ‘Failed’";e.ReleaseSummarySectionShowAllArtifactsLink="Show all artifacts";e.TagSelectionToolTip="You may optionally specify tags. A release will get triggered only if a new build, tagged with the keywords specified here, becomes available.";e.NewDeploymentPoolPanelName="New deployment pool";e.ChangeColumnHeaderMessage="Message";e.ViewDeploymentGroupToolTip="View deployment group: {0}";e.AgentQueueText="pool";e.StartTimeColumnLabelText="Start time";e.ImportTemplate="Import template";e.InvalidTaskMessageFormat="Task \u0027{0}\u0027 in stage \u0027{1}\u0027";e.DeployToEnvironmentTooltip="Deploy to a stage";e.TasksMissingInTaskGroupMessage="One of the tasks in the task group could not be found. Please remove the missing task and try again. Missing task: {0}";e.AgentStatus="Agent status";e.ArtifactsGridColumnPathTooltip="The relative path of the artifact";e.TeamProjectSearchPlaceholder="Search projects";e.ViewSummaryText="View summary";e.ScheduleChangedWarning="The new deployment schedule will apply to all currently scheduled deployments to this stage.";e.ShowMoreDeploymentTargets="Show more";e.PostDeploymentApprovalStepError="Post-deployment data is not valid, please select an approver or mark the step as automated";e.EnvironmentDeploymentConditionsImmediatelyStartDeploymentText="Immediately after deployment succeeds on the above selected stages";e.DetailsPane="Details pane ";e.DeploymentTargetOnline=" Online";e.EnvironmentConfigurationDialogTitle="Configure - \u0027{0}\u0027 stage";e.NameColumnHeader="Name";e.MetaTaskCyclicDependencyError="Cyclic dependency not allowed. Dependency path: {0}";e.DeleteMachineGroup="Delete deployment group";e.SaveMetaTaskConfirmationTitleText="Save the task group";e.ArtifactNameInvalidErrorMessage="Artifact name can contain only letters, numbers, hyphens, periods, and underscores.";e.AddToMyFavoritesText="Add to my favorites";e.RegistrationScript="Registration script";e.AnyOneOfTheSpecificUser="Any one user";e.AutomatedDeploymentAfterSuccessfulDeploymentToolTipText="Automated deployment: after successful deployment to";e.LatestFromBranch="Latest from branch: {0}";e.NoReleaseDefinitionsGuidanceForNonLicensedUserLink="https://go.microsoft.com/fwlink/?LinkId=613201";e.ReleaseVariablesDescription="A list of custom variables defined in this release. Changes will be reflected in future deployments of this release.";e.SelectBuildTitle="Select build";e.VariableGroupsSearchPlaceholder="Search variable groups";e.DeploymentGroupDemandsWarningTooltip="Some machines do not meet all task demands";e.MultipliersToolTip="A list of comma-separated configuration variables to use. These are defined on the \u003cem\u003eVariables\u003c/em\u003e tab.\u003cbr/\u003e\u003cbr/\u003eFor example, \u003ccode\u003eOperatingSystem, Browser\u003c/code\u003e will run the tasks for both variables.";e.NoApprovedBuilds="Approved builds from stage would be listed here";e.ManageServicesTitle="Manage connected services";e.ReleaseDefinitionHubTitleCaptionUnsaved="Pipeline*:";e.StagesReorderMessage="Stages were reordered";e.ArtifactsNotExpandedDisplayMessage="The artifacts published out of \u003cb\u003e{0}\u003c/b\u003e have not yet been retreived. Expand the source to retrieve the artifacts";e.SignedOffBy="Signed Off By";e.ManualDeploymentToolTipText="Manual deployment";e.EnvironmentAddSettingsHeader="Some settings for the stage can be set here. Other settings can be modified from configure stage.";e.EnvironmentDeploymentConditionsSuccessfulDeploymentDescription="Trigger a new deployment on this stage after successful deployment on the selected stage.";e.VariableGroupsNotFound="No variable groups were found.";e.PhaseConditionHelpText="Specifies when this job should run. Choose \"Custom conditions\" to specify more advanced conditions.";e.DeleteMachineConfirmationTitle="Delete target {0}?";e.ClonedEnvironmentNameText="Copy of {0}";e.WaitingForAgentRequest="Waiting for an agent to be requested";e.DeleteBuildConfirmation="This will remove the selected builds from this stage. Do you want to continue?";e.DeleteMachineGroupText="Delete";e.QuarterOfTargetsInParallel="1/4 of the targets in parallel";e.DeploymentStatusWidgetBuildToolTip="Build: {0}";e.EnvironmentsTitleText="Stages";e.ReleaseLogManualPostApprovalPendingInfo="The post-deployment approval is pending on {0}.";e.SummaryRecentActivityPendingPreDeploymentApproval="\u0027{0}\u0027 has pending pre-deployment approval.";e.NoPastDeploymentsAvailable="No release was previously deployed to this stage";e.NoEditPermission="You do not have edit permission. Contact your release manager.";e.ApprovalPopupReassignHistoryInfoTextUponOverride="to {0} by {1} on behalf of {2}";e.StateRemoved="Removed";e.LogsDetailsPanel="Details pane";e.QueueNotSelected="Select a pool for the stage.";e.TaskAgentJobNameFormat="{0} - {1}";e.SummaryRecentActivityRejectedPreApprovalPrefix="Pre-deployment approval for \u0027{0}\u0027 was rejected by {1}.";e.PreDeploymentApprovers="Pre-deployment approver(s)";e.ReleaseLogClickForMoreDetails="Click on individual steps to view their details.";e.GatesRecentSamplesInfoText="Results of the last 4 samples collected from each of the configured gates are shown below. More samples may have been collected. Download all logs to get the results for all samples.";e.TargetTagsDescription="The tags defined here can be used in the release pipeline to target a subset of machines in the group.";e.PoolDoesntExistPlaceHolder="\u003cInsufficient permissions to view the pool or it doesn\u0027t exist\u003e";e.AgentPlatformRedhat7="Red Hat Enterprise Linux 7.2+";e.ReleaseSummaryEnvironmentStatusScheduled="Scheduled";e.SummaryEnvironmentStatusCancelledBy="Canceled by {0}";e.AutoLinkWorkItemsLabel="Report deployment status to Work";e.DeleteMetaTaskConfirmationTitleText="Delete task group";e.MetaTasksListWatermarkText="No task groups are available.";e.EnvironmentTriggersTitle="Stage triggers";e.ApprovalTackledby="by {0}";e.AgentOfflineOrDisabled="There were issues with deploy job \u0027{0}\u0027. There are agents that are capable of running the release, but they are offline or disabled. If the agent is configured to run as a service, ensure that the \u0027VSTS Agent (\u003cagent name\u003e)\u0027 service is running.";e.ReleaseLogStateInProgress="In progress";e.GuidanceForInsufficientPermissionsForDeploymentPool="You do not have permissions to register targets. Contact your release manager to grant permissions.";e.ReleaseActionResumeTooltip="Resume a stopped release";e.ReleaseSummaryTestRunsPassed="{0} of {1} passed";e.PublishedPreview="Published preview";e.ArtifactsDisplayMessageSpecificVersion="The artifacts published by each version will be available for deployment in release pipelines. \u003cb\u003e{0}\u003c/b\u003e version \u003cb\u003e{1}\u003c/b\u003e ";e.PostDeploymentApprover="Post-deployment approver";e.PostDeploymentApproval="Post-deployment approval";e.SecurityPageTitle="Release Security Administration";e.ErrorWhileCopyingRelease="We\u0027re sorry, but something went wrong while copying this release. Please try again.";e.SaveAsDraft="Save as a draft";e.RemoveTag="Remove tag";e.BuildDefinitionErrorMessage="Select a build pipeline";e.NoVariableGroupsLinkedMessage="No variable groups are linked.";e.DefaultVersionTypeTooltip="The default version will be deployed when new releases are created. The version can be changed for manually created releases at the time of release creation.";e.ReleaseSettingsHubComplianceSettingsText="Compliance policy settings";e.SkipStageLabel="Skip stage";e.ColumnOptionsTitle="Column options";e.EnvironmentSettingsArtifactsText="Artifacts";e.WorkItemGridHeaderText="Work items associated with this release since";e.ReleaseStatusActive="Active";e.HealthyStatus="Healthy";e.Artifacts="Artifacts";e.TestRunHeaderColumn="Test run";e.GetEnvironmentSummaryDataFromExtensionError="Error while getting stage summary data from extension {0} : {1}";e.DateTimeFormatNotSupportedText="You have specified a date to defer the deployment, but it is not valid. The date must be in the format: {0}.";e.ReleaseLogManualPreApprovalCompletedInfo="The pre-deployment approval has been {0}.";e.ArtifactsDisplayMessageLatestWithNoBranchAndTags="The artifacts published by each version will be available for deployment in release pipelines. The latest successful build of \u003cb\u003e{0}\u003c/b\u003e with tags \u003cb\u003e{1}\u003c/b\u003e ";e.DeleteCriteriaConfirmationText="This will remove the acceptance criteria from this stage. Do you want to continue?";e.ChangedBy="Changed by";e.GatesStartTimeLabel="Start time";e.EnvironmentEditOptionsDialogOkButton="OK";e.WaitForFreePipelineMessage="No jobs are currently available to run this release. Wait until a job becomes available, or buy more from the \u003ca href=\"{0}\" target=\"_blank\" rel=\u0027noopener noreferrer\u0027 \u003eRetention and parallel jobs\u003c/a\u003e page.";e.ArtifactsRemovePrimaryTooltip="Deselect to disable trigger for release pipeline";e.PariallySucceededDeploymentsWithoutArtifactCondition="Also trigger for partially succeeded deployments";e.BranchSelectionToolTip="A release will be triggered only for a build from the specified branch. For example, selecting master will trigger a release for every build from the master branch. To trigger a release for any build under features/, enter “features/*” . To trigger a release for all builds, use the default value or enter “*”.";e.StopRetainingIndefinitelyText="Stop retaining indefinitely";e.RDWidgetViewSummaryLinkText="View all releases for the {0} release pipeline";e.ReleaseSettingsHubRetainBuildText="Retain build";e.ShareReleaseSummarySubject="Summary for release: {0}";e.MaxAgentCountText="Maximum number of agents";e.ArtifactHelperMessage="Artifacts of the linked sources are available for deployment in releases. Learn more about \u003ca class=\u0027artifact-help-link\u0027 href=\u0027https://go.microsoft.com/fwlink/?LinkId=616086\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027 \u003eartifacts\u003c/a\u003e.";e.AddArtifactDefinitionText="Artifact";e.GateLogs="Logs";e.CreateNewReleaseForDefinition="Create a new release for {0}";e.DeployDialogWorkItemsAddedTooltipText="Work items that will be deployed to this stage as part of this release. ";e.ChangeDetails="Change details";e.ConsoleLineSectionEnd="******************************************************************************";e.LinkedReleaseEnvironmentNotFound="Linked release stage not found. The release may be deleted";e.Percentage="%";e.DeploymentQueueEnvironmentExecutionPolicyQueueDepthLastRelease="Deploy only the latest request and cancel older ones";e.Automated="Automated";e.EnvironmentSettingsQueueText="Queue";e.EnvironmentConfigureQueueDescription="Select a pool for this stage.";e.ArtifactPickerDialogTitle="Select a file or folder";e.DownloadAllLogsCommandText="Download all logs as a zip";e.ReleaseLogStatePartiallySucceeded="Partially succeeded";e.ApprovalStatusSkipped="Skipped";e.DeploymentQueueEnvironmentExecutionPolicyConcurrencyInfinite="No limit";e.AcceptanceCriteriaFilterInProgress="InProgress";e.DayFormat="{0}d";e.BuildAddedMessage="Added build: \u0027{0}\u0027.";e.BuildRemovedMessage="Removed build: \u0027{0}\u0027.";e.DeploymentGroupLabel="Deployment group";e.NoCurrentDeploymentAvailable="No deployments yet |";e.AddDeploymentGroupDescription="Define a logical group of target machines for parallel deployment.";e.NotDeployedManualConditionEnvironmentLogText="Deployment has not been triggered to this stage.";e.ReleaseWorkitemsLabel="Work items associated with the release";e.NoEnvironmentVariableDefined="No custom variables have been defined on the stages in this release pipeline.";e.ReleaseActionCancelTooltip="Cancel the release";e.ScheduledDeploymentAfterSuccessfulDeploymentToolTipText="Scheduled deployment: after successful deployment to";e.SummaryrecentActivityRejectedRelease="Deployment to \u0027{0}\u0027 was not approved.";e.DeploymentGroupDeploymentConfigHelpIndications=" ({0} out of {1} machine(s))";e.UserCapabilities="User capabilities";e.CancelDeploymentToolTip="Cancel deployment of {0} to this stage";e.PullRequestTriggerText="Pull request deployment";e.DSWReleaseDefinitionsError="Error in getting release pipelines";e.ReleaseLogsAutoTriggerRetriesAttemptHeader="Attempt #{0} (auto-redeploy trigger)";e.EnvironmentOwnerEmailNotificationLabel="Send email notifications";e.DefinitionsHubText="Pipelines";e.BuildLabelText="Build";e.ReleasesTab="Releases";e.DeleteEnvironment="Delete";e.Security="Security";e.AddToDashboard_SuccessMessage="{0} has been successfully added to the {1} dashboard.";e.RetentionTabText="Retention";e.AgentStatusOnline="Online";e.DeployNodeText="Deploy";e.ReleaseArtifactSizeColumn="Size";e.BuildDefinition="Build pipeline";e.SummaryEnvironmentStatusAbandoned=" Abandoned";e.ManualTriggerType="Manual";e.DeploymentGroupsTargetStatusColumnName="Target status";e.DocumentDiffLabel="Diff";e.ConfigurationSelctionLabel="View";e.DeploymentGroupPhaseTaskDemandsDisplayTitle="Demands";e.ResumeButtonText="Resume";e.ArtifactGridColumnArtifactName="Artifacts";e.QueueNoMatchingAgentFound="Could not find any queues matching all demands.";e.BuildStatusPartiallySucceeded="Partially succeeded";e.RegistrationScriptCloseText="Close registration script popup";e.SummaryEnvironmentStatusDeferred="Deferred";e.DeleteStageConfirmationText="This will remove the stage from this release. Do you want to continue?";e.ArtifactsSourceTreeText="{0} ({1})";e.DeploymentGroupReferencesDescription="Projects with dependent deployment groups";e.AssignApproverDialogCancelButton="Cancel";e.SummaryGatesStatusFailed="Gates failed";e.HideMachineText="Hide details pane";e.SummaryRecentActivityPendingPostDeploymentApproval="\u0027{0}\u0027 has a pending post-deployment approval.";e.ReleaseLogStateSkipped="Skipped";e.ApprovalTimeoutHelpText="Specifies the maximum time, in minutes, that an approval is allowed to be pending being rejected by the server.  A maximum 365 days timeout is allowed.\u003cbr\u003e A zero value indicates a timeout of 30 days.";e.DeploymentGroupsTitle="Deployment groups navigation";e.ReleaseLogAutoPreApprovalInfo="The pre-deployment approval has been auto-approved.";e.DeleteBuildToolTip="Remove the selected builds from the stage’s build list";e.ArtifactsAddTooltip="Create new or add existing artifacts";e.CreateReleaseDefinitionText="Create a release pipeline";e.PreDeploymentApprovalStatus="Pre-deployment approval {0}";e.ArtifactPickerLocationLabel="Location";e.AgentAcquisitionDarwinCreateAgentMarkdownFormat="```bash\r\n~/$ mkdir myagent \u0026\u0026 cd myagent\r\n~/myagent$ tar zxvf ~/Downloads/{0}\r\n```";e.AvailableSharedPoolsColoumnTitleForPoolsTargetStatus="Target status";e.ImportButtonText="Import";e.EnvironmentVariablesDescriptionForRD="View and modify custom variables defined on the stages in this release pipeline.";e.ApprovalCompletedByText="Completed by {0}";e.ReleaseBannerPendingManualInterventionText="A manual intervention {0} is pending for the {1} stage. {2}";e.NameText="Name";e.CurrentlyDeployedReleaseText="Current status";e.DeployDialogCommitsRemovedTooltipText="Commits that will be removed from this stage as part of this release.";e.CreateReleaseDefinitionConfirmationDialogNoOption="No";e.ReleaseHasBeenDeleted="Release \u0027{0}\u0027 has been deleted and moved to \u0027Deleted\u0027.";e.EnterNameWaterMark="\u003cEnter name\u003e";e.ReleaseSummaryEnvironmentStatusWaitingForApproval="Waiting";e.DeleteStageToolTip="Remove the stage from this release";e.SummaryEnvironmentStatusInprogressNew=" In progress ";e.PublishCommitStatusLabel="Report deployment status to Code";e.TriggeredBy="Triggered by";e.RemoveScheduleTooltip="Remove the schedule";e.BuildsPipelinesDisplayHubName="Builds";e.AbandonReleaseNotAllowed="Abandoning is not allowed when deployments are in-progress in any stage(s). Please cancel \u0027{0}\u0027 stage(s) and try again.";e.ViewBuildSummary="View {0} summary";e.LatestWithTags="Latest with tags: {0}";e.ManualDeploymentsSection="Manual deployments";e.SummaryRecentActivityApprovedBy=" has been approved by ";e.ArtifactDefinitionSearchWatermark="Search artifacts";e.DeploymentDescription="deployed with";e.BranchLabelText="Branch";e.UpgradeMachinesConfirmationTitle="Upgrade targets?";e.JenkinsArtifactOptionTooltipText="Artifacts are published by a Jenkins job (https://jenkins-ci.org/)";e.WaitingForAvailableAgentOnMicrosoftHostedConcurrentJobsPrefix="Waiting for available Microsoft-hosted parallel jobs, ";e.ConjunctionForArtifactsDisplayMessage="and";e.DeploymentSummary="Deployment summary";e.RefreshQueueMenuItemText="Update all agents";e.DeploymentPostApprovalRejectedTooltipText="Post-deployment approval rejected";e.ReleaseSnapshotChangeViewDetails="View details";e.RefreshReleaseToolTip="Refresh";e.ReleaseStagesNotFound="No associated stages";e.ChangeColumnHeaderIdTooltip="Change ID";e.RetentionPolicyReleasesToKeepToolTip="Set the minimum number of releases to keep for this stage. This number cannot exceed {0} releases. More details \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=616087\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027 \u003ehere\u003c/a\u003e.";e.ArtifactSearchAny="Any";e.PublishTaskGroupConfirmationTitleText="Publish the task group";e.GetAgentTitle="Download the agent as a zip";e.MarkAsPrimaryArtifactConfirmationDialogTitle="Mark as the primary artifact source";e.EnvironmentApprovalsAutomatedText="Automated";e.ReleaseDefinitionHistoryAdd="Add";e.EditText="Edit";e.EditName="Edit name";e.BuildResultCancelled="Canceled";e.TodayDeployments="Today";e.SpecifyMachineGroupName="Specify the deployment group name";e.LogsViewFilterName="View";e.ResourceLimitsText="Resource limits";e.SecurityUnlockText="Change variable type to plain text";e.CreateDeploymentGroup="Create a deployment group";e.Releases="Releases";e.ActionText="Action";e.ScheduledOnParitallySuccessfulDeploymentTriggerType="Scheduled: after successful or partially successful deployment on \u0027{0}\u0027";e.ReleasesLogsPaneLabel="Release logs";e.NoFutureDeploymentsAvailable="No releases queued for deployment";e.NoApprovalsAvailable="There are no approvals matching this filter or search criteria.";e.DeployDialogCommitsAddedTooltipText="Commits that will be deployed to this stage as part of this release. ";e.RenameIndicator="*";e.ArtifactAlreadyExistErrorMessage="Artifact \u0027{0}\u0027 already exists in the list.";e.ReleaseLogsCanceledMessage="Deployment on this stage was canceled.";e.RecentDeployments="Recent deployments";e.DeleteMachineGroupConfirmationDescription="Are you sure? This will permanently delete the deployment group with all its settings and data.";e.ArtifactsGridColumnName="Name";e.ArtifactsGridColumnPath="Relative path";e.DeploymentTargetMetricsSeparator=", ";e.ArtifactSourceAliasEditWarningMessage="Changing an artifact source alias can break task inputs and scripts where it is used as a variable.";e.ReleaseSummaryRecentActivityHeader="Recent activity";e.PendingApprovalTileTitle="{0} for {1} is {2} on {3}";e.DeletedByColumnLabelText="Deleted by";e.SummaryEnvironmentStatusCancelled=" Canceled";e.FileUploadStarted="File upload has started.";e.DisableText="Disable";e.DeleteBuildText="Delete";e.NoArtifactsAssociatedWithRelease="No artifacts are associated with this release.";e.ReleaseConsoleWaitingForAgent="Waiting for console output from an agent...";e.ShareDeploymentGroupText="Share deployment group";e.ReleaseNameFormatSettingTooltip="Set the format for default name of releases from this release pipeline. See the list of available pre-defined variables \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=616085\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027 \u003ehere\u003c/a\u003e.";e.EnvironmentDeploymentConditionsAfterSuccessfulDeploymentText="After successful deployment to another stage";e.DeleteEnvironmentConfirmation="You are about to delete the \u0027{0}\u0027 stage and all its settings. This action cannot be reversed.";e.AvailableSharedPoolsColoumnTitleForPools="Deployment pool";e.DeferredDeploymentStatusToolTipFormat="Deployment deferred to {0}.";e.CriteriaAddNotesWatermarkText="Add your notes here";e.ArtifactExtensionNotAvailable="Not available (check if the extension that contained artifact type: {0} has been disabled or uninstalled)";e.EditConfigureVariables="Configure variables...";e.SystemCapabilities="System capabilities";e.ApprovalStatusRejected="Rejected";e.ReleasenameFormatTextPart="Define the naming scheme for releases of this release pipeline. View the list of available ";e.NewDeploymentPoolCreateButtonText="Create";e.EnvironmentEditOptionsConfigurePool="Configure pool";e.ReleaseSummaryDetailsLabel="Release details";e.EnableText="Enable";e.VariableGroupsDescriptionLinkPart="here";e.TaskGroupHubTitleCaptionUnsaved="Task group*:";e.ColumnOptionsText="Column options";e.MoreActions="More actions";e.ReleaseDefinitionHistoryUpdate="Update";e.NewMachineGroup="New deployment group";e.ReleaseLogStateSucceeded="Succeeded";e.SaveDialogLabel="Save";e.DocumentDiffBackLabel="Back";e.DraftCreatedMessage="Draft created";e.DeploymentTargetHealthy=" Healthy";e.ScheduledDeploymentOnReleaseCreationToolTipText="Scheduled deployment: after release creation";e.UnPendingApprovalTileByYouTitle="{0} for the {1} {2} by you";e.TaskAgentActivityIdle="Idle";e.RunCommandInAdministratorPowerShellPrompt="Run command in an administrator PowerShell prompt";e.ReleaseEnvironment="Release stage";e.TriggerManualRequestByText="Manually created by";e.AddCommentText="Add comment";e.DeploymentStatusWidgetBuildStatusToolTip="Build status: {0}";e.ApproverIdentityErrorMessage="The identity value \u0027{0}\u0027 for field \u0027{1}\u0027 is an unknown identity";e.QueuedOnAgentText="Queued on the {0} pool";e.ReleaseTemplateAlreadyExistsException="Release template \u0027{0}\u0027 already exists.";e.ImportMetaTaskText="Import a task group";e.AgentConfigScriptUnsavedNameText="Enter a valid deployment group name and save it to view the agent registration script";e.BuildDetailsSummaryAutoTriggerIssuesNoReleaseCreated="/ no release created";e.WaitingForPipelineToBeAssignedRefreshToUpdate="The release is waiting for a job to be assigned. Refresh for updated status.";e.GreaterThan50="\u003e 50";e.RegistrationScriptText="Register";e.RegisterMachineDialogTitle="Register machines";e.IncludeVariableGroup="Include a variable group";e.AgentAcquisitionWindowsConfigureAgentMarkdownFormat="```powershell\r\nPS C:\\agent\u003e .\\config.cmd --deploymentgroup\r\n```";e.WidgetAdditionRequestSentMessage="Adding widget \u0027{0}\u0027. A request has been sent.";e.EnvironmentUnselectedAgentPool="\u003cSelect agent pool\u003e";e.ViewAllReleasesText="View all releases";e.RefreshArtifactDefinitionText="Refresh artifact definitions";e.RejectButtonText="Reject";e.DeploymentQueueEnvironmentExecutionPolicyUserConcurrencyDescription="For subsequent deployment requests that get queued";e.AcceptanceCriteriaText="Acceptance criteria";e.StartReleasePopupDialogTitle="Start release {0}";e.ModalDialogOkButton="OK";e.DeploymentGroupTagsHeader="Run tasks on machines with the following tags";e.DeleteMachineConfirmationDescription="Are you sure? This will delete all settings and data for the agent and unconfigure the agent from the target.";e.ExportText="Export";e.ViewDeploymentTarget="View details of target: {0}";e.ArtifactConfirmationDialogNoOption="No";e.ReleaseSummaryTestRunsAborted="Aborted";e.LinkedWorkItemsListHeader="Linked work items:";e.EnvironmentDefinitionNameTitle="New";e.DeploymentQueueEnvironmentExecutionPolicyQueueDepthInfinite="Deploy all of them in order of request";e.AdminHostsSaveChanges="Save changes";e.AddTagToFilter="Add tags to filter";e.SkipPreDeployApprovalTooltip="Set this option to prevent a user from needing to repeatedly approve deployments after that user approves the initial deployment, and the subsequent stages have deployment condition triggers that automatically start the deployment. Does not apply when a deployment to a stage is manually triggered. See \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=832658\" target=\"_blank\" rel=\u0027noopener noreferrer\u0027 \u003eApprovals and approvers\u003c/a\u003e and \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=832659\" target=\"_blank\"\u003eDeployment triggers.\u003c/a\u003e";e.EnvironmentDeploymentConditionsArtifactsText="Select artifact condition(s) to trigger a new deployment";e.ModalDialogOk="OK";e.PathColumnHeader="Path";e.ApprovalOverrideLink="(override)";e.ArtifactsAddExisting="Add existing";e.ActionColumnLabelText="Action";e.CreateButtonText="Create";e.ByFilterMe="Me";e.CreateNewRelease="Create a new release";e.EnvironmentApprovalsTabText="Approvals";e.Release="Release";e.AcceptanceCriteriaNotFound="No associated acceptance criteria";e.ReleaseEnvironmentsLabel="Release stages";e.ReleaseStatusCanceled="Canceled";e.FilteredListShowingZeroCount="No matching item found.";e.ArtifactsPickerFootNote="Note: {0}";e.GridRemoveVariableGroupText="Remove variable group";e.GuidanceForInsufficientPermissionsForDeploymentGroup="You do not have permissions to register targets. Contact your release manager to grant permissions.";e.DeferredEnvironmentLogText="Deployment to this stage has been deferred to {0}.";e.DSWViewLabel="View";e.AutoLinkWorkItemsHelpText="When the stage completes, create links to all work items linked to associated changes.";e.ScheduledDeploymentAfterPartialSuccessfulDeploymentToolTipText="Scheduled deployment: after successful or partially successful deployment to";e.ConfirmReleaseUndeleteWithDeletedBuilds="You are about to undelete the release \u0027{0}\u0027. The associated build(s) {1} are no longer available. Do you still want to undelete the release?";e.CreateNewReleaseToolTip="Create a new release";e.EnvironmentEditOptionsRemoveDemand="Remove demand";e.OtherOptionsText="Additional options";e.AdminAgentPoolQueueNodeFormat="{0} ({1})";e.MoreArtifacts="{0} more";e.OverviewTab="Overview";e.UnknownErrorMessage="Unknown error.";e.DeploymentGroupHubRolesTitle="Roles for {0}";e.FilteredListSelectedItem="Selected item {0}";e.RevalidateIdentityUnexpected="Revalidating the identity of the approver before completing the approval setting on stage(s) \u0027{0}\u0027 is not expected in bulk approval. Approve individually or remove the setting and try again.";e.AutomatedOnParitallySuccessfulDeploymentTriggerType="Automated: after successful or partially successful deployment on \u0027{0}\u0027";e.CommaSeparator=", ";e.ViewReleases="View {0} releases";e.SelectReleaseDefinitionComboboxPlaceHolder="Select release pipeline";e.ReleaseLogsDetailViewOn="On";e.ScheduledTriggerAddNewTimeText="Add new time";e.DSWBuildLabel="Build pipeline";e.StatusTitle="Status";e.ErrorWhileDeletingWorkItem="We\u0027re sorry, but something went wrong while removing the work item. Please try again.";e.UndeleteReleaseToolTip="Undelete release";e.MultiplePreDeploymentApprovalsPendingText="Multiple pre-deployment approvals are pending for this release. Approve or reject {0}, {1}";e.NewDeploymentPoolCreatingButton="Creating";e.ConfirmReleaseUndeleteWithGetBuildsFailed="You are about to undelete the release \u0027{0}\u0027. It can\u0027t be determined whether builds associated with this release are still available. Do you still want to undelete the release?";e.ArtifactsAddButtonText="Add";e.TagPickerNoTagsHeader="No tags";e.SaveReleaseSettingsConfirmationOkText="Save";e.OpenDeploymentGroupText="Open";e.ReleaseDefinitionActionCreateRelease="Create a release";e.EnvironmentActionsToolTip="Stage actions";e.ReleaseActionStopTooltip="Stop release";e.AgentAcquisitionLinuxConfigureAgentMarkdownFormat="```bash\r\n~/myagent$ ./config.sh --deploymentgroup\r\n```";e.RefreshReleaseText="Refresh";e.PostDeploymentApprovalStatus="Post-deployment approval {0}";e.DeploymentWidgetTestsToolTip="Tests: {0} of {1} passed";e.DeploymentPoolSecurityDialogTitle="Manage security roles for deployment pool: {0}";e.DeletedReleasesGridLabel="Deleted releases";e.MachineTag="Machine tag";e.ByFilterAnyone="Anyone";e.DeploymentPoolsPageTitle="Deployment pools";e.ChildModifiedText="{0} {1} was modified.";e.EnvironmentEditOptionsDialogBoxTitle="Edit options for the \u0027{0}\u0027 stage ";e.SummaryEnvironmentStatusSucceeded=" Succeeded";e.PendingOnText="Pending on {0}";e.NoTestResultsForStakeHolder="You cannot view test results because you don’t have the \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=733475\" target=\"_blank\" rel=\u0027noopener noreferrer\u0027 \u003ecorrect license\u003c/a\u003e.";e.DeploymentToTarget="Deployment to this target";e.AfterReleaseCreationText="after release creation";e.SetTriggerOnArtifactSourceLabel="Set a trigger on an artifact source";e.UnsupportedArtifactsInTriggersGuidance="Linked artifact sources do not support triggers. {0}";e.ProjectSearchPlaceholder="Search for projects";e.AddBuildToolTip="Add builds to this stage for promotion";e.CompareText="Compare";e.ConfirmCancelDeployment="Do you want to cancel deployment on \u0027{0}\u0027?";e.ReleaseLogStateScheduled="Scheduled";e.GatesNextSampling="Next update time";e.VersionColumnHeader="Version";e.NoDeploymentsYet="No deployments yet";e.MetaTaskSearchText="Search task groups...";e.Properties="Properties";e.DeploymentRequestedFor="Requested for";e.ArtifactTypeInvalidFieldsErrorMessage="Field \u0027{0}\u0027 should have valid values.";e.DeploymentGroupRollingPercentToolTip="Provide a % of deployment machines that can be deployed in parallel against the total deployment machines that matches provided tags in this deployment group.";e.ManualInterventionStatusCanceled="Cancelled";e.SourceText="Source";e.WaitForBuildCompletionToCreateRelease="Releases can be created only from successful builds. The build you have chosen is still in-progress. Wait for the build to complete and try again.";e.ReleaseConsoleNotStartedText="The release has been queued and is waiting to start...";e.ApprovedBuildsNotFound="No approved builds";e.NoReleaseArtifactsDisplayMessage="There are no artifacts linked to this release.";e.WorkItemColumnHeaderTitle="Title";e.WorkItemColumnHeaderState="State";e.AssignApproverDialogOkButton="OK";e.ReleaseLogStateStopped="Stopped";e.ManageQueuesDescription="Manage agent pools";e.AgentPlatformLinux="Linux";e.SummaryEnvironmentStatusRejectedBy="Rejected by {0}";e.CreateDraftReleaseText="Create a draft release";e.EnvironmentGeneralTabText="General";e.ErrorWhileRetrievingData="We\u0027re sorry, but something went wrong while trying to retrieve data. Please try again.";e.RegistrationScriptPowerShell="Registration script (PowerShell)";e.ApprovedByYouOnBehlafOf="Approved by you on behalf of {0}";e.MachineDeployments="Machine deployments";e.ApprovalTackledByOnBehalfOf="by {0} on behalf of {1}";e.AutomatedDeploymentAfterPartialSuccessfulDeploymentToolTipText="Automated deployment: after successful or partially successful deployment to";e.AddEnvironmentUsingCloneMenuItemText="Clone the selected stage";e.RemoveFromMyFavoritesText="Remove from my favorites";e.TagFilterLabel="Tags";e.DeleteEnvironmentConfirmationTitle="Delete the stage";e.CompletedReleasesText="Completed";e.DraftRelease="Draft";e.DeploymentQueueEnvironmentExecutionPolicyUserConcurrencyTooltip="Select this option to allow a subset of deployments to start in parallel.";e.ReleaseNameFormatFieldTitle="Release name format";e.ReleaseBannerPendingPostApprovalText="A post-deployment approval is pending for the \u0027{0}\u0027 stage. {1}";e.OldDeployments="Older";e.AddTargetScriptLabel="Add target script ";e.TriggerHeaderColumn="Trigger";e.NewReleaseDefinitionNameText="New {0} pipeline {1}";e.MachineTagsToolTip="Machines matching the specified tags will be targeted for deployment. Example – Web,DB";e.ConfirmReleaseAbandon="You are about to abandon the release \u0027{0}\u0027. This action cannot be reversed.";e.FilteredListAriaDescribeTabs="Multiple tabs exist with different lists of items.";e.ReleaseSettingsHubMinimumReleasesToKeepText="Minimum releases to keep";e.DeploymentPoolsDescription="A deployment pool is a logical set of target machines backing a deployment group for a set of projects.";e.PinToDashboard="Pin to a dashboard";e.NoArtifactsDisplayMessage="No version is available out of \u003cb\u003e{0}\u003c/b\u003e or the latest version has no artifacts to publish. Please check the source pipeline.";e.MetaTaskImportDialogOkText="Import";e.ConfirmReleaseCancellation="You are about to cancel the release \u0027{0}\u0027. This action cannot be reversed.";e.ParallelizeOptionsText="Run on multiple agents in parallel";e.AgentAcquisitionWindowsRunAgentMarkdown="```powershell\r\nPS C:\\agent\u003e .\\run.cmd\r\n```";e.TaskAgentPoolDisplayNameFormat="{0} (referenced by pool {1})";e.RemoveMachineDescription="Once you delete this machine, you will lose all its settings and data. This action can not be reversed.";e.ArtifactsGridColumnPrimaryTooltip="Set artifact as primary to select trigger for release on this release pipeline";e.RDSummaryWidgetReleaseNameTooltipFormat="{0}\r\n{1}";e.ItemAssignedTo="Assigned to";e.WidgetNotificationDialogClose="Close";e.QueuePositionQualifierText="position\u003cbr /\u003ein queue";e.AcceptanceCriteriaFilterCompleted="Complete";e.TemplateCategoryEmpty="Empty";e.NewReleaseArtifactTitle="Add new release artifact";e.DateFilterAny="Any";e.WaitingForEnabledAgent="Waiting for an enabled agent. All possible agents are disabled.";e.DeploymentGroupShowFilterIconToolTip="Show filter panel";e.NewReleaseDefiniitonEditorBannerContent="The old release pipeline editor is going away. Please turn on the \u003cspan class={0}\u003enew release pipeline editor\u003c/span\u003e from \u003cspan class={0}\u003ePreview features\u003c/span\u003e under your profile menu. \u003ca target=\u0027_blank\u0027 href={1}\u003eLearn more\u003c/a\u003e";e.DeploymentStatusWidgetBuildDefinitionLabel="Build pipeline:";e.DeploymentGroupTitleBarAddDeploymentGroup="New";e.TemplateCategoryOther="Other";e.DeploymentTriggerScheduled="Scheduled";e.QueueReleaseOnEnvironmentWorkItemsCountHeader="Work items";e.EnvironmentStartedOnColumn="Started";e.AvailableSharedPoolPlusIconHelpText="Create deployment group";e.DeploymentGroupZeroMachinesWithSelectedTagsDisplayText="We found \u003ca href=\"{0}\" target=\"_blank\" rel=\u0027noopener noreferrer\u0027 \u003eno machine(s)\u003c/a\u003e with the above-mentioned tags";e.AgentAcquisitionWindowsCreateAgentMarkdownFormat="```powershell\r\nPS C:\\\u003e mkdir agent ; cd agent\r\nPS C:\\agent\u003e Add-Type -AssemblyName System.IO.Compression.FileSystem ; [System.IO.Compression.ZipFile]::ExtractToDirectory(\"$HOME\\Downloads\\{0}\", \"$PWD\")\r\n```";e.PipelinesPlanGroupsQueueLinkText="Pipelines queue...";e.QueueReleaseOnEnvironmentDifferencesHeaderPrefix="Differences from ";e.ArtifactsGridColumnVersionTooltip="The version of the artifact";e.AddAttachmentToAcceptanceCriteriaTooltip="Add an attachment to this acceptance criteria";e.CreateReleaseDialogClosingConfirmationTitle="Discard the release";e.DeploymentSubStatus="Sub status";e.ManageDeploymentPoolAriaLabel="Manage deployment pool";e.ReleaseDefinitionHubTitleCaption="Pipeline:";e.ScheduledEnvironmentLogText="Deployment to this stage has been scheduled.";e.ReleaseActionOpenRelease="Open";e.FilterCriteria="Filter criteria";e.AllDefinitionsFolderColumn="Folder / name";e.QueueNotConfigure="A default pool is not configured or you do not have access to the pool. Contact your administrator to obtain permission.";e.TagPickerSuggestedTagsHeader="Suggested tags";e.QueueForAgentTooltipText="Queued for agent";e.AddNewReleaseDefinitionButtonText="New";e.DeploymentGroupTabTitleGroups="Groups";e.DeploymentGroupNumberOfMachinesWithSelectedTagsDisplayText="We found \u003ca href=\"{0}\" target=\"_blank\" rel=\u0027noopener noreferrer\u0027 \u003e{1} machine(s)\u003c/a\u003e with the above-mentioned tags";e.ScheduledConflictWarningTitle="Pre-deployment approval will become pending on this stage at the scheduled time.";e.AgentPlatformWindows="Windows";e.QueueReleaseOnEnvironmentDifferencesHeaderSuffix="current release in {0} ({1})";e.EnvironmentAdditionalLogForBasicUserText="{0}To deploy now, choose Deploy on the toolbar or a stage’s shortcut menu.";e.BuildPipelinePlanGroupsQueueRunningStatusHeaderText="Shows builds currently running using available jobs.";e.DeploymentGroupHideFilterIconToolTip="Hide filter panel";e.NotStartedAsBranchTagConditionNotMetHeaderTooltip="Deployment to \u0027{0}\u0027 will not start automatically since the following deployment conditions are not met.";e.SelectReleaseProject="Project";e.ConfirmReleaseDeletion="You are about to delete the release \u0027{0}\u0027.";e.ViewDeploymentDetailsText="View deployment details";e.DeploymentNeverStarted="Never started";e.NewDeploymentPoolPrimaryButtonText="New deployment pool";e.DeploymentStatusColumn="Deployment status";e.EnvironmentFilterIconLabel="Filter stages";e.AddStageToolTip="Add a new stage to this release";e.SourceBranchesLabel="Branches";e.UnableToFetchReleaseDefinitionDetails="An error occurred while retrieving the release pipeline: {0}. Try again later.";e.ReleaseSettingsHubDefaultRetentionSettingsText="Default retention policy";e.ReleaseTemplatesTitle="Release templates";e.SummaryRecentActivityAutoApprovedSuffix=" has been auto-approved.";e.ReleaseComparisonWith=" with ";e.MetaTaskImportDialogInstruction="Select the task group JSON file to import";e.ReleaseReasonNone="None";e.PostDeploymentGates="Post-deployment gates";e.SummaryEnvironmentStatusFailed=" Failed";e.BuildApprovedColumn="Build approved in";e.ReleaseLogStatePendingForDG="Not deployed";e.ArtifactPickerLocationToolTip="Location on the agent where the artifact is downloaded";e.SendMailSubjectFormat="{0} / {1} summary";e.BuildStatusInProgress="In progress";e.NoTestResultsAvailable="No test results are available for this release.";e.DeleteReleaseArtifact="Delete";e.ArtifactTypeDescription="This is the source that publishes the artifact to be deployed";e.ReleaseSummaryTestRunsAllPassed="All {0} tests passed";e.ConfirmArtifactDefinitionRefresh="You have unsaved changes to this artifact which will be lost. Are you sure you want to continue?";e.GeneralSettingsTabText="General";e.ReleasesHubText="Releases";e.WorkItemColumnHeaderAssignedToTooltip="Assigned to";e.ParallizeOptionNoneText="None";e.ReleaseSummaryIssuesHeader="Issues";e.DateFilterLast14Days="Last 14 days";e.EnvironmentCloneSettingsHeader="Tasks, parameters, and configuration settings from the stage {0} will be copied to the new stage. Values for encrypted variables will not be copied.";e.MoreReleases="more releases...";e.QueueReleaseOnEnvironmentApprovalsCountHeader="Approvals";e.EditReleaseDefinition="Edit {0}";e.MultiPostApprovalsPending="Post-deployment approvals pending";e.ApprovalTackledAutomatically="automatically";e.ReasonColumnLabelText="Trigger";e.DeleteEnvironmentPermissionDenied="You don\u0027t have necessary permissions to delete this stage.";e.ChangesNotFoundText="No associated changes found.";e.SettingsText="Settings";e.DeploymentStatusWidgetEnvironmentNameToolTip="Stage: {0}";e.ChangeColumnHeaderId="Change ID";e.DateFilterLast28Days="Last 28 days";e.NoAcceptanceCriteriaText="No acceptance criteria";e.ShareDGPopuptCloseText="Close share deployment group popup";e.AdminNoQueuesTitle="No queues exist";e.OpenMachinesText="Show details pane";e.MachineEnabled="Yes";e.SearchArtifactResultInfoText="Select artifacts to add to this release pipeline";e.MetaTasksHelpLinktext="task groups";e.ReleaseNotesViewMore="View more";e.SavingRelease="Saving release...";e.PublishCommitStatusHelpText="Displays a badge on the Code tab to indicate the status of releases deployed to each stage in this release pipeline.";e.Duration="Duration";e.PhaseConditionLabel="Run this job";e.GetEnvironmentSummaryDataFromExtensionsError="Error while getting stage summary data from extensions : {0}";e.DeleteReleaseToolTip="Delete release";e.PostDeploymentApprovers="Post-deployment approver(s)";e.RefreshApprovalsText="Refresh approvals";e.SaveMetaTaskWithRunsOnChangeConfirmationDialogText="This task group {0} which can run on \u0027{1}\u0027, will now run on \u0027{2}\u0027. Changes might affect all build pipelines, release pipelines, and other task groups using this task group.{3}Are you sure you want to proceed?";e.ManageServices="Manage";e.WaitingForAvailableAgentWithConcurrentJobsSuffix=" available parallel jobs running.";e.PendingApprovalOnYouText="Pending approval on you";e.ShowMoreDeploymentGroupsTooltip="Load more deployment groups";e.ReleaseStatusStopped="Stopped";e.AnyOneApproverInParallelApprovalsToolTip="Select this option if it is sufficient that any one of the specified users approves a deployment.";e.ReleaseStatusInProgress="In progress";e.ScheduleForDeploymentTooltipText="Scheduled to deploy at {0}";e.SaveDraft="Save this draft";e.TemplateNamePlaceHolder="Enter a name";e.MaxNumberOfAgentToolTip="Limit the number of agents to be used. If more configurations are specified than the maximum number of agents, some configurations will wait until an agent completes running a previously assigned configuration.";e.History="History";e.LinkVariableGroupInfoText="Variable groups for which you have ‘user role’ access will be shown here. \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=832652\" target=\"_blank\" rel=\u0027noopener noreferrer\u0027 \u003eLearn more\u003c/a\u003e";e.EnvironmentControlAriaLabelFormat="Stage {0} ; Status is {1} in release {2}";e.QueueCannotBeFound="The pool associated with deploy job \u0027{0}\u0027 could not be found. The pool might have been removed or modified. Edit the deploy job’s associated pool before queueing the release.";e.HasBeenQueued="has been created.";e.TaskGroupsLabel="Task groups";e.EnvironmentColumnHeaderInRelease="Stage";e.DeploymentPoolTargetsTab="Targets";e.SaveMetaTaskConfirmationDialogText="Changes might affect all build pipelines, release pipelines, and other task groups using this task group {0}.{1}Are you sure you want to proceed?";e.DeleteDeploymentPoolConfirmationDescription="Are you sure? This will permanently delete the deployment pool with all its settings and data.";e.ApproveButtonText="Approve";e.RemoveFromTeamFavoritesText="Remove from team favorites";e.SendMailSubject="Subject";e.LatestReleaseToEnvText="to this stage";e.ReleaseSettingsHubMaxRetentionSettingsText="Maximum retention policy";e.RetentionPolicyDaysToKeep="Days to retain a release :\u0026nbsp;";e.TagsDeleteButton_AriaLabel="Delete {0} tag";e.PrimaryText="Primary";e.MoreApprovalOptions="More options";e.ManualInterventionStatusResumed="Resumed";e.NoReleaseDefinitionAlertContent="There are no release pipelines associated with this build pipeline.";e.RejectedByYouOnBehalfOf="Rejected by you on behalf of {0}";e.DisablePriorVersionsWarningMessage="Once task groups are disabled you cannot use them in any build, release pipelines, or other task groups. This action cannot be reversed.";e.DefaultArtifactSpecifyAtReleaseCreation="Specify at the time of release creation";e.ApprovalStatusApproved="Approved";e.ArtifactSourceVersionIsEmpty="Versions could not be loaded for all artifact sources. This could be due to an inaccessible artifact source, an artifact source has been deleted, or no versions are available.";e.DeploymentGroupPhaseTaskDemandValue="Value";e.ReleaseSummaryTestRunsInProgress="In progress";e.QueueReleaseOnEnvironmentCommitsCountHeader="Commits";e.TaskAgentActivityDisabled="Disabled";e.FewerApprovalOptions="Fewer options";e.DescriptionForWellKnownArtifact="All artifacts";e.DraftPublishedAsPreview="Draft published as preview";e.ReleaseHubTitleCaptionUnsaved="Release*:";e.ConfigurationSelectionEnvironmentAllEnvironments="All";e.ConfirmReleaseNavigation="You have unsaved changes to this release which will be lost.";e.UpgradeMachinesConfirmationDescriptionForPool="Are you sure you want to upgrade all targets in deployment pool {0}?";e.EditArtifactDialogTitle="Edit artifact";e.QueueHubFeatureName="WebAccess.ReleaseManagement.QueueHub";e.BranchLabel="Branch:";e.QueuedTime="Queued time";e.GatesStabilizationEndTimeText="Wait time remaining";e.ArtifactsGridColumnSourceNameTooltip="Artifact source name";e.DSWBuildDefinitionsError="Error in getting build pipelines";e.ReleaseLogsFailedMessage="Deployment on this stage failed.";e.FilteredListShowingOneCount="Showing 1 matched item. Use the tab key to select the matched item.";e.DisabledAgentsTitle="Disabled agents";e.DeploymentGroupDeployToToolTip="A deployment configuration determines the number of targets that can be deployed to in parallel. The selection accounts for the percentage of targets that must remain available at any time excluding the targets that are being deployed to.  It is also used to determine the success and failure conditions during deployment.";e.ArtifactsAddExistingTooltip="Add existing artifacts";e.EnvironmentHeadingLabel="Stage owner";e.CancelRequestSubmittedMessage="The cancel request for stage \u0027{0}\u0027 has been submitted.";e.LinkVariableGroupsTitle="Link variable groups";e.DirtyArtifactName="{0}*";e.PendingManualIntervention="Pending manual intervention";e.AutomatedApprovalLogStatus="Automated";e.EnforceIdentityRevalidation="Revalidate the identity of the approver before completing the approval";e.GatesEvaluationToGo="to go";e.WidgetAddedSuccessfullyMessage="Adding widget \u0027{0}\u0027. The widget has been added successfully";e.ContinueWithReleasePrompt="Do you want to queue the release anyway?";e.RefreshDeploymentGroupsDescription="Refresh deployment groups";e.EnvironmentExecutionPoliciesOptions="Options";e.InvalidReleaseId="This work item isn\u0027t a valid release: {0}";e.RemoveCriteriaButtonText="Remove";e.EnvironmentOwnerOnlyOnFailureEmailNotificationLabel="Only on failure";e.WorkItemColumnHeaderTitleTooltip="Title";e.DeploymentTargetsOnline="{0} online";e.ConfirmReleaseUndelete="You are about to undelete the release \u0027{0}\u0027.";e.ArtifactListEmptyErrorMessage="Add at least one artifact.";e.RetainIndefinitelyToolTip="Retain indefinitely";e.ActionsHeaderColumn="Actions";e.ReleaseLogForDGStatusHeader="Status";e.AgentPlatformUbuntu16="Ubuntu 16.04+";e.AgentPlatformUbuntu14="Ubuntu 14.04";e.SelectMinutesText="Select minutes";e.ReleaseDefinitionHistoryDelete="Delete";e.SectionWillBeIncludedInMail="(This section will be included in the outgoing email)";e.TagFilterShowAllButtonTooltip="Remove all tag filters";e.RemoveText="Remove";e.EnvironmentTriggersDescription="Stage triggers specify when and how a deployment will be triggered on a stage.";e.RunOnAgentDesciptionText="A job is a logical grouping of tasks that defines the runtime target on which the tasks will be executed. An agent job allows running a set of tasks on an agent in an agent pool.";e.FilterTargetText="Filter list of target";e.FilteredListSearchResults="{0}, {1} of {2}";e.ReleaseComparisionWithIncompatibleArtifactTypeException="VS402875: Not able to compare releases of artifact types {0} and {1}.";e.Copy="Copy";e.Note="Note";e.Name="Name";e.Tags="Tags";e.Save="Save";e.CancelActionText="Cancel";e.MetaTaskImportInvalidJson="Either the exported JSON is not valid or it is not compatible with the current product version. Please retry exporting and importing.";e.DSWBranchesError="Error in getting branches";e.NotDeployedManualConditionEnvironmentLogBasicUserText="{0}Choose Deploy on the toolbar or a stage’s shortcut menu to manually deploy to this stage.";e.EditAgentQueue="Agent pool...";e.TriggerScheduledRequestText="Created by";e.RetentionPolicyRetainBuild="Retain build :\u0026nbsp;";e.ArtifactDetailsMessageForUnsupportedType="The artifact source {0} seems to be for a generic connection and could not be accessed. The artifacts published by each source pipeline will be available in release pipelines.";e.ConfigurationSelectionEnvironmentVariables="Stage variables";e.DownloadLocation="Download location";e.InvalidReleaseTemplateXml="The XML isn\u0027t valid for this release template. Error: {0}";e.EnvironmentTriggeredOnColumn="Triggered";e.SummaryArtifactsSection="Artifacts ({0})";e.AgentAcquisitionDarwinConfigureAgentMarkdownFormat="```bash\r\n~/myagent$ ./config.sh --deploymentgroup\r\n```";e.WorkItemsTabRollbackMessage="Deployment of {0} to a stage after {1} has been deployed to it might remove the below work items. This could happen if {0} is linked to an older build version as compared to the one linked to {1}.";e.ErrorWhileFetchingBuilds="We\u0027re sorry, but something went wrong while getting the build details. Please try again.";e.ReleaseDefinitionsNodeText="Release pipelines";e.ReleaseLogManualInterventionCanceledInfo="The manual intervention {0} has been {1}.";e.DetailsPaneOff="Off";e.ReleaseStatusAbandoned="Abandoned";e.FileUploadEnd="File upload completed successfully.";e.NoReleaseText="No release here, ";e.QueueReleaseOnEnvironmentTaskCountHeader="Tasks";e.EnvironmentTemplatesDialogCloseButton="Close";e.ReleaseDefinitionLabel="Release pipelines";e.NoSuccessfulVersionMessageInPicker="There is no successful version for {0} ({1}). Only when artifacts are published will they be available for release pipelines.";e.ReleaseQueueHeadingText="Release queue";e.ReleaseLogsAutoRedeployTriggerHeader="Auto-redeploy trigger";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("ReleaseManagement/Core/Contracts",["require","exports","VSS/Common/Contracts/FormInput"],function(n,t,i){"use strict";var r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii;Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.YamlFileSourceTypes=t.VariableGroupActionFilter=t.TaskStatus=t.SingleReleaseExpands=t.SenderType=t.ScheduleDays=t.ReleaseTriggerType=t.ReleaseStatus=t.ReleaseReason=t.ReleaseQueryOrder=t.ReleaseExpands=t.ReleaseEnvironmentExpands=t.ReleaseDefinitionSource=t.ReleaseDefinitionQueryOrder=t.ReleaseDefinitionExpands=t.PullRequestSystemType=t.PropertySelectorType=t.PipelineProcessTypes=t.ParallelExecutionTypes=t.ManualInterventionStatus=t.MailSectionType=t.IssueSource=t.GateStatus=t.FolderPathQueryOrder=t.EnvironmentTriggerType=t.EnvironmentStatus=t.DeployPhaseTypes=t.DeployPhaseStatus=t.DeploymentStatus=t.DeploymentsQueryType=t.DeploymentReason=t.DeploymentOperationStatus=t.DeploymentExpands=t.DeploymentAuthorizationOwner=t.ConditionType=t.AuthorizationHeaderFor=t.AuditAction=t.ApprovalType=t.ApprovalStatus=t.ApprovalFilters=t.ApprovalExecutionOrder=t.AgentArtifactType=void 0,function(n){n[n.XamlBuild=0]="XamlBuild";n[n.Build=1]="Build";n[n.Jenkins=2]="Jenkins";n[n.FileShare=3]="FileShare";n[n.Nuget=4]="Nuget";n[n.TfsOnPrem=5]="TfsOnPrem";n[n.GitHub=6]="GitHub";n[n.TFGit=7]="TFGit";n[n.ExternalTfsBuild=8]="ExternalTfsBuild";n[n.Custom=9]="Custom";n[n.Tfvc=10]="Tfvc"}(r=t.AgentArtifactType||(t.AgentArtifactType={})),function(n){n[n.BeforeGates=1]="BeforeGates";n[n.AfterSuccessfulGates=2]="AfterSuccessfulGates";n[n.AfterGatesAlways=4]="AfterGatesAlways"}(u=t.ApprovalExecutionOrder||(t.ApprovalExecutionOrder={})),function(n){n[n.None=0]="None";n[n.ManualApprovals=1]="ManualApprovals";n[n.AutomatedApprovals=2]="AutomatedApprovals";n[n.ApprovalSnapshots=4]="ApprovalSnapshots";n[n.All=7]="All"}(f=t.ApprovalFilters||(t.ApprovalFilters={})),function(n){n[n.Undefined=0]="Undefined";n[n.Pending=1]="Pending";n[n.Approved=2]="Approved";n[n.Rejected=4]="Rejected";n[n.Reassigned=6]="Reassigned";n[n.Canceled=7]="Canceled";n[n.Skipped=8]="Skipped"}(e=t.ApprovalStatus||(t.ApprovalStatus={})),function(n){n[n.Undefined=0]="Undefined";n[n.PreDeploy=1]="PreDeploy";n[n.PostDeploy=2]="PostDeploy";n[n.All=3]="All"}(o=t.ApprovalType||(t.ApprovalType={})),function(n){n[n.Add=1]="Add";n[n.Update=2]="Update";n[n.Delete=3]="Delete";n[n.Undelete=4]="Undelete"}(s=t.AuditAction||(t.AuditAction={})),function(n){n[n.RevalidateApproverIdentity=0]="RevalidateApproverIdentity";n[n.OnBehalfOf=1]="OnBehalfOf"}(h=t.AuthorizationHeaderFor||(t.AuthorizationHeaderFor={})),function(n){n[n.Undefined=0]="Undefined";n[n.Event=1]="Event";n[n.EnvironmentState=2]="EnvironmentState";n[n.Artifact=4]="Artifact"}(c=t.ConditionType||(t.ConditionType={})),function(n){n[n.Automatic=0]="Automatic";n[n.DeploymentSubmitter=1]="DeploymentSubmitter";n[n.FirstPreDeploymentApprover=2]="FirstPreDeploymentApprover"}(l=t.DeploymentAuthorizationOwner||(t.DeploymentAuthorizationOwner={})),function(n){n[n.All=0]="All";n[n.DeploymentOnly=1]="DeploymentOnly";n[n.Approvals=2]="Approvals";n[n.Artifacts=4]="Artifacts"}(a=t.DeploymentExpands||(t.DeploymentExpands={})),function(n){n[n.Undefined=0]="Undefined";n[n.Queued=1]="Queued";n[n.Scheduled=2]="Scheduled";n[n.Pending=4]="Pending";n[n.Approved=8]="Approved";n[n.Rejected=16]="Rejected";n[n.Deferred=32]="Deferred";n[n.QueuedForAgent=64]="QueuedForAgent";n[n.PhaseInProgress=128]="PhaseInProgress";n[n.PhaseSucceeded=256]="PhaseSucceeded";n[n.PhasePartiallySucceeded=512]="PhasePartiallySucceeded";n[n.PhaseFailed=1024]="PhaseFailed";n[n.Canceled=2048]="Canceled";n[n.PhaseCanceled=4096]="PhaseCanceled";n[n.ManualInterventionPending=8192]="ManualInterventionPending";n[n.QueuedForPipeline=16384]="QueuedForPipeline";n[n.Cancelling=32768]="Cancelling";n[n.EvaluatingGates=65536]="EvaluatingGates";n[n.GateFailed=131072]="GateFailed";n[n.All=258047]="All"}(v=t.DeploymentOperationStatus||(t.DeploymentOperationStatus={})),function(n){n[n.None=0]="None";n[n.Manual=1]="Manual";n[n.Automated=2]="Automated";n[n.Scheduled=4]="Scheduled";n[n.RedeployTrigger=8]="RedeployTrigger"}(y=t.DeploymentReason||(t.DeploymentReason={})),function(n){n[n.Regular=1]="Regular";n[n.FailingSince=2]="FailingSince"}(p=t.DeploymentsQueryType||(t.DeploymentsQueryType={})),function(n){n[n.Undefined=0]="Undefined";n[n.NotDeployed=1]="NotDeployed";n[n.InProgress=2]="InProgress";n[n.Succeeded=4]="Succeeded";n[n.PartiallySucceeded=8]="PartiallySucceeded";n[n.Failed=16]="Failed";n[n.All=31]="All"}(w=t.DeploymentStatus||(t.DeploymentStatus={})),function(n){n[n.Undefined=0]="Undefined";n[n.NotStarted=1]="NotStarted";n[n.InProgress=2]="InProgress";n[n.PartiallySucceeded=4]="PartiallySucceeded";n[n.Succeeded=8]="Succeeded";n[n.Failed=16]="Failed";n[n.Canceled=32]="Canceled";n[n.Skipped=64]="Skipped";n[n.Cancelling=128]="Cancelling"}(b=t.DeployPhaseStatus||(t.DeployPhaseStatus={})),function(n){n[n.Undefined=0]="Undefined";n[n.AgentBasedDeployment=1]="AgentBasedDeployment";n[n.RunOnServer=2]="RunOnServer";n[n.MachineGroupBasedDeployment=4]="MachineGroupBasedDeployment";n[n.DeploymentGates=8]="DeploymentGates"}(k=t.DeployPhaseTypes||(t.DeployPhaseTypes={})),function(n){n[n.Undefined=0]="Undefined";n[n.NotStarted=1]="NotStarted";n[n.InProgress=2]="InProgress";n[n.Succeeded=4]="Succeeded";n[n.Canceled=8]="Canceled";n[n.Rejected=16]="Rejected";n[n.Queued=32]="Queued";n[n.Scheduled=64]="Scheduled";n[n.PartiallySucceeded=128]="PartiallySucceeded"}(d=t.EnvironmentStatus||(t.EnvironmentStatus={})),function(n){n[n.Undefined=0]="Undefined";n[n.DeploymentGroupRedeploy=1]="DeploymentGroupRedeploy";n[n.RollbackRedeploy=2]="RollbackRedeploy"}(g=t.EnvironmentTriggerType||(t.EnvironmentTriggerType={})),function(n){n[n.None=0]="None";n[n.Ascending=1]="Ascending";n[n.Descending=2]="Descending"}(nt=t.FolderPathQueryOrder||(t.FolderPathQueryOrder={})),function(n){n[n.None=0]="None";n[n.Pending=1]="Pending";n[n.InProgress=2]="InProgress";n[n.Succeeded=4]="Succeeded";n[n.Failed=8]="Failed";n[n.Canceled=16]="Canceled"}(tt=t.GateStatus||(t.GateStatus={})),function(n){n[n.None=0]="None";n[n.User=1]="User";n[n.System=2]="System"}(it=t.IssueSource||(t.IssueSource={})),function(n){n[n.Details=0]="Details";n[n.Environments=1]="Environments";n[n.Issues=2]="Issues";n[n.TestResults=3]="TestResults";n[n.WorkItems=4]="WorkItems";n[n.ReleaseInfo=5]="ReleaseInfo"}(rt=t.MailSectionType||(t.MailSectionType={})),function(n){n[n.Unknown=0]="Unknown";n[n.Pending=1]="Pending";n[n.Rejected=2]="Rejected";n[n.Approved=4]="Approved";n[n.Canceled=8]="Canceled"}(ut=t.ManualInterventionStatus||(t.ManualInterventionStatus={})),function(n){n[n.None=0]="None";n[n.MultiConfiguration=1]="MultiConfiguration";n[n.MultiMachine=2]="MultiMachine"}(ft=t.ParallelExecutionTypes||(t.ParallelExecutionTypes={})),function(n){n[n.Designer=1]="Designer";n[n.Yaml=2]="Yaml"}(et=t.PipelineProcessTypes||(t.PipelineProcessTypes={})),function(n){n[n.Inclusion=0]="Inclusion";n[n.Exclusion=1]="Exclusion"}(ot=t.PropertySelectorType||(t.PropertySelectorType={})),function(n){n[n.None=0]="None";n[n.TfsGit=1]="TfsGit";n[n.GitHub=2]="GitHub"}(st=t.PullRequestSystemType||(t.PullRequestSystemType={})),function(n){n[n.None=0]="None";n[n.Environments=2]="Environments";n[n.Artifacts=4]="Artifacts";n[n.Triggers=8]="Triggers";n[n.Variables=16]="Variables";n[n.Tags=32]="Tags";n[n.LastRelease=64]="LastRelease"}(ht=t.ReleaseDefinitionExpands||(t.ReleaseDefinitionExpands={})),function(n){n[n.IdAscending=0]="IdAscending";n[n.IdDescending=1]="IdDescending";n[n.NameAscending=2]="NameAscending";n[n.NameDescending=3]="NameDescending"}(ct=t.ReleaseDefinitionQueryOrder||(t.ReleaseDefinitionQueryOrder={})),function(n){n[n.Undefined=0]="Undefined";n[n.RestApi=1]="RestApi";n[n.UserInterface=2]="UserInterface";n[n.Ibiza=4]="Ibiza";n[n.PortalExtensionApi=8]="PortalExtensionApi"}(lt=t.ReleaseDefinitionSource||(t.ReleaseDefinitionSource={})),function(n){n[n.None=0]="None";n[n.Tasks=1]="Tasks"}(at=t.ReleaseEnvironmentExpands||(t.ReleaseEnvironmentExpands={})),function(n){n[n.None=0]="None";n[n.Environments=2]="Environments";n[n.Artifacts=4]="Artifacts";n[n.Approvals=8]="Approvals";n[n.ManualInterventions=16]="ManualInterventions";n[n.Variables=32]="Variables";n[n.Tags=64]="Tags"}(vt=t.ReleaseExpands||(t.ReleaseExpands={})),function(n){n[n.Descending=0]="Descending";n[n.Ascending=1]="Ascending"}(yt=t.ReleaseQueryOrder||(t.ReleaseQueryOrder={})),function(n){n[n.None=0]="None";n[n.Manual=1]="Manual";n[n.ContinuousIntegration=2]="ContinuousIntegration";n[n.Schedule=3]="Schedule";n[n.PullRequest=4]="PullRequest"}(pt=t.ReleaseReason||(t.ReleaseReason={})),function(n){n[n.Undefined=0]="Undefined";n[n.Draft=1]="Draft";n[n.Active=2]="Active";n[n.Abandoned=4]="Abandoned"}(wt=t.ReleaseStatus||(t.ReleaseStatus={})),function(n){n[n.Undefined=0]="Undefined";n[n.ArtifactSource=1]="ArtifactSource";n[n.Schedule=2]="Schedule";n[n.SourceRepo=3]="SourceRepo";n[n.ContainerImage=4]="ContainerImage";n[n.Package=5]="Package";n[n.PullRequest=6]="PullRequest"}(bt=t.ReleaseTriggerType||(t.ReleaseTriggerType={})),function(n){n[n.None=0]="None";n[n.Monday=1]="Monday";n[n.Tuesday=2]="Tuesday";n[n.Wednesday=4]="Wednesday";n[n.Thursday=8]="Thursday";n[n.Friday=16]="Friday";n[n.Saturday=32]="Saturday";n[n.Sunday=64]="Sunday";n[n.All=127]="All"}(kt=t.ScheduleDays||(t.ScheduleDays={})),function(n){n[n.ServiceAccount=1]="ServiceAccount";n[n.RequestingUser=2]="RequestingUser"}(dt=t.SenderType||(t.SenderType={})),function(n){n[n.None=0]="None";n[n.Tasks=1]="Tasks"}(gt=t.SingleReleaseExpands||(t.SingleReleaseExpands={})),function(n){n[n.Unknown=0]="Unknown";n[n.Pending=1]="Pending";n[n.InProgress=2]="InProgress";n[n.Success=3]="Success";n[n.Failure=4]="Failure";n[n.Canceled=5]="Canceled";n[n.Skipped=6]="Skipped";n[n.Succeeded=7]="Succeeded";n[n.Failed=8]="Failed";n[n.PartiallySucceeded=9]="PartiallySucceeded"}(ni=t.TaskStatus||(t.TaskStatus={})),function(n){n[n.None=0]="None";n[n.Manage=2]="Manage";n[n.Use=16]="Use"}(ti=t.VariableGroupActionFilter||(t.VariableGroupActionFilter={})),function(n){n[n.None=0]="None";n[n.TFSGit=1]="TFSGit"}(ii=t.YamlFileSourceTypes||(t.YamlFileSourceTypes={}));t.TypeInfo={AgentArtifactDefinition:{},AgentArtifactType:{enumValues:{xamlBuild:0,build:1,jenkins:2,fileShare:3,nuget:4,tfsOnPrem:5,gitHub:6,tfGit:7,externalTfsBuild:8,custom:9,tfvc:10}},AgentBasedDeployPhase:{},AgentDeploymentInput:{},ApprovalExecutionOrder:{enumValues:{beforeGates:1,afterSuccessfulGates:2,afterGatesAlways:4}},ApprovalFilters:{enumValues:{none:0,manualApprovals:1,automatedApprovals:2,approvalSnapshots:4,all:7}},ApprovalOptions:{},ApprovalStatus:{enumValues:{undefined:0,pending:1,approved:2,rejected:4,reassigned:6,canceled:7,skipped:8}},ApprovalType:{enumValues:{undefined:0,preDeploy:1,postDeploy:2,all:3}},ArtifactContributionDefinition:{},ArtifactMetadata:{},ArtifactSourceTrigger:{},ArtifactTypeDefinition:{},ArtifactVersion:{},ArtifactVersionQueryResult:{},AuditAction:{enumValues:{add:1,update:2,"delete":3,undelete:4}},AuthorizationHeaderFor:{enumValues:{revalidateApproverIdentity:0,onBehalfOf:1}},AutoTriggerIssue:{},AzureKeyVaultVariableGroupProviderData:{},AzureKeyVaultVariableValue:{},BuildVersion:{},Change:{},CodeRepositoryReference:{},Condition:{},ConditionType:{enumValues:{undefined:0,event:1,environmentState:2,artifact:4}},ContainerImageTrigger:{},ContinuousDeploymentTriggerIssue:{},Deployment:{},DeploymentApprovalCompletedEvent:{},DeploymentApprovalPendingEvent:{},DeploymentAttempt:{},DeploymentAuthorizationInfo:{},DeploymentAuthorizationOwner:{enumValues:{automatic:0,deploymentSubmitter:1,firstPreDeploymentApprover:2}},DeploymentCompletedEvent:{},DeploymentExpands:{enumValues:{all:0,deploymentOnly:1,approvals:2,artifacts:4}},DeploymentJob:{},DeploymentManualInterventionPendingEvent:{},DeploymentOperationStatus:{enumValues:{undefined:0,queued:1,scheduled:2,pending:4,approved:8,rejected:16,deferred:32,queuedForAgent:64,phaseInProgress:128,phaseSucceeded:256,phasePartiallySucceeded:512,phaseFailed:1024,canceled:2048,phaseCanceled:4096,manualInterventionPending:8192,queuedForPipeline:16384,cancelling:32768,evaluatingGates:65536,gateFailed:131072,all:258047}},DeploymentQueryParameters:{},DeploymentReason:{enumValues:{none:0,manual:1,automated:2,scheduled:4,redeployTrigger:8}},DeploymentsQueryType:{enumValues:{regular:1,failingSince:2}},DeploymentStartedEvent:{},DeploymentStatus:{enumValues:{undefined:0,notDeployed:1,inProgress:2,succeeded:4,partiallySucceeded:8,failed:16,all:31}},DeployPhase:{},DeployPhaseStatus:{enumValues:{undefined:0,notStarted:1,inProgress:2,partiallySucceeded:4,succeeded:8,failed:16,canceled:32,skipped:64,cancelling:128}},DeployPhaseTypes:{enumValues:{undefined:0,agentBasedDeployment:1,runOnServer:2,machineGroupBasedDeployment:4,deploymentGates:8}},EnvironmentStatus:{enumValues:{undefined:0,notStarted:1,inProgress:2,succeeded:4,canceled:8,rejected:16,queued:32,scheduled:64,partiallySucceeded:128}},EnvironmentTrigger:{},EnvironmentTriggerType:{enumValues:{undefined:0,deploymentGroupRedeploy:1,rollbackRedeploy:2}},ExecutionInput:{},Folder:{},FolderPathQueryOrder:{enumValues:{none:0,ascending:1,descending:2}},GatesDeployPhase:{},GateStatus:{enumValues:{none:0,pending:1,inProgress:2,succeeded:4,failed:8,canceled:16}},IgnoredGate:{},IssueSource:{enumValues:{none:0,user:1,system:2}},MachineGroupBasedDeployPhase:{},MailMessage:{},MailSectionType:{enumValues:{details:0,environments:1,issues:2,testResults:3,workItems:4,releaseInfo:5}},ManualIntervention:{},ManualInterventionStatus:{enumValues:{unknown:0,pending:1,rejected:2,approved:4,canceled:8}},ManualInterventionUpdateMetadata:{},MultiConfigInput:{},MultiMachineInput:{},PackageTrigger:{},ParallelExecutionInputBase:{},ParallelExecutionTypes:{enumValues:{none:0,multiConfiguration:1,multiMachine:2}},PipelineProcess:{},PipelineProcessTypes:{enumValues:{designer:1,yaml:2}},PropertySelector:{},PropertySelectorType:{enumValues:{inclusion:0,exclusion:1}},PullRequestConfiguration:{},PullRequestSystemType:{enumValues:{none:0,tfsGit:1,gitHub:2}},PullRequestTrigger:{},Release:{},ReleaseAbandonedEvent:{},ReleaseApproval:{},ReleaseApprovalHistory:{},ReleaseApprovalPendingEvent:{},ReleaseCondition:{},ReleaseCreatedEvent:{},ReleaseDefinition:{},ReleaseDefinitionApprovals:{},ReleaseDefinitionEnvironment:{},ReleaseDefinitionEnvironmentTemplate:{},ReleaseDefinitionExpands:{enumValues:{none:0,environments:2,artifacts:4,triggers:8,variables:16,tags:32,lastRelease:64}},ReleaseDefinitionQueryOrder:{enumValues:{idAscending:0,idDescending:1,nameAscending:2,nameDescending:3}},ReleaseDefinitionRevision:{},ReleaseDefinitionSource:{enumValues:{undefined:0,restApi:1,userInterface:2,ibiza:4,portalExtensionApi:8}},ReleaseDefinitionSummary:{},ReleaseDeployPhase:{},ReleaseEnvironment:{},ReleaseEnvironmentCompletedEvent:{},ReleaseEnvironmentExpands:{enumValues:{none:0,tasks:1}},ReleaseEnvironmentStatusUpdatedEvent:{},ReleaseEnvironmentUpdateMetadata:{},ReleaseExpands:{enumValues:{none:0,environments:2,artifacts:4,approvals:8,manualInterventions:16,variables:32,tags:64}},ReleaseGates:{},ReleaseGatesPhase:{},ReleaseNotCreatedEvent:{},ReleaseQueryOrder:{enumValues:{descending:0,ascending:1}},ReleaseReason:{enumValues:{none:0,manual:1,continuousIntegration:2,schedule:3,pullRequest:4}},ReleaseReference:{},ReleaseRevision:{},ReleaseSchedule:{},ReleaseStartMetadata:{},ReleaseStatus:{enumValues:{undefined:0,draft:1,active:2,abandoned:4}},ReleaseTask:{},ReleaseTaskAttachment:{},ReleaseTasksUpdatedEvent:{},ReleaseTriggerBase:{},ReleaseTriggerType:{enumValues:{undefined:0,artifactSource:1,schedule:2,sourceRepo:3,containerImage:4,"package":5,pullRequest:6}},ReleaseUpdatedEvent:{},ReleaseUpdateMetadata:{},RunOnServerDeployPhase:{},ScheduleDays:{enumValues:{none:0,monday:1,tuesday:2,wednesday:4,thursday:8,friday:16,saturday:32,sunday:64,all:127}},ScheduledReleaseTrigger:{},SenderType:{enumValues:{serviceAccount:1,requestingUser:2}},ServerDeploymentInput:{},SingleReleaseExpands:{enumValues:{none:0,tasks:1}},SourcePullRequestVersion:{},SourceRepoTrigger:{},SummaryMailSection:{},TaskStatus:{enumValues:{unknown:0,pending:1,inProgress:2,success:3,failure:4,canceled:5,skipped:6,succeeded:7,failed:8,partiallySucceeded:9}},VariableGroup:{},VariableGroupActionFilter:{enumValues:{none:0,manage:2,use:16}},YamlFileSource:{},YamlFileSourceTypes:{enumValues:{none:0,tfsGit:1}},YamlPipelineProcess:{}};t.TypeInfo.AgentArtifactDefinition.fields={artifactType:{enumType:t.TypeInfo.AgentArtifactType}};t.TypeInfo.AgentBasedDeployPhase.fields={deploymentInput:{typeInfo:t.TypeInfo.AgentDeploymentInput},phaseType:{enumType:t.TypeInfo.DeployPhaseTypes}};t.TypeInfo.AgentDeploymentInput.fields={parallelExecution:{typeInfo:t.TypeInfo.ExecutionInput}};t.TypeInfo.ApprovalOptions.fields={executionOrder:{enumType:t.TypeInfo.ApprovalExecutionOrder}};t.TypeInfo.ArtifactContributionDefinition.fields={inputDescriptors:{isArray:!0,typeInfo:i.TypeInfo.InputDescriptor}};t.TypeInfo.ArtifactMetadata.fields={instanceReference:{typeInfo:t.TypeInfo.BuildVersion}};t.TypeInfo.ArtifactSourceTrigger.fields={triggerType:{enumType:t.TypeInfo.ReleaseTriggerType}};t.TypeInfo.ArtifactTypeDefinition.fields={inputDescriptors:{isArray:!0,typeInfo:i.TypeInfo.InputDescriptor}};t.TypeInfo.ArtifactVersion.fields={defaultVersion:{typeInfo:t.TypeInfo.BuildVersion},versions:{isArray:!0,typeInfo:t.TypeInfo.BuildVersion}};t.TypeInfo.ArtifactVersionQueryResult.fields={artifactVersions:{isArray:!0,typeInfo:t.TypeInfo.ArtifactVersion}};t.TypeInfo.AutoTriggerIssue.fields={issueSource:{enumType:t.TypeInfo.IssueSource},releaseTriggerType:{enumType:t.TypeInfo.ReleaseTriggerType}};t.TypeInfo.AzureKeyVaultVariableGroupProviderData.fields={lastRefreshedOn:{isDate:!0}};t.TypeInfo.AzureKeyVaultVariableValue.fields={expires:{isDate:!0}};t.TypeInfo.BuildVersion.fields={sourcePullRequestVersion:{typeInfo:t.TypeInfo.SourcePullRequestVersion}};t.TypeInfo.Change.fields={timestamp:{isDate:!0}};t.TypeInfo.CodeRepositoryReference.fields={systemType:{enumType:t.TypeInfo.PullRequestSystemType}};t.TypeInfo.Condition.fields={conditionType:{enumType:t.TypeInfo.ConditionType}};t.TypeInfo.ContainerImageTrigger.fields={triggerType:{enumType:t.TypeInfo.ReleaseTriggerType}};t.TypeInfo.ContinuousDeploymentTriggerIssue.fields={issueSource:{enumType:t.TypeInfo.IssueSource},releaseTriggerType:{enumType:t.TypeInfo.ReleaseTriggerType}};t.TypeInfo.Deployment.fields={completedOn:{isDate:!0},conditions:{isArray:!0,typeInfo:t.TypeInfo.Condition},deploymentStatus:{enumType:t.TypeInfo.DeploymentStatus},lastModifiedOn:{isDate:!0},operationStatus:{enumType:t.TypeInfo.DeploymentOperationStatus},postDeployApprovals:{isArray:!0,typeInfo:t.TypeInfo.ReleaseApproval},preDeployApprovals:{isArray:!0,typeInfo:t.TypeInfo.ReleaseApproval},queuedOn:{isDate:!0},reason:{enumType:t.TypeInfo.DeploymentReason},release:{typeInfo:t.TypeInfo.ReleaseReference},scheduledDeploymentTime:{isDate:!0},startedOn:{isDate:!0}};t.TypeInfo.DeploymentApprovalCompletedEvent.fields={approval:{typeInfo:t.TypeInfo.ReleaseApproval},release:{typeInfo:t.TypeInfo.Release}};t.TypeInfo.DeploymentApprovalPendingEvent.fields={approval:{typeInfo:t.TypeInfo.ReleaseApproval},approvalOptions:{typeInfo:t.TypeInfo.ApprovalOptions},completedApprovals:{isArray:!0,typeInfo:t.TypeInfo.ReleaseApproval},deployment:{typeInfo:t.TypeInfo.Deployment},pendingApprovals:{isArray:!0,typeInfo:t.TypeInfo.ReleaseApproval},release:{typeInfo:t.TypeInfo.Release}};t.TypeInfo.DeploymentAttempt.fields={job:{typeInfo:t.TypeInfo.ReleaseTask},lastModifiedOn:{isDate:!0},operationStatus:{enumType:t.TypeInfo.DeploymentOperationStatus},postDeploymentGates:{typeInfo:t.TypeInfo.ReleaseGates},preDeploymentGates:{typeInfo:t.TypeInfo.ReleaseGates},queuedOn:{isDate:!0},reason:{enumType:t.TypeInfo.DeploymentReason},releaseDeployPhases:{isArray:!0,typeInfo:t.TypeInfo.ReleaseDeployPhase},status:{enumType:t.TypeInfo.DeploymentStatus},tasks:{isArray:!0,typeInfo:t.TypeInfo.ReleaseTask}};t.TypeInfo.DeploymentAuthorizationInfo.fields={authorizationHeaderFor:{enumType:t.TypeInfo.AuthorizationHeaderFor}};t.TypeInfo.DeploymentCompletedEvent.fields={deployment:{typeInfo:t.TypeInfo.Deployment},environment:{typeInfo:t.TypeInfo.ReleaseEnvironment}};t.TypeInfo.DeploymentJob.fields={job:{typeInfo:t.TypeInfo.ReleaseTask},tasks:{isArray:!0,typeInfo:t.TypeInfo.ReleaseTask}};t.TypeInfo.DeploymentManualInterventionPendingEvent.fields={deployment:{typeInfo:t.TypeInfo.Deployment},manualIntervention:{typeInfo:t.TypeInfo.ManualIntervention},release:{typeInfo:t.TypeInfo.Release}};t.TypeInfo.DeploymentQueryParameters.fields={deploymentStatus:{enumType:t.TypeInfo.DeploymentStatus},expands:{enumType:t.TypeInfo.DeploymentExpands},maxModifiedTime:{isDate:!0},minModifiedTime:{isDate:!0},operationStatus:{enumType:t.TypeInfo.DeploymentOperationStatus},queryOrder:{enumType:t.TypeInfo.ReleaseQueryOrder},queryType:{enumType:t.TypeInfo.DeploymentsQueryType}};t.TypeInfo.DeploymentStartedEvent.fields={environment:{typeInfo:t.TypeInfo.ReleaseEnvironment},release:{typeInfo:t.TypeInfo.Release}};t.TypeInfo.DeployPhase.fields={phaseType:{enumType:t.TypeInfo.DeployPhaseTypes}};t.TypeInfo.EnvironmentTrigger.fields={triggerType:{enumType:t.TypeInfo.EnvironmentTriggerType}};t.TypeInfo.ExecutionInput.fields={parallelExecutionType:{enumType:t.TypeInfo.ParallelExecutionTypes}};t.TypeInfo.Folder.fields={createdOn:{isDate:!0},lastChangedDate:{isDate:!0}};t.TypeInfo.GatesDeployPhase.fields={phaseType:{enumType:t.TypeInfo.DeployPhaseTypes}};t.TypeInfo.IgnoredGate.fields={lastModifiedOn:{isDate:!0}};t.TypeInfo.MachineGroupBasedDeployPhase.fields={phaseType:{enumType:t.TypeInfo.DeployPhaseTypes}};t.TypeInfo.MailMessage.fields={replyBy:{isDate:!0},sections:{isArray:!0,enumType:t.TypeInfo.MailSectionType},senderType:{enumType:t.TypeInfo.SenderType}};t.TypeInfo.ManualIntervention.fields={createdOn:{isDate:!0},modifiedOn:{isDate:!0},status:{enumType:t.TypeInfo.ManualInterventionStatus}};t.TypeInfo.ManualInterventionUpdateMetadata.fields={status:{enumType:t.TypeInfo.ManualInterventionStatus}};t.TypeInfo.MultiConfigInput.fields={parallelExecutionType:{enumType:t.TypeInfo.ParallelExecutionTypes}};t.TypeInfo.MultiMachineInput.fields={parallelExecutionType:{enumType:t.TypeInfo.ParallelExecutionTypes}};t.TypeInfo.PackageTrigger.fields={triggerType:{enumType:t.TypeInfo.ReleaseTriggerType}};t.TypeInfo.ParallelExecutionInputBase.fields={parallelExecutionType:{enumType:t.TypeInfo.ParallelExecutionTypes}};t.TypeInfo.PipelineProcess.fields={type:{enumType:t.TypeInfo.PipelineProcessTypes}};t.TypeInfo.PropertySelector.fields={selectorType:{enumType:t.TypeInfo.PropertySelectorType}};t.TypeInfo.PullRequestConfiguration.fields={codeRepositoryReference:{typeInfo:t.TypeInfo.CodeRepositoryReference}};t.TypeInfo.PullRequestTrigger.fields={pullRequestConfiguration:{typeInfo:t.TypeInfo.PullRequestConfiguration},triggerType:{enumType:t.TypeInfo.ReleaseTriggerType}};t.TypeInfo.Release.fields={createdOn:{isDate:!0},environments:{isArray:!0,typeInfo:t.TypeInfo.ReleaseEnvironment},modifiedOn:{isDate:!0},reason:{enumType:t.TypeInfo.ReleaseReason},status:{enumType:t.TypeInfo.ReleaseStatus},variableGroups:{isArray:!0,typeInfo:t.TypeInfo.VariableGroup}};t.TypeInfo.ReleaseAbandonedEvent.fields={release:{typeInfo:t.TypeInfo.Release}};t.TypeInfo.ReleaseApproval.fields={approvalType:{enumType:t.TypeInfo.ApprovalType},createdOn:{isDate:!0},history:{isArray:!0,typeInfo:t.TypeInfo.ReleaseApprovalHistory},modifiedOn:{isDate:!0},status:{enumType:t.TypeInfo.ApprovalStatus}};t.TypeInfo.ReleaseApprovalHistory.fields={createdOn:{isDate:!0},modifiedOn:{isDate:!0}};t.TypeInfo.ReleaseApprovalPendingEvent.fields={approval:{typeInfo:t.TypeInfo.ReleaseApproval},approvalOptions:{typeInfo:t.TypeInfo.ApprovalOptions},completedApprovals:{isArray:!0,typeInfo:t.TypeInfo.ReleaseApproval},deployment:{typeInfo:t.TypeInfo.Deployment},environments:{isArray:!0,typeInfo:t.TypeInfo.ReleaseEnvironment},pendingApprovals:{isArray:!0,typeInfo:t.TypeInfo.ReleaseApproval}};t.TypeInfo.ReleaseCondition.fields={conditionType:{enumType:t.TypeInfo.ConditionType}};t.TypeInfo.ReleaseCreatedEvent.fields={release:{typeInfo:t.TypeInfo.Release}};t.TypeInfo.ReleaseDefinition.fields={createdOn:{isDate:!0},environments:{isArray:!0,typeInfo:t.TypeInfo.ReleaseDefinitionEnvironment},lastRelease:{typeInfo:t.TypeInfo.ReleaseReference},modifiedOn:{isDate:!0},pipelineProcess:{typeInfo:t.TypeInfo.PipelineProcess},source:{enumType:t.TypeInfo.ReleaseDefinitionSource},triggers:{isArray:!0,typeInfo:t.TypeInfo.ReleaseTriggerBase}};t.TypeInfo.ReleaseDefinitionApprovals.fields={approvalOptions:{typeInfo:t.TypeInfo.ApprovalOptions}};t.TypeInfo.ReleaseDefinitionEnvironment.fields={conditions:{isArray:!0,typeInfo:t.TypeInfo.Condition},deployPhases:{isArray:!0,typeInfo:t.TypeInfo.DeployPhase},environmentTriggers:{isArray:!0,typeInfo:t.TypeInfo.EnvironmentTrigger},postDeployApprovals:{typeInfo:t.TypeInfo.ReleaseDefinitionApprovals},preDeployApprovals:{typeInfo:t.TypeInfo.ReleaseDefinitionApprovals},schedules:{isArray:!0,typeInfo:t.TypeInfo.ReleaseSchedule}};t.TypeInfo.ReleaseDefinitionEnvironmentTemplate.fields={environment:{typeInfo:t.TypeInfo.ReleaseDefinitionEnvironment}};t.TypeInfo.ReleaseDefinitionRevision.fields={changedDate:{isDate:!0},changeType:{enumType:t.TypeInfo.AuditAction}};t.TypeInfo.ReleaseDefinitionSummary.fields={releases:{isArray:!0,typeInfo:t.TypeInfo.Release}};t.TypeInfo.ReleaseDeployPhase.fields={deploymentJobs:{isArray:!0,typeInfo:t.TypeInfo.DeploymentJob},manualInterventions:{isArray:!0,typeInfo:t.TypeInfo.ManualIntervention},phaseType:{enumType:t.TypeInfo.DeployPhaseTypes},startedOn:{isDate:!0},status:{enumType:t.TypeInfo.DeployPhaseStatus}};t.TypeInfo.ReleaseEnvironment.fields={conditions:{isArray:!0,typeInfo:t.TypeInfo.ReleaseCondition},createdOn:{isDate:!0},deployPhasesSnapshot:{isArray:!0,typeInfo:t.TypeInfo.DeployPhase},deploySteps:{isArray:!0,typeInfo:t.TypeInfo.DeploymentAttempt},modifiedOn:{isDate:!0},nextScheduledUtcTime:{isDate:!0},postApprovalsSnapshot:{typeInfo:t.TypeInfo.ReleaseDefinitionApprovals},postDeployApprovals:{isArray:!0,typeInfo:t.TypeInfo.ReleaseApproval},preApprovalsSnapshot:{typeInfo:t.TypeInfo.ReleaseDefinitionApprovals},preDeployApprovals:{isArray:!0,typeInfo:t.TypeInfo.ReleaseApproval},scheduledDeploymentTime:{isDate:!0},schedules:{isArray:!0,typeInfo:t.TypeInfo.ReleaseSchedule},status:{enumType:t.TypeInfo.EnvironmentStatus},variableGroups:{isArray:!0,typeInfo:t.TypeInfo.VariableGroup}};t.TypeInfo.ReleaseEnvironmentCompletedEvent.fields={environment:{typeInfo:t.TypeInfo.ReleaseEnvironment},reason:{enumType:t.TypeInfo.DeploymentReason}};t.TypeInfo.ReleaseEnvironmentStatusUpdatedEvent.fields={environmentStatus:{enumType:t.TypeInfo.EnvironmentStatus},latestDeploymentOperationStatus:{enumType:t.TypeInfo.DeploymentOperationStatus},latestDeploymentStatus:{enumType:t.TypeInfo.DeploymentStatus}};t.TypeInfo.ReleaseEnvironmentUpdateMetadata.fields={scheduledDeploymentTime:{isDate:!0},status:{enumType:t.TypeInfo.EnvironmentStatus}};t.TypeInfo.ReleaseGates.fields={deploymentJobs:{isArray:!0,typeInfo:t.TypeInfo.DeploymentJob},ignoredGates:{isArray:!0,typeInfo:t.TypeInfo.IgnoredGate},lastModifiedOn:{isDate:!0},stabilizationCompletedOn:{isDate:!0},startedOn:{isDate:!0},status:{enumType:t.TypeInfo.GateStatus},succeedingSince:{isDate:!0}};t.TypeInfo.ReleaseGatesPhase.fields={deploymentJobs:{isArray:!0,typeInfo:t.TypeInfo.DeploymentJob},ignoredGates:{isArray:!0,typeInfo:t.TypeInfo.IgnoredGate},manualInterventions:{isArray:!0,typeInfo:t.TypeInfo.ManualIntervention},phaseType:{enumType:t.TypeInfo.DeployPhaseTypes},stabilizationCompletedOn:{isDate:!0},startedOn:{isDate:!0},status:{enumType:t.TypeInfo.DeployPhaseStatus},succeedingSince:{isDate:!0}};t.TypeInfo.ReleaseNotCreatedEvent.fields={releaseReason:{enumType:t.TypeInfo.ReleaseReason}};t.TypeInfo.ReleaseReference.fields={createdOn:{isDate:!0},reason:{enumType:t.TypeInfo.ReleaseReason}};t.TypeInfo.ReleaseRevision.fields={changedDate:{isDate:!0}};t.TypeInfo.ReleaseSchedule.fields={daysToRelease:{enumType:t.TypeInfo.ScheduleDays}};t.TypeInfo.ReleaseStartMetadata.fields={artifacts:{isArray:!0,typeInfo:t.TypeInfo.ArtifactMetadata},reason:{enumType:t.TypeInfo.ReleaseReason}};t.TypeInfo.ReleaseTask.fields={dateEnded:{isDate:!0},dateStarted:{isDate:!0},finishTime:{isDate:!0},startTime:{isDate:!0},status:{enumType:t.TypeInfo.TaskStatus}};t.TypeInfo.ReleaseTaskAttachment.fields={createdOn:{isDate:!0},modifiedOn:{isDate:!0}};t.TypeInfo.ReleaseTasksUpdatedEvent.fields={job:{typeInfo:t.TypeInfo.ReleaseTask},tasks:{isArray:!0,typeInfo:t.TypeInfo.ReleaseTask}};t.TypeInfo.ReleaseTriggerBase.fields={triggerType:{enumType:t.TypeInfo.ReleaseTriggerType}};t.TypeInfo.ReleaseUpdatedEvent.fields={release:{typeInfo:t.TypeInfo.Release}};t.TypeInfo.ReleaseUpdateMetadata.fields={status:{enumType:t.TypeInfo.ReleaseStatus}};t.TypeInfo.RunOnServerDeployPhase.fields={deploymentInput:{typeInfo:t.TypeInfo.ServerDeploymentInput},phaseType:{enumType:t.TypeInfo.DeployPhaseTypes}};t.TypeInfo.ScheduledReleaseTrigger.fields={schedule:{typeInfo:t.TypeInfo.ReleaseSchedule},triggerType:{enumType:t.TypeInfo.ReleaseTriggerType}};t.TypeInfo.ServerDeploymentInput.fields={parallelExecution:{typeInfo:t.TypeInfo.ExecutionInput}};t.TypeInfo.SourcePullRequestVersion.fields={pullRequestMergedAt:{isDate:!0}};t.TypeInfo.SourceRepoTrigger.fields={triggerType:{enumType:t.TypeInfo.ReleaseTriggerType}};t.TypeInfo.SummaryMailSection.fields={sectionType:{enumType:t.TypeInfo.MailSectionType}};t.TypeInfo.VariableGroup.fields={createdOn:{isDate:!0},modifiedOn:{isDate:!0}};t.TypeInfo.YamlFileSource.fields={type:{enumType:t.TypeInfo.YamlFileSourceTypes}};t.TypeInfo.YamlPipelineProcess.fields={fileSource:{typeInfo:t.TypeInfo.YamlFileSource},type:{enumType:t.TypeInfo.PipelineProcessTypes}}});

define("ReleaseManagement/Core/Constants",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g;Object.defineProperty(t,"__esModule",{value:!0});t.WellKnownReleaseVariables=t.WellKnownPullRequestVariables=t.WellKnownMetrics=t.WellKnownExtendedReleaseVariables=t.VariableGroupType=t.RunOptionsConstants=t.RedeployTriggerAction=t.RedeploymentDeploymentGroupTargetFilter=t.GateConstants=t.FavoritesScopeNames=t.FavoriteItemTypes=t.FavoriteItemNames=t.FavoriteItemKeys=t.DeploymentHealthOptionConstants=t.BuildVersionConstants=t.ArtifactTypes=t.ArtifactDownloadInputConstants=t.ArtifactDefinitionConstants=t.ApprovalOptions=void 0,function(n){n.ApprovalMinimumTimeoutInMinutes=0;n.ApprovalMaximumTimeoutInMinutes=525600}(i=t.ApprovalOptions||(t.ApprovalOptions={})),function(n){n.IsMultiDefinitionType="IsMultiDefinitionType";n.ProjectId="project";n.ConnectionId="connection";n.ConnectionName="ConnectionName";n.DefinitionId="definition";n.MultipleDefinitionsId="definitions";n.DefaultVersionTypeId="defaultVersionType";n.DefaultVersionBranchId="defaultVersionBranch";n.DefaultVersionTagsId="defaultVersionTags";n.DefaultVersionSpecificId="defaultVersionSpecific";n.HasCustomStorageArtifactsId="hasCustomStorageArtifacts";n.LatestType="latestType";n.LatestFromBranchType="latestFromBranchType";n.LatestWithBranchAndTagsType="latestWithBranchAndTagsType";n.LatestWithBuildDefinitionBranchAndTagsType="latestWithBuildDefinitionBranchAndTagsType";n.SpecificVersionType="specificVersionType";n.SelectDuringReleaseCreationType="selectDuringReleaseCreationType";n.RepositoryId="repository";n.RepositoryProvider="repository.provider";n.BranchId="branch";n.MappingsId="mappings";n.MappingTypeId="mappingType";n.ServerPathId="serverPath";n.LocalPathId="localPath";n.ArtifactId="artifacts";n.ItemPath="itemPath";n.Version="version";n.ArtifactSourceVersionUrl="artifactSourceVersionUrl";n.ArtifactSourceDefinitionUrl="artifactSourceDefinitionUrl";n.ArtifactItems="artifactItems";n.LabelSources="labelSources";n.LabelSourcesFormat="labelSourcesFormat";n.CheckoutSubmodules="checkoutSubmodules";n.CheckoutNestedSubmodules="checkoutNestedSubmodules";n.GitLfsSupport="gitLfsSupport";n.GitHubRepositoryId="gitHubRepositoryId";n.FetchDepth="fetchDepth";n.ReportBuildStatus="reportBuildStatus";n.ArtifactItemContent="artifactItemContent";n.BranchesId="branches";n.VisibleRule="visibleRule";n.DisableRule="disableRule";n.JenkinsJobTypeId="jenkinsJobType";n.Feed="feed";n.FeedView="view";n.PackageType="packageType";n.RegistryUrl="registryurl";n.IsTriggeringArtifact="IsTriggeringArtifact";n.ConnectedServiceId="connectedServiceId";n.IsSearchable="isSearchable";n.MultipleDefinitionIdsDelimiter=",";n.MultipleDefinitionsSourceIdDelimiter="$";n.IsXamlBuildArtifactType="IsXamlBuildArtifactType";n.WindowsPatternSuffix="/**";n.LinuxPatternSuffix="**"}(r=t.ArtifactDefinitionConstants||(t.ArtifactDefinitionConstants={})),function(n){n.All="All";n.Selective="Selective";n.Skip="Skip"}(u=t.ArtifactDownloadInputConstants||(t.ArtifactDownloadInputConstants={})),function(n){n.BuildArtifactType="Build";n.GitArtifactType="Git";n.GitHubArtifactType="GitHub";n.GitHubReleaseArtifactType="GitHubRelease";n.JenkinsArtifactType="Jenkins";n.TfvcArtifactType="TFVC";n.CircleCIArtifactType="CircleCI";n.NugetArtifactType="Nuget";n.TfsOnPremArtifactType="Team Build (external)";n.ExternalGitArtifactType="ExternalGit";n.ExternalTfsBuildArtifactType="ExternalTFSBuild";n.SvnArtifactType="Svn";n.ExternalTfsXamlBuildArtifactType="ExternalTfsXamlBuild";n.PackageManagementArtifactType="PackageManagement";n.DockerHubArtifactType="DockerHub";n.AzureContainerRepositoryArtifactType="AzureContainerRepository";n.GitHubEnterpriseArtifactType="GitHubEnterprise"}(f=t.ArtifactTypes||(t.ArtifactTypes={})),function(n){n.IsMultiDefinitionTypeKey="isMultiDefinitionType";n.DefinitionIdKey="definitionId";n.DefinitionNameKey="definitionName";n.SourceBranchKey="branch";n.SourceVersionKey="sourceVersion";n.RepositoryIdKey="repositoryId";n.RepositoryTypeKey="repositoryType";n.CommitMessageKey="commitMessage";n.PullRequestIdKey="pullRequestId";n.PullRequestIterationIdKey="pullRequestIterationId";n.PullRequestTargetBranchKey="pullRequestTargetBranch";n.PullRequestSourceBranchKey="pullRequestSourceBranch";n.PullRequestSourceBranchCommitIdKey="pullRequestSourceBranchCommitId";n.PullRequestMergedAtKey="pullRequestMergedAt"}(e=t.BuildVersionConstants||(t.BuildVersionConstants={})),function(n){n.AllTargetsInParallel="AllTargetsInParallel";n.HalfOfTargetsInParallel="HalfOfTargetsInParallel";n.QuarterOfTargetsInParallel="QuarterOfTargetsInParallel";n.OneTargetAtATime="OneTargetAtATime";n.Custom="Custom"}(o=t.DeploymentHealthOptionConstants||(t.DeploymentHealthOptionConstants={})),function(n){n.ReleaseDefinitionId="releaseDefinitionId";n.RestEndpointUrl="restEndpointUrl";n.WebEndpointUrl="webEndpointUrl"}(s=t.FavoriteItemKeys||(t.FavoriteItemKeys={})),function(n){n.ReleaseDefinitionItemName="Release.ReleaseDefinition"}(h=t.FavoriteItemNames||(t.FavoriteItemNames={})),function(n){n.ReleaseDefinitionTypeName="Microsoft.VisualStudio.Services.ReleaseManagement.WebApi.ReleaseDefinition"}(c=t.FavoriteItemTypes||(t.FavoriteItemTypes={})),function(n){n.ReleaseDefinitionScopeName="Release.ReleaseDefinition"}(l=t.FavoritesScopeNames||(t.FavoritesScopeNames={})),function(n){n.MinimumSamplingIntervalInMinutes=5;n.DefaultSamplingIntervalInMinutes=15;n.MaximumSamplingIntervalInMinutes=1440;n.MinimumStabilizationTimeInMinutes=0;n.DefaultStabilizationTimeInMinutes=5;n.MaximumStabilizationTimeInMinutes=2880;n.MinimumTimeoutInMinutes=6;n.DefaultJobTimeoutInMinutes=1440;n.MaximumTimeoutInMinutes=21600;n.DefaultMinimumSuccessDurationInMinutes=0;n.MinimumSuccessDurationMinAllowedValueInMinutes=0;n.MinimumSuccessDurationMaxAllowedValueInMinutes=2880;n.MinimumSamplingIntervalInMinutesForLongerTimeout=30;n.CutoffTimeForLongerGatesTimeout=4320}(a=t.GateConstants||(t.GateConstants={})),function(n){n.None="None";n.FailedTargets="FailedTargets"}(v=t.RedeploymentDeploymentGroupTargetFilter||(t.RedeploymentDeploymentGroupTargetFilter={})),function(n){n.LatestSuccessfulDeployment="LatestSuccessfulDeployment";n.SpecificRelease="SpecificRelease"}(y=t.RedeployTriggerAction||(t.RedeployTriggerAction={})),function(n){n.EnvironmentOwnerEmailNotificationValueAlways="Always";n.EnvironmentOwnerEmailNotificationValueTypeOnlyOnFailure="OnlyOnFailure";n.EnvironmentOwnerEmailNotificationValueNever="Never";n.EnvironmentOwnerEmailNotificationTypeDefaultValue="OnlyOnFailure";n.ReleaseCreator="release.creator";n.EnvironmentOwner="release.environment.owner"}(p=t.RunOptionsConstants||(t.RunOptionsConstants={})),function(n){n.Vsts="Vsts";n.AzureKeyVault="AzureKeyVault"}(w=t.VariableGroupType||(t.VariableGroupType={})),function(n){n.ReleaseArtifacts="release.artifacts.";n.ReleaseEnvironments="release.environments."}(b=t.WellKnownExtendedReleaseVariables||(t.WellKnownExtendedReleaseVariables={})),function(n){n.SuccessfulDeployments="SuccessfulDeployments";n.FailedDeployments="FailedDeployments";n.PartiallySuccessfulDeployments="PartiallySuccessfulDeployments"}(k=t.WellKnownMetrics||(t.WellKnownMetrics={})),function(n){n.PullRequestSystemType="pullRequestSystemType";n.PullRequestId="pullRequestId";n.PullRequestIterationId="pullRequestIterationId";n.PullRequestSourceBranchCommitId="pullRequestSourceBranchCommitId";n.PullRequestTargetBranch="pullRequestTargetBranch";n.PullRequestSourceBranch="pullRequestSourceBranch";n.PullRequestMergeCommitId="pullRequestMergeCommitId";n.PullRequestMergedAt="pullRequestMergedAt";n.PullRequestStatusPolicyName="pullRequestStatusPolicyName";n.TfsGitRepositoryId="pullRequestRepositoryId";n.TfsGitProjectId="pullRequestProjectId";n.GitHubRepositoryName="pullRequestRepositoryName";n.GitHubConnection="pullRequestSystemConnectionId"}(d=t.WellKnownPullRequestVariables||(t.WellKnownPullRequestVariables={})),function(n){n.AgentReleaseDirectory="agent.releaseDirectory";n.DeploymentGroupId="agent.deploymentGroupId";n.EnableAccessTokenVariableName="system.enableAccessToken";n.HostType="system.hosttype";n.ArtifactsDirectory="system.artifactsDirectory";n.CollectionId="system.collectionId";n.TeamProjectId="system.teamProjectId";n.TeamProject="system.teamProject";n.TotalJobsInPhase="system.totalJobsInPhase";n.JobPositionInPhase="system.jobPositionInPhase";n.ParallelExecutionType="system.parallelexecutiontype";n.ReleaseId="release.releaseId";n.SkipArtifactsDownload="release.skipartifactsDownload";n.ReleaseName="release.releaseName";n.ReleaseDescription="release.releaseDescription";n.ReleaseDisableRobocopy="release.disableRobocopy";n.ReleaseDefinitionName="release.definitionName";n.ReleaseDefinitionId="release.definitionId";n.ReleaseDefinitionEnvironmentId="release.definitionEnvironmentId";n.DeploymentId="release.deploymentId";n.ReleaseUri="release.releaseUri";n.ReleaseWebUrl="release.releaseWebUrl";n.ReleaseEnvironmentUri="release.environmentUri";n.ReleaseEnvironmentId="release.environmentId";n.ReleaseEnvironmentName="release.environmentName";n.ReleaseDeployPhaseId="release.deployPhaseId";n.RequestorId="release.requestedFor";n.ReleaseRequestedForId="release.requestedForId";n.ReleaseRequestedForEmail="release.requestedForEmail";n.AttemptNumber="release.attemptNumber";n.ReleaseReason="release.reason";n.ReleasePrimaryArtifactSourceAlias="release.primaryArtifactSourceAlias";n.ReleaseTriggeringArtifactAlias="release.triggeringartifact.alias";n.ReleaseDeploymentRequestedForId="release.deployment.requestedForId";n.ReleaseDeploymentRequestedForEmail="release.deployment.requestedForEmail";n.ReleaseDeploymentRequestedFor="release.deployment.requestedFor";n.ReleaseDeploymentStartTime="release.deployment.startTime";n.ReleaseEnvironmentRedeploymentWithDeploymentGroupTargetFilter="release.redeployment.deploymentGroupTargetFilter"}(g=t.WellKnownReleaseVariables||(t.WellKnownReleaseVariables={}))});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Types",["require","exports","VSS/VSS","VSS/Utils/String","ReleaseManagement/Core/Contracts","ReleaseManagement/Core/Constants","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline"],function(n,t,i,r,u,f,e){var di,gi,h,c,l,a,v,nr,tr,ir,rr,ur,fr,er,or,sr,hr,cr,lr,ar,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri,ui,fi,vr,ei,oi,si,hi,ci,li,ai,vi,yi,pi,s,wi,bi,yr,pr,wr,br,kr,dr,gr,nu,tu,o,ki,iu;Object.defineProperty(t,"__esModule",{value:!0});t.BuildsHub=t.ReleasesHub=t.CommonSecurityConstants=t.ArtifactItemData=t.ArtifactItemDataKeys=t.WellKnownReleaseEnvironmentSummaryColumnTypes=t.WellKNownReleaseEnvironmentSummaryColumnDuration=t.WellKNownReleaseEnvironmentSummaryColumnStartedOn=t.WellKNownReleaseEnvironmentSummaryColumnDeploymentStatus=t.WellKNownReleaseEnvironmentSummaryColumnActions=t.WellKNownReleaseEnvironmentSummaryColumnEnvironment=t.GatesInProgressSubStatus=t.ArtifactDeployment=t.ActiveDeploymentStatus=t.EnvironmentDefinitionAddOperationType=t.WellKnownReleaseTabsOrder=t.ViewContext=t.VariablesListContext=t.TriggersTabArtifactsMessageType=t.ReleaseDefinitionCreationSource=t.HubRoutes=t.ContributedFeatureIds=t.ExtensionArea=t.ReleaseManagementDataProviderKeys=t.ReleasePipelineLicenseFeatureIds=t.ReleasePipelineFeatureFlags=t.TasksVisibilityFilter=t.LogPerfMeasurementInConsole=t.NewRDId=t.AllReleaseDefinitionRevision=t.AllReleaseDefinitionId=t.ReleaseCreationSource=t.PerfScenariosConstants=t.RegExConstants=t.StringConstants=t.ReleaseManagementApiConstants=t.EnvironmentDeploymentConditionsTriggerTypeConstants=t.EnvironmentExecutionPoliciesConstants=t.EnvironmentTileTaskBarState=t.ReleaseDefinitionConstants=t.ConfigurationsConstants=t.ReleaseSummaryConstants=t.ReleaseSummarySections=t.TestRunStatus=t.ArtifactDefaultVersionConstants=t.ArtifactTypes=t.ArtifactsExplorerViewActions=t.DemandType=t.ReleasePipelineAreas=t.EnvironmentSummaryAction=t.ReleaseEditorAction=t.ReleasesHubCreateDefinitionActions=t.FeatureStateData=t.DefinitionDesignerActions=t.CreateReleaseActions=t.MetaTaskViewActions=t.ReleasesViewActions=t.ApprovalsViewEvents=t.ArtifactsViewEvents=t.EnvironmentViewEvents=t.ReleaseDefinitionDesignerEvents=t.WorkItemsViewEvents=t.ReleaseSummaryViewEvents=t.ReleaseExplorerViewEvents=t.ReleaseLogsViewEvents=t.ReleasesViewColumnIndex=t.ReleasesViewEvents=t.ConstantResources=t.TelemetryConstants=t.WebApiConstants=t.TaskIssueType=t.ApprovalRadioButtonTypes=t.ApprovalOrderOptions=t.ReleaseManagementUISecurityPermissions=t.ReleaseManagementSecurityPermissions=t.EditPermissions=t.ArtifactSourceAction=t.ReleaseDefinitionAction=t.ReleaseAction=t.ReleasesDateFilter=t.ReleaseLogTypes=t.ReleaseLogStates=t.ApprovalIconType=t.ApprovalType=t.ComputedReleaseStatus=t.ComputedReleaseEnvironmentStatus=t.DisplayColumn=t.TypeInfo=t.SupportedActions=t.BuildWellKnownArtifactResourceTypes=t.AutomatedEnvironmentDropDownValues=t.ArtifactItemType=t.RepoTypes=t.ArtifactNodeType=void 0,function(n){n[n.File=0]="File";n[n.Folder=1]="Folder";n[n.BuildArtifactNode=2]="BuildArtifactNode";n[n.SourceNode=3]="SourceNode";n[n.JenkinsArifactNode=4]="JenkinsArifactNode";n[n.LinkedArtifactsNode=5]="LinkedArtifactsNode";n[n.CustomArtifactNode=6]="CustomArtifactNode"}(di=t.ArtifactNodeType||(t.ArtifactNodeType={})),function(n){n[n.TfsGit=0]="TfsGit";n[n.TfsVersionControl=1]="TfsVersionControl"}(gi=t.RepoTypes||(t.RepoTypes={}));h=function(){function n(){}return n.File="File",n.Folder="Folder",n}();t.ArtifactItemType=h;c=function(){function n(){}return n}();t.AutomatedEnvironmentDropDownValues=c;l=function(){function n(){}return n.FilePath="FilePath",n.VersionControl="VersionControl",n.Container="Container",n}();t.BuildWellKnownArtifactResourceTypes=l;a=function(){function n(n){this.Actions=n}return n}();t.SupportedActions=a;t.TypeInfo={IReleaseManagementDefaultServiceData:{fields:null}};t.TypeInfo.IReleaseManagementDefaultServiceData.fields={releaseDefinitions:{isArray:!0,typeInfo:u.TypeInfo.ReleaseDefinition},releases:{isArray:!0,typeInfo:u.TypeInfo.Release},artifactTypes:{isArray:!0,typeInfo:u.TypeInfo.ArtifactTypeDefinition},releaseSummary:{typeInfo:u.TypeInfo.Release}};v=function(){function n(n,t,i,r){this.fieldId=n;this.name=t;this.text=i;this.width=r;this.available=!0}return n}();t.DisplayColumn=v,function(n){n[n.Undefined=0]="Undefined";n[n.NotStarted=1]="NotStarted";n[n.Pending=2]="Pending";n[n.Succeeded=3]="Succeeded";n[n.Rejected=4]="Rejected";n[n.InProgress=5]="InProgress";n[n.Canceled=6]="Canceled";n[n.Queued=7]="Queued";n[n.Deferred=8]="Deferred";n[n.QueuedForAgent=9]="QueuedForAgent";n[n.PreApprovalPending=10]="PreApprovalPending";n[n.Failed=11]="Failed";n[n.PreApprovalRejected=12]="PreApprovalRejected";n[n.Scheduled=13]="Scheduled";n[n.PartiallySucceeded=14]="PartiallySucceeded";n[n.QueuedForPipeline=15]="QueuedForPipeline";n[n.Cancelling=16]="Cancelling";n[n.GatesInProgress=17]="GatesInProgress";n[n.GatesFailed=18]="GatesFailed";n[n.GatesStabilizing=19]="GatesStabilizing"}(nr=t.ComputedReleaseEnvironmentStatus||(t.ComputedReleaseEnvironmentStatus={})),function(n){n[n.Undefined=0]="Undefined";n[n.Draft=1]="Draft";n[n.InProgress=2]="InProgress";n[n.Completed=3]="Completed";n[n.Abandoned=4]="Abandoned"}(tr=t.ComputedReleaseStatus||(t.ComputedReleaseStatus={})),function(n){n[n.PreApproval=1]="PreApproval";n[n.PostApproval=2]="PostApproval";n[n.PreGates=3]="PreGates";n[n.PostGates=4]="PostGates"}(ir=t.ApprovalType||(t.ApprovalType={})),function(n){n[n.ApproveOrReject=1]="ApproveOrReject";n[n.PendingApproval=2]="PendingApproval";n[n.ViewApproval=3]="ViewApproval";n[n.FaddedApproval=4]="FaddedApproval";n[n.DeferredApproval=5]="DeferredApproval";n[n.QueuedIcon=6]="QueuedIcon"}(rr=t.ApprovalIconType||(t.ApprovalIconType={})),function(n){n[n.Pending=0]="Pending";n[n.InProgress=1]="InProgress";n[n.Done=2]="Done";n[n.Succeeded=3]="Succeeded";n[n.Stopped=4]="Stopped";n[n.Rejected=5]="Rejected";n[n.Failed=6]="Failed";n[n.Canceled=7]="Canceled";n[n.Reassigned=8]="Reassigned";n[n.Abandoned=9]="Abandoned";n[n.NotStarted=10]="NotStarted";n[n.Approved=11]="Approved";n[n.Undefined=12]="Undefined";n[n.AutomatedApproval=13]="AutomatedApproval";n[n.Skipped=14]="Skipped";n[n.Queued=15]="Queued";n[n.Deferred=16]="Deferred";n[n.QueuedForAgent=17]="QueuedForAgent";n[n.Scheduled=18]="Scheduled";n[n.PartiallySucceeded=19]="PartiallySucceeded";n[n.QueuedForPipeline=20]="QueuedForPipeline";n[n.Cancelling=21]="Cancelling"}(ur=t.ReleaseLogStates||(t.ReleaseLogStates={})),function(n){n[n.Approval=0]="Approval";n[n.Environment=1]="Environment";n[n.Task=2]="Task";n[n.RetryHeading=3]="RetryHeading";n[n.RetryAttemptHeading=4]="RetryAttemptHeading";n[n.Job=5]="Job";n[n.DeployPhase=6]="DeployPhase";n[n.ManualIntervention=7]="ManualIntervention";n[n.Gates=8]="Gates";n[n.GateTask=9]="GateTask"}(fr=t.ReleaseLogTypes||(t.ReleaseLogTypes={})),function(n){n[n.Any=-1]="Any";n[n.Last24Hours=1]="Last24Hours";n[n.Last48Hours=2]="Last48Hours";n[n.Last7Days=7]="Last7Days";n[n.Last14Days=14]="Last14Days";n[n.Last28Days=28]="Last28Days"}(er=t.ReleasesDateFilter||(t.ReleasesDateFilter={})),function(n){n[n.Start=0]="Start";n[n.Stop=1]="Stop";n[n.Abandon=2]="Abandon";n[n.Retry=3]="Retry";n[n.Restart=4]="Restart";n[n.Resume=5]="Resume";n[n.Cancel=6]="Cancel";n[n.OpenRelease=7]="OpenRelease";n[n.Create=8]="Create";n[n.CreateDraft=9]="CreateDraft";n[n.Delete=10]="Delete";n[n.OpenInNewTab=11]="OpenInNewTab";n[n.RetainIndefinately=12]="RetainIndefinately";n[n.StopRetainingIndefinately=13]="StopRetainingIndefinately";n[n.Undelete=14]="Undelete"}(or=t.ReleaseAction||(t.ReleaseAction={})),function(n){n[n.Edit=0]="Edit";n[n.CreateRelease=1]="CreateRelease";n[n.CreateDraftRelease=2]="CreateDraftRelease";n[n.DeleteReleaseDefinition=3]="DeleteReleaseDefinition";n[n.CloneReleaseDefinition=4]="CloneReleaseDefinition";n[n.ExportReleaseDefinition=5]="ExportReleaseDefinition";n[n.EditPreviewInCDWorkflow=6]="EditPreviewInCDWorkflow"}(sr=t.ReleaseDefinitionAction||(t.ReleaseDefinitionAction={})),function(n){n[n.AddArtifact=0]="AddArtifact"}(hr=t.ArtifactSourceAction||(t.ArtifactSourceAction={})),function(n){n[n.Full=0]="Full";n[n.Partial=1]="Partial";n[n.ReadOnly=2]="ReadOnly"}(cr=t.EditPermissions||(t.EditPermissions={})),function(n){n[n.None=0]="None";n[n.ViewReleaseDefinition=1]="ViewReleaseDefinition";n[n.EditReleaseDefinition=2]="EditReleaseDefinition";n[n.DeleteReleaseDefinition=4]="DeleteReleaseDefinition";n[n.ManageReleaseApprovers=8]="ManageReleaseApprovers";n[n.ManageReleases=16]="ManageReleases";n[n.ViewReleases=32]="ViewReleases";n[n.QueueReleases=64]="QueueReleases";n[n.EditReleaseEnvironment=128]="EditReleaseEnvironment";n[n.DeleteReleaseEnvironment=256]="DeleteReleaseEnvironment";n[n.AdministerReleasePermissions=512]="AdministerReleasePermissions";n[n.DeleteReleases=1024]="DeleteReleases";n[n.ManageDeployments=2048]="ManageDeployments"}(lr=t.ReleaseManagementSecurityPermissions||(t.ReleaseManagementSecurityPermissions={})),function(n){n[n.None=0]="None";n[n.ViewReleaseTaskEditor=1]="ViewReleaseTaskEditor";n[n.ViewCDWorkflowEditor=2]="ViewCDWorkflowEditor";n[n.ExportReleaseDefinition=4]="ExportReleaseDefinition";n[n.ViewLegacyUI=8]="ViewLegacyUI";n[n.DeploymentSummaryAcrossProjects=16]="DeploymentSummaryAcrossProjects"}(ar=t.ReleaseManagementUISecurityPermissions||(t.ReleaseManagementUISecurityPermissions={}));y=function(){function n(){}return n.SequentialApprovals="Sequential",n.ParallelApprovals="Parallel",n.AnyOneApproverInParallelApprovals="AnyOneOfParallel",n}();t.ApprovalOrderOptions=y;p=function(){function n(){}return n.IsAutomated="IsAutomated",n.SpecificUsers="SpecificUsers",n}();t.ApprovalRadioButtonTypes=p;w=function(){function n(){}return n.Error="Error",n.Warning="Warning",n}();t.TaskIssueType=w;b=function(){function n(){}return n.Area="Release",n}();t.WebApiConstants=b;k=function(){function n(){}return n.RefreshReleaseDefinitions="RefreshReleaseDefinitions",n}();t.TelemetryConstants=k;d=function(){function n(){}return n.NoReleaseDefinitionsGuidanceLink='<a href="{0}" target="_top">{1}<\/a>',n.ShowEnvironmentTemplatesDialogBoxLink='<a class="show-template-dialog-for-no-definition">{0}<\/a>',n.TextSeparator="/",n.TextPipe="|",n}();t.ConstantResources=d;g=function(){function n(){}return n.RefreshEnvironments="refreshenvironments",n.EnvironmentsError="environmentserror",n.ResizeColumnToFitContent="resizecolumntofitcontent",n}();t.ReleasesViewEvents=g;nt=function(){function n(){}return n.Reason="reason",n.RetainIndefinitely="keepForever",n.Name="name",n.DefinitionName="definitionName",n.Environments="environments",n.CreatedOn="createdOn",n.CreatedBy="createdBy",n.Artifacts="artifacts",n.Branch="branch",n.DeletedOn="modifiedOn",n.DeletedBy="modifiedBy",n}();t.ReleasesViewColumnIndex=nt;tt=function(){function n(){}return n.RefreshLogsView="refreshlogsview",n.ApprovalsError="approvalserror",n}();t.ReleaseLogsViewEvents=tt;it=function(){function n(){}return n.HubTitleChanged="releaseExplorerViewHubtitleChanged",n.ReleaseOpened="releaseExplorerViewReleaseOpened",n.ReleaseOpenedInNewTab="releaseExplorerViewReleaseOpenedInNewTab",n.ReleaseDefinitionsChanged="releaseExplorerViewReleaseDefinitionsChanged",n.UpdateCreateReleaseToolbarOptionStatus="releaseExplorerViewUpdateCreateReleaseStatus",n.NavigateReleaseExplorer="releaseExplorerNavigateView",n.RefreshReleaseDefinitionsExplorer="releaseExplorerRefreshReleaseDefinitionsExplorer",n.UpdateReleaseDefinitionInExplorer="updateReleaseDefinitionInExplorer",n.CreateDraftRelease="releaseExplorerCreateDraftRelease",n.DefinitionExplorerViewCreationDone="definitionExplorerViewCreationDone",n}();t.ReleaseExplorerViewEvents=it;rt=function(){function n(){}return n.QueueReleaseOnEnvironment="queueReleaseOnEnvironment",n.ViewEnvironmentSummary="viewEnvironmentSummary",n}();t.ReleaseSummaryViewEvents=rt;ut=function(){function n(){}return n.OpenDetailsOfWorkItem="workItemsViewDetailsOpenedInNewTab",n}();t.WorkItemsViewEvents=ut;ft=function(){function n(){}return n.CreateNewArtifact="createNewArtifact",n.OpenEnvironmentConfiguration="releaseDefinitionOpenEnvironmentConfiguration",n.AddExistingArtifacts="addExistingArtifacts",n.AddArtifacts="addArtifacts",n.UpdateArtifactsEditorTitle="updateArtifactsEditorTitle",n.DirtyUpdated="ReleaseDefinitionIsDirty",n}();t.ReleaseDefinitionDesignerEvents=ft;et=function(){function n(){}return n.ondeleteEnvironment="on-delete-envrionment",n.onSaveAsTemplate="on-save-as-template",n.onCloneEnvironment="on-clone-environment",n}();t.EnvironmentViewEvents=et;ot=function(){function n(){}return n.ArtifactDialogCloseEvent="artifactDialogClose",n.ArtifactDefinitionChange="artifactDefinitionChange",n.RefreshArtifactDefinition="refreshArtifactDefinition",n.AddArtifact="addArtifact",n}();t.ArtifactsViewEvents=ot;st=function(){function n(){}return n.ApprovalTileChange="approvalTileChange",n.GetApprovalRelease="getApprovalRelease",n}();t.ApprovalsViewEvents=st;ht=function(){function n(){}return n.RELEASES="releases",n.DEFINITION_OVERVIEW="definitionoverview",n.DELETED_RELEASES="deletedreleases",n}();t.ReleasesViewActions=ht;ct=function(){function n(){}return n.PROPERTIES="properties",n.TASKS="tasks",n.HISTORY="history",n.REFERENCE="reference",n}();t.MetaTaskViewActions=ct;lt=function(){function n(){}return n.NewReleaseNavigationAction="logs",n}();t.CreateReleaseActions=lt;at=function(){function n(){}return n.environmentsEditorAction="environments-editor",n.viewReleasesAction="releases",n.artifactsEditorAction="artifacts-editor",n.variablesEditorAction="variables-editor",n.configurationsEditorAction="configurations-editor",n.triggersEditorAction="triggers-editor",n.generalSettingsEditorAction="general-settings-editor",n.retentionPolicyEditorAction="retention-policy-editor",n.definitionHistoryAction="definition-history",n.environmentsEditorPreviewAction="environments-editor-preview",n.createReleaseDefinitionInNewEditorAction="action-create-definition",n.importReleaseDefinitionInNewEditorAction="action-import-definition",n.cloneReleaseDefinitionInNewEditorAction="action-clone-definition",n}();t.DefinitionDesignerActions=at;vt=function(){function n(){}return n}();t.FeatureStateData=vt;yt=function(){function n(){}return n.mineTabAction="mine",n.allTabAction="all",n}();t.ReleasesHubCreateDefinitionActions=yt;pt=function(){function n(){}return n.environmentsEditorAction="release-environments-editor",n.artifactsEditorAction="release-artifacts-editor",n.variablesEditorAction="release-variables-editor",n.configurationsEditorAction="release-configurations-editor",n.summaryAction="release-summary",n.logsAction="release-logs",n.commitsAction="release-commits",n.workItemsAction="release-workitems",n.generalSettingsEditorAction="release-general-settings-editor",n.contributionTabActionPrefix="release-contribution-tab",n.definitionOverview="definitionoverview",n.releaseHistoryAction="release-history",n}();t.ReleaseEditorAction=pt;wt=function(){function n(){}return n.environmentSummaryAction="environment-summary",n}();t.EnvironmentSummaryAction=wt;bt=function(){function n(){}return n.APIS="apis",n}();t.ReleasePipelineAreas=bt;kt=function(){function n(){}return n.Exists="exists",n.Equals="equals",n}();t.DemandType=kt;dt=function(){function n(){}return n.overview="overview",n}();t.ArtifactsExplorerViewActions=dt;gt=function(){function n(){}return n.Build=f.ArtifactTypes.BuildArtifactType,n.JenkinsId=f.ArtifactTypes.JenkinsArtifactType,n.NugetId=f.ArtifactTypes.NugetArtifactType,n.TeamBuildExternalId=f.ArtifactTypes.TfsOnPremArtifactType,n.ExternalTfsBuildId=f.ArtifactTypes.ExternalTfsBuildArtifactType,n.GitHubId=f.ArtifactTypes.GitHubArtifactType,n.GitHubEnterpriseId=f.ArtifactTypes.GitHubEnterpriseArtifactType,n.GitId=f.ArtifactTypes.GitArtifactType,n.TfvcId=f.ArtifactTypes.TfvcArtifactType,n.PackageManagement=f.ArtifactTypes.PackageManagementArtifactType,n.TfsOnPremArtifactId=f.ArtifactTypes.TfsOnPremArtifactType,n.DockerHubId=f.ArtifactTypes.DockerHubArtifactType,n.AzureContainerRepositoryId=f.ArtifactTypes.AzureContainerRepositoryArtifactType,n.CircleCIId=f.ArtifactTypes.CircleCIArtifactType,n.GitHubReleaseId=f.ArtifactTypes.GitHubReleaseArtifactType,n}();t.ArtifactTypes=gt;ni=function(){function n(){}return n.DefaultVersionType=f.ArtifactDefinitionConstants.DefaultVersionTypeId,n.DefaultVersionBranch=f.ArtifactDefinitionConstants.DefaultVersionBranchId,n.DefaultVersionTags=f.ArtifactDefinitionConstants.DefaultVersionTagsId,n.DefaultVersionSpecific=f.ArtifactDefinitionConstants.DefaultVersionSpecificId,n.Latest=f.ArtifactDefinitionConstants.LatestType,n.LatestFromBranch=f.ArtifactDefinitionConstants.LatestFromBranchType,n.LatestWithBranchAndTags=f.ArtifactDefinitionConstants.LatestWithBranchAndTagsType,n.SpecificVersion=f.ArtifactDefinitionConstants.SpecificVersionType,n.SelectDuringReleaseCreation=f.ArtifactDefinitionConstants.SelectDuringReleaseCreationType,n.LatestWithBuildDefinitionBranchAndTags=f.ArtifactDefinitionConstants.LatestWithBuildDefinitionBranchAndTagsType,n}();t.ArtifactDefaultVersionConstants=ni;ti=function(){function n(){}return n.Unspecified="Unspecified",n.NotStarted="NotStarted",n.InProgress="InProgress",n.Completed="Completed",n.Aborted="Aborted",n.Waiting="Waiting",n.NeedsInvestigation="NeedsInvestigation",n}();t.TestRunStatus=ti;ii=function(){function n(){}return n.ENVIRONMENTS="Environments",n.DESCRIPTION="Description",n.ARTIFACTS="Artifacts",n}();t.ReleaseSummarySections=ii;ri=function(){function n(){}return n.MaxArtifactCount=4,n.KeepForever="keepForever",n}();t.ReleaseSummaryConstants=ri;ui=function(){function n(){}return n.EnvironmentVariablesGridColumnsInitialNum=100,n}();t.ConfigurationsConstants=ui;fi=function(){function n(){}return n.MaxDaysToKeepRelease=365,n.MaxReleasesToKeep=25,n.DefaultDaysToKeep=30,n.DefaultReleasesToKeep=3,n.DefaultRetainBuild=!0,n.DefaultDaysToKeepDeletedReleases=14,n}();t.ReleaseDefinitionConstants=fi,function(n){n[n.Init=0]="Init";n[n.Completed=1]="Completed"}(vr=t.EnvironmentTileTaskBarState||(t.EnvironmentTileTaskBarState={}));ei=function(){function n(){}return n.ConcurrencyInfinite="0",n.ConcurrencyOnlyOne="1",n.QueueDepthInfinite="0",n.QueueDepthLastReleaseOnly="1",n}();t.EnvironmentExecutionPoliciesConstants=ei;oi=function(){function n(){}return n.ReleaseStarted="ReleaseStarted",n.AlwaysManual="AlwaysManual",n.AfterSuccessfulDeployment="AfterSuccessfulDeployment",n}();t.EnvironmentDeploymentConditionsTriggerTypeConstants=oi;si=function(){function n(){}return n.TrueValue="True",n.FalseValue="False",n}();t.ReleaseManagementApiConstants=si;hi=function(){function n(){}return n.TfvcRootId="$/",n}();t.StringConstants=hi;ci=function(){function n(){}return n.ArtifactTypeNameRegEx="^[a-zA-Z0-9_.-/*]+$",n.ArtifactNameSearchRegEx="^[%a-zA-Z0-9_.-]+$",n.VariableParameterRegex=new RegExp("\\$\\(.*?\\)"),n}();t.RegExConstants=ci;li=function(){function n(){}return n.Area="ReleaseManagement",n.LandingOnReleaseHubScenario="VSO.RM.LandingOnReleaseHub",n.ReleasesOverviewScenario="VSO.RM.ReleasesOverview",n.ListReleasesScenario="VSO.RM.ListReleases",n.LoadReleasesPageSkeletonScenario="VSO.RM.LoadReleasesPageSkeleton",n.LandingOnReleaseHubOveriewScenario="VSO.RM.LandingOnReleaseHubOverview",n.LandingOnReleaseHubRDEditorScenario="VSO.RM.LandingOnReleaseHubRDEditor",n.LandingOnReleaseHubReleaseEditorScenario="VSO.RM.LandingOnReleaseHubReleaseEditor",n.LandingOnReleaseHubGettingStartedScenario="VSO.RM.LandingOnReleaseHubGettingStarted",n.LandingOnReleaseHubEnvSummaryScenario="VSO.RM.LandingOnReleaseHubEnvSummaryScenario",n.OpenReleaseSummaryScenario="VSO.RM.OpenReleaseSummary",n.ValidateAgentsScenario="VSO.RM.ValidateAgents",n.StartReleaseScenario="VSO.RM.StartRelease",n.StartDeploymentOnEnvironmentScenario="VSO.RM.DeployToEnvironment",n.CancelDeploymentOnEnvironmentScenario="VSO.RM.CancelDeployment",n.RedeployToEnvironmentScenario="VSO.RM.RedeployToEnvironment",n.DeployToMultipleEnvironmentsScenario="VSO.RM.DeployToMultipleEnvironments",n.CreateDraftReleaseScenario="VSO.RM.CreateDraftRelease",n.SaveReleaseScenario="VSO.RM.SaveRelease",n.UpdateReleaseStatusScenario="VSO.RM.UpdateReleaseStatusScenario",n.LoadWorkItemsScenario="VSO.RM.LoadWorkItems",n.LoadCommitsScenario="VSO.RM.LoadCommits",n.UpdateApprovalsScenario="VSO.RM.UpdateApprovals",n.UpdateManualInterventionsScenario="VSO.RM.UpdateManualInterventions",n.OpenCreateReleaseDialogScenario="VSO.RM.OpenCreateReleaseDialog",n.OpenCreateReleaseDialogFromBuildScenario="VSO.RM.OpenCreateReleaseDialogFromBuild",n.EditReleaseDefinitionScenario="VSO.RM.EditReleaseDefinition",n.SaveReleaseDefinitionScenario="VSO.RM.SaveReleaseDefinition",n.DeleteReleaseDefinitionScenario="VSO.RM.DeleteReleaseDefinition",n.UpdateReleaseRetentionScenario="VSO.RM.UpdateReleaseRetention",n.GetReleaseComplete="VSO.RM.GetReleaseComplete",n.TestResultsFetchBegin="VSO.RM.TestResultsFetch",n.DSWConfigurationViewLoadTime="VSO.RM.DSW.ConfigurationLoad",n.DSWWidgetViewLoadTime="VSO.RM.DSW.ViewLoad",n.AllDefinitionsSearchScenario="AllDefinitions.Search",n.LandingOnReleases2Hub="LandingOnReleases2Hub",n.LandingOnMachineGroupHubScenario="VSO.RM.LandingOnMachineGroupHub",n.ListMachinesScenario="VSO.RM.ListMachines",n.ViewMachineDeployemntsScenario="VSO.RM.ViewMachineDeployments",n.ViewMachineConfigurationsScenario="VSO.RM.ViewMachinesConfiguration",n.GetAddedTargetScenario="VSO.RM.GetAddedTargetScenario",n.CreateOrUpdateMachineGroupScenario="VSO.RM.CreateOrUpdateMachineGroup",n.DeleteMachineGroupScenario="VSO.RM.DeleteMachineGroup",n.ViewDeploymentMachineScenario="VSO.RM.ViewDeploymentMachine",n.DeleteMachineScenario="VSO.RM.DeleteMachine",n.UpdateMachineScenario="VSO.RM.UpdateMachine",n.UpdateTargetScenario="VSO.RM.UpdateTarget",n.UpgradeMachinesScenario="VSO.RM.UpgradeMachines",n.CreateAccessTokenScenario="VSO.RM.CreateAccessToken",n.LandingOnDeploymentPoolTargetsPageScenario="VSO.RM.ViewDeploymentPoolTargets",n.LandingOnDeploymentPoolHubScenario="VSO.RM.LandingDeploymentPoolHub",n.DeleteDeploymentPoolScenario="VSO.RM.DeleteDeploymentPool",n.UpgradeTargetsScenario="VSO.RM.UpgradeTargets",n.LoadTargetScenario="VSO.RM.LoadTarget",n.DeleteTargetScenario="VSO.RM.DeleteTarget",n.UpdateDeploymentTargetScenario="VSO.RM.UpdateDeploymentTarget",n}();t.PerfScenariosConstants=li;ai=function(){function n(){}return n.AutoFromBuild="AutoFromBuild",n.AutoFromGithub="AutoFromGithub",n.AutoFromDockerHub="AutoFromDockerHub",n.Scheduled="Scheduled",n.PR="PR",n.BuildSummary="BuildSummary",n.ReleaseHub="ReleaseHub",n.Other="Other",n}();t.ReleaseCreationSource=ai;t.AllReleaseDefinitionId=0;t.AllReleaseDefinitionRevision=0;t.NewRDId=0;t.LogPerfMeasurementInConsole=!1;t.TasksVisibilityFilter="Release";vi=function(){function n(){}return n.HostedImage="WebAccess.ReleaseManagement.HostedImageSelection",n.ReleaseRetentionSettingsEditEnabled="VisualStudio.ReleaseManagement.ReleaseRetentionSettingsEditEnabled",n.ReleaseComplianceSettingsEnabled="VisualStudio.ReleaseManagement.ReleaseComplianceSettingsEnabled",n.ReleaseRetentionSettingsMaxDaysToKeepEditEnabled="VisualStudio.ReleaseManagement.ReleaseRetentionSettingsMaxDaysToKeepEditEnabled",n.BuildArtifactTasks="VisualStudio.ReleaseManagement.BuildArtifactsTasks",n.NewReleaseProgressView="WebAccess.ReleaseManagement.NewReleaseProgressView",n.NewCDReleaseViewOptInToggle="WebAccess.ReleaseManagement.NewCDReleaseViewOptInToggle",n.NewCDReleaseViewOptInDefault="WebAccess.ReleaseManagement.NewCDReleaseViewOptInDefault",n.PipelineWorkflowFastHubSwitchDisabled="WebAccess.ReleaseManagement.DisableFastHubSwitch",n.CDReleaseProgressViewDisableFastHubSwitch="WebAccess.ReleaseManagement.CDReleaseProgressViewDisableFastHubSwitch",n.CompleteAadOAuthCallbackByAuthCode="WebAccess.ReleaseManagement.CompleteAadOauthCallbackByAuthCode",n.NewCreateReleaseWorkflowExtensionIntegration="WebAccess.ReleaseManagement.NewCreateReleaseWorkflowExtensionIntegration",n.DonotSanitizeInputForMDFile="WebAccess.ReleaseManagement.DonotSanitizeInputForMDFile",n.EnableDeploymentPoolRename="WebAccess.ReleaseManagement.DeploymentPoolRename",n.EnableNewRouteForLogApis="WebAccess.ReleaseManagement.EnableNewRouteForLogApis",n.CreateReleaseDataProvider="WebAccess.ReleaseManagement.CreateReleaseDataProvider",n.DelayedReleaseTasksSignalRUpdate="AzureDevOps.ReleaseManagement.DelayedReleaseTasksSignalRUpdate",n.ShowAADIdentitiesOnSearchInSecurityDialog="WebAccess.ReleaseManagement.ShowAADIdentitiesOnSearchInSecurityDialog",n.EnableResourceSecurityPanel="WebAccess.ReleaseManagement.EnableResourceSecurityPanel",n}();t.ReleasePipelineFeatureFlags=vi;yi=function(){function n(){}return n.ReleaseManagement="321CEBB8-72F6-40E6-836D-47580566CCF4",n}();t.ReleasePipelineLicenseFeatureIds=yi;pi=function(){function n(){}return n.Default="ms.vss-releaseManagement-web.hub-explorer-data-provider",n.NewCDReleaseProgressFeatureState="ms.vss-releaseManagement-web.new-release-viewer-feature-state-data-provider",n.SignalRDataProvider="ms.vss-releaseManagement-web.rm-signalr-data-provider",n.ReleaseProgressDataProvider="ms.vss-releaseManagement-web.releaseview.webpage.data-provider",n}();t.ReleaseManagementDataProviderKeys=pi;s=function(){function n(){}return n.ReleaseExplorer="ms.vss-releaseManagement-web.hub-explorer",n.ReleaseExplorer2="ms.vss-releaseManagement-web.hub-explorer-2",n.MachineGroupExplorer="ms.vss-releaseManagement-web.hub-machinegroup",n.LibraryHub="ms.vss-distributed-task.hub-library",n.ReleaseCDExplorer="ms.vss-releaseManagement-web.cd-workflow-hub",n.TestResults="ms.vss-test-web.test-result-in-release-management",n.DeploymentPoolsExplorer="ms.vss-releaseManagement-web.hub-deploymentpools",n.ReleaseCDProgress="ms.vss-releaseManagement-web.cd-release-progress",n.ReleaseReport="ms.vss-releaseManagement-web.cd-release-report",n.TestExtensionIdPrefix="ms.vss-test-web.",n}();t.ExtensionArea=s;wi=function(){function n(){}return n.NewReleaseView="ms.vss-releaseManagement-web.new-release-view-feature",n}();t.ContributedFeatureIds=wi;bi=function(){function n(){}return n.getRouteForExtensionArea=function(t){return n._extensionAreaToHubRouteMap||n._createExtensionAreaToHubRouteMap(),n._extensionAreaToHubRouteMap.hasOwnProperty(t)?n._extensionAreaToHubRouteMap[t]:null},n._createExtensionAreaToHubRouteMap=function(){n._extensionAreaToHubRouteMap={};n._extensionAreaToHubRouteMap[s.ReleaseExplorer]=n.ReleaseExplorerHubRoute;n._extensionAreaToHubRouteMap[s.MachineGroupExplorer]=n.MachineGroupHubRoute;n._extensionAreaToHubRouteMap[s.LibraryHub]=n.LibraryHubRoute;n._extensionAreaToHubRouteMap[s.DeploymentPoolsExplorer]=n.DeploymentPoolsRoute;n._extensionAreaToHubRouteMap[s.ReleaseCDProgress]=n.ReleasePipelineProgressHubRoute},n.ReleaseExplorerHubRoute="_release",n.MachineGroupHubRoute="_machinegroup",n.LibraryHubRoute="_library",n.DeploymentPoolsRoute="_deploymentpools",n.ReleasePipelineProgressHubRoute="_releaseProgress",n._extensionAreaToHubRouteMap=null,n}();t.HubRoutes=bi,function(n){n[n.ProjectHome=0]="ProjectHome";n[n.Code=1]="Code";n[n.BuildSummary=2]="BuildSummary";n[n.ReleaseNew=3]="ReleaseNew";n[n.ReleaseImport=4]="ReleaseImport";n[n.ReleaseClone=5]="ReleaseClone";n[n.Other=6]="Other"}(yr=t.ReleaseDefinitionCreationSource||(t.ReleaseDefinitionCreationSource={})),function(n){n[n.NoMessage=0]="NoMessage";n[n.UnsupportedArtifacts=1]="UnsupportedArtifacts";n[n.NoArtifacts=2]="NoArtifacts"}(pr=t.TriggersTabArtifactsMessageType||(t.TriggersTabArtifactsMessageType={})),function(n){n[n.Environment=0]="Environment";n[n.Release=1]="Release";n[n.ReleaseDefinition=2]="ReleaseDefinition"}(wr=t.VariablesListContext||(t.VariablesListContext={})),function(n){n[n.Build=0]="Build";n[n.Release=1]="Release"}(br=t.ViewContext||(t.ViewContext={})),function(n){n[n.Summary=5]="Summary";n[n.Environments=10]="Environments";n[n.Artifacts=20]="Artifacts";n[n.Configurations=30]="Configurations";n[n.GeneralSettings=50]="GeneralSettings";n[n.Commits=70]="Commits";n[n.WorkItems=80]="WorkItems";n[n.Logs=90]="Logs"}(kr=t.WellKnownReleaseTabsOrder||(t.WellKnownReleaseTabsOrder={})),function(n){n[n.CreateReleaseDefinition=1]="CreateReleaseDefinition";n[n.AddEnvironment=2]="AddEnvironment";n[n.CloneEnvironment=3]="CloneEnvironment"}(dr=t.EnvironmentDefinitionAddOperationType||(t.EnvironmentDefinitionAddOperationType={})),function(n){n[n.Undefined=0]="Undefined";n[n.NoReleases=1]="NoReleases";n[n.NoDeployments=2]="NoDeployments";n[n.DeploymentsAvailable=3]="DeploymentsAvailable"}(gr=t.ActiveDeploymentStatus||(t.ActiveDeploymentStatus={})),function(n){n[n.None=0]="None";n[n.SameRelease=1]="SameRelease";n[n.SameArtifact=2]="SameArtifact";n[n.Rollback=3]="Rollback"}(nu=t.ArtifactDeployment||(t.ArtifactDeployment={})),function(n){n[n.NotInProgress=1]="NotInProgress";n[n.Stabilizing=2]="Stabilizing";n[n.Evaluating=3]="Evaluating"}(tu=t.GatesInProgressSubStatus||(t.GatesInProgressSubStatus={}));t.WellKNownReleaseEnvironmentSummaryColumnEnvironment="environment";t.WellKNownReleaseEnvironmentSummaryColumnActions="actions";t.WellKNownReleaseEnvironmentSummaryColumnDeploymentStatus="deployment-status";t.WellKNownReleaseEnvironmentSummaryColumnStartedOn="started";t.WellKNownReleaseEnvironmentSummaryColumnDuration="duration";t.WellKnownReleaseEnvironmentSummaryColumnTypes=[{title:e.EnvironmentHeaderColumn,id:t.WellKNownReleaseEnvironmentSummaryColumnEnvironment,canBeFiltered:!1},{title:e.ActionsHeaderColumn,id:t.WellKNownReleaseEnvironmentSummaryColumnActions,canBeFiltered:!1},{title:e.DeploymentStatusColumn,id:t.WellKNownReleaseEnvironmentSummaryColumnDeploymentStatus,canBeFiltered:!1},{title:e.EnvironmentTriggeredOnColumn,id:t.WellKNownReleaseEnvironmentSummaryColumnStartedOn,canBeFiltered:!0},{title:e.EnvironmentCompletedOnColumn,id:t.WellKNownReleaseEnvironmentSummaryColumnDuration,canBeFiltered:!0}];o=function(){function n(){}return n.definitionId=f.ArtifactDefinitionConstants.DefinitionId,n.multiDefinitionId=f.ArtifactDefinitionConstants.MultipleDefinitionsId,n.isMultiDefinitionType=f.ArtifactDefinitionConstants.IsMultiDefinitionType,n.projectId=f.ArtifactDefinitionConstants.ProjectId,n.sourceName="sourceName",n.sourceType="sourceType",n.sourceTypeName="sourceTypeName",n.servicesId=f.ArtifactDefinitionConstants.ConnectionId,n.alias="alias",n.itemType=f.ArtifactDefinitionConstants.ItemPath,n}();t.ArtifactItemDataKeys=o;ki=function(){function n(){}return n.create=function(t){var i=new n;return i.data=t,i},n.prototype.getSourceName=function(){return this._getValue(o.sourceName)},n.prototype.setSourceName=function(n){this._setValue(o.sourceName,n)},n.prototype.getDefinitionId=function(){return this._getValue(o.definitionId)},n.prototype.setDefinitionId=function(n){this._setValue(o.definitionId,n)},n.prototype.getMultiDefinitionId=function(){return this._getValue(o.multiDefinitionId)},n.prototype.isMultiDefinitionType=function(){return this._getValue(o.isMultiDefinitionType)},n.prototype.getSourceType=function(){return this._getValue(o.sourceType)},n.prototype.getProjectId=function(){return this._getValue(o.projectId)},n.prototype.setProjectId=function(n){this._setValue(o.projectId,n)},n.prototype.setSourceType=function(n){this._setValue(o.sourceType,n)},n.prototype.getSourceTypeName=function(){return this._getValue(o.sourceTypeName)},n.prototype.setSourceTypeName=function(n){this._setValue(o.sourceTypeName,n)},n.prototype.getServicesId=function(){return this._getValue(o.servicesId)},n.prototype.setServicesId=function(n){this._setValue(o.servicesId,n)},n.prototype.getAlias=function(){return this._getValue(o.alias)},n.prototype.setAlias=function(n){this._setValue(o.alias,n)},n.prototype.getItemType=function(){return this._getValue(o.itemType)},n.prototype.setItemType=function(n){this._setValue(o.itemType,n)},n.prototype._getValue=function(n){return this.data&&this.data.hasOwnProperty(n)&&this.data[n]?this.data[n]:r.empty},n.prototype._setValue=function(n,t){this.data&&(this.data[n]=t)},n}();t.ArtifactItemData=ki,function(n){n.ReleaseManagementUIPermissionToken="/ReleaseManagementUI";n.ReleaseManagementSecurityNamespaceId="C788C23E-1B46-4162-8F5E-D7585343B5DE";n.ReleaseManagementUISecurityNamespaceId="7c7d32f7-0e86-4cd6-892e-b35dbba870bd";n.ReleaseManagementServiceInstanceId="0000000d-0000-8888-8000-000000000000"}(iu=t.CommonSecurityConstants||(t.CommonSecurityConstants={}));t.ReleasesHub="Release";t.BuildsHub="Build";i.tfsModuleLoaded("TFS.ReleaseManagement.Types",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Host.TfsContext",["require","exports","VSS/VSS","VSS/Context","VSS/Navigation/Services","VSS/Diag","VSS/Common/Contracts/Platform"],function(n,t,i,r,u,f,e){function l(){s=Date.now()}var s,o,a,h,c;Object.defineProperty(t,"__esModule",{value:!0});t.TfsContext=t.TeamFoundationHostType=t.NavigationContextLevels=t.Configuration=t.setImageTimestamp=void 0;t.setImageTimestamp=l;o=function(){function n(n){this._options=n||{}}return n.prototype.getRootPath=function(){return this._options.rootPath||"/"},n.prototype.getTheme=function(){return this._options.theme||"Default"},n.prototype.getResourcesPath=function(){return this._options.resourcesPath||this.getRootPath()+"_content/"},n.prototype.getResourcesFile=function(n){return this.getResourcesPath()+encodeURIComponent(n)},n.prototype.getTfsStaticRootPath=function(){return this._options.staticRootTfs||"/tfs/_static/tfs/12/"},n.prototype.get3rdPartyStaticRootPath=function(){return this._options.staticRoot3rdParty||"/tfs/_static/3rdParty/"},n.prototype.getThemedFile=function(n){return this.getTfsStaticRootPath()+"App_Themes/"+encodeURIComponent(this.getTheme())+"/"+encodeURIComponent(n)},n.prototype.getWebApiVersion=function(){return this._options.webApiVersion||"1"},n.prototype.getMailSettings=function(){return this._options.mailSettings},n}();t.Configuration=o,function(n){n[n.None=0]="None";n[n.Deployment=1]="Deployment";n[n.Application=2]="Application";n[n.Collection=4]="Collection";n[n.Project=8]="Project";n[n.Team=16]="Team";n[n.ApplicationAll=15]="ApplicationAll";n[n.All=31]="All"}(a=t.NavigationContextLevels||(t.NavigationContextLevels={})),function(n){n[n.Parent=-1]="Parent";n[n.Unknown=0]="Unknown";n[n.Deployment=1]="Deployment";n[n.Application=2]="Application";n[n.ProjectCollection=4]="ProjectCollection"}(h=t.TeamFoundationHostType||(t.TeamFoundationHostType={}));c=function(){function n(t){this.contextData=t;var i=r.getPageContext();this.navigation={applicationServiceHost:n.createServiceHost(t.account,e.ContextHostType.Application,t,i.webAccessConfiguration.paths.rootPath),area:i.navigation.area,areaPrefix:i.webAccessConfiguration.api.areaPrefix,collection:n.createServiceHost(t.collection,e.ContextHostType.ProjectCollection,t,i.webAccessConfiguration.paths.rootPath),controllerPrefix:i.webAccessConfiguration.api.controllerPrefix,currentAction:i.navigation.currentAction,currentController:i.navigation.currentController,project:null,projectId:null,publicAccessPoint:{authority:t.host.authority,scheme:t.host.scheme,uri:t.account?t.account.uri:t.host.uri},serviceHost:n.createServiceHost(t.host,t.host.hostType,t,i.webAccessConfiguration.paths.rootPath),topMostLevel:i.navigation.topMostLevel,team:null,teamId:null};this.navigation.publicAccessPoint.uri[this.navigation.publicAccessPoint.uri.length-1]!=="/"&&(this.navigation.publicAccessPoint.uri+="/");t.project&&(this.navigation.project=t.project.name,this.navigation.projectId=t.project.id);t.team&&i.navigation.topMostLevel===e.NavigationContextLevels.Team&&(this.navigation.team=t.team.name,this.navigation.teamId=t.team.id);this.configuration=new o({mailSettings:i.webAccessConfiguration.mailSettings,resourcesPath:i.webAccessConfiguration.paths.resourcesPath,rootPath:i.webAccessConfiguration.paths.rootPath,staticRoot3rdParty:i.webAccessConfiguration.paths.staticRoot3rdParty,staticRootTfs:i.webAccessConfiguration.paths.staticRootTfs,theme:i.globalization.theme,webApiVersion:i.webAccessConfiguration.api.webApiVersion});this.isHosted=!!i.webAccessConfiguration.isHosted;this.allowStatsCollection=!!i.diagnostics.allowStatsCollection;this.activityId=i.diagnostics.activityId;this.sessionId=i.diagnostics.sessionId;this.isAADAccount=!!t.host.isAADAccount;this.isSameHost=window.self==window.top;t.user&&(this.currentUser=t.user.name,this.standardAccessMode=!t.user.limitedAccess,this.currentIdentity={displayName:t.user.name,email:t.user.email,id:t.user.id,isActive:!0,isContainer:!1,uniqueName:t.user.uniqueName});t.team&&(this.currentTeam={name:t.team.name,identity:{displayName:t.team.name,id:t.team.id,isActive:!0,isContainer:!0,email:null,uniqueName:null}})}return n.getContextOrDefault=function(t){var i=r.parseWebContext(t);return i?new n(i):n.getDefault()},n.getDefault=function(){if(!n._defaultTfsContext){var t=r.getDefaultWebContext();if(!t)throw new Error("Default context information is missing.");n._defaultTfsContext=new n(t)}return n._defaultTfsContext},n.tryGetDefaultContext=function(){if(typeof n._defaultTfsContext=="undefined"){var t=r.getDefaultWebContext();n._defaultTfsContext=t?new n(t):null}return n._defaultTfsContext},n.createServiceHost=function(n,t,i,r){return n?{hostType:t,name:n.name,instanceId:n.id,uri:n.uri,relVDir:this.trimVirtualPath(n.relativeUri,r),vDir:n.relativeUri}:null},n.trimVirtualPath=function(n,t){if(!n||n.length===0)return n;for(n.toLowerCase().indexOf(t.toLowerCase())===0&&(n=n.substr(t.length));n.length>0&&n[0]==="/";)n=n.substr(1);while(n.length>0&&n[n.length-1]==="/")n=n.substr(0,n.length-1);return n},n.prototype.getSessionId=function(){var t,r,i,u,n;for(t=this.sessionId,r=document.cookie?document.cookie.split("; "):[],i=0,u=r.length;i<u;i++)if(n=r[i].split("="),n&&n.length===2&&n[0]==="Tfs-SessionId"){t=n[1];break}return this.sessionId=t,t},n.prototype.getHostUrl=function(){return this.navigation.publicAccessPoint.scheme+"://"+this.navigation.publicAccessPoint.authority},n.prototype.getServiceHostUrl=function(){return this.navigation.serviceHost.vDir},n.prototype.getPublicActionUrl=function(n,t,i){var r=this._constructActionUrl(n,t,i);return this.getHostUrl()+this.configuration.getRootPath()+r},n.prototype.getActionUrl=function(n,t,i){if(!this.isSameHost)return this.getPublicActionUrl(n,t,i);var r=this._constructActionUrl(n,t,i);return this.configuration.getRootPath()+r},n.prototype.getExtensionActionUrl=function(n,t){return this._getExtensionActionUrlFragment(n,t)},n.prototype.getExtensionActionFullUrl=function(n,t,i,r){var u=this.getActionUrl();return this._getExtensionActionFullUrlFragment(u,n,t,i,r)},n.prototype.getExtensionActionHostUrl=function(n,t,i,r){var u=this.navigation.serviceHost.uri,f=u+this.contextData.project.id+"/";return this._getExtensionActionFullUrlFragment(u,n,t,i,r)},n.prototype.getCollectionActionUrl=function(n,t,i,r){var u=this._constructActionUrl(t,i,r);return this.configuration.getRootPath()+n+"/"+u},n.prototype.getCollectionTfsContext=function(n){var t=$.extend(!0,{},this);return t.navigation.serviceHost=n,t.navigation.collection=n,t.contextData=$.extend(!0,{},t.contextData),t.contextData.host.id=n.instanceId,t.contextData.host.name=n.name,t.contextData.host.uri=n.uri,t.contextData.host.relativeUri=n.vDir,t.contextData.host.hostType=e.ContextHostType.ProjectCollection,t.contextData.collection=t.contextData.host,t},n.prototype.getPermalinkUrl=function(n,t,i){var r=this._constructPermalinkUrl(n,t,i);return this.configuration.getRootPath()+r},n.prototype.getIdentityImageUrl=function(t,i){var r={area:n._API,project:"",id:t,t:s};return this.getActionUrl("IdentityImage","common",$.extend(r,i))},n.prototype.isEmbedded=function(){return!!this.getClientHost()},n.prototype.getClientHost=function(){return r.getPageContext().webAccessConfiguration.clientHost},n.prototype._constructActionUrl=function(t,r,u){var s=this.navigation,e=[],c,a,v,f,l,w,b,d,o,k,y,p;if(b=s.areaPrefix||"",d=s.controllerPrefix||"",f=$.extend({},u),o=f.area,typeof o=="undefined"&&(o=s.area),delete f.area,c=f.serviceHost,typeof c=="undefined"&&(c=s.serviceHost),c&&(c.relVDir&&e.push(encodeURI(c.relVDir)),c.hostType===h.ProjectCollection&&(k=this._shouldBuildApiUrl(o,f),a=f.project,typeof a=="undefined"&&(a=k?s.projectId:s.project),a&&(e.push(encodeURIComponent(a)),v=f.team,typeof v=="undefined"&&(v=k?s.teamId:s.team),v&&e.push(encodeURIComponent(v))))),delete f.serviceHost,delete f.project,delete f.team,o)if(Array.isArray(o))for(y=o,y.length>0&&e.push(encodeURIComponent(b+y[0])),p=1;p<y.length;p++)e.push(encodeURIComponent(y[p]));else e.push(encodeURIComponent(b+o));return r||(r=f.controller),delete f.controller,t||(t=f.action),delete f.action,l=f.parameters,delete f.parameters,l&&(r||(r=n._DEFAULT_CONTROLLER_NAME),t||(t=n._DEFAULT_ACTION_NAME)),r&&(e.push(encodeURIComponent(d+r)),t&&(e.push(encodeURIComponent(t)),l&&(Array.isArray(l)?e.push.apply(e,$.map(l,encodeURIComponent)):e.push(encodeURIComponent(l))))),(f.includeVersion||o===n._API)&&(f[n._VERSION]=this.configuration.getWebApiVersion()),f.includeLanguage&&i.uiCulture&&(f[n._LANGUAGE]=i.uiCulture),delete f.includeVersion,f.area!==n._API&&this.getClientHost()&&(f[n._CLIENTHOST]=this.getClientHost()),w=$.param(f),e.join("/")+(w?"?"+w:"")},n.prototype._constructPermalinkUrl=function(t,i,r){var s=this.navigation,u=[],f=$.extend({},r),o,h=s.controllerPrefix||"",c=i||f.controller||n._DEFAULT_CONTROLLER_NAME,l=t||f.action||n._DEFAULT_ACTION_NAME,e=f.parameters;return u.push(n._PERMALINK_PREFIX),u.push(encodeURIComponent(h+c)),u.push(encodeURIComponent(l)),delete f.controller,delete f.action,delete f.parameters,e&&(Array.isArray(e)?u.push.apply(u,$.map(e,encodeURIComponent)):u.push(encodeURIComponent(e))),o=$.param(f),u.join("/")+(o?"?"+o:"")},n.prototype._shouldBuildApiUrl=function(t,i){var r;return t&&(r=Array.isArray(t)?t[0]:t),i.useApiUrl||r===n._API&&(typeof i.useApiUrl=="undefined"||i.useApiUrl)},n.prototype._getExtensionActionUrlFragment=function(n,t){return u.getHistoryService().getFragmentActionLink(n,t)},n.prototype._getExtensionActionFullUrlFragment=function(n,t,i,r,f){var e=u.getHistoryService().getFragmentActionLink(r,f);return n+this._getExtensionFullUrl(t,i)+e},n.prototype._getExtensionFullUrl=function(n,t){return!t?"/_apps/hub/".concat(n):"/".concat(t)},n._DEFAULT_CONTROLLER_NAME="home",n._DEFAULT_ACTION_NAME="index",n._CLIENTHOST="clientHost",n._VERSION="__v",n._LANGUAGE="__loc",n._PERMALINK_PREFIX="_permalink",n._API="api",n.ControlExtensions={initializeEnhancementOptions:function(t,i){return $.extend({},i,{tfsContext:n.getContextOrDefault(t)})}},n}();t.TfsContext=c});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.UserDialog",["require","exports","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/Controls/Dialogs","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","VSS/Utils/Html"],function(n,t,i,r,u,f,e,o){var h,s,c;Object.defineProperty(t,"__esModule",{value:!0});t.DialogUtils=t.UserDialog=void 0;h=i.delegate;s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){var r=this,i;this._callback=t.callback;this._dialogtitle=t.title;this._defaultEscBtnId=t.escapeButton;i={};t.btns.forEach(function(n){i[n.id]={id:n.id,text:n.displayText,click:h(r,r._buttonClick,n.id)}});n.prototype.initializeOptions.call(this,$.extend({resizable:!1,draggable:!1,hideCloseButton:!0,buttons:i},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this)},t.prototype.getTitle=function(){return this._dialogtitle||r.empty},t.prototype.onClose=function(n){n.keyCode===u.KeyCode.ESCAPE&&this._buttonClick(n,this._defaultEscBtnId)},t.prototype._buttonClick=function(n,t){this._callback&&this._callback(t);this._closeDialogBox()},t.prototype._closeDialogBox=function(){this.close();this.dispose()},t}(f.ModalDialog);t.UserDialog=s;c=function(){function n(){}return n.confirm=function(t,i,u){var h={dialogTitle:u?u:e.DefaultConfirmDialogBoxTitle,dialogContent:t?t:r.empty,dialogButtons:[{id:n.OK_BTN_ID,displayText:e.ModalDialogOk},{id:n.CANCEL_BTN_ID,displayText:e.ModalDialogCancel}]},o=n._createOptions(h);return o.callback=function(t){t===n.OK_BTN_ID?i(!0):i(!1)},o.defaultButton=n.OK_BTN_ID,o.escapeButton=n.CANCEL_BTN_ID,f.Dialog.show(s,o)},n.alert=function(t,i,u){var h={dialogTitle:u?u:e.DefaultAlertDialogBoxTitle,dialogContent:t?t:r.empty,dialogButtons:[{id:n.OK_BTN_ID,displayText:e.ModalDialogOk}]},o=n._createOptions(h);return o.callback=function(t){t===n.OK_BTN_ID&&(i?i():(function(){}))},o.defaultButton=n.OK_BTN_ID,o.escapeButton=n.OK_BTN_ID,f.Dialog.show(s,o)},n.showUserDialog=function(t,i,r,u){var e=n._createOptions(t);return e.callback=i,e.defaultButton=r,e.escapeButton=u,f.Dialog.show(s,e)},n._createOptions=function(n){return{title:n.dialogTitle?n.dialogTitle:r.empty,content:this._getContentForDialog(n.dialogContent),btns:n.dialogButtons}},n._getContentForDialog=function(n){var t=$("<div/>"),i=o.HtmlNormalizer.normalize(this._getDialogContentHtmlString(n));return t.html(i),t},n._getDialogContentHtmlString=function(n){var t="",s,i,u,f,h,r,e,o;if(!!n)for(s=n.split("\r\n"),i=0,u=s;i<u.length;i++)if(f=u[i],!f)t=t+"<br>";else for(h=f.split("\n"),r=0,e=h;r<e.length;r++)o=e[r],!o||(t=t+"<span>"+o+"<\/span>"),t=t+"<br>";return t},n.OK_BTN_ID="Ok",n.CANCEL_BTN_ID="Cancel",n}();t.DialogUtils=c});

define("DistributedTaskControls/Common/Common",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st;Object.defineProperty(t,"__esModule",{value:!0});t.BitbucketAzurePipelinesOAuthAppId=t.NewServiceConnectionUXConstants=t.ReactCSSTransitionStates=t.FunctionKeyCodes=t.DomAttributeConstants=t.DefaultBreadcrumbDisplayedItems=t.PICKLIST_MULTI_SELECT_FLAT_LIST_TYPE=t.PICKLIST_MULTI_SELECT_TREE_TYPE=t.INPUT_TYPE_PROPERTY_MANAGE_ICON=t.INPUT_TYPE_PROPERTY_MANAGE_BUTTON_NAME=t.INPUT_TYPE_PROPERTY_MANAGE_LINK=t.INPUT_TYPE_PROPERTY_ENABLE_MANAGE=t.INPUT_TYPE_PROPERTY_DISABLED=t.INPUT_TYPE_PROPERTY_EDITABLE_OPTIONS=t.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST=t.INPUT_TYPE_PROPERTY_MULTI_SELECT=t.STRING_BACKSLASH=t.STRING_SPACE=t.BOOLEAN_FALSE=t.BOOLEAN_TRUE=t.CONTROL_OPTIONS_GROUP=t.INPUT_TYPE_BRANCHFILTER=t.INPUT_TYPE_IDENTITIES=t.INPUT_TYPE_EXPRESSION_EDITOR=t.INPUT_TYPE_STRING=t.INPUT_TYPE_STRING_LIST=t.INPUT_TYPE_MULTI_LINE=t.INPUT_TYPE_PICK_LIST=t.INPUT_TYPE_RADIO=t.INPUT_TYPE_CONNECTED_SERVICE=t.INPUT_TYPE_AZURE_CONNECTION=t.INPUT_TYPE_BOOLEAN=t.INPUT_TYPE_ARTIFACT_PATH=t.INPUT_TYPE_FILE_PATH=t.DotSeparator=t.SemiColonWithSpace=t.SemiColon=t.CommaSeparatorWithSpace=t.CommaSeparator=t.MaxPositiveNumber=t.KEY_COPY_AS_YAML=t.KEY_VIEW_AS_YAML=t.KEY_MANAGE_TASK_GROUP=t.KEY_CREATE_TASK_GROUP=t.KEY_EXPORT_TASKS=t.KEY_CLONE_TASKS=t.KEY_REMOVE_TASKS=t.KEY_DISABLE_TASKS=t.KEY_ENABLE_TASKS=t.SHIFT_KEY=t.CNTRL_KEY=t.Workflow=t.Properties=t.HelpLinks=t.PhaseConstants=t.AgentsStoreChangedEvents=t.TaskListStoreChangedEvents=t.TaskConditions=t.TaskControlOptionsOverridInputConstants=t.TaskControlOptionsConstants=t.TaskListStoreInstanceId=t.TaskCIHubContributionId=t.MetaTaskHubContributionId=t.BRANCH_FILTER_PREFIX=t.DEPLOY_PHASE_ITEM_PREFIX=t.TASK_ITEM_PREFIX=t.AGENTS_STORE_INSTANCE_ID=t.TASK_DEFINITION_DATA_KEY=t.InputState=t.EnvironmentVariableConstants=t.DeploymentGroupConstants=t.DemandConstants=t.DemandCondition=t.ProcessParameterConstants=t.ServiceEndpointType=t.DataSourceNames=t.EndpointAuthorizationSchemes=t.ServiceEndpointConstants=t.ConnectedServiceIds=t.MessageParentKeyConstants=t.StoreKeys=t.ActionCreatorKeys=t.ActionsKeys=t.FeatureFlag_LimitPermissionForAllPipelinesSettingProtectedResources=t.FeatureFlag_ExcludeTaskNewDefaultInput=t.FeatureFlag_BitbucketAzurePipelinesOAuthClient=t.FeatureFlag_DoNotAuthorizeAllPipelinesByDefault=t.FeatureFlag_EnableNewUIForAzureRMEndpoint=t.FeatureFlag_CanvasGraphPerformanceImprovement=t.FeatureFlag_ResourceAuthForVGEndpoint=t.FeatureFlag_ShareVariableGroups=t.FeatureFlag_EnableOldTaskGroupHub=t.FeatureFlag_ExcludeDefaultTaskGroupParameters=t.FeatureFlag_TaskValidateOutputVariables=t.FeatureFlag_TaskShowOutputVariables=t.FeatureFlag_EnableIdentityNavigation=t.FeatureFlag_MarketplaceExtensionSupport=t.FeatureFlag_CDProcessParameters=void 0;t.FeatureFlag_CDProcessParameters="WebAccess.ReleaseManagement.ProcessParameters";t.FeatureFlag_MarketplaceExtensionSupport="WebAccess.Build.CIWorkflow.MarketplaceExtensionSupport";t.FeatureFlag_EnableIdentityNavigation="VisualStudio.Services.Framework.EnableIdentityNavigation";t.FeatureFlag_TaskShowOutputVariables="DistributedTask.TaskOutputVariables";t.FeatureFlag_TaskValidateOutputVariables="DistributedTask.TaskValidateOutputVariables";t.FeatureFlag_ExcludeDefaultTaskGroupParameters="DistributedTask.ExcludeDefaultTaskGroupParameters";t.FeatureFlag_EnableOldTaskGroupHub="WebAccess.DistributedTask.EnableOldTaskGroupHub";t.FeatureFlag_ShareVariableGroups="WebAccess.DistributedTask.ShareVariableGroups";t.FeatureFlag_ResourceAuthForVGEndpoint="WebAccess.DistributedTask.ResourceAuthorization.VGEndpoint";t.FeatureFlag_CanvasGraphPerformanceImprovement="WebAccess.DistributedTask.CanvasGraphPerformanceImprovement";t.FeatureFlag_EnableNewUIForAzureRMEndpoint="ServiceEndpoints.EnableNewUIForAzureRMEndpoint";t.FeatureFlag_DoNotAuthorizeAllPipelinesByDefault="Pipelines.Policy.DoNotAuthorizeAllPipelinesByDefault";t.FeatureFlag_BitbucketAzurePipelinesOAuthClient="Build2.BitbucketAzurePipelinesOAuthClient";t.FeatureFlag_ExcludeTaskNewDefaultInput="DistributedTask.ExcludeTaskNewDefaultInput";t.FeatureFlag_LimitPermissionForAllPipelinesSettingProtectedResources="Pipelines.Policy.LimitPermissionForAllPipelinesSettingProtectedResources",function(n){n.AgentsActions="Common.AgentsActions";n.AgentPoolActions="Common.AgentPoolActions";n.ConnectedServiceEndpointActions="Common.ConnectedServiceEndpointActions";n.ContainerTabActions="Common.ContainerTabActions";n.ContributionActions="Common.ContributionActions";n.DemandActions="Common.DemandActions";n.DependenciesActions="Common.DependenciesActions";n.DeploymentGroupsActions="Common.DeploymentGroupsActions";n.ExtensionItemListActions="Common.ExtensionItemListActions";n.MachinesActions="Common.MachinesActions";n.DeployPhaseActions="Common.DeployPhaseActions";n.PhaseInputsActions="Common.PhaseInputsActions";n.DeployPhaseListActions="Common.DeployPhaseListActions";n.HistoryActions="Common.HistoryActions";n.ItemSelectorActions="Common.ItemSelectorActions";n.LinkUnlinkProcParamsDialogViewActions="Common.LinkUnlinkProcParamsDialogViewActions";n.MessageHandlerActions="Common.MessageHandlerActions";n.OverlayPanelActions="Common.OverlayPanelActions";n.ProcessParameterActions="Common.ProcessParameterActions";n.SaveStatusActions="Common.SaveStatusActions";n.SecureFileActions="Common.SecureFileActions";n.TaskAgentPoolActions="Common.TaskAgentPoolActions";n.TaskItemListActions="Common.TaskItemListActions";n.TaskGroupDialogActions="Common.TaskGroupDialogActions";n.TaskGroupPropertiesActions="Common.TaskGroupPropertiesActions";n.TaskGroupParametersActions="Common.TaskGroupParametersActions";n.TaskListActions="Common.TaskListActions";n.TemplateActions="Common.TemplateActions";n.VariableGroupActions="Common.VariableGroupActions";n.ValidatorActions="Common.ValidatorActions";n.ConnectedServiceValidatorActions="Common.ConnectedServiceValidatorActions";n.ConnectedServiceInputActions="Common.ConnectedServiceInputActions";n.LiveLogsActions="Common.LiveLogsActions";n.LogsExpandedViewActions="Common.LogsExpandedViewActions";n.LoadableComponentActions="Common.LoadableComponentActions";n.ProcessManagementActions="Common.ProcessManagementActions"}(i=t.ActionsKeys||(t.ActionsKeys={})),function(n){n.AgentsActionsCreator="Common.AgentsActionsCreator";n.AgentPoolActionsCreator="Common.AgentPoolActionsCreator";n.ARMInputActionsCreator="Common.ARMInputActionsCreator";n.ConnectedServiceEndpoint_ActionCreator="Common.ConnectedServiceEndpointActionsCreator";n.ConnectedServiceInputActionsCreator="Common.ConnectedServiceInputActionsCreator";n.ContributionActionsCreator="Common.ContributionActionsCreator";n.DemandActionsCreator="Common.DemandActionsCreator";n.DependenciesActionsCreator="Common.DependenciesActionsCreator";n.DeploymentGroupsActionsCreator="Common.DeploymentGroupsActionsCreator";n.MachinesActionsCreator="Common.MachinesActionsCreator";n.DeployPhaseActionsCreator="Common.DeployPhaseActionsCreator";n.ExtensionActionsCreator="Common.ExtensionActionsCreator";n.PhaseInputsActionsCreator="Common.PhaseInputsActionsCreator";n.DeployPhaseListActionsCreator="Common.DeployPhaseLitActionsCreator";n.HistoryActionsCreator="Common.HistoryActionsCreator";n.LinkUnlinkProcParamsDialogViewActionCreator="Common.LinkUnlinkProcParamsDialogViewActionsCreator";n.MessageHandlerActionsCreator="Common.MessageHandlerActionsCreator";n.OverlayPanelActionsCreator="Common.OverlayPanelActionsCreator";n.PickListInputActionsCreator="Common.PickListInputActionsCreator";n.ProcessParameterActionsCreator="Common.ProcessParameterActionsCreator";n.SaveStatusActionsCreator="Common.SaveStatusActionsCreator";n.SecureFileActionsCreator="Common.SecureFileActionsCreator";n.TaskActionsCreator="Common.TaskActionsCreator";n.TaskAgentPoolActionsCreator="Common.TaskAgentPoolActionsCreator";n.TaskDetailsActionsCreator="Common.TaskDetailsActionsCreator";n.TaskGroupDialogActionsCreator="Common.TaskGroupDialogActionsCreator";n.TaskGroupPropertiesActionCreator="Common.TaskGroupPropertiesActionCreator";n.TaskGroupParametersActionCreator="Common.TaskGroupParametersActionCreator";n.TaskListActionsCreator="Common.TaskListActionsActionsCreator";n.TemplateActionsCreator="Common.TemplatesActionsCreator";n.VariableGroupActionsCreator="Common.VariableGroupActionsCreator";n.ValidatorActionsCreator="Common.ValidatorActionsCreator";n.LogsExpandedViewActionsCreator="Common.LogsExpandedViewActionsCreator";n.LiveLogsActionsCreator="Common.LiveLogsActionsCreator";n.LoadableComponentActionsCreator="Common.LoadableComponentActionsCreator"}(r=t.ActionCreatorKeys||(t.ActionCreatorKeys={})),function(n){n.AgentsStore="Common.AgentsStore";n.ARMInputStore="Common.ARMInputStore";n.ConnectedServiceEndpointStore="Common.ConnectedServiceEndpointStore";n.ContainerTabStore="Common.ContainerTabStore";n.ContributionsStore="Common.ContributionsStore";n.DemandsStore="Common.DemandsStore";n.DependenciesStore="Common.DependenciesStore";n.DeploymentGroupDemandsStore="Common.DeploymentGroupDemandsStore";n.DeploymentGroupsStore="Common.DeploymentGroupsStore";n.MachinesStore="Common.MachinesStore";n.DeployPhaseListStore="Common.DeployPhaseListStore";n.ExecutionPlanStore="Common.ExecutionPlanStore";n.ExtensionItemListStore="Common.ExtensionItemListStore";n.HistoryStore="Common.HistoryStore";n.LinkUnlinkProcParamsDialogViewStore="Common.LinkUnlinkProcParamsDialogViewStore";n.MessageHandlerStore="Common.MessageHandlerStore";n.OverlayPanelStore="Common.OverlayPanelStore";n.PhaseStoreBase="Common.PhaseStoreBase";n.PhaseInputsStore="Common.PhaseInputsStore";n.MachineGroupInputsStore="Common.MachineGroupInputsStore";n.DefaultPhaseStore="Common.DefaultPhaseStore";n.RunOnAgentPhaseStore="Common.RunOnAgentPhaseStore";n.RunOnMachineGroupPhaseStore="Common.RunOnMachineGroupPhaseStore";n.RunOnServerPhaseStore="Common.RunOnServerPhaseStore";n.SaveStatusStore="Common.SaveStatusStore";n.SecureFilesStore="Common.SecureFilesStore";n.TaskAgentPoolStore="Common.TaskAgentPoolStore";n.TaskItemListStore="Common.TaskItemListStore";n.TaskDetailsStore="Common.TaskDetailsStore";n.TaskGroupDialogStore="Common.TaskGroupDialogStore";n.TaskGroupPropertiesStore="Common.TaskGroupPropertiesStore";n.TaskGroupParametersStore="Common.TaskGroupParametersStore";n.TaskListStore="Common.TaskListStore";n.TemplatesStore="Common.TemplatesStore";n.VariableGroupDataStore="Common.VariableGroupDataStore";n.VariableGroupViewStore="Common.VariableGroupViewStore";n.ProcessParameterViewStore="Common.ProcessParameterViewStore";n.LinkVariableGroupPanelDataStore="Common.LinkVariableGroupPanelDataStore";n.LinkVariableGroupPanelViewStore="Common.LinkVariableGroupPanelViewStore";n.VariablesListStore="Common.VariablesListStore";n.ConnectedServiceInputStore="Common.ConnectedServiceInputStore";n.LiveLogsStore="Common.LiveLogsStore";n.LoadableComponentStore="Common.LoadableComponentStore";n.ScopePickerStore="Common.ScopePickerStore";n.LogsExpandedViewStore="Common.LogsExpandedViewStore";n.EditVariableGroupPanelStore="Common.EditVariableGroupPanelStore";n.ProcessManagementStore="Common.ProcessManagementStore"}(u=t.StoreKeys||(t.StoreKeys={})),function(n){n.MainParentKey="Main"}(f=t.MessageParentKeyConstants||(t.MessageParentKeyConstants={})),function(n){n.GitHub="github"}(e=t.ConnectedServiceIds||(t.ConnectedServiceIds={})),function(n){n.BitbucketServerUrl="https://bitbucket.org";n.GitHubServerUrl="https://github.com"}(o=t.ServiceEndpointConstants||(t.ServiceEndpointConstants={})),function(n){n.UsernamePassword="UsernamePassword";n.Certificate="Certificate";n.ServicePrincipal="ServicePrincipal";n.PersonalAccessToken="PersonalAccessToken";n.OAuth="OAuth";n.OAuth2="OAuth2";n.InstallationToken="InstallationToken"}(s=t.EndpointAuthorizationSchemes||(t.EndpointAuthorizationSchemes={})),function(n){n.UserRepositoriesAsOwner="UserRepositoriesAsOwner";n.Repository="Repository";n.SearchRepositoriesByNameForTasks="SearchRepositoriesByNameForTasks";n.SearchRepositoriesByNameWithinOrg="SearchRepositoriesByNameWithinOrg";n.InstallationRepos="InstallationRepos"}(h=t.DataSourceNames||(t.DataSourceNames={})),function(n){n.ExternalGit="git";n.GitHub="github";n.Bitbucket="bitbucket";n.Subversion="subversion";n.GitHubBoards="githubboards"}(c=t.ServiceEndpointType||(t.ServiceEndpointType={})),function(n){n.OldProcessParameterPrefix="ProcParam";n.OldProcessParameterBoundInputValueFormat="$("+n.OldProcessParameterPrefix+".{0})";n.OldProcessParameterVariableNameFormat=n.OldProcessParameterPrefix+".{0}";n.NewProcessParameterPrefix="Parameters";n.NewProcessParameterBoundInputValueFormat="$("+n.NewProcessParameterPrefix+".{0})";n.NewProcessParameterVariableNameFormat=n.NewProcessParameterPrefix+".{0}"}(l=t.ProcessParameterConstants||(t.ProcessParameterConstants={})),function(n){n.Exists="exists";n.Equals="equals"}(a=t.DemandCondition||(t.DemandCondition={})),function(n){n.nameColumnKey="name";n.conditionColumnKey="condition";n.valueColumnKey="value";n.machinesMissingDemandColumnKey="machinesMissingDemand";n.iconColumnKey="icon";n.deleteColumnKey="delete";n.maxTargetToShow=10}(v=t.DemandConstants||(t.DemandConstants={})),function(n){n.InvalidDeploymentGroupId="-1"}(y=t.DeploymentGroupConstants||(t.DeploymentGroupConstants={})),function(n){n.iconColumnKey="icon";n.nameColumnKey="name";n.valueColumnKey="value";n.deleteColumnKey="delete"}(p=t.EnvironmentVariableConstants||(t.EnvironmentVariableConstants={})),function(n){n[n.Valid=0]="Valid";n[n.Invalid_NonPositiveNumber=1]="Invalid_NonPositiveNumber";n[n.Invalid_InputRequired=2]="Invalid_InputRequired";n[n.Invalid_VariableOrNonPositiveNumber=4]="Invalid_VariableOrNonPositiveNumber";n[n.Invalid=5]="Invalid";n[n.Invalid_SelectedOptionNotPresent=6]="Invalid_SelectedOptionNotPresent"}(w=t.InputState||(t.InputState={}));t.TASK_DEFINITION_DATA_KEY="task-definition-data-key";t.AGENTS_STORE_INSTANCE_ID="ci-agents-instance";t.TASK_ITEM_PREFIX="common-taskitem-";t.DEPLOY_PHASE_ITEM_PREFIX="common-phaseitem";t.BRANCH_FILTER_PREFIX="common-branch-filter-";t.MetaTaskHubContributionId="ms.vss-releaseManagement-web.hub-metatask";t.TaskCIHubContributionId="ms.vss-ciworkflow.build-ci-hub";t.TaskListStoreInstanceId="default-task-list-store-instance-id",function(n){n.ControlOptionsInputName_Enabled="ControlOptionEnabled";n.ControlOptionsInputName_ContinueOnError="ControlOptionContinueOnError";n.ControlOptionsInputName_AlwaysRun="ControlOptionAlwaysRun";n.ControlOptionsInputName_TimeOut="ControlOptionTimeOut";n.ControlOptionsInputName_ConditionSelector="ControlOptionConditionSelector";n.ControlOptionsInputName_ConditionEditor="ControlOptionConditionEditor";n.ControlOptionsInputName_RetryCount="ControlOptionRetryCount"}(b=t.TaskControlOptionsConstants||(t.TaskControlOptionsConstants={})),function(n){n.TimeoutInMinutes="timeoutInMinutes";n.RetryCount="retryCountOnTaskFailure"}(k=t.TaskControlOptionsOverridInputConstants||(t.TaskControlOptionsOverridInputConstants={})),function(n){n.Succeeded="succeeded()";n.SucceededOrFailed="succeededOrFailed()";n.Failed="failed()";n.Always="always()";n.Custom=""}(d=t.TaskConditions||(t.TaskConditions={})),function(n){n.TasksSelectionUpdatedEvent="TASKLIST_STORE_EVENT_TASKS_SELECTION_UPDATED"}(g=t.TaskListStoreChangedEvents||(t.TaskListStoreChangedEvents={})),function(n){n.AgentSpecificationsChangedEvent="AGENTS_STORE_AGENT_SPECIFICATION_UPDATED"}(nt=t.AgentsStoreChangedEvents||(t.AgentsStoreChangedEvents={})),function(n){n.DefaultPhaseRefNameFormat="Phase_{0}"}(tt=t.PhaseConstants||(t.PhaseConstants={})),function(n){n.DefaultMarketplaceLink="https://go.microsoft.com/fwlink/?LinkId=797831";n.BuildReleaseHelpLink="https://go.microsoft.com/fwlink/?LinkId=619385"}(it=t.HelpLinks||(t.HelpLinks={})),function(n){n.IsSearchable="IsSearchable";n.SearchDataSourceName="SearchDataSourceName"}(rt=t.Properties||(t.Properties={})),function(n){n[n.Build=0]="Build";n[n.Release=1]="Release"}(ut=t.Workflow||(t.Workflow={}));t.CNTRL_KEY="ctrl-key";t.SHIFT_KEY="shift-key";t.KEY_ENABLE_TASKS="enable-tasks";t.KEY_DISABLE_TASKS="disable-tasks";t.KEY_REMOVE_TASKS="remove-tasks";t.KEY_CLONE_TASKS="clone-tasks";t.KEY_EXPORT_TASKS="export-tasks";t.KEY_CREATE_TASK_GROUP="create-task-group";t.KEY_MANAGE_TASK_GROUP="manage-task-group";t.KEY_VIEW_AS_YAML="view-as-yaml";t.KEY_COPY_AS_YAML="copy-as-yaml";t.MaxPositiveNumber=1e9;t.CommaSeparator=",";t.CommaSeparatorWithSpace=", ";t.SemiColon=";";t.SemiColonWithSpace="; ";t.DotSeparator=".";t.INPUT_TYPE_FILE_PATH="filepath";t.INPUT_TYPE_ARTIFACT_PATH="artifactpath";t.INPUT_TYPE_BOOLEAN="boolean";t.INPUT_TYPE_AZURE_CONNECTION="azureconnection";t.INPUT_TYPE_CONNECTED_SERVICE="connectedservice";t.INPUT_TYPE_RADIO="radio";t.INPUT_TYPE_PICK_LIST="picklist";t.INPUT_TYPE_MULTI_LINE="multiline";t.INPUT_TYPE_STRING_LIST="stringlist";t.INPUT_TYPE_STRING="string";t.INPUT_TYPE_EXPRESSION_EDITOR="expressioneditor";t.INPUT_TYPE_IDENTITIES="identities";t.INPUT_TYPE_BRANCHFILTER="branchfilter";t.CONTROL_OPTIONS_GROUP="ControlOptions";t.BOOLEAN_TRUE="true";t.BOOLEAN_FALSE="false";t.STRING_SPACE=" ";t.STRING_BACKSLASH="\\";t.INPUT_TYPE_PROPERTY_MULTI_SELECT="MultiSelect";t.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST="MultiSelectFlatList";t.INPUT_TYPE_PROPERTY_EDITABLE_OPTIONS="EditableOptions";t.INPUT_TYPE_PROPERTY_DISABLED="Disabled";t.INPUT_TYPE_PROPERTY_ENABLE_MANAGE="EnableManage";t.INPUT_TYPE_PROPERTY_MANAGE_LINK="ManageLink";t.INPUT_TYPE_PROPERTY_MANAGE_BUTTON_NAME="ManageButtonName";t.INPUT_TYPE_PROPERTY_MANAGE_ICON="ManageIcon";t.PICKLIST_MULTI_SELECT_TREE_TYPE="treeList";t.PICKLIST_MULTI_SELECT_FLAT_LIST_TYPE="flatList";t.DefaultBreadcrumbDisplayedItems=2,function(n){n.TabIndex="tabindex";n.TabIndexMinusOne="-1";n.TabIndexZero="0";n.DataIsFocusableAttrib="data-is-focusable";n.ReadOnlyAttrib="readonly";n.DisabledAttrib="disabled";n.FirstFocusAttrib="data-first-focus-element"}(ft=t.DomAttributeConstants||(t.DomAttributeConstants={})),function(n){n.F6=117}(et=t.FunctionKeyCodes||(t.FunctionKeyCodes={})),function(n){n[n.None=0]="None";n[n.Enter=1]="Enter";n[n.EnterActive=2]="EnterActive";n[n.Leave=3]="Leave";n[n.LeaveActive=4]="LeaveActive"}(ot=t.ReactCSSTransitionStates||(t.ReactCSSTransitionStates={})),function(n){n.FeatureId="ms.vss-distributedtask-web.new-serviceconnections-ui";n.FeatureDataProviderId="ms.vss-releaseManagement-web.new-service-connections-ux-feature-state-data-provider"}(st=t.NewServiceConnectionUXConstants||(t.NewServiceConnectionUXConstants={}));t.BitbucketAzurePipelinesOAuthAppId="744a24d8-54a8-4947-9320-d63745191082"});

define("DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary",["require","exports"],function(require,exports){var e=exports;e.WizardSave="Save";e.WizardNext="Next";e.CreateAutoSpnFooter="A new Azure service principal will be created and assigned with \"Contributor\" role, having access to all resources within the subscription. Optionally, you can select the Resource Group to which you want to limit access.\u003cbr/\u003e\u003cbr/\u003eIf your subscription is not listed above, or your organization is not backed by Azure Active Directory, or to specify an existing service principal,";e.NoMatchingSubscriptionFound="No matching subscription or service connection was found";e.Task_DurationInProgressFormat="Running for {0} ({1})";e.RunOnServerTaskTypeDescription="Tasks are shown that will run on the server. Currently, only one task can be added to a server job.";e.AgentAcquisitionRunAsLaunchAgentServiceText="To run as a LaunchAgent service see \u003ca target=\"_blank\" href=\"https://go.microsoft.com/fwlink/?LinkID=821556\"\u003ehere\u003c/a\u003e";e.ManagementGroupName="Management Group name";e.ErrorWhileAuthorizingOnSubscription="Could not authorize to query on the selected subscription.";e.SubscriptionIdInvalid="The subscription ID must be a valid GUID";e.MetataskInstanceNameFormat="Task group: {0} {1}";e.ConnectionLabel="Connection:";e.NoGenericConnectionFound="No generic service connection was found";e.AgentAcquisitionPlatformOsxVersion="macOS {0}";e.WebAppName="WebApp Name";e.AzureRMEndpointHelpText="Select the Azure service connection to deploy. To configure a new service connection, select the Azure subscription from the list and click \u0027Authorize\u0027.\r\n\r\nNote: If your subscription is not listed or if you want to use an existing service principal, you can set up an Azure service connection using the \u0027Add\u0027 or \u0027Manage\u0027 link.";e.ServiceConnectionDefaultAuthText="Allow all pipelines to use this connection.";e.MetataskControlOptionsTooltipText="Setting the control option as \u0027false\u0027 in the task group will override the control option value in the sub-tasks. Otherwise, it honors the value set in sub-tasks. [Read more](https://go.microsoft.com/fwlink/?LinkId=761053).";e.VerifyServiceEndpointFailureSuggestion="Note: Verification may fail if the URL is not accessible from {0}. However, it might still be valid and accessible from the agent that executes the build or release.";e.AuthorizedUsingOAuthFormat="Authorized as user \u0027{0}\u0027";e.KubernetesAzureSubscriptionHelpText="Select Azure subscription to list clusters. Only Azure Cloud subscriptions are listed in the dropdown.";e.ErrorSavingEndpointPolicyDuringCreation="Service connection was created successfully, but there was an error in saving policy.{0}{1}";e.RunOnServerPhaseHeaderTooltip="A group of tasks that will run on the server";e.ConfigurationUrlFooterText="\u003cp\u003e If no configuration URL is displayed, add an OAuth configuration for {0} in your \u003ca href={1} target=\"_blank\"\u003eorganization settings\u003c/a\u003e. \u003c/p\u003e";e.Task_ErrorMessageForAzureEndpoint="The selected Azure service connection in the current task has been updated to service connection type \u0027Azure\u0027 under the \u0027Service connections\u0027 settings. Update the Azure connection type field for the current task with value \u0027Azure Classic\u0027.";e.KubernetesAcceptUntrustedCerts="Accept untrusted certificates";e.ManagementGroupsListedFromAzureCloud="Management Groups listed are from Azure Cloud";e.DockerRegistryAzureSubscriptionHelpText="Select Azure subscription to list container registries.";e.CreateAutoSpnFooterForMlWorkspace="A new Azure service principal will be created and assigned with the \"Contributor\" role, having access to all resources within the Workspace.\u003cbr/\u003e\u003cbr/\u003e";e.Task_TestCategoryText="Test";e.KubernetesServiceAccountCertificateHelpText="The ca.cert content if the Kubernetes API is using a TLS certificate. Use the ‘kubectl get serviceaccounts \u003cservice-account-name\u003e -o yaml’ and ‘kubectl get secret \u003cservice-account-secret-name\u003e  -o yaml’ commands to get the ca.cert content.";e.AzureContainerRegistryLabel="Azure container registry";e.DockerRegistryHelpText="The URL for your Docker Registry";e.AddTaskToPhase="Add a task to the job";e.KubernetesOperationStatusMessagePrefix="The following error occurred while setting up the Kubernetes service account: ";e.Environment="Environment";e.AuthorizedUsingPAT="Authorized using a personal access token";e.KubernetesServiceAccountTokenHelpText="The token for authenticating to Kubernetes. Use the ‘kubectl get serviceaccounts \u003cservice-account-name\u003e -o yaml’ and ‘kubectl get secret \u003cservice-account-secret-name\u003e  -o yaml’ commands to get the token.";e.AddUIContributionConnectionsDialogTitle="Add {0} service connection";e.SubscriptionsListedFromAzureCloud="Subscriptions listed are from Azure Cloud";e.GenerateLinkText="generate";e.DisplayNameText="Display name";e.Task_PreviewMajorVersionSpecFormat="{0} (preview)";e.KubernetesServiceAccountSecretYamlHelpText="Copy and paste the  output of the get service account secret command as mentioned below.";e.Task_AddServiceEndpointTitle="Add";e.AgentAcquisitionDialogTitle="Get the agent";e.MoreInformationTooltipText="More information";e.KubernetesServiceAccountCertificate="Certificate";e.ByText="by";e.AgentAcquisitionPlatformWindows="Windows";e.TaskEditorInputContainerLabel="Task editor input container";e.ProcessParameterGroupLabel="Parameters";e.KubernetesNamespaceHelpText="Select the namespace within the cluster.";e.EndpointCreationOperationFailed="Service connection creation operation failed";e.KubernetesServiceAccountAuthText="Service account";e.AgentAcquisitionDownloadAgentTitle="Download the agent";e.Task_AddTaskHelpDialogTitle="{0} help";e.ControlOptionsText="Control options";e.ConnectionStatusVerifying="Verifying...";e.KubernetesClusterUrl="Cluster URL";e.Task_SucceededWithIssues="Succeeded with issues";e.DocumentationText="Documentation";e.Tasks_MenuEnableText="Enable selected tasks";e.RunOnMachineGroupPhaseName="Run on deployment group";e.DockerPassword="Password";e.Task_ToolCategoryText="Tool";e.MSIConnectionNameTooltip="Enter the service connection name.";e.MethodExceptionInExtension="Error when invoking the \u0027{0}\u0027 method in the service connection UI contribution.";e.RequiredInputErrorMessage="This setting is required.";e.AgentAcquisitionRunAsSystemDServiceText="To run as a SystemD service see \u003ca target=\"_blank\" href=\"https://go.microsoft.com/fwlink/?LinkID=821557\"\u003ehere\u003c/a\u003e";e.Task_PackageCategoryText="Package";e.UsePAT="Use a personal access token";e.DeletePhaseIconTooltip="Delete the job \u0027{0}\u0027";e.ManualUpdateToAutoCreatedServiceEndpointNotSupported="Manual updates to service connections created in automatic flow are not supported";e.UseAutoSpnUpdateWindowFooter="To renew the service principal key automatically, ";e.TaskDeletedMessage="This task is no longer installed. Re-install the task or remove it from your build pipeline.";e.RunOnAgentPhaseHeaderTooltip="A group of tasks that will run on an agent";e.Task_HelpMessageForTaskCategory="Categorizes the task according to the selected option.";e.DraftText="Draft";e.Task_MiscCategoryText="Miscellaneous";e.MlWorkspacesListedFromAzureCloud="Machine Learning Workspaces listed are from Azure Cloud";e.SelectTemplateLinkText="Select a template";e.AzureManagementGroupDisplayName="{0} ({1})";e.UpdateAutoSpnFooter="The Azure service principal key will be renewed for this service connection.\u003cbr/\u003e\u003cbr/\u003eTo update using an existing service principal, ";e.AddPhaseLabel="Add a job";e.Tasks_MenuManageMetaTask="Manage the task group";e.SpnDialogHere="here";e.ScopeLevelText="Scope level";e.InternalErrorPrefix="Internal Error: ";e.Task_Failed="Failed";e.KubernetesHelpText="Copy and paste content of the kubeconfig file. The configuration information in your kubeconfig file allows Kubernetes clients to talk to your Kubernetes API servers. This file is used by kubectl and all supported Kubernetes clients.";e.GitHubAuthRequiredMessage="We need your authorization to access the GitHub repositories";e.AddTasksRegionLabel="Add tasks";e.Task_TaskRenameTooltip="Rename";e.SystemPrerequisites="System prerequisites";e.AgentAcquisitionConfigureAccountHtml="Configure your organization by following the steps outlined \u003ca target=\"_blank\" href=\"https://aka.ms/vstsagentroles\"\u003ehere\u003c/a\u003e.";e.ConfigurationUrl="{0} Configuration URL";e.KubernetesCheckAcceptUntrustedCertErrorHelpText="Could not establish a trust relationship for the SSL/TLS secure channel. Try enabling the accept untrusted certificates checkbox.";e.ServicePrincipalLinkLabel="Creation of Azure service principal";e.AzureServicePrincipalIdText="Service principal client ID";e.Task_Succeeded="Succeeded";e.ResourceGroupNameInvalid="Enter a valid resource group name";e.Subscription="Subscription";e.MoreInformation="More information";e.AddRunOnAgentTasksText="Add an agent job";e.ChooseRegistryTypeText="Choose registry type";e.TaskLearnMoreText="Learn more";e.KubernetesUnableToQueryNamespaces="Unable to query the namespaces as the kube config is not fetched. Please ensure you have selected a cluster on which you have permissions to fetch clusterAdmin kube config.";e.AgentAcquisitionPlatformLegacyWindows="Windows (legacy)";e.AuthorizationFailedFormat="Authorization failed: {0}";e.AzureSubscriptionLabel="Azure subscription";e.ServicePrincipalSetupInProgress="Setting up service principal for registry....";e.Task_BuildCategoryText="Build";e.KubernetesTitle="Add a Kubernetes service connection";e.ApplyTemplateButtonText="Apply";e.ErrorWhileParsingKubernetesClustersResponse="An error occurred while parsing the List Kubernetes clusters response. Internal error: ";e.WorkspaceNameInvalid="Enter a valid workspace name";e.AgentAcquisitionPlatformUbuntuVersion="Ubuntu {0}";e.Task_TaskEnabledText="Enabled";e.AddRunOnServerTasksText="Add a server job";e.DisabledText="(Disabled)";e.Task_DurationFormatSeconds="{0} seconds";e.Task_UtilityCategoryText="Utility";e.Tasks_MetaTaskDescTooltip="Help-text for task group inputs (optional).";e.WizardPrevious="Previous";e.SubscriptionNameInvalid="Enter a valid subscription name";e.CopyTaskDisplayNameFormat="{0} copy";e.DockerVerifyConnection="Verify this connection";e.TaskExtensionDisabledMessage="This task’s extension \"{0}\" has been disabled.";e.UpdateAutoSpnFooterForMLWorkspaceScope="The Azure service principal key will be renewed for this service connection.";e.KubernetesServiceAccountToken="Token";e.Task_TaskHelpTooltip="Click to see help";e.DeletePhaseConfirmation="You are about to delete the \u0027{0}\u0027 job and all its settings. This action cannot be reversed.";e.Task_Completed="Completed";e.ErrorThisAccountNotAAD="Error: This organization is not backed by Azure Active Directory.";e.DockerId="Docker ID";e.CreatePublishProfileEndpointFooter="Use this option if you want to create Azure endpoint targeting app-service via publish profile.";e.KubernetesChooseAuthTypeText="Choose authentication";e.CouldNotAuthenticateAAD="Could not authenticate to Azure Active Directory. If a popup blocker is enabled in the browser, disable it and try again.";e.ConnectionStatusNotVerified="Not verified";e.KubernetesNamespace="Namespace";e.ResourceGroup="Resource Group";e.AzureSubscriptionText="Azure Subscription";e.ErrorDeletingPolicy="Error disconnecting the service connection.Please try again.{0}{1}";e.PublishProfileConnectionNameTooltip="Enter the service connection name.";e.KubernetesServiceAccountDetailsHelpHeaderText="Get service account details";e.TaskGroup_InPreviewToolTip="These options are in preview";e.KubernetesAksClusterId="Cluster ID";e.Task_AzureConnectionManageTitle="Manage";e.RunOnServerPhaseName="Run on server";e.KubernetesRenewServiceAccount="Create new service account";e.AgentAcquisitionPlatformOsx="macOS";e.AzureSpnCertificate="Certificate";e.KubernetesCouldNotObtainClusterUrl="Could not obtain cluster URL from cluster properties. Unable to find property - fqdn";e.AppServiceNameInvalid="Enter a valid app service name";e.AuthSchemeSelector="Authentication scheme selector";e.ErrorWhileParsingKubernetesNamespacesResponse="An error occurred while parsing the List Kubernetes namespaces response. Internal error: ";e.Task_DurationFormatDays="{0} days";e.OnlyOneManualInterventionTaskIsAllowedError="Only one manual intervention task is allowed per run of a server job.";e.MSISubscriptionNameToolip="Enter the subscription name.";e.DockerRegistryTitle="Add a Docker Registry service connection";e.Tasks_MetaTaskDialogCreate="Create";e.Task_ErrorMessageForAzureRmEndpoint="The selected Azure service connection in the current task has been updated to service connection type \u0027Azure Resource Manager\u0027 under the \u0027Service connections\u0027 settings. Update the Azure connection type field for the current task with value \u0027Azure Resource Manager\u0027.";e.CouldNotFetchEndpointTypes="Could not retrieve available service connection types";e.ContinueOnErrorText="Continue on error";e.Task_DurationFormatHours="{0} hours";e.Task_NumTasksUpdateInProgress="{0} tasks are being updated and will be available soon.";e.Task_Canceled="Canceled";e.KubernetesServerUrlHelpText="API server address to access the Kubernetes API. For example, https://k8s.contoso.com, or in Azure, aks-contoso-cluster.hcp.eastus.azmk8s.io";e.KubernetesInvalidKubeconfig="The Kubconfig specified is invalid. Please check your Kubeconfig.";e.ManagementGroupNameInvalid="Enter a valid Management Group name";e.DockerConnectionLabel="Connection";e.AzureRMAvailableServiceConnections="Available Azure service connections";e.Task_ResetText="reset";e.DockerRegistryOperationStatusMessagePrefix="The following error occurred while setting up the service principal for registry : ";e.KubernetesClusterHelpText="Choose your cluster context.";e.AzureSubscriptionIdText="Subscription ID";e.Download="Download";e.MSISubscriptionIdTooltip="Enter the subscription ID to which the MSI-enabled agent has access.";e.ConnectionNameInvalid="Enter a valid connection name";e.ErrorDeletingEndpoint="Error disconnecting the service connection.Policies for the connection may have changed.Please try again.{0}{1}";e.AgentAcquisitionMoreInfoTitle="That’s it!";e.DockerRegistry="Docker Registry";e.Task_InvalidSectionName="{0}  *";e.MissingRequiredFieldMessage="Missing required setting(s)";e.SubscriptionNameMismatchError="Subscription name mismatch error. Subscription ID {0} has a display name of {1}.";e.AzureSubscriptionDisplayName="{0} ({1})";e.AzureServicePrincipalKeyText="Service principal key";e.DockerRegistryOthers="Others";e.CustomEndpointInvalidGuidInputMessage="{0} must be a valid GUID";e.Add="Add";e.Tasks_MenuCreateMetaTask="Create a task group";e.CreateMetaTaskDescriptionWatermarkText="Enter description";e.SpnKeyInvalid="Enter a valid service principal key";e.Token="Token";e.Task_UnableToCreateTaskGroupMessage="Unable to create the task group. Task {0} with runsOn value {1}, does not match with other child tasks.";e.UpdateUIContributionConnectionsDialogTitle="Update authentication for {0}";e.TaskGroup_Preview="Preview";e.ClipboardPasteLargeDataError="The clipboard data is too large to paste";e.TimeoutInMinutes="Timeout";e.ExternalLinkTooltipText="External link";e.TenantIdIsNullOrUndefinedForSubscription="No tenant ID exists for subscription {0}.";e.ServerUrl="Server URL";e.AddTask="Add task";e.Tasks_MetaTaskParamTooltip="Variables extracted from the selected tasks.";e.TaskGroupHeaderTooltip="Learn more about how you can run tasks on the server and agents. \u003ca href=\\\u0027https://www.visualstudio.com/docs/build/steps/deploy/manual-intervention\\\u0027 target=\\\u0027_blank\\\u0027\u003eMore information\u003c/a\u003e";e.VisualStudioTeamServicesProductName="Azure DevOps";e.UseAutoSpnCreateWindowFooter="To create a new service principal automatically, ";e.AgentAcquisitionPlatformLinux="Linux";e.DeleteTaskIconLabel="Delete task";e.TaskTypeDescriptioHelpUrl="https://go.microsoft.com/fwlink/?LinkID=825235";e.NoChefConnectionFound="No Chef service connection was found";e.ManagementGroup="Management Group";e.AgentAcquisitionCreateAgentTitle="Create the agent";e.LearnMoreAboutKubernetesLink="\u003ca href=\"https://go.microsoft.com/fwlink/?linkid=851275\" target=\"_blank\"\u003e\u003cb\u003eLearn more about Kubernetes\u003c/b\u003e\u003c/a\u003e";e.SpnClientIdInvalid="Enter a valid service principal client ID or name";e.KubernetesServiceAccountDetailsHelpSectionText="\u003cdiv id=\"kubernetesServiceAccountDetails\" class=\"kubernetes_sa_details\"\u003e\u003ccode\u003e# Copy the secret name from the output of the get secret command\u003cbr\u003e~/$ kubectl get serviceaccounts \u0026lt;service-account-name\u0026gt; -o yaml\u003cbr\u003e~/$ kubectl get secret \u0026lt;service-account-secret-name\u0026gt; -o yaml\u003c/code\u003e\u003c/div\u003e";e.ServicePrincipalTip="For help on creating an Azure service principal, see \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=623000\u0026clcid=0x409\" target=\"_blank\"\u003eservice connections\u003c/a\u003e.";e.TaskDefinitionListTitle="Add tasks";e.TaskTimeoutTooltip="Specifies the maximum time, in minutes, that a task is allowed to execute on the agent before being canceled by the server.\u003cbr\u003e A zero value indicates an infinite timeout.";e.AlwaysRunText="Always run";e.TeamFoundationServerProductName="Azure DevOps Server";e.KubernetesClusterContextListPlaceholderText="Choose your cluster context.";e.Tasks_MetaTaskDialogParameterHeader="Name";e.MSITenantIdTooltip="Enter the tenant ID of the subscription mentioned above.";e.DeploymentGroupDemandsWarningTooltip="Some machines do not meet all task demands";e.MSIEnvironmentTooltip="Select the environment.";e.Task_InProgress="In progress";e.UsePATDescription="Create a GitHub service connection authenticated with a GitHub personal access token";e.KubernetesKubeconfigFieldNotPresent="The Kubconfig does not contain \u0027{0}\u0027 field. Please check the kubeconfig.";e.ManagementGroupId="Management Group ID";e.ErrorPrefix="Error: ";e.AgentAcquisitionConfigureAgentTitle="Configure the agent";e.ProcessParameterText="Pipeline parameters";e.AzureContainerRegistry="Azure Container Registry";e.AzureSubscriptionNameText="Subscription name";e.ProcessParameterTaskDetailText="Apply a template to see its properties";e.ErrorWhileParsingListACRResponse="An error occurred while parsing the List ACR response. Internal error: ";e.ConnectionName="Connection name";e.SpnCreationInProgress="Setting up service principal details for the service connection...";e.KubernetesServiceAccountSecretYaml="Secret";e.AgentAcquisitionPlatformRedhat="Red Hat";e.AgentAcquisitionRunAgentInteractiveOrServiceTitle="You can run the agent interactively or as a LaunchAgent service.";e.KubernetesAksClusterHelpText="Select the Azure Kubernetes Service cluster.";e.AgentAcquisitionPlatformUbuntu="Ubuntu";e.Task_MetaTaskDialogParentParameterHeading="Parameters";e.MlWorkspaceName="Machine Learning Workspace";e.AgentAcquisitionRunAgentOptionallyTitle="Optionally run the agent interactively";e.Task_DurationCompletedFormat="Ran for {0} ({1}), completed {2} ago";e.DockerHub="Docker Hub";e.ServiceAccountSetupInProgress="Setting up Kubernetes service account...";e.KubernetesKubeconfigAuthText="Kubeconfig";e.Task_Pending="Pending";e.CheckoutMarketPlaceText="Check out the Marketplace.";e.Task_NotStarted="Not started";e.Authorize="Authorize";e.ConnectionStatusVerified="Verified";e.UseManualSpnWindowFooterLink="use the full version of the service connection dialog.";e.Task_DeployCategoryText="Deploy";e.KuberntesInvalidServiceAccountSecretYaml="The service account secret yaml specified is invalid. Make sure that its a valid yaml and try again.";e.AgentAcquisitionPlatformRedhatVersion="Red Hat {0}";e.AddCustomConnectionsDialogTitle="Add {0} service connection";e.KubernetesAksCluster="Cluster";e.AgentAcquisitionRunAgentTitle="Run the agent";e.CloseTooltipText="Close this tooltip";e.VerifyConnection="Verify connection";e.Task_NewVersionAvailable="A new version of the task is available.";e.AzureContainerRegistryHelpText="Select the Azure Container Registry";e.Tasks_MetaTaskDialogValuesHeader="Default value";e.PFXToPEMConversion="To convert PFX to PEM content, execute the below command: \u003cbr /\u003e\u003cb\u003eopenssl  pkcs12  -in  file.pfx   -out file.pem   -nodes -password pass:\u0026lt;password_here\u0026gt;\u003c/b\u003e";e.KubernetesRenewServiceAccountHelpText="Enable this to create a new service account";e.Task_NameLabel="Name";e.AddRunOnMachineGroupTasksText="Add a deployment group job";e.GenerateLinkTooltip="Generate the name from task attributes";e.Tasks_MarketPlaceText="Don’t see what you need? Check out the Marketplace.";e.CustomEndpointInvalidUriInputMessage="{0} must be a valid URL";e.AddAzureResourceManagerDialogTitle="Add an Azure Resource Manager service connection";e.AllFieldsRequired="All fields are required";e.CouldNotCompleteOAuth2="Could not authorize using OAuth2. If a popup blocker is enabled in the browser, disable it and try again.";e.Task_DurationFormatMinutes="{0} minutes";e.Task_AllCategoriesText="All";e.RunOnAgentPhaseName="Run on agent";e.DockerRegistryType="Registry type";e.Task_CreateMetaTaskDialogTitle="Create a task group";e.Task_AddLabelText="Add";e.Refresh="Refresh";e.AzureRMAvailableAzureSubscriptions="Available Azure subscriptions";e.SpnAuthorizationInProgress="Authorizing...";e.ConnectionStatusFailed="Failed";e.DeletePhaseIconLabel="Delete the job";e.Loading="Loading...";e.KubernetesKubeConfigText="KubeConfig";e.AddTaskLinkText="Add";e.KubernetesClusterContextText="Cluster Context";e.ClickAuthorizeHelpText="Click Authorize to configure an Azure service connection";e.TaskDisabledMessage="This task has been disabled for your project.";e.ConfigurationUrlHelpText="Service connection uses the configuration URL.";e.Task_AddTasksDialogTitle="Task catalog";e.DeletePhaseConfirmationTitle="Delete the job";e.CreateAutoSpnFooterForManagementGroup="A new Azure service principal will be created and assigned with the \"Owner\" role, having access to all resources within the Management Group.\u003cbr/\u003e\u003cbr/\u003eIf your Management Group is not listed above, or your organization is not backed by Azure Active Directory, or to specify an existing service principal,";e.AgentAcquisitionConfigureAccountTitle="Configure your organization";e.RunOnMachineGroupTasksDescription="Lets you add tasks that run on an agent";e.TaskDefinitionListAllText="All";e.AzureRMAvailableAzureManagementGroups="Available Azure management groups";e.RunOnMachineGroupPhaseHeaderTooltip="A group of tasks that will run on a deployment group";e.LearnMoreAboutTaskGroups="Learn more about task groups";e.RunOnServerTasksDescription="Lets you add tasks which run on the server";e.AzureTenantId="Tenant ID";e.UseAutoSpnCreateWindowFooterLink="use the automated version of the service connection dialog.";e.AgentAcquisitionConfigureAgentDetailedInstructions="detailed instructions";e.Task_InvalidLabelText="{0} *";e.Tasks_MetaTaskValueTooltip="The default value for task group inputs (optional).";e.ManagementGroupIDInvalid="Enter a valid Management Group ID";e.SpnAuthorizationFailedError="Authorization failed";e.TaskTypeDescriptionHelpText="Learn more \u003ca href=\u0027{0}\u0027 target=\u0027_blank\u0027\u003ehere\u003c/a\u003e.";e.AdvancedSettingsText="Advanced settings";e.Task_NewVersionHelp="A new stable version of the task is available.";e.Task_VersionSelectorLabel="Version";e.SpnUpdateInProgress="Service principal details are being updated...";e.RunOnAgentTasksDescription="Lets you add tasks which run on an agent";e.AgentAcquisitionRunInteractivelyTitle="To run interactively:";e.CopyUrlToClipboard="Copy the URL to the clipboard";e.AuthorizeToCreateAzureRMEndpointHelpText="Click Authorize to configure an Azure service connection. A new Azure service principal will be created and added to the Contributor role, having access to all resources in the selected subscription.";e.TenetIdInvalid="Enter a valid tenant ID";e.DockerEmail="Email";e.Tasks_MetaTaskDialogDescriptionHeader="Description";e.PhaseAddTaskButtonTooltip="Add a task in job \u0027{0}\u0027";e.Task_NoAzureEnvironmentsFound="No subscriptions were found";e.CertificateInvalid="Invalid certificate provided";e.KubernetesCluster="Cluster";e.LearnMoreTextForAzureSubscriptionBasedKubernetesEndpoint="\u003cbr\u003eFor an RBAC enabled cluster, the service account is created in the chosen namespace and has permissions only on that namespace.\u003cbr\u003e\u003cbr\u003eFor an RBAC disabled cluster, though the service account is created in the chosen namespace, it has permissions across all namespaces (cluster-wide).\u003cbr\u003e\u003cbr\u003e\u003ca href=\"https://go.microsoft.com/fwlink/?linkid=851275\" target=\"_blank\"\u003e\u003cb\u003eLearn more about Kubernetes\u003c/b\u003e\u003c/a\u003e\u003cbr\u003e";e.KubernetesServiceAccountSecretFieldNotPresent="The service acount secret yaml does not contain \u0027{0}\u0027 field. Make sure that its present and try again.";e.Task_WhatsNewMarkdown="\u003ch4\u003eWhat’s new in version `{0}`\u003c/h4\u003e";e.CategoryText="Category";e.Tasks_MetaTaskVariablesMessage="The following parameters and values are from the configuration variables used in the underlying tasks.";e.NoSubscriptionsFound="No subscriptions were found";e.Tasks_MenuDisableText="Disable selected tasks";e.JenkinsLicenseText="\"Jenkins\" is a registered trademark of Software in the Public Interest Inc. The Jenkins logo is licensed under the Creative Commons Attribution-ShareAlike Unported License by the Jenkins project (https://jenkins-ci.org/)";e.KubernetesAcceptUntrustedCertsHelpText="Enable this if your authentication uses untrusted certificates.";e.RemoveText="Remove";e.CustomEndpointInvalidInputMessage="Enter a valid {0}";e.Hide="Hide";e.Show="Show";e.Task_NewPreviewVersionHelp="A new preview version of the task is available. Would you like to try it?";e.Task_RenameTaskLabel="Rename";e.AgentAcquisitionRunAgentOptionallyInfo="If you didn\u0027t run as a service above:";e.AzureSpnCertificateSpnHelpText="Copy the contents of the *.pem file. Include both the certificate and​ private key sections​.";e.TaskDefinitionListDescription="Don\u0027t see what you need?";e.CreateMsiEndpointFooter="Use this option if you have enabled the system assigned managed identity on an Azure VM to automatically authenticate and gain access to resources in Azure Resource Manager. For more information, see \u003ca href=\"https://go.microsoft.com/fwlink/?linkid=2044617\" target=\"_blank\"\u003eManaged  Identities overview​\u003c/a\u003e.";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("DistributedTasksCommon/TFS.Tasks.Utils",["require","exports","q","VSS/VSS","VSS/Context","VSS/WebApi/Constants","VSS/Common/Contracts/Platform","VSS/Service","VSS/Utils/Array","VSS/Utils/UI","VSS/Utils/String","VSS/Navigation/Services","VSS/Security/RestClient","DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){function ft(n,t){var i=$(w("div")).attr("data-bind","template: { name: '"+n+"' }");return!t||i.addClass(t),i}function et(n){return!!n&&n.deprecated===!0}function rt(n){return!!n&&n.preview===!0}function ot(n){var s={},u,f,e,o;if(n)for(u in n){var i=-1,t=void 0,r=n[u];if(r)for(f in r)e=parseInt(f),i<e&&(i=e,o=r[f],rt(o)||(t=o));!t&&i>-1&&(t=r[i]);t&&(s[u]=t)}return s}function st(n){if(n){var t="{0}.*";return n.isTest&&(t=c.format("{0}-test",t)),c.format(t,n.major)}return"*"}function ut(n){return n&&n!=="*"?parseInt(n.substring(0,n.indexOf("."))):-1}function p(n){var t,i,r,u;if(!n)return null;for(t=[],i=0,r=Object.keys(n);i<r.length;i++)u=r[i],t.push(parseInt(u));return t=t.sort(),n[t[t.length-1]]}function ht(n,t){if(!n)return null;if(t=t||"*",t==="*")return p(n);var i=n[ut(t)];return i||(i=p(n)),i}function ct(n,t){return c.localeFormat(v.MetataskInstanceNameFormat,n,t&&t.length?"$("+t[0].name+")":"")}function lt(n){var t=u.getPageContext().webContext.project.id;n.serviceEndpointProjectReferences&&n.serviceEndpointProjectReferences.length>0&&n.serviceEndpointProjectReferences.forEach(function(i){if(i.projectReference.id==t){n.name=n.serviceEndpointProjectReferences[0].name;n.description=n.serviceEndpointProjectReferences[0].description;return}})}var w,b,k,d,y,g,nt,tt,it;Object.defineProperty(t,"__esModule",{value:!0});t.pickServiceEndpointNameAndDescriptionFromServiceEndpointProjectReference=t.getTaskGroupInstanceNameFormat=t.getTaskDefinition=t.getLatestVersion=t.getMajorVersion=t.getMajorVersionSpec=t.getLatestReleasedVersions=t.isPreview=t.isDeprecated=t.SecurityHelper=t.DataSourceBindingUtils=t.VariableExtractor=t.AccessibilityHelper=t.ActionUrlResolver=t.PresentationUtils=t.loadHtmlTemplate=t.HtmlHelper=t.GridRowMover=void 0;w=h.domElem;b=function(){function n(n,t,i,r){this._grid=n;this._dragdropScope=t;this._dragdropTextProvider=i;this._grid.setupDragDrop(this._getDraggableOptions(),this._getDroppableOptions());this._moveCompleteDelegate=r;this._gridCanvas=this._grid.getElement().find(".grid-canvas");this._gridRowHeight=this._grid._rowHeight||1}return n.prototype.dispose=function(){this._grid=null;this._gridCanvas=null;this._moveCompleteDelegate=null},n.prototype._getRowDataIndex=function(n,t){var u=this._gridCanvas.scrollTop(),f=this._gridCanvas.scrollLeft(),n={top:n.top-t.top+u+this._cursorOffset.top,left:n.left-t.left+f+this._cursorOffset.left},r,i;return n.left<=0||n.left>t.canvasWidth?null:(r=this._grid._count*this._gridRowHeight,n.top<=0||n.top>r)?null:(i=Math.floor((n.top-1)/this._gridRowHeight),i===t.dataIndex)?null:{dataIndex:i,below:i>t.dataIndex}},n.prototype._resetLastDropTarget=function(){this._lastDropTarget&&(this._lastDropTarget.removeClass("upper-drop-guide lower-drop-guide"),this._lastDropTarget=null)},n.prototype._getDraggableOptions=function(){var n=this;return this._cursorOffset={left:16,top:18},{cursorAt:this._cursorOffset,axis:"",appendTo:document.body,scroll:!1,scrollables:[".grid-canvas"],scrollablesAxis:"y",scope:this._dragdropScope,distance:10,helper:function(t,i){var r=n._grid.getRowData(i.draggingRowInfo.dataIndex);return $("<div />").addClass("row-drag-helper").text(n._dragdropTextProvider(r))},start:function(t,i){n._dragStartInfo={top:i.offset.top,left:i.offset.left,dataIndex:i.draggingRowInfo.dataIndex,canvasWidth:n._gridCanvas.width()}},stop:function(){n._dragStartInfo=null;n._resetLastDropTarget()},drag:function(t,i){if(n._dragStartInfo){n._resetLastDropTarget();var r=n._getRowDataIndex(i.offset,n._dragStartInfo);r&&(n._lastDropTarget=n._grid.getRowInfo(r.dataIndex).row,n._lastDropTarget.addClass(r.below?"lower-drop-guide":"upper-drop-guide"))}}}},n.prototype._getDroppableOptions=function(){var n=this;return{classes:{"ui-droppable-hover":""},tolerance:"pointer",scope:this._dragdropScope,drop:function(t,i){if(!!i.draggingRowInfo&&!!i.droppingRowInfo){var r=i.draggingRowInfo.dataIndex,u=i.droppingRowInfo.dataIndex;r!==u&&typeof n._moveCompleteDelegate=="function"&&n._moveCompleteDelegate(r,u)}}}},n}();t.GridRowMover=b;k=function(){function n(){}return n.renderTemplateIfNeeded=function(n,t){if($("#"+n).length===0){var i=document.createElement("script");i.type="text/html";i.text=t;i.id=n;document.body.appendChild(i)}},n}();t.HtmlHelper=k;t.loadHtmlTemplate=ft;d=function(){function n(){}return n.getActionUrl=function(n,t,r){var h=new o.VssConnection(u.getDefaultWebContext()),s=i.defer();return h.beginGetServiceUrl(f.ServiceInstanceTypes.TFS,e.ContextHostType.Application).then(function(i){var u=y.getActionUrl(i,n,t,r);s.resolve(u)}),s.promise},n.marked=function(n){var t=i.defer();return n?r.using(["Presentation/Scripts/TFS/marked-tfs-extensions","Presentation/Scripts/marked"],function(i,r){var u=r(n);t.resolve(u)}):t.resolve(""),t.promise},n.getUrlForExtension=function(t,i,r,u){var f=n.getTeamUrl();return this._getExtensionActionUrlFragment(f,t,u,i,r).replace("#","?")},n.getUrlForCollectionLevelExtension=function(n,t,i,r){var f=u.getPageContext(),e=f.webContext.collection.uri;return this._getExtensionActionUrlFragment(e,n,r,t,i).replace("#","?")},n.getTeamUrl=function(){var n=u.getPageContext(),i=n.webContext.collection.uri,r=n.webContext.project.name,t="";return n.navigation.topMostLevel===e.NavigationContextLevels.Team&&(t=u.getPageContext().webContext.team.name),i+r+(!t?"":"/"+t)},n._getExtensionActionUrlFragment=function(t,i,r,u,f){var e=l.getHistoryService().getFragmentActionLink(u,f);return t+n._getExtensionUrl(i,r)+e},n._getExtensionUrl=function(n,t){return!t?"/_apps/hub/".concat(n):"/".concat(t)},n}();t.PresentationUtils=d;y=function(){function n(){}return n.getActionUrl=function(t,i,r,f){if(window.self!==window.top)return n._getPublicActionUrl(t,i,r,f);var e=n._constructActionUrl(i,r,f),o=u.getPageContext().webAccessConfiguration.paths.rootPath;return o+e},n.trimVirtualPath=function(n,t){return!n||n.length===0?n:(n.toLowerCase().indexOf(t.toLowerCase())===0&&(n=n.substr(t.length)),n.replace(/^\/+|\/+$/g,""))},n._getPublicActionUrl=function(t,i,r,u){var f=n._constructActionUrl(i,r,u);return t+f},n._constructActionUrl=function(t,i,f){var s=u.getPageContext(),nt=s.webAccessConfiguration.api,h=[],l,v,y,o,a,b,k,tt,c,d,g,p,w;if(k=nt.areaPrefix||"",tt=nt.controllerPrefix||"",o=$.extend({},f),c=o.area,typeof c=="undefined"&&(c=s.navigation.area),delete o.area,l=o.serviceHost,typeof l=="undefined"&&(l=s.webContext.host),l&&(d=this.trimVirtualPath(l.relativeUri,s.webAccessConfiguration.paths.rootPath),d&&h.push(encodeURI(d)),l.hostType===e.ContextHostType.ProjectCollection&&(g=this._shouldBuildApiUrl(c,o),v=o.project,typeof v=="undefined"&&(v=g?s.webContext.project.id:s.webContext.project.name),v&&(h.push(encodeURIComponent(v)),y=o.team,typeof y=="undefined"&&s.webContext.team&&(y=g?s.webContext.team.id:s.webContext.team.name),y&&h.push(encodeURIComponent(y))))),delete o.serviceHost,delete o.project,delete o.team,c)if(Array.isArray(c))for(p=c,p.length>0&&h.push(encodeURIComponent(k+p[0])),w=1;w<p.length;w++)h.push(encodeURIComponent(p[w]));else h.push(encodeURIComponent(k+c));return i||(i=o.controller),delete o.controller,t||(t=o.action),delete o.action,a=o.parameters,delete o.parameters,a&&(i||(i=n._DEFAULT_CONTROLLER_NAME),t||(t=n._DEFAULT_ACTION_NAME)),i&&(h.push(encodeURIComponent(tt+i)),t&&(h.push(encodeURIComponent(t)),a&&(Array.isArray(a)?h.push.apply(h,$.map(a,encodeURIComponent)):h.push(encodeURIComponent(a))))),(o.includeVersion||c===n._API)&&(o[n._VERSION]=s.webAccessConfiguration.api.webApiVersion),o.includeLanguage&&r.uiCulture&&(o[n._LANGUAGE]=r.uiCulture),delete o.includeVersion,o.area!==n._API&&s.webAccessConfiguration.clientHost&&(o[n._CLIENTHOST]=s.webAccessConfiguration.clientHost),b=$.param(o),h.join("/")+(b?"?"+b:"")},n._shouldBuildApiUrl=function(t,i){var r;return t&&(r=Array.isArray(t)?t[0]:t),i.useApiUrl||r===n._API&&(typeof i.useApiUrl=="undefined"||i.useApiUrl)},n._DEFAULT_CONTROLLER_NAME="home",n._DEFAULT_ACTION_NAME="index",n._CLIENTHOST="clientHost",n._VERSION="__v",n._LANGUAGE="__loc",n._PERMALINK_PREFIX="_permalink",n._API="api",n}();t.ActionUrlResolver=y;g=function(){function n(){}return n.triggerClickOnEnterPress=function(t){return n.isEnterKeyPressEvent(t)?($(t.target).click(),t.preventDefault(),!1):!0},n.triggerClickOnEnterOrSpaceKeyPress=function(t){return n.isEnterKeyPressEvent(t)||n.isSpaceKeyPressEvent(t)?($(t.target).click(),t.preventDefault(),!1):!0},n.isEnterKeyPressEvent=function(n){if(!n)return!1;var t=n.keyCode?n.keyCode:n.which;return t===h.KeyCode.ENTER?!0:!1},n.isSpaceKeyPressEvent=function(n){if(!n)return!1;var t=n.keyCode?n.keyCode:n.which;return t===h.KeyCode.SPACE?!0:!1},n}();t.AccessibilityHelper=g;nt=function(){function n(){}return n.extractVariables=function(n,t,i,r){var u,e,f;return r===void 0&&(r=null),u=[],t!==null&&t!==undefined&&(e=new RegExp("\\$\\([^()]+\\)","g"),f=t.match(e),f&&f.forEach(function(n){var t=n.substr(2,n.length-3),i=!0;r&&(i=r(t));i&&u.push({defaultValue:"",groupName:null,helpMarkDown:"",label:t,name:t,options:{},properties:{},required:!0,type:"string",visibleRule:null})}),u.length===1&&c.localeComparer(t.trim(),f[0])===0&&i&&(u[0].type=i.type,u[0].defaultValue=i.defaultValue,u[0].helpMarkDown=i.helpMarkDown,u[0].options=i.options,u[0].properties=i.properties,u[0].name===t&&(u[0].defaultValue=i.defaultValue))),u},n.containsVariable=function(n){var t=new RegExp("\\$\\([\\w\\.]+\\)","g");return t.test(n)},n.normalizeVariableTypeInfo=function(n,t){var i=s.first(n,function(n){return c.localeIgnoreCaseComparer(n.name,t.name)===0});i.type!==t.type&&(i.type="string",i.helpMarkDown="",i.options={},i.properties={});i.groupName=""},n}();t.VariableExtractor=nt;tt=function(){function n(){}return n.clone=function(n){return $.map(n,function(n){var t={dataSourceName:n.dataSourceName,endpointId:n.endpointId,parameters:{},resultTemplate:n.resultTemplate,target:n.target,endpointUrl:n.endpointUrl,resultSelector:n.resultSelector,requestContent:c.empty,requestVerb:c.empty,headers:n.headers,callbackContextTemplate:n.callbackContextTemplate,callbackRequiredTemplate:n.callbackRequiredTemplate,initialContextTemplate:n.initialContextTemplate};return t.parameters=$.extend(!0,{},n.parameters),t})},n.updateVariables=function(n,t,i){n&&t&&i&&n.forEach(function(n){n.target===t.name&&(n.target=i.name);var r="$("+t.name+")",u="$("+i.name+")";n.endpointId=n.endpointId.replace(r,u)})},n.merge=function(t,i){var r=[];return r=s.clone(t),i.forEach(function(i){n.contains(i,t)||r.push(i)}),r},n.contains=function(t,i){var r=s.first(i,function(i){return n.isEqual(t,i)});return!!r},n.isEqual=function(n,t){return n.dataSourceName!==t.dataSourceName||n.endpointId!==t.endpointId||n.target!==t.target?!1:!0},n}();t.DataSourceBindingUtils=tt;it=function(){function n(){}return n.hasAgentPoolPermission=function(t,i){var r=n.getPoolSecurityClient(),u=n._getSecurityToken(n._agentPoolToken,c.empty,t?t.toString():c.empty);return n._hasPermission(r,n._dteSecurityNamespaceId,i,u)},n.hasAgentQueuePermission=function(t,i,r){var u=n.getDefaultSecurityClient(),f=n._getSecurityToken(n._agentQueueToken,t,i?i.toString():c.empty);return n._hasPermission(u,n._dteSecurityNamespaceId,r,f)},n.hasServiceEndpointPermission=function(t,i,r){var u=n.getDefaultSecurityClient(),f=n._getSecurityToken(n._serviceEndpointToken,t,i);return n._hasPermission(u,n._endpointsSecurityNamespaceId,r,f)},n._hasPermission=function(n,t,r,u){var f=i.defer();return n.hasPermissions(t,r,u).then(function(n){f.resolve(n[0])},function(){f.resolve(!0)}),f.promise},n._getSecurityToken=function(t,i,r){var u=t;return i&&!c.equals(i,c.empty)&&(u=u.concat(n._namespaceSeparator,i)),r&&!c.equals(r,c.empty)&&(u=u.concat(n._namespaceSeparator,r)),u},n.getDefaultSecurityClient=function(){return n._securityClient||(n._securityClient=o.VssConnection.getConnection().getHttpClient(a.SecurityHttpClient,n._serviceInstanceId)),n._securityClient},n.getPoolSecurityClient=function(){return n._poolSecurityClient||(n._poolSecurityClient=u.getPageContext().webAccessConfiguration.isHosted?n.getDefaultSecurityClient():o.getApplicationClient(a.SecurityHttpClient,u.getDefaultWebContext(),n._serviceInstanceId)),n._poolSecurityClient},n._serviceInstanceId=f.ServiceInstanceTypes.TFS,n._dteSecurityNamespaceId="101EAE8C-1709-47F9-B228-0E476C35B3BA",n._endpointsSecurityNamespaceId="49B48001-CA20-4ADC-8111-5B60C903A50C",n._agentPoolToken="AgentPools",n._agentQueueToken="AgentQueues",n._serviceEndpointToken="endpoints",n._namespaceSeparator="/",n}();t.SecurityHelper=it;t.isDeprecated=et;t.isPreview=rt;t.getLatestReleasedVersions=ot;t.getMajorVersionSpec=st;t.getMajorVersion=ut;t.getLatestVersion=p;t.getTaskDefinition=ht;t.getTaskGroupInstanceNameFormat=ct;t.pickServiceEndpointNameAndDescriptionFromServiceEndpointProjectReference=lt;r.tfsModuleLoaded("TFS.Tasks.Utils",t)});

var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)};define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core",["require","exports","knockout","q","ContentRendering/Markdown","VSS/Utils/Culture","VSS/VSS","VSS/Context","VSS/Resources/VSS.Resources.Common","VSS/Events/Action","VSS/Navigation/Services","VSS/Navigation/HubsService","VSS/Utils/Array","VSS/Utils/String","VSS/Utils/Date","VSS/Utils/UI","VSS/Utils/Url","VSS/Utils/Html","VSS/Controls/PopupContent","VSS/FeatureAvailability/Services","VSS/Common/Constants/Platform","VSS/Context","VSS/Common/Contracts/Platform","VSS/FeatureAvailability/Services","VSS/Contributions/Services","VSS/Service","VSS/Security/RestClient","VSS/WebApi/Constants","VSS/Navigation/Services","VSS/User/Services","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleaseManagement/Core/Constants","ReleasePipeline/Scripts/TFS.ReleaseManagement.Host.TfsContext","ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.UserDialog","DistributedTaskControls/Common/Common","DistributedTasksCommon/TFS.Tasks.Utils"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt){function rr(n){var t=i.observable(n);return t.equalityComparer=y.equals,t}function ur(n){var t,i;return document.cookie.length>0&&(t=document.cookie.indexOf(n+"="),t!==-1)?(t=t+n.length+1,i=document.cookie.indexOf(";",t),i===-1&&(i=document.cookie.length),decodeURIComponent(document.cookie.substring(t,i))):""}function er(n,t){var i=$(gt("div")).attr("data-bind","template: { name: '"+n+"' }");return!t||i.addClass(t),i}function or(n,t){var r=new Blob([n],{type:"application/json"}),i;window.navigator&&window.navigator.msSaveBlob?window.navigator.msSaveBlob(r,t):(i=document.createElement("a"),document.body.appendChild(i),i.href=URL.createObjectURL(r),i.setAttribute("download",t),i.click())}var gt,fi,ei,fr,oi,si,ni,hi,ci,ti,li,ai,vi,yi,ii,wt,pi,ri,wi,kt,ui,dt,bi,ki,di,bt,gi,nr,tr,ir;Object.defineProperty(t,"__esModule",{value:!0});t.SaveToFile=t.SecurityHelper=t.GUIDUtils=t.Systemvariableprovider=t.History=t.loadHtmlTemplate=t.UrlHelper=t.EnumHelper=t.ErrorHelper=t.HubNavigation=t.CDReleaseProgressViewOptInHelper=t.LandingPageHelper=t.CDReleaseProgressViewHelper=t.ReleaseReportViewHelper=t.OptInHelper=t.LegacyNavigationHelper=t.FeatureFlagUtils=t.CurrentUser=t.CommandManager=t.ValidateParameters=t.HtmlHelper=t.TfsActionUrlProvider=t.MarkdownHelpers=t.AccessibilityHelper=t.ArrayHelper=t.DurationHelper=t.DateHelper=t.GridHelper=t.MenuHelper=t.BoolHelper=t.getCookie=t.observableDate=void 0;gt=p.domElem;t.observableDate=rr;t.getCookie=ur;fi=function(){function n(){}return n.isAbsoluteFalse=function(n){return typeof n=="boolean"?!n:!1},n.isAbsoluteTrue=function(n){return typeof n=="boolean"?n:!1},n}();t.BoolHelper=fi;ei=function(){function n(){}return n.updateCommandStateInMenu=function(n,t,i,r){r===void 0&&(r=!0);n.updateCommandStates([{id:t,disabled:!r,hidden:!i}])},n}();t.MenuHelper=ei,function(n){var t=function(){function n(){}return n.groupWiseSort=function(t,i,r,u,f){var o,h;if(r&&r.length&&r.length>0){var s=i,e=[],l=r[0].index,c=s.length;for(o=0;o<=c;o++){if(o<c&&!f(s[o])){e.push(s[o]);continue}if(e.length>0){for(n.sort(t,e,r,u),h=e.length;h>0;h--)s.splice(o-h,1,e[e.length-h]);e=[]}}}return s},n.sort=function(n,t,i,r){var u=function(n,t,i,r){var u=i[n.index],f=r[n.index];return typeof u=="undefined"||u===null?typeof f=="undefined"||f===null?0:-1:v.localeIgnoreCaseComparer(u,f)},f=function(t,f){var e,o,s;return $.each(i,function(i,h){o=r[i];s=o.comparer||u;e=s.call(n,o,h.order,t,f);e!==0&&h.order==="desc"&&(e=-e)}),e};t.sort(f)},n}();n.SortingHelper=t}(fr=t.GridHelper||(t.GridHelper={}));oi=function(){function n(){}return n.getDateValue=function(n){return!n?0:n.valueOf()},n.parseDateTimeString=function(t,i,r){var u=v.parseDateString(t,f.getCurrentCulture(),[i]);return!!u?r?n.convertUserTimeToClientTime(u):u:null},n.getDateTimeInLocaleFormat=function(n){return n?v.localeFormat("{0} {1}",y.localeFormat(n,"d"),y.localeFormat(n,"t")):""},n.convertUserTimeToClientTime=function(n){return y.convertUserTimeToClientTimeZone(n,!0)},n.isGivenTimeInFuture=function(n){var t=new Date,i=n.getTime()-t.getTime();return i>0},n.getNextDayInUserTimeZone=function(){var n=y.getNowInUserTimeZone(),t=y.addDays(n,1,!0);return y.stripTimeFromDate(t)},n}();t.DateHelper=oi;si=function(){function n(){}return n.diff=function(n,t){var f;n||(n=new Date);t||(t=new Date);var r=function(n,t){for(var i=""+n;i.length<t;)i="0"+i;return i},u="",i=Math.round(Math.abs(n.valueOf()-t.valueOf())/1e3),e=Math.floor(i/3600);return u+=r(e,2)+":",i=i-e*3600,f=Math.floor(i/60),u+=r(f,2)+":",i=i-f*60,u+r(Math.round(i),2)},n.getDurationMs=function(n,t){return n&&t?t.getTime()-n.getTime():n?(new Date).getTime()-n.getTime():0},n.getFriendlyDuration=function(n,t){var i,r,u;return t===void 0&&(t=1),i="",r=Math.floor(n/1e3),r>60?(u=r/60,i+=v.localeFormat(ht.FriendlyMinutes,u.toFixed(t))):i+=v.localeFormat(ht.FriendlySeconds,r),i},n.parseDuration=function(t){var i;return t?(i=n._getDurationObject(t),i.days>0?v.localeFormat("{0} {1}",v.localeFormat(ht.DayFormat,i.days),i.hours>0?v.localeFormat(ht.HourFormat,i.hours):v.empty):i.hours>0?v.localeFormat("{0} {1}",v.localeFormat(ht.HourFormat,i.hours),i.minutes>0?v.localeFormat(ht.MinuteFormat,i.minutes):v.empty):i.minutes>0?v.localeFormat("{0} {1}",v.localeFormat(ht.MinuteFormat,i.minutes),i.seconds>0?v.localeFormat(ht.SecondFormat,i.seconds===Math.round(i.seconds)?i.seconds.toString():i.seconds.toFixed(2)):v.empty):i.seconds>0?v.localeFormat("{0} {1}",v.localeFormat(ht.SecondFormat,i.seconds),i.milliseconds>0?v.localeFormat(ht.MillisecondFormat,i.milliseconds):v.empty):i.milliseconds===0?v.localeFormat(ht.SecondFormat,0):v.localeFormat(ht.MillisecondFormat,i.milliseconds)):""},n._getDurationObject=function(n){var t=n.split("."),r=0,i,u;return t[0]&&t[1]&&t[1].indexOf(":")>0&&(r=parseInt(t[0]),n=t[1]),n=n.replace(".",":"),t=n.split(":"),i=0,t[3]&&(u=parseFloat("."+t[3]),i=Math.round(u*1e3)),{days:r,hours:t[0]?parseInt(t[0]):0,minutes:t[1]?parseInt(t[1]):0,seconds:t[2]?parseInt(t[2]):0,milliseconds:i}},n}();t.DurationHelper=si;ni=function(){function n(){}return n.hasItems=function(n){return!!n&&n.length>0},n.max=function(n,t){var i,r=null;return n&&t&&n.length>0&&n.forEach(function(n){var u=t(n);(i===undefined||u>i)&&(i=u,r=n)}),r},n.selectMany=function(n,t){var i=[];return n&&t&&n.length>0&&n.forEach(function(n){var r=t(n);r.forEach(function(n){i.push(n)})}),i},n}();t.ArrayHelper=ni;hi=function(){function n(){}return n.onEnterPress=function(n,t,i){t===void 0&&(t=!0);var r=function(n){var r=n.keyCode?n.keyCode:n.which;return r===p.KeyCode.ENTER&&!(t&&n.shiftKey)?(i?i():$(n.target).click(),n.preventDefault(),!1):!0};return n.keydown(r),r},n.offEnterPress=function(n,t){!n||!t||n.off("keydown",t)},n.triggerClickOnEnterPress=function(t){return n.isEnterKeyPressEvent(t)?($(t.target).click(),!1):!0},n.isEnterKeyPressEvent=function(t){return n.isKeyPressEvent(t,p.KeyCode.ENTER)},n.triggerClickOnEnterOrSpaceKeyPress=function(t){return n.triggerClickOnKeyPress(t,[p.KeyCode.ENTER,p.KeyCode.SPACE])},n.onEscape=function(n,t){n.keydown(function(n){var i=n.keyCode?n.keyCode:n.which;i===p.KeyCode.ESCAPE&&t()})},n.onWindowCtrlShortcut=function(n,t){$(window).on("keydown",function(i){p.KeyUtils.isExclusivelyCtrl(i)&&i.keyCode===n&&(i.preventDefault(),t())})},n.trapFocusMoveInsideElement=function(n,t){var u=t.keyCode?t.keyCode:t.which,i,r;u===p.KeyCode.TAB&&(i=$(n).find(":focusable"),r=$(i).length,t.shiftKey==!1&&$(i[r-1]).is(":focus")?(t.preventDefault(),$(i[0]).focus()):t.shiftKey==!0&&$(i[0]).is(":focus")&&(t.preventDefault(),$(i[r-1]).focus()))},n.triggerClickOnKeyPress=function(t,i){if(ni.hasItems(i)){var r=a.first(i,function(i){return n.isKeyPressEvent(t,i)});if(!!r)return $(t.target).click(),!1}return!0},n.isKeyPressEvent=function(n,t){if(!n)return!1;var i=n.keyCode?n.keyCode:n.which;return i===t?!0:!1},n.addTooltip=function(n,t,i){var r={popupTag:!1,cssClass:"rm-rich-content-tooltip"};return!i||(r=__assign(__assign({},r),i)),k.RichContentTooltip.add(n,t,r)},n.handleArrowKeysInTable=function(n,t,i,r,u,f){f===void 0&&(f=":focusable");var s,h,l=$(n.target),c=l.closest(r).index(),a=l.closest(i).index();switch(n.keyCode){case p.KeyCode.RIGHT:n.preventDefault();var v=l.closest(i).find(r),e=c+1,o=v.length;if(o<=0)return!0;while(e!==c)if(e===o&&(e=0),s=this._getFocusableElement($(v[e]),f),!!s&&s.length>0){s.focus();break}else if(e===c)break;else e++;return!1;case p.KeyCode.LEFT:n.preventDefault();var v=l.closest(i).find(r),e=c-1,o=v.length;if(o<=0)return!0;while(e!==c)if(e===-1&&(e=o-1),h=this._getFocusableElement($(v[e]),f),!!h&&h.length>0){h.focus();break}else if(e===c)break;else e--;return!1;case p.KeyCode.DOWN:n.preventDefault();var y=$(l.closest(t)).find(i),e=a+1,o=y.length;if(o<=0||e>o)return!0;for(e===o&&(e=0);e!==a;)if(e==o&&(e=0),s=this._getFocusableElement($($(y[e]).find(r).eq(c)),f),!!s&&s.length>0){s.focus();break}else if(e===a)break;else e++;return!1;case p.KeyCode.UP:n.preventDefault();var y=$(l.closest(t)).find(i),e=a-1,o=y.length;if(o<=0||e>o)return!0;for(e===-1&&(e=o-1);e!==a;)if(e===-1&&(e=o-1),h=this._getFocusableElement($($(y[e]).find(r).eq(c)),f),!!h&&h.length>0){h.focus();break}else if(e===a)break;else e--;return!1;default:return u(n)}},n._getFocusableElement=function(n,t){return n.is(t)?n:n.find(t).first()},n}();t.AccessibilityHelper=hi;ci=function(){function n(){}return n.renderMessageForDisplay=function(t,i){var u,r,f;i&&(wt.isDonotSanitizeInputForMDFileEnabled()||(i=b.HtmlNormalizer.normalizeStripAttributes(i,[],["aria-label","role"])),f=n.convertNewLinesToBreaks(i),u=n.convertMarkDownToParagraph(f),r=$("<div class='custom-summary-message'/>"),r.append(u),t.append(r))},n.convertNewLinesToBreaks=function(n){return n=n.replace(/\\r\\n/g,"<br>"),n.replace(/\\n\\r/g,"<br>")},n.convertMarkDownToParagraph=function(n){var t=$(gt("p")).css("margin","0px"),i;return it.FeatureAvailabilityService.isFeatureEnabled(g.WebPlatformFeatureFlags.MarkdownRendering,!1)?(i=new u.MarkdownRenderer({html:!0}),t.append(i.renderHtml(n))):pt.PresentationUtils.marked(n).then(function(n){t.append(n)}),t},n}();t.MarkdownHelpers=ci;ti=function(){function n(){}return n._getTfsRootCollectionPath=function(){return n._tfsRootCollectionPath=o.getDefaultWebContext().collection.uri,n._tfsRootCollectionPath},n.getImageUrl=function(t,i){if(!n._tfsRootCollectionPath)return v.empty;var r=$.extend({id:t,skipServiceHostName:!0},bt.getUserImageApiDefaultParams(),i);return n._tfsRootCollectionPath+bt.constructActionUrl("IdentityImage","common",r)},n.getCurrentUser=function(){var t=o.getDefaultWebContext();return{displayName:t.user.name,id:t.user.id,isAadIdentity:t.host.isAADAccount,isContainer:!1,uniqueName:t.user.uniqueName,imageUrl:n.getImageUrl(t.user.id),url:t.host.uri}},n.isCurrentUser=function(n){return ii.isCurrentUser(n)},n.getCollectionId=function(){return o.getDefaultWebContext().collection.id},n.getProjectId=function(){return o.getDefaultWebContext().project.id},n.getProjectName=function(){return o.getDefaultWebContext().project.name},n._tfsRootCollectionPath=n._getTfsRootCollectionPath(),n}();t.TfsActionUrlProvider=ti;li=function(){function n(){}return n.renderTemplateIfNeeded=function(n,t){if($("#"+n).length===0){var i=document.createElement("script");i.type="text/html";i.text=t;i.id=n;document.body.appendChild(i)}},n.getTruncatedText=function(n,t){return!!n&&n.length>t?v.localeFormat("{0}...",n.substring(0,t)):n},n.htmlDecode=function(n){var t=document.createElement("textarea");return t.innerHTML=n,t.textContent},n}();t.HtmlHelper=li;ai=function(){function n(){}return n.isNullOrEmpty=function(n){return!n||typeof n!="string"||!n.trim()},n}();t.ValidateParameters=ai;vi=function(){function n(n,t){this._object=n;this._callback=t}return n.prototype.execute=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._callback.apply(this._object,t)},n}();yi=function(){function n(){this._mapCommandToHandlers={}}return n.prototype.subscribe=function(n,t,i){this._mapCommandToHandlers[n]||(this._mapCommandToHandlers[n]=[]);this._mapCommandToHandlers[n].push(new vi(t,i))},n.prototype.execute=function(n){for(var i,r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];i=this._mapCommandToHandlers[n];i&&i.forEach(function(n){n.execute.apply(n,r)})},n}();t.CommandManager=yi;ii=function(){function n(){}return n.isCurrentUser=function(n){return v.localeIgnoreCaseComparer(nt.getDefaultWebContext().user.id,n)===0},n}();t.CurrentUser=ii;wt=function(){function n(){}return n.isAutoRefreshDisabled=function(){return!0},n.isHostedSetup=function(){return o.getPageContext().webAccessConfiguration.isHosted},n.isDonotSanitizeInputForMDFileEnabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.DonotSanitizeInputForMDFile,!1)},n.isRevalidateApproverIdentityFeatureEnabled=function(){return o.getDefaultWebContext().host.isAADAccount&&o.getPageContext().webAccessConfiguration.isHosted},n.isDistributedTaskRevalidateIdentityFeatureEnabled=function(){return o.getDefaultWebContext().host.isAADAccount&&o.getPageContext().webAccessConfiguration.isHosted},n.isCompleteAadOAuthCallbackByAuthCodeFeatureEnabled=function(){return o.getDefaultWebContext().host.isAADAccount&&o.getPageContext().webAccessConfiguration.isHosted&&d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.CompleteAadOAuthCallbackByAuthCode,!1)},n.isHostedImageSelectionEnabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.HostedImage,!1)},n.isReleaseRetentionSettingsMaxDaysToKeepEditEnabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.ReleaseRetentionSettingsMaxDaysToKeepEditEnabled,!1)},n.isReleaseRetentionSettingsEditEnabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.ReleaseRetentionSettingsEditEnabled,!1)},n.isReleaseComplianceSettingsEnabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.ReleaseComplianceSettingsEnabled,!1)},n.isBuildArtifactTasksEnabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.BuildArtifactTasks,!1)},n.isPipelineWorkflowFastHubSwitchDisabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.PipelineWorkflowFastHubSwitchDisabled,!1)},n.isNewCreateReleaseWorkflowIntegartionEnabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.NewCreateReleaseWorkflowExtensionIntegration,!1)},n.enableNewRouteForLogApis=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.EnableNewRouteForLogApis,!1)},n.isNewReleaseProgressViewEnabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.NewReleaseProgressView,!1)},n.isDeploymentPoolRenameEnabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.EnableDeploymentPoolRename,!1)},n.isNewCDReleaseProgressOptInEnabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.NewCDReleaseViewOptInToggle,!1)},n.isNewReleaseProgressFastHubSwitchDisabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.CDReleaseProgressViewDisableFastHubSwitch,!1)},n.isCreateReleaseDataProviderEnabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.CreateReleaseDataProvider,!1)},n.isDelayedReleaseTasksSignalRUpdate=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.DelayedReleaseTasksSignalRUpdate,!1)},n.showAADIdentitiesOnSearchInSecurityDialog=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.ShowAADIdentitiesOnSearchInSecurityDialog,!1)},n.EnableResourceSecurityPanel=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.EnableResourceSecurityPanel,!1)},n}();t.FeatureFlagUtils=wt;pi=function(){function n(){}return n.isEditDefinitionTab=function(n){return!!n&&(n===ct.DefinitionDesignerActions.artifactsEditorAction||n===ct.DefinitionDesignerActions.environmentsEditorAction||n===ct.DefinitionDesignerActions.variablesEditorAction||n===ct.DefinitionDesignerActions.configurationsEditorAction||n===ct.DefinitionDesignerActions.triggersEditorAction||n===ct.DefinitionDesignerActions.generalSettingsEditorAction||n===ct.DefinitionDesignerActions.retentionPolicyEditorAction||n===ct.DefinitionDesignerActions.definitionHistoryAction)},n.isEditReleaseTab=function(n){return!!n&&(n===ct.ReleaseEditorAction.artifactsEditorAction||n===ct.ReleaseEditorAction.environmentsEditorAction||n===ct.ReleaseEditorAction.variablesEditorAction||n===ct.ReleaseEditorAction.configurationsEditorAction||n===ct.ReleaseEditorAction.summaryAction||n===ct.ReleaseEditorAction.logsAction||n===ct.ReleaseEditorAction.workItemsAction||n===ct.ReleaseEditorAction.commitsAction||n===ct.ReleaseEditorAction.releaseHistoryAction||n===ct.ReleaseEditorAction.generalSettingsEditorAction||v.startsWith(n,ct.ReleaseEditorAction.contributionTabActionPrefix))},n.isEnvironmentSummmaryTab=function(n){return!!n&&n===ct.EnvironmentSummaryAction.environmentSummaryAction},n.isExplorerHub=function(n){return!n||n===ct.ReleasesViewActions.RELEASES||n===ct.ReleasesViewActions.DEFINITION_OVERVIEW||n===ct.ReleasesViewActions.DELETED_RELEASES},n.redirectToNewHub=function(){var i=ot.getHistoryService(),t=i.getCurrentState()||{};if(t.action=t.action||ct.ReleasesViewActions.RELEASES,n.isEditReleaseTab(t.action)){kt.navigateToNewReleaseView(t.releaseId);return}if(n.isEditDefinitionTab(t.action)){ri.navigateToNewCDEditor(t.definitionId);return}return ui.navigateToLandingPage(t.definitionId)},n}();t.LegacyNavigationHelper=pi;ri=function(){function n(){}return n.navigateToNewCDEditor=function(t){var i=n.getNewEditorUrl(t);n.navigateToHub(ct.ExtensionArea.ReleaseCDExplorer,i)},n.navigateToHub=function(n,t){wt.isPipelineWorkflowFastHubSwitchDisabled()&&t?window.location.href=t:ut.getLocalService(l.HubsService).navigateToHub(ct.ExtensionArea.ReleaseCDExplorer,t)},n._getNewEditorRelativeUrl=function(){var n=v.empty,i=new l.HubsService,t=i.getHubById(ct.ExtensionArea.ReleaseCDExplorer);return t&&(n=t.uri),n},n.getNewEditorUrl=function(t){var i=new w.Uri(o.getDefaultWebContext().host.uri);return i.path=w.Uri.parse(n._getNewEditorRelativeUrl()).path,t&&(i.addQueryParam("definitionId",t.toString()),i.addQueryParam(n.ACTION_QUERY_PARAMETER_NAME,"environments-editor-preview")),i.absoluteUri},n.newEditorNavigation=function(t){var r=new w.Uri(o.getDefaultWebContext().host.uri),i=w.getQueryParameters(location.href),u;(!i[n.FORCE_OPEN_OLD_EDITOR_PARAMETER_KEY]||v.ignoreCaseComparer(i[n.FORCE_OPEN_OLD_EDITOR_PARAMETER_KEY].toString(),n.FORCE_OPEN_OLD_EDITOR_PARAMETER_VALUE_TRUE))&&(i[n.ACTION_QUERY_PARAMETER_NAME]=t,u=c.HistoryService.serializeState(i),r.path=w.Uri.parse(n._getNewEditorRelativeUrl()).path,r.queryString=u,location.replace(r.absoluteUri))},n.ACTION_QUERY_PARAMETER_NAME="_a",n.FORCE_OPEN_OLD_EDITOR_PARAMETER_KEY="forceOpenOldEditor",n.FORCE_OPEN_OLD_EDITOR_PARAMETER_VALUE_TRUE="true",n}();t.OptInHelper=ri;wi=function(){function n(){}return n.navigateToReleaseReportView=function(t,i){var r=n.getReleaseReportViewUrl(t,i);h.getService().performAction(h.CommonActions.ACTION_WINDOW_OPEN,{url:r,target:"_self"})},n.getReleaseReportViewUrl=function(t,i){var r=new w.Uri(o.getDefaultWebContext().host.uri);return r.path=w.Uri.parse(n._getReleaseReportViewRelativeUrl()).path,i&&(r.addQueryParam(n.DEFINITION_ID_PARAMETER_KEY,i.toString()),r.addQueryParam(n.ACTION_QUERY_PARAMETER_NAME,t)),r.absoluteUri},n._getReleaseReportViewRelativeUrl=function(){var n=v.empty,i=new l.HubsService,t=i.getHubById(ct.ExtensionArea.ReleaseReport);return t&&(n=t.uri),n},n.ACTION_QUERY_PARAMETER_NAME="_a",n.DEFINITION_ID_PARAMETER_KEY="definitionId",n}();t.ReleaseReportViewHelper=wi;kt=function(){function n(){}return n.navigateToNewReleaseView=function(t){var i=n.getCDReleaseViewUrl(t);dt.navigateToHub(i)},n.navigateToNewReleaseViewInNewTab=function(t){var i=n.getCDReleaseViewUrl(t);h.getService().performAction(h.CommonActions.ACTION_WINDOW_OPEN,{url:i,target:"_blank"})},n.getCDReleaseViewUrl=function(t,i){var r={releaseId:t};return bt.getUrlForExtension(ct.ExtensionArea.ReleaseCDProgress,n.ACTION_QUERY_PARAMETER_VALUE_RELEASE_PROGRESS,r,i)},n.newReleaseProgressViewNavigation=function(t){n.containsForceOpenQueryParameter()||location.replace(this.getCDReleaseViewUrl(t))},n.containsForceOpenQueryParameter=function(){var i=new w.Uri(o.getDefaultWebContext().host.uri),t=w.getQueryParameters(location.href);return t[n.FORCE_OPEN_OLD_VIEW_PARAMETER_KEY]&&!v.ignoreCaseComparer(t[n.FORCE_OPEN_OLD_VIEW_PARAMETER_KEY].toString(),n.FORCE_OPEN_OLD_VIEW_PARAMETER_VALUE_TRUE)?!0:!1},n.GetWaitToBatchTaskUpdatedEventsInSec=function(){var n=ut.getService(rt.WebPageDataService).getPageData(ct.ReleaseManagementDataProviderKeys.ReleaseProgressDataProvider);return n&&n.waitToBatchTaskUpdatedEventsInSec?n.waitToBatchTaskUpdatedEventsInSec:5},n.GetThrottlingThresholdOfGetReleaseTasks=function(){var n=ut.getService(rt.WebPageDataService).getPageData(ct.ReleaseManagementDataProviderKeys.ReleaseProgressDataProvider);return n&&n.throttlingThresholdOfGetTasksCallPerEnvironment?n.throttlingThresholdOfGetTasksCallPerEnvironment:15},n.ACTION_QUERY_PARAMETER_NAME="_a",n.RELEASE_ID_PARAMETER_KEY="releaseId",n.FORCE_OPEN_OLD_VIEW_PARAMETER_KEY="forceOpenOldView",n.FORCE_OPEN_OLD_VIEW_PARAMETER_VALUE_TRUE="true",n.ACTION_QUERY_PARAMETER_VALUE_RELEASE_PROGRESS="release-pipeline-progress",n}();t.CDReleaseProgressViewHelper=kt;ui=function(){function n(){}return n.navigateToLandingPage=function(t){t===void 0&&(t=0);var i=n._getLandingPageUrl(this.MINE_VIEW,this.RELEASES_ACTION,t);h.getService().performAction(h.CommonActions.ACTION_WINDOW_NAVIGATE,{url:i})},n.navigateToAllDefinitionsPage=function(){var t=n._getLandingPageUrl(this.ALL_DEFINITIONS_VIEW);h.getService().performAction(h.CommonActions.ACTION_WINDOW_NAVIGATE,{url:t})},n.isNewLandingPageEnabled=function(){return!!ut.getLocalService(l.HubsService).getHubById(ct.ExtensionArea.ReleaseExplorer2)},n._getLandingPageRelativeUrl=function(){var n=v.empty,i=new l.HubsService,t=i.getHubById(ct.ExtensionArea.ReleaseExplorer2);return t&&(n=t.uri),n},n._getLandingPageUrl=function(t,i,r){t===void 0&&(t=v.empty);i===void 0&&(i=v.empty);r===void 0&&(r=0);var u=new w.Uri(o.getDefaultWebContext().host.uri);return u.path=w.Uri.parse(n._getLandingPageRelativeUrl()).path,i&&u.addQueryParam(n.ACTION,i),t&&u.addQueryParam(n.VIEW,t),r&&r>0&&u.addQueryParam(n.DEFINITION_ID,r.toString()),u.absoluteUri},n.VIEW="view",n.ACTION="_a",n.DEFINITION_ID="definitionId",n.ALL_DEFINITIONS_VIEW="all",n.MINE_VIEW="mine",n.RELEASES_ACTION="releases",n}();t.LandingPageHelper=ui;dt=function(){function n(){}return n.isNewCDReleaseProgressViewOptInEnabled=function(){var n=ut.getService(rt.WebPageDataService).getPageData(ct.ReleaseManagementDataProviderKeys.NewCDReleaseProgressFeatureState);return!!n&&n.value},n.isNewCDReleaseProgressUrl=function(n){return v.caseInsensitiveContains(n,ct.ExtensionArea.ReleaseCDProgress)},n.navigateToHub=function(n){wt.isNewReleaseProgressFastHubSwitchDisabled()&&n?window.location.href=n:ut.getLocalService(l.HubsService).navigateToHub(ct.ExtensionArea.ReleaseCDProgress,n)},n}();t.CDReleaseProgressViewOptInHelper=dt;bi=function(){function n(){}return n.navigateToHub=function(n,t,i){ut.getLocalService(l.HubsService).navigateToHub(t,i);n.stopImmediatePropagation();n.preventDefault()},n}();t.HubNavigation=bi;ki=function(){function n(){}return n.getErrorMessage=function(n){var t="",i,r;if(n){if(typeof n!="string"&&!!Object.getOwnPropertyDescriptor(n,"status")&&n.status===0)return s.NetworkConnectionUnavailable;if(i=n.responseText,i)try{r=JSON.parse(i);t=r&&r.message?e.getErrorMessage(r.message):e.getErrorMessage(i)}catch(u){t=e.getErrorMessage(i)}else if(n.innerException){while(n.innerException)n=n.innerException;t=e.getErrorMessage(n)}else t=e.getErrorMessage(n);t.toLocaleLowerCase()==="[object Object]".toLocaleLowerCase()&&(t=ht.UnknownErrorMessage)}return t},n.showError=function(t){vt.DialogUtils.alert(n.getErrorMessage(t))},n}();t.ErrorHelper=ki;di=function(){function n(){}return n.getNames=function(n){return Object.keys(n).filter(function(n){return isNaN(parseInt(n,10))})},n.getValues=function(n){return Object.keys(n).map(function(n){return parseInt(n,10)}).filter(function(n){return!isNaN(n)})},n}();t.EnumHelper=di;bt=function(){function n(){}return n.getUserImageApiDefaultParams=function(){return{area:n._API,project:"",t:n._timeStamp}},n.getRunsUrl=function(t,i,r){return r===void 0&&(r=!1),n._getRunsActionUrl("Runs","TestManagement",t,i,r)},n.getResourceLimitAdminUrl=function(){return at.TfsContext.getDefault().getActionUrl("","buildQueue",{area:"admin",project:""})+c.getHistoryService().getFragmentActionLink("resourceLimits")},n.getConcurrentJobsPageUrl=function(){return at.TfsContext.getDefault().getActionUrl("","buildQueue",{area:"admin",project:""})+c.getHistoryService().getFragmentActionLink("concurrentJobs")},n._getRunsActionUrl=function(n,t,i,r,u){var f,s,o,e;if(u===void 0&&(u=!1),f=new v.StringBuilder,o=at.TfsContext.getDefault(),s=u?o.getPublicActionUrl(n,t):o.getActionUrl(n,t),f.append(s),f.append(v.format("#_a={0}",i)),r)for(e=0;e<r.length;e++)f.append(v.format("&{0}={1}",r[e].parameter,r[e].value));return f.toString()},n.getAgentQueueAdminUrl=function(t){return n.getAgentQueueAdminActionUrl().concat(v.format("?queueId={0}&_a=agents",t.toString()))},n.getAgentQueueAdminActionUrl=function(){return at.TfsContext.getDefault().getActionUrl(v.empty,"AgentQueue",{area:"admin",project:ti.getProjectName()})},n.getMachineGroupAdminActionUrl=function(){var i=n.getUrlForExtension(ct.ExtensionArea.MachineGroupExplorer),t=new v.StringBuilder;return t.append(i),t.append("view=MachineGroupsView"),t.toString()},n.getMachineAdminPageUrl=function(t,i){var u=n.getUrlForExtension(ct.ExtensionArea.MachineGroupExplorer),f=i==undefined?v.format("view=MachineGroupView&mgid={0}&tab=Machines",t):v.format("view=MachineGroupView&mgid={0}&tab=Machines&machineid={1}",t,i),r=new v.StringBuilder;return r.append(u),r.append(f),r.toString()},n.getDeploymentGroupPageUrl=function(t,i){var u=n.getUrlForExtension(ct.ExtensionArea.MachineGroupExplorer,null,null,i),f=v.format("view=MachineGroupView&mgid={0}",t),r=new v.StringBuilder;return r.append(u),r.append(f),r.toString()},n.getDeploymentPoolsPageUrl=function(){var t=at.TfsContext.getDefault().getActionUrl("","deploymentpools",{area:"admin",project:""}),n=new v.StringBuilder;return n.append(t),n.toString()},n.getDeploymentPoolUrl=function(n){var i=at.TfsContext.getDefault().getActionUrl("","deploymentpools",{area:"admin",project:""}),r=v.format("?view=pool&poolid={0}&tab=Details",n),t=new v.StringBuilder;return t.append(i),t.append(r),t.toString()},n.getVariableGroupsLibraryUrl=function(){return n.getUrlForExtension(ct.ExtensionArea.LibraryHub)},n.getEditBuildDefinitionUri=function(n){return!!n&&!!n._links&&!!n._links.editor&&!!n._links.editor.href?n._links.editor.href:v.empty},n.getEditReleaseDefinitionUri=function(n){return!n?v.empty:this.getEditReleaseDefinitionUriForDefinitionId(n.definitionId)},n.getEditReleaseDefinitionUriForDefinitionId=function(t){return n.getUrlForExtension(ct.ExtensionArea.ReleaseCDExplorer,ct.DefinitionDesignerActions.environmentsEditorPreviewAction,{definitionId:t})},n.getEditTaskGroupTasksUri=function(t){return!t?v.empty:n.getUrlForExtension(yt.MetaTaskHubContributionId,ct.MetaTaskViewActions.TASKS,{taskGroupId:t.id})},n.getActionUri=function(n,t,i){var r=this.constructActionUrl(n,t,i),u=nt.getPageContext().webAccessConfiguration.paths.rootPath;return u+r},n.constructActionUrl=function(t,i,r){var s=nt.getPageContext(),b=s.webAccessConfiguration.api,f=[],h,l,y,u,c,p,w,k,o,d,a,v;if(w=b.areaPrefix||"",k=b.controllerPrefix||"",u=$.extend({},r),o=u.area,typeof o=="undefined"&&(o=s.navigation.area),delete u.area,h=u.serviceHost,typeof h=="undefined"&&(h=s.webContext.host),h&&(h.name&&!u.skipServiceHostName&&f.push(encodeURI(h.name)),delete u.skipServiceHostName,h.hostType===tt.ContextHostType.ProjectCollection&&(d=this._shouldBuildApiUrl(o,u),l=u.project,typeof l=="undefined"&&(l=d?s.webContext.project.id:s.webContext.project.name),l&&(f.push(encodeURIComponent(l)),y=u.team,y&&f.push(encodeURIComponent(y))))),delete u.serviceHost,delete u.project,delete u.team,o)if(Array.isArray(o))for(a=o,a.length>0&&f.push(encodeURIComponent(w+a[0])),v=1;v<a.length;v++)f.push(encodeURIComponent(a[v]));else f.push(encodeURIComponent(w+o));return i||(i=u.controller),delete u.controller,t||(t=u.action),delete u.action,c=u.parameters,delete u.parameters,c&&(i||(i=n._DEFAULT_CONTROLLER_NAME),t||(t=n._DEFAULT_ACTION_NAME)),i&&(f.push(encodeURIComponent(k+i)),t&&(f.push(encodeURIComponent(t)),c&&(Array.isArray(c)?f.push.apply(f,$.map(c,encodeURIComponent)):f.push(encodeURIComponent(c))))),(u.includeVersion||o===n._API)&&(u[n._VERSION]=s.webAccessConfiguration.api.webApiVersion),u.includeLanguage&&e.uiCulture&&(u[n._LANGUAGE]=e.uiCulture),delete u.includeVersion,u.area!==n._API&&s.webAccessConfiguration.clientHost&&(u[n._CLIENTHOST]=s.webAccessConfiguration.clientHost),p=$.param(u),f.join("/")+(p?"?"+p:"")},n.getExtensionActionUrl=function(n,t,i){return c.getHistoryService().getFragmentActionLink(t,i)},n.getUrlForExtension=function(n,t,i,r){var u=nt.getPageContext(),h=u.webContext.collection.uri,e=r?r:"",f="",o,s;return!u.webContext.project||(e=r?r:u.webContext.project.name,o=!!r&&r!==u.webContext.project.name&&r!==u.webContext.project.id,u.navigation.topMostLevel!==tt.NavigationContextLevels.Team||o||!nt.getPageContext().webContext.team||(f=nt.getPageContext().webContext.team.name)),s=h+e+(!f?"":"/"+f),this._getExtensionActionUrlFragment(s,n,t,i).replace("#","?")},n.getReleaseSummaryUrl=function(n,t){return dt.isNewCDReleaseProgressViewOptInEnabled()||!this._canNavigateToOldReleaseView()?kt.getCDReleaseViewUrl(n):this.getUrlForExtension(ct.ExtensionArea.ReleaseExplorer,ct.ReleaseEditorAction.summaryAction,{releaseId:n,source:t})},n._canNavigateToOldReleaseView=function(){return st.getService().hasClaim(st.UserClaims.Member)},n._getExtensionActionUrlFragment=function(t,i,r,u){var f=c.getHistoryService().getFragmentActionLink(r,u);return t+n._getExtensionUrl(i)+f},n._getExtensionUrl=function(n){var t=ct.HubRoutes.getRouteForExtensionArea(n);return!t?"/_apps/hub/".concat(n):"/".concat(t)},n._shouldBuildApiUrl=function(t,i){var r;return t&&(r=Array.isArray(t)?t[0]:t),i.useApiUrl||r===n._API&&(typeof i.useApiUrl=="undefined"||i.useApiUrl)},n._timeStamp=Date.now(),n._DEFAULT_CONTROLLER_NAME="home",n._DEFAULT_ACTION_NAME="index",n._CLIENTHOST="clientHost",n._VERSION="__v",n._LANGUAGE="__loc",n._PERMALINK_PREFIX="_permalink",n._API="api",n}();t.UrlHelper=bt;t.loadHtmlTemplate=er;gi=function(){function n(){}return n.performAction=function(n,t,i){h.getService().performAction(n,{target:"_blank",rel:"noopener noreferrer",url:c.getHistoryService().getFragmentActionLink(t,i)})},n.openUrlInNewTab=function(n){h.getService().performAction(h.CommonActions.ACTION_WINDOW_OPEN,{target:"_blank",rel:"noopener noreferrer",url:n})},n}();t.History=gi;nr=function(){function n(){}return n.isWellKnownReleaseSystemVariable=function(n){var r=n.toLowerCase(),t,i;for(t in lt.WellKnownReleaseVariables)if(lt.WellKnownReleaseVariables.hasOwnProperty(t)&&(i=lt.WellKnownReleaseVariables[t],r===i.toLowerCase()))return!0;for(t in lt.WellKnownExtendedReleaseVariables)if(lt.WellKnownExtendedReleaseVariables.hasOwnProperty(t)&&(i=lt.WellKnownExtendedReleaseVariables[t],r.indexOf(i.toLowerCase())===0))return!0;return!1},n}();t.Systemvariableprovider=nr;tr=function(){function n(){}return n.newGuid=function(){var n=(128+Math.floor(Math.random()*64)).toString(16);return this._oct(8)+"-"+this._oct(4)+"-4"+this._oct(3)+"-"+n+this._oct(2)+"-"+this._oct(12)},n._oct=function(n){var t,i;if(!n)return Math.floor(Math.random()*16).toString(16);for(t="",i=0;i<n;i++)t+=this._oct();return t},n}();t.GUIDUtils=tr;ir=function(){function n(){}return n.hasMachineGroupPermission=function(t,i,r){var u=n._getSecurityToken(n._machineGroupToken,t,i?i.toString():v.empty);return n._hasPermission(n._dteSecurityNamespaceId,r,u,!1)},n.hasDeploymentPoolPermission=function(t,i){var r=n._getSecurityToken(n._deploymentPoolToken,v.empty,t?t.toString():v.empty);return n._hasPermission(n._dteSecurityNamespaceId,i,r,!0)},n._hasPermission=function(t,i,u,f){var e=r.defer(),o;return n._initialize(),o=f?n._poolSecurityClient:n._securityClient,o.hasPermissions(t,i,u).then(function(n){e.resolve(n[0])},function(){e.resolve(!0)}),e.promise},n._getSecurityToken=function(t,i,r){var u=t;return i&&!v.equals(i,v.empty)&&(u=u.concat(n._namespaceSeparator,i)),r&&!v.equals(r,v.empty)&&(u=u.concat(n._namespaceSeparator,r)),u},n._initialize=function(){n._securityClient||(n._securityClient=ut.VssConnection.getConnection().getHttpClient(ft.SecurityHttpClient,n._serviceInstanceId));n._poolSecurityClient||(n._poolSecurityClient=o.getPageContext().webAccessConfiguration.isHosted?n._securityClient:ut.getApplicationClient(ft.SecurityHttpClient))},n._serviceInstanceId=et.ServiceInstanceTypes.TFS,n._dteSecurityNamespaceId="101EAE8C-1709-47F9-B228-0E476C35B3BA",n._machineGroupToken="MachineGroups",n._deploymentPoolToken="DeploymentPools",n._namespaceSeparator="/",n}();t.SecurityHelper=ir;t.SaveToFile=or;e.tfsModuleLoaded("TFS.ReleaseManagement.Utils",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.Types",["require","exports","knockout","VSS/VSS"],function(n,t,i,r){var e,o,s,h,c,u,f;Object.defineProperty(t,"__esModule",{value:!0});t.QueueReleaseOnEnvironmentDialogConstants=t.ReleaseApprover=t.ManualInterventionDefaultButton=t.ApprovalDefaultButton=t.ReleaseDefinitionAction=t.WellKnownRepositoryProperties=t.WellKnownRepositoryTypes=void 0,function(n){n.TfsVersionControl="TfsVersionControl";n.TfsGit="TfsGit"}(e=t.WellKnownRepositoryTypes||(t.WellKnownRepositoryTypes={})),function(n){n.TfvcMapping="tfvcMapping"}(o=t.WellKnownRepositoryProperties||(t.WellKnownRepositoryProperties={})),function(n){n.Clone="clone"}(s=t.ReleaseDefinitionAction||(t.ReleaseDefinitionAction={})),function(n){n[n.Approve=0]="Approve";n[n.Reject=1]="Reject";n[n.Reassigned=2]="Reassigned"}(h=t.ApprovalDefaultButton||(t.ApprovalDefaultButton={})),function(n){n[n.Resume=0]="Resume";n[n.Reject=1]="Reject"}(c=t.ManualInterventionDefaultButton||(t.ManualInterventionDefaultButton={}));u=function(){function n(n,t,r){this.taskname=i.observable("");this.taskHeaderString=i.observable("");this.taskImageSource=i.observable("");this.taskname(n);this.taskHeaderString(t);this.taskImageSource(r)}return n}();t.ReleaseApprover=u;f=function(){function n(){}return n.DEPLOY_POPUP_RELEASE_NAME_COMPARISON_TEXT_MAX_LENGTH=15,n.DEPLOY_POPUP_RELEASE_NAME_IN_ARTIFACTS_HEADER_MAX_LENGTH=40,n.DEPLOY_POPUP_RELEASE_NAME_IN_TITLE_MAX_LENGTH=20,n}();t.QueueReleaseOnEnvironmentDialogConstants=f;r.tfsModuleLoaded("TFS.ReleaseManagement.Controls.Types",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.LocalUserSettings",["require","exports","VSS/VSS","VSS/Service","VSS/Settings"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.LocalUserSettings=void 0;var f=function(){function n(){}return n.prototype.getUserSetting=function(n,t){return!n?t:r.getLocalService(u.LocalSettingsService).read(n,t,u.LocalSettingsScope.Project)},n.prototype.setUserSetting=function(n,t){!n||r.getLocalService(u.LocalSettingsService).write(n,t,u.LocalSettingsScope.Project)},n}();t.LocalUserSettings=f;i.tfsModuleLoaded("TFS.ReleaseManagement.LocalUserSettings",t)});

define("ReleaseManagement/Core/RestClient",["require","exports","ReleaseManagement/Core/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u){"use strict";function lt(n){return window.VSS&&window.VSS.VssSDKRestVersion&&ht[window.VSS.VssSDKRestVersion]?r.getClient(ht[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(p,undefined,undefined,undefined,n)}var o,s,h,c,l,a,v,f,e,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ct,ht;Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.ReleaseHttpClient=t.ReleaseHttpClient2=t.ReleaseHttpClient2_1=t.ReleaseHttpClient2_2=t.ReleaseHttpClient2_3=t.ReleaseHttpClient3=t.ReleaseHttpClient3_1=t.ReleaseHttpClient3_2=t.ReleaseHttpClient4=t.ReleaseHttpClient4_1=t.ReleaseHttpClient5=t.ReleaseHttpClient5_1=t.ReleaseHttpClient5_2=t.ReleaseHttpClient6=t.ReleaseHttpClient6_1=t.ReleaseHttpClient7=t.ReleaseHttpClient7_1=t.CommonMethods6To7_1=t.CommonMethods5To7_1=t.CommonMethods4_1To7_1=t.CommonMethods4To7_1=t.CommonMethods3_2To7_1=t.CommonMethods3_1To7_1=t.CommonMethods3To7_1=t.CommonMethods2_2To7_1=t.CommonMethods2To7_1=void 0;o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getAgentArtifactDefinitions=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"f2571c27-bf50-4938-b396-32d109ddef26",resource:"agentartifacts",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/{resource}",responseType:i.TypeInfo.AgentArtifactDefinition,responseIsCollection:!0,routeValues:{project:n,releaseId:t},apiVersion:this.agentartifactsApiVersion})},t.serviceInstanceId="0000000D-0000-8888-8000-000000000000",t}(u.VssHttpClient);t.CommonMethods2To7_1=o;s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getReleaseWorkItemsRefs=function(n,t,i,r,u){var f={baseReleaseId:i,$top:r,artifactAlias:u};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"4f165cc0-875c-4768-b148-f12f78769fab",resource:"workitems",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/{resource}",responseIsCollection:!0,routeValues:{project:n,releaseId:t},queryParams:f,apiVersion:this.workitemsApiVersion})},t.prototype.getArtifactVersionsForSources=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"30fc787e-a9e0-4a07-9fbc-3e903aa051d2",resource:"versions",routeTemplate:"{project}/_apis/{area}/artifacts/{resource}",responseType:i.TypeInfo.ArtifactVersionQueryResult,routeValues:{project:t},apiVersion:this.versionsApiVersion,data:n})},t.prototype.getArtifactVersions=function(n,t){var r={releaseDefinitionId:t};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"30fc787e-a9e0-4a07-9fbc-3e903aa051d2",resource:"versions",routeTemplate:"{project}/_apis/{area}/artifacts/{resource}",responseType:i.TypeInfo.ArtifactVersionQueryResult,routeValues:{project:n},queryParams:r,apiVersion:this.versionsApiVersion})},t.prototype.getArtifactTypeDefinitions=function(n){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"8efc2a3c-1fc8-4f6d-9822-75e98cecb48f",resource:"types",routeTemplate:"{project}/_apis/{area}/artifacts/{resource}",responseType:i.TypeInfo.ArtifactTypeDefinition,responseIsCollection:!0,routeValues:{project:n},apiVersion:this.typesApiVersion})},t.prototype.getTasks=function(n,t,r,u){var f={attemptId:u};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"36b276e0-3c70-4320-a63c-1a2e1466a0d1",resource:"tasks",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/environments/{environmentId}/{resource}",responseType:i.TypeInfo.ReleaseTask,responseIsCollection:!0,routeValues:{project:n,releaseId:t,environmentId:r},queryParams:f,apiVersion:this.tasksApiVersion})},t.prototype.sendSummaryMail=function(n,t,r){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"Release",locationId:"224e92b2-8d13-4c14-b120-13d877c516f8",resource:"sendmail",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",requestType:i.TypeInfo.MailMessage,routeValues:{project:t,releaseId:r},apiVersion:this.sendmailApiVersion,data:n})},t.prototype.getSummaryMailSections=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"224e92b2-8d13-4c14-b120-13d877c516f8",resource:"sendmail",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",responseType:i.TypeInfo.SummaryMailSection,responseIsCollection:!0,routeValues:{project:n,releaseId:t},apiVersion:this.sendmailApiVersion})},t.prototype.getReleaseDefinitionHistory=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"258b82e0-9d41-43f3-86d6-fef14ddd44bc",resource:"revisions",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}/{resource}/{revision}",responseType:i.TypeInfo.ReleaseDefinitionRevision,responseIsCollection:!0,routeValues:{project:n,definitionId:t},apiVersion:this.revisionsApiVersion})},t.prototype.getDefinitionRevision=function(n,t,i){return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"Release",locationId:"258b82e0-9d41-43f3-86d6-fef14ddd44bc",resource:"revisions",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}/{resource}/{revision}",routeValues:{project:n,definitionId:t,revision:i},apiVersion:this.revisionsApiVersion})},t.prototype.updateReleaseResource=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",requestType:i.TypeInfo.ReleaseUpdateMetadata,responseType:i.TypeInfo.Release,routeValues:{project:t,releaseId:r},apiVersion:this.releasesApiVersion,data:n})},t.prototype.updateRelease=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",requestType:i.TypeInfo.Release,responseType:i.TypeInfo.Release,routeValues:{project:t,releaseId:r},apiVersion:this.releasesApiVersion,data:n})},t.prototype.getReleaseRevision=function(n,t,i){var r={definitionSnapshotRevision:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",routeValues:{project:n,releaseId:t},queryParams:r,apiVersion:this.releasesApiVersion})},t.prototype.getReleaseDefinitionSummary=function(n,t,r,u,f){var e={definitionId:t,releaseCount:r,includeArtifact:u,definitionEnvironmentIdsFilter:f&&f.join(",")};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",responseType:i.TypeInfo.ReleaseDefinitionSummary,routeValues:{project:n},queryParams:e,apiVersion:this.releasesApiVersion})},t.prototype.deleteRelease=function(n,t,i){var r={comment:i};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",routeValues:{project:n,releaseId:t},queryParams:r,apiVersion:this.releasesApiVersion})},t.prototype.createRelease=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",requestType:i.TypeInfo.ReleaseStartMetadata,responseType:i.TypeInfo.Release,routeValues:{project:t},apiVersion:this.releasesApiVersion,data:n})},t.prototype.getLog=function(n,t,i,r,u){var f={attemptId:u};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"Release",locationId:"e71ba1ed-c0a4-4a28-a61f-2dd5f68cf3fd",resource:"logs",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/environments/{environmentId}/tasks/{taskId}/{resource}",routeValues:{project:n,releaseId:t,environmentId:i,taskId:r},queryParams:f,apiVersion:this.logsApiVersion})},t.prototype.getLogs=function(n,t){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"Release",locationId:"c37fbab5-214b-48e4-a55b-cb6b4f6e4038",resource:"logs",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/{resource}",routeValues:{project:n,releaseId:t},apiVersion:this.logsApiVersion_c37fbab5})},t.prototype.getInputValues=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"71dd499b-317d-45ea-9134-140ea1932b5e",resource:"inputvaluesquery",routeTemplate:"{project}/_apis/{area}/artifacts/{resource}",routeValues:{project:t},apiVersion:this.inputvaluesqueryApiVersion,data:n})},t.prototype.getReleaseHistory=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"23f461c8-629a-4144-a076-3054fa5f268a",resource:"history",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/{resource}",responseType:i.TypeInfo.ReleaseRevision,responseIsCollection:!0,routeValues:{project:n,releaseId:t},apiVersion:this.historyApiVersion})},t.prototype.listDefinitionEnvironmentTemplates=function(n,t){var r={isDeleted:t};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"6b03b696-824e-4479-8eb2-6644a51aba89",resource:"environmenttemplates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}",responseType:i.TypeInfo.ReleaseDefinitionEnvironmentTemplate,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:this.environmenttemplatesApiVersion})},t.prototype.getDefinitionEnvironmentTemplate=function(n,t){var r={templateId:t};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"6b03b696-824e-4479-8eb2-6644a51aba89",resource:"environmenttemplates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}",responseType:i.TypeInfo.ReleaseDefinitionEnvironmentTemplate,routeValues:{project:n},queryParams:r,apiVersion:this.environmenttemplatesApiVersion})},t.prototype.deleteDefinitionEnvironmentTemplate=function(n,t){var i={templateId:t};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Release",locationId:"6b03b696-824e-4479-8eb2-6644a51aba89",resource:"environmenttemplates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}",routeValues:{project:n},queryParams:i,apiVersion:this.environmenttemplatesApiVersion})},t.prototype.createDefinitionEnvironmentTemplate=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"6b03b696-824e-4479-8eb2-6644a51aba89",resource:"environmenttemplates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}",requestType:i.TypeInfo.ReleaseDefinitionEnvironmentTemplate,responseType:i.TypeInfo.ReleaseDefinitionEnvironmentTemplate,routeValues:{project:t},apiVersion:this.environmenttemplatesApiVersion,data:n})},t.prototype.updateReleaseEnvironment=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"a7e426b1-03dc-48af-9dfe-c98bac612dcb",resource:"environments",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/{resource}/{environmentId}",requestType:i.TypeInfo.ReleaseEnvironmentUpdateMetadata,responseType:i.TypeInfo.ReleaseEnvironment,routeValues:{project:t,releaseId:r,environmentId:u},apiVersion:this.environmentsApiVersion,data:n})},t.prototype.updateReleaseDefinition=function(n,t){return this._beginRequest({httpMethod:"PUT",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",requestType:i.TypeInfo.ReleaseDefinition,responseType:i.TypeInfo.ReleaseDefinition,routeValues:{project:t},apiVersion:this.definitionsApiVersion,data:n})},t.prototype.getReleaseDefinitionRevision=function(n,t,i){var r={revision:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",routeValues:{project:n,definitionId:t},queryParams:r,apiVersion:this.definitionsApiVersion})},t.prototype.deleteReleaseDefinition=function(n,t,i,r){var u={comment:i,forceDelete:r};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",routeValues:{project:n,definitionId:t},queryParams:u,apiVersion:this.definitionsApiVersion})},t.prototype.createReleaseDefinition=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",requestType:i.TypeInfo.ReleaseDefinition,responseType:i.TypeInfo.ReleaseDefinition,routeValues:{project:t},apiVersion:this.definitionsApiVersion,data:n})},t.prototype.getReleaseChanges=function(n,t,r,u,f){var e={baseReleaseId:r,$top:u,artifactAlias:f};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"8dcf9fe9-ca37-4113-8ee1-37928e98407c",resource:"changes",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,releaseId:t},queryParams:e,apiVersion:this.changesApiVersion})},t.prototype.updateReleaseApproval=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"9328e074-59fb-465a-89d9-b09c82ee5109",resource:"approvals",routeTemplate:"{project}/_apis/{area}/{resource}/{approvalId}",requestType:i.TypeInfo.ReleaseApproval,responseType:i.TypeInfo.ReleaseApproval,routeValues:{project:t,approvalId:r},apiVersion:this.approvalsApiVersion,data:n})},t.prototype.getApproval=function(n,t,r){var u={includeHistory:r};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"9328e074-59fb-465a-89d9-b09c82ee5109",resource:"approvals",routeTemplate:"{project}/_apis/{area}/{resource}/{approvalId}",responseType:i.TypeInfo.ReleaseApproval,routeValues:{project:n,approvalId:t},queryParams:u,apiVersion:this.approvalsApiVersion})},t.prototype.getApprovalHistory=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"250c7158-852e-4130-a00f-a0cce9b72d05",resource:"approvals",routeTemplate:"{project}/_apis/{area}/{resource}/{approvalStepId}/history",responseType:i.TypeInfo.ReleaseApproval,routeValues:{project:n,approvalStepId:t},apiVersion:this.approvalsApiVersion_250c7158})},t.prototype.getApprovals=function(n,t,r,u,f,e,o,s,h){var c={assignedToFilter:t,statusFilter:r,releaseIdsFilter:u&&u.join(","),typeFilter:f,top:e,continuationToken:o,queryOrder:s,includeMyGroupApprovals:h};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"b47c6458-e73b-47cb-a770-4df1e8813a91",resource:"approvals",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.ReleaseApproval,responseIsCollection:!0,routeValues:{project:n},queryParams:c,apiVersion:this.approvalsApiVersion_b47c6458})},t}(o);t.CommonMethods2_2To7_1=s;h=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getTasks2=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"4259291d-4b0a-4409-9fb3-04f22ab9bc47",resource:"tasks",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/timelines/{timelineId}/{resource}",responseType:i.TypeInfo.ReleaseTask,responseIsCollection:!0,routeValues:{project:n,releaseId:t,environmentId:r,attemptId:u,timelineId:f},apiVersion:this.tasksApiVersion_4259291d})},t.prototype.getTasksForTaskGroup=function(n,t,r,u){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"4259191d-4b0a-4409-9fb3-09f22ab9bc47",resource:"tasks",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/environments/{environmentId}/deployPhases/{releaseDeployPhaseId}/{resource}",responseType:i.TypeInfo.ReleaseTask,responseIsCollection:!0,routeValues:{project:n,releaseId:t,environmentId:r,releaseDeployPhaseId:u},apiVersion:this.tasksApiVersion_4259191d})},t.prototype.getSourceBranches=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"0e5def23-78b3-461f-8198-1558f25041c8",resource:"sourcebranches",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",responseIsCollection:!0,routeValues:{project:n,definitionId:t},apiVersion:this.sourcebranchesApiVersion})},t.prototype.updateReleaseSettings=function(n,t){return this._beginRequest({httpMethod:"PUT",area:"Release",locationId:"c63c3718-7cfd-41e0-b89b-81c1ca143437",resource:"releasesettings",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:t},apiVersion:this.releasesettingsApiVersion,data:n})},t.prototype.getReleaseSettings=function(n){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"c63c3718-7cfd-41e0-b89b-81c1ca143437",resource:"releasesettings",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:n},apiVersion:this.releasesettingsApiVersion})},t.prototype.undeleteRelease=function(n,t,i){var r={comment:i};return this._beginRequest({httpMethod:"PUT",httpResponseType:"html",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",routeValues:{project:n,releaseId:t},queryParams:r,apiVersion:this.releasesApiVersion})},t.prototype.getRelease=function(n,t,r,u,f,e){var o={approvalFilters:r,propertyFilters:u&&u.join(","),$expand:f,$topGateRecords:e};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",responseType:i.TypeInfo.Release,routeValues:{project:n,releaseId:t},queryParams:o,apiVersion:this.releasesApiVersion})},t.prototype.updateManualIntervention=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"616c46e4-f370-4456-adaa-fbaf79c7b79e",resource:"manualInterventions",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/{resource}/{manualInterventionId}",requestType:i.TypeInfo.ManualInterventionUpdateMetadata,responseType:i.TypeInfo.ManualIntervention,routeValues:{project:t,releaseId:r,manualInterventionId:u},apiVersion:this.manualInterventionsApiVersion,data:n})},t.prototype.getManualInterventions=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"616c46e4-f370-4456-adaa-fbaf79c7b79e",resource:"manualInterventions",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/{resource}/{manualInterventionId}",responseType:i.TypeInfo.ManualIntervention,responseIsCollection:!0,routeValues:{project:n,releaseId:t},apiVersion:this.manualInterventionsApiVersion})},t.prototype.getManualIntervention=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"616c46e4-f370-4456-adaa-fbaf79c7b79e",resource:"manualInterventions",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/{resource}/{manualInterventionId}",responseType:i.TypeInfo.ManualIntervention,routeValues:{project:n,releaseId:t,manualInterventionId:r},apiVersion:this.manualInterventionsApiVersion})},t.prototype.getTaskLog=function(n,t,i,r,u,f,e){var o={startLine:f,endLine:e};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"Release",locationId:"17c91af7-09fd-4256-bff1-c24ee4f73bc0",resource:"logs",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/environments/{environmentId}/deployPhases/{releaseDeployPhaseId}/tasks/{taskId}/{resource}",routeValues:{project:n,releaseId:t,environmentId:i,releaseDeployPhaseId:r,taskId:u},queryParams:o,apiVersion:this.logsApiVersion_17c91af7})},t.prototype.getTaskLog2=function(n,t,i,r,u,f,e,o){var s={startLine:e,endLine:o};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"Release",locationId:"2577e6c3-6999-4400-bc69-fe1d837755fe",resource:"logs",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/timelines/{timelineId}/tasks/{taskId}/{resource}",routeValues:{project:n,releaseId:t,environmentId:i,attemptId:r,timelineId:u,taskId:f},queryParams:s,apiVersion:this.logsApiVersion_2577e6c3})},t.prototype.getGateLog=function(n,t,i,r,u){return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"Release",locationId:"dec7ca5a-7f7f-4797-8bf1-8efc0dc93b28",resource:"logs",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/environments/{environmentId}/gates/{gateId}/tasks/{taskId}/{resource}",routeValues:{project:n,releaseId:t,environmentId:i,gateId:r,taskId:u},apiVersion:this.logsApiVersion_dec7ca5a})},t.prototype.getDeploymentsForMultipleEnvironments=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"b005ef73-cddc-448e-9ba2-5193bf36b19f",resource:"deployments",routeTemplate:"{project}/_apis/{area}/{resource}",requestType:i.TypeInfo.DeploymentQueryParameters,responseType:i.TypeInfo.Deployment,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.deploymentsApiVersion,data:n})},t.prototype.getDeployments=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w){var b={definitionId:t,definitionEnvironmentId:r,createdBy:u,minModifiedTime:f,maxModifiedTime:e,deploymentStatus:o,operationStatus:s,latestAttemptsOnly:h,queryOrder:c,$top:l,continuationToken:a,createdFor:v,minStartedTime:y,maxStartedTime:p,sourceBranch:w};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"b005ef73-cddc-448e-9ba2-5193bf36b19f",resource:"deployments",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.Deployment,responseIsCollection:!0,routeValues:{project:n},queryParams:b,apiVersion:this.deploymentsApiVersion})},t}(s);t.CommonMethods3To7_1=h;c=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getReleases=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt){var it={definitionId:t,definitionEnvironmentId:r,searchText:u,createdBy:f,statusFilter:e,environmentStatusFilter:o,minCreatedTime:s,maxCreatedTime:h,queryOrder:c,$top:l,continuationToken:a,$expand:v,artifactTypeId:y,sourceId:p,artifactVersionId:w,sourceBranchFilter:b,isDeleted:k,tagFilter:d&&d.join(","),propertyFilters:g&&g.join(","),releaseIdFilter:nt&&nt.join(","),path:tt};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.Release,responseIsCollection:!0,routeValues:{project:n},queryParams:it,apiVersion:this.releasesApiVersion})},t.prototype.getReleaseProjects=function(n,t){var i={artifactType:n,artifactSourceId:t};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"917ace4a-79d1-45a7-987c-7be4db4268fa",resource:"projects",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,queryParams:i,apiVersion:this.projectsApiVersion})},t.prototype.getMetrics=function(n,t){var i={minMetricsTime:t};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"cd1502bb-3c73-4e11-80a6-d11308dceae5",resource:"metrics",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:i,apiVersion:this.metricsApiVersion})},t.prototype.updateFolder=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"f7ddf76d-ce0c-4d68-94ff-becaec5d9dea",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",requestType:i.TypeInfo.Folder,responseType:i.TypeInfo.Folder,routeValues:{project:t,path:r},apiVersion:this.foldersApiVersion,data:n})},t.prototype.getFolders=function(n,t,r){var u={queryOrder:r};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"f7ddf76d-ce0c-4d68-94ff-becaec5d9dea",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",responseType:i.TypeInfo.Folder,responseIsCollection:!0,routeValues:{project:n,path:t},queryParams:u,apiVersion:this.foldersApiVersion})},t.prototype.deleteFolder=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Release",locationId:"f7ddf76d-ce0c-4d68-94ff-becaec5d9dea",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",routeValues:{project:n,path:t},apiVersion:this.foldersApiVersion})},t.prototype.getFavorites=function(n,t,i){var r={identityId:i};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"938f7222-9acb-48fe-b8a3-4eda04597171",resource:"favorites",routeTemplate:"{project}/_apis/{area}/{resource}/{scope}",responseIsCollection:!0,routeValues:{project:n,scope:t},queryParams:r,apiVersion:this.favoritesApiVersion})},t.prototype.deleteFavorites=function(n,t,i,r){var u={identityId:i,favoriteItemIds:r};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Release",locationId:"938f7222-9acb-48fe-b8a3-4eda04597171",resource:"favorites",routeTemplate:"{project}/_apis/{area}/{resource}/{scope}",routeValues:{project:n,scope:t},queryParams:u,apiVersion:this.favoritesApiVersion})},t.prototype.createFavorites=function(n,t,i,r){var u={identityId:r};return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"938f7222-9acb-48fe-b8a3-4eda04597171",resource:"favorites",routeTemplate:"{project}/_apis/{area}/{resource}/{scope}",responseIsCollection:!0,routeValues:{project:t,scope:i},queryParams:u,apiVersion:this.favoritesApiVersion,data:n})},t}(h);t.CommonMethods3_1To7_1=c;l=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getTags=function(n){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"86cee25a-68ba-4ba3-9171-8ad6ffc6df93",resource:"tags",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},apiVersion:this.tagsApiVersion})},t.prototype.getReleaseTags=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"c5b602b6-d1b3-4363-8a51-94384f78068f",resource:"tags",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,releaseId:t},apiVersion:this.tagsApiVersion_c5b602b6})},t.prototype.deleteReleaseTag=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",area:"Release",locationId:"c5b602b6-d1b3-4363-8a51-94384f78068f",resource:"tags",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,releaseId:t,tag:i},apiVersion:this.tagsApiVersion_c5b602b6})},t.prototype.addReleaseTags=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"c5b602b6-d1b3-4363-8a51-94384f78068f",resource:"tags",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:t,releaseId:i},apiVersion:this.tagsApiVersion_c5b602b6,data:n})},t.prototype.addReleaseTag=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"c5b602b6-d1b3-4363-8a51-94384f78068f",resource:"tags",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,releaseId:t,tag:i},apiVersion:this.tagsApiVersion_c5b602b6})},t.prototype.getDefinitionTags=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"3d21b4c8-c32e-45b2-a7cb-770a369012f4",resource:"tags",routeTemplate:"{project}/_apis/{area}/definitions/{releaseDefinitionId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,releaseDefinitionId:t},apiVersion:this.tagsApiVersion_3d21b4c8})},t.prototype.deleteDefinitionTag=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",area:"Release",locationId:"3d21b4c8-c32e-45b2-a7cb-770a369012f4",resource:"tags",routeTemplate:"{project}/_apis/{area}/definitions/{releaseDefinitionId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,releaseDefinitionId:t,tag:i},apiVersion:this.tagsApiVersion_3d21b4c8})},t.prototype.addDefinitionTags=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"3d21b4c8-c32e-45b2-a7cb-770a369012f4",resource:"tags",routeTemplate:"{project}/_apis/{area}/definitions/{releaseDefinitionId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:t,releaseDefinitionId:i},apiVersion:this.tagsApiVersion_3d21b4c8,data:n})},t.prototype.addDefinitionTag=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"3d21b4c8-c32e-45b2-a7cb-770a369012f4",resource:"tags",routeTemplate:"{project}/_apis/{area}/definitions/{releaseDefinitionId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,releaseDefinitionId:t,tag:i},apiVersion:this.tagsApiVersion_3d21b4c8})},t.prototype.getIssues=function(n,t,r){var u={sourceId:r};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"cd42261a-f5c6-41c8-9259-f078989b9f25",resource:"issues",routeTemplate:"{project}/_apis/{area}/{resource}/{buildId}",responseType:i.TypeInfo.AutoTriggerIssue,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:this.issuesApiVersion})},t.prototype.getDefinitionEnvironments=function(n,t,i){var r={taskGroupId:t,propertyFilters:i&&i.join(",")};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"12b5d21a-f54c-430e-a8c1-7515d196890e",resource:"definitionEnvironments",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:this.definitionEnvironmentsApiVersion})},t}(c);t.CommonMethods3_2To7_1=l;a=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.undeleteReleaseDefinitionEnvironmentTemplate=function(n,t){var r={templateId:t};return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"6b03b696-824e-4479-8eb2-6644a51aba89",resource:"environmenttemplates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}",responseType:i.TypeInfo.ReleaseDefinitionEnvironmentTemplate,routeValues:{project:n},queryParams:r,apiVersion:this.environmenttemplatesApiVersion})},t.prototype.undeleteReleaseDefinition=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,routeValues:{project:t,definitionId:r},apiVersion:this.definitionsApiVersion,data:n})},t.prototype.getReleaseDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={searchText:t,$expand:r,artifactType:u,artifactSourceId:f,$top:e,continuationToken:o,queryOrder:s,path:h,isExactNameMatch:c,tagFilter:l&&l.join(","),propertyFilters:a&&a.join(","),definitionIdFilter:v&&v.join(","),isDeleted:y,searchTextContainsFolderName:p};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:this.definitionsApiVersion})},t.prototype.getReleaseDefinition=function(n,t,r){var u={propertyFilters:r&&r.join(",")};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,routeValues:{project:n,definitionId:t},queryParams:u,apiVersion:this.definitionsApiVersion})},t.prototype.getAutoTriggerIssues=function(n,t,r,u){var f={artifactType:n,sourceId:t,artifactVersionId:r};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"c1a68497-69da-40fb-9423-cab19cfeeca9",resource:"autotriggerissues",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.AutoTriggerIssue,responseIsCollection:!0,routeValues:{project:u},queryParams:f,apiVersion:this.autotriggerissuesApiVersion})},t.prototype.updateReleaseApprovals=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"c957584a-82aa-4131-8222-6d47f78bfa7a",resource:"approvals",routeTemplate:"{project}/_apis/{area}/{resource}",requestType:i.TypeInfo.ReleaseApproval,responseType:i.TypeInfo.ReleaseApproval,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.approvalsApiVersion_c957584a,data:n})},t}(l);t.CommonMethods4To7_1=a;v=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.createFolder=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"f7ddf76d-ce0c-4d68-94ff-becaec5d9dea",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",requestType:i.TypeInfo.Folder,responseType:i.TypeInfo.Folder,routeValues:{project:t,path:r},apiVersion:this.foldersApiVersion,data:n})},t.prototype.getDeploymentBadge=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"1a60a35d-b8c9-45fb-bf67-da0829711147",resource:"badge",routeTemplate:"_apis/public/{area}/{resource}/{projectId}/{releaseDefinitionId}/{environmentId}/{branchName}",routeValues:{projectId:n,releaseDefinitionId:t,environmentId:i,branchName:r},apiVersion:this.badgeApiVersion})},t.prototype.getTaskAttachments=function(n,t,r,u,f,e){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"214111ee-2415-4df2-8ed2-74417f7d61f9",resource:"attachments",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/timelines/{timelineId}/{resource}/{type}",responseType:i.TypeInfo.ReleaseTaskAttachment,responseIsCollection:!0,routeValues:{project:n,releaseId:t,environmentId:r,attemptId:u,timelineId:f,type:e},apiVersion:this.attachmentsApiVersion})},t.prototype.getTaskAttachmentContent=function(n,t,i,r,u,f,e,o){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"Release",locationId:"c4071f6d-3697-46ca-858e-8b10ff09e52f",resource:"attachments",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/timelines/{timelineId}/records/{recordId}/{resource}/{type}/{name}",routeValues:{project:n,releaseId:t,environmentId:i,attemptId:r,timelineId:u,recordId:f,type:e,name:o},apiVersion:this.attachmentsApiVersion_c4071f6d})},t}(a);t.CommonMethods4_1To7_1=v;f=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateGates=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"2666a539-2001-4f80-bcc7-0379956749d4",resource:"gates",routeTemplate:"{project}/_apis/{area}/{resource}/{gateStepId}",responseType:i.TypeInfo.ReleaseGates,routeValues:{project:t,gateStepId:r},apiVersion:this.gatesApiVersion,data:n})},t.prototype.getFlightAssignments=function(n){var t={flightName:n};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"409d301f-3046-46f3-beb9-4357fbce0a8c",resource:"flightAssignments",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,queryParams:t,apiVersion:this.flightAssignmentsApiVersion})},t.prototype.getReleaseTaskAttachments=function(n,t,r,u,f,e){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a4d06688-0dfa-4895-82a5-f43ec9452306",resource:"attachments",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/plan/{planId}/{resource}/{type}",responseType:i.TypeInfo.ReleaseTaskAttachment,responseIsCollection:!0,routeValues:{project:n,releaseId:t,environmentId:r,attemptId:u,planId:f,type:e},apiVersion:this.attachmentsApiVersion_a4d06688})},t.prototype.getReleaseTaskAttachmentContent=function(n,t,i,r,u,f,e,o,s){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"Release",locationId:"60b86efb-7b8c-4853-8f9f-aa142b77b479",resource:"attachments",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/plan/{planId}/timelines/{timelineId}/records/{recordId}/{resource}/{type}/{name}",routeValues:{project:n,releaseId:t,environmentId:i,attemptId:r,planId:u,timelineId:f,recordId:e,type:o,name:s},apiVersion:this.attachmentsApiVersion_60b86efb})},t}(v);t.CommonMethods5To7_1=f;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updatePipelineReleaseSettings=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"e816b9f4-f9fe-46ba-bdcc-a9af6abf3144",resource:"pipelineReleaseSettings",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:t},apiVersion:this.pipelineReleaseSettingsApiVersion,data:n})},t.prototype.getPipelineReleaseSettings=function(n){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"e816b9f4-f9fe-46ba-bdcc-a9af6abf3144",resource:"pipelineReleaseSettings",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:n},apiVersion:this.pipelineReleaseSettingsApiVersion})},t.prototype.updateOrgPipelineReleaseSettings=function(n){return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"d156c759-ca4e-492b-90d4-db03971796ea",resource:"orgPipelineReleaseSettings",routeTemplate:"_apis/{area}/{resource}",apiVersion:this.orgPipelineReleaseSettingsApiVersion,data:n})},t.prototype.getOrgPipelineReleaseSettings=function(){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d156c759-ca4e-492b-90d4-db03971796ea",resource:"orgPipelineReleaseSettings",routeTemplate:"_apis/{area}/{resource}",apiVersion:this.orgPipelineReleaseSettingsApiVersion})},t.prototype.getReleaseEnvironment=function(n,t,r,u){var f={$expand:u};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a7e426b1-03dc-48af-9dfe-c98bac612dcb",resource:"environments",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/{resource}/{environmentId}",responseType:i.TypeInfo.ReleaseEnvironment,routeValues:{project:n,releaseId:t,environmentId:r},queryParams:f,apiVersion:this.environmentsApiVersion})},t}(f);t.CommonMethods6To7_1=e;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentartifactsApiVersion=r.attachmentsApiVersion=r.attachmentsApiVersion_c4071f6d=r.attachmentsApiVersion_a4d06688=r.attachmentsApiVersion_60b86efb=r.autotriggerissuesApiVersion=r.badgeApiVersion=r.changesApiVersion=r.definitionEnvironmentsApiVersion=r.favoritesApiVersion=r.flightAssignmentsApiVersion=r.gatesApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.issuesApiVersion=r.manualInterventionsApiVersion=r.metricsApiVersion=r.orgPipelineReleaseSettingsApiVersion=r.pipelineReleaseSettingsApiVersion=r.projectsApiVersion=r.releasesettingsApiVersion=r.revisionsApiVersion=r.sendmailApiVersion=r.sourcebranchesApiVersion=r.tagsApiVersion=r.tagsApiVersion_c5b602b6=r.tagsApiVersion_3d21b4c8=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="7.1-preview.1",r.deploymentsApiVersion=r.foldersApiVersion=r.logsApiVersion=r.logsApiVersion_c37fbab5=r.logsApiVersion_17c91af7=r.logsApiVersion_2577e6c3=r.logsApiVersion_dec7ca5a=r.tasksApiVersion=r.tasksApiVersion_4259291d=r.tasksApiVersion_4259191d="7.1-preview.2",r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.approvalsApiVersion_c957584a="7.1-preview.3",r.definitionsApiVersion=r.environmenttemplatesApiVersion="7.1-preview.4",r.environmentsApiVersion="7.1-preview.7",r.releasesApiVersion="7.1-preview.8",r}return __extends(t,n),t}(e);t.ReleaseHttpClient7_1=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentartifactsApiVersion=r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.approvalsApiVersion_c957584a=r.attachmentsApiVersion=r.attachmentsApiVersion_c4071f6d=r.attachmentsApiVersion_a4d06688=r.attachmentsApiVersion_60b86efb=r.autotriggerissuesApiVersion=r.badgeApiVersion=r.changesApiVersion=r.definitionEnvironmentsApiVersion=r.definitionsApiVersion=r.deploymentsApiVersion=r.environmentsApiVersion=r.environmenttemplatesApiVersion=r.favoritesApiVersion=r.flightAssignmentsApiVersion=r.foldersApiVersion=r.gatesApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.issuesApiVersion=r.logsApiVersion=r.logsApiVersion_c37fbab5=r.logsApiVersion_17c91af7=r.logsApiVersion_2577e6c3=r.logsApiVersion_dec7ca5a=r.manualInterventionsApiVersion=r.metricsApiVersion=r.orgPipelineReleaseSettingsApiVersion=r.pipelineReleaseSettingsApiVersion=r.projectsApiVersion=r.releasesApiVersion=r.releasesettingsApiVersion=r.revisionsApiVersion=r.sendmailApiVersion=r.sourcebranchesApiVersion=r.tagsApiVersion=r.tagsApiVersion_c5b602b6=r.tagsApiVersion_3d21b4c8=r.tasksApiVersion=r.tasksApiVersion_4259291d=r.tasksApiVersion_4259191d=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="7.0",r}return __extends(t,n),t}(e);t.ReleaseHttpClient7=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentartifactsApiVersion=r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.approvalsApiVersion_c957584a=r.attachmentsApiVersion=r.attachmentsApiVersion_c4071f6d=r.attachmentsApiVersion_a4d06688=r.attachmentsApiVersion_60b86efb=r.autotriggerissuesApiVersion=r.badgeApiVersion=r.changesApiVersion=r.definitionEnvironmentsApiVersion=r.definitionsApiVersion=r.deploymentsApiVersion=r.environmentsApiVersion=r.environmenttemplatesApiVersion=r.favoritesApiVersion=r.flightAssignmentsApiVersion=r.foldersApiVersion=r.gatesApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.issuesApiVersion=r.logsApiVersion=r.logsApiVersion_c37fbab5=r.logsApiVersion_17c91af7=r.logsApiVersion_2577e6c3=r.logsApiVersion_dec7ca5a=r.manualInterventionsApiVersion=r.metricsApiVersion=r.orgPipelineReleaseSettingsApiVersion=r.pipelineReleaseSettingsApiVersion=r.projectsApiVersion=r.releasesApiVersion=r.releasesettingsApiVersion=r.revisionsApiVersion=r.sendmailApiVersion=r.sourcebranchesApiVersion=r.tagsApiVersion=r.tagsApiVersion_c5b602b6=r.tagsApiVersion_3d21b4c8=r.tasksApiVersion=r.tasksApiVersion_4259291d=r.tasksApiVersion_4259191d=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="6.1",r}return __extends(t,n),t}(e);t.ReleaseHttpClient6_1=w;b=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentartifactsApiVersion=r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.approvalsApiVersion_c957584a=r.attachmentsApiVersion=r.attachmentsApiVersion_c4071f6d=r.attachmentsApiVersion_a4d06688=r.attachmentsApiVersion_60b86efb=r.autotriggerissuesApiVersion=r.badgeApiVersion=r.changesApiVersion=r.definitionEnvironmentsApiVersion=r.definitionsApiVersion=r.deploymentsApiVersion=r.environmentsApiVersion=r.environmenttemplatesApiVersion=r.favoritesApiVersion=r.flightAssignmentsApiVersion=r.foldersApiVersion=r.gatesApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.issuesApiVersion=r.logsApiVersion=r.logsApiVersion_c37fbab5=r.logsApiVersion_17c91af7=r.logsApiVersion_2577e6c3=r.logsApiVersion_dec7ca5a=r.manualInterventionsApiVersion=r.metricsApiVersion=r.orgPipelineReleaseSettingsApiVersion=r.pipelineReleaseSettingsApiVersion=r.projectsApiVersion=r.releasesApiVersion=r.releasesettingsApiVersion=r.revisionsApiVersion=r.sendmailApiVersion=r.sourcebranchesApiVersion=r.tagsApiVersion=r.tagsApiVersion_c5b602b6=r.tagsApiVersion_3d21b4c8=r.tasksApiVersion=r.tasksApiVersion_4259291d=r.tasksApiVersion_4259191d=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="6.0",r}return __extends(t,n),t}(e);t.ReleaseHttpClient6=b;k=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentartifactsApiVersion=r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.approvalsApiVersion_c957584a=r.attachmentsApiVersion=r.attachmentsApiVersion_c4071f6d=r.attachmentsApiVersion_a4d06688=r.attachmentsApiVersion_60b86efb=r.autotriggerissuesApiVersion=r.badgeApiVersion=r.changesApiVersion=r.definitionEnvironmentsApiVersion=r.definitionsApiVersion=r.deploymentsApiVersion=r.environmentsApiVersion=r.environmenttemplatesApiVersion=r.favoritesApiVersion=r.flightAssignmentsApiVersion=r.foldersApiVersion=r.gatesApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.issuesApiVersion=r.logsApiVersion=r.logsApiVersion_c37fbab5=r.logsApiVersion_17c91af7=r.logsApiVersion_2577e6c3=r.logsApiVersion_dec7ca5a=r.manualInterventionsApiVersion=r.metricsApiVersion=r.projectsApiVersion=r.releasesApiVersion=r.releasesettingsApiVersion=r.revisionsApiVersion=r.sendmailApiVersion=r.sourcebranchesApiVersion=r.tagsApiVersion=r.tagsApiVersion_c5b602b6=r.tagsApiVersion_3d21b4c8=r.tasksApiVersion=r.tasksApiVersion_4259291d=r.tasksApiVersion_4259191d=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="5.2",r}return __extends(t,n),t.prototype.getReleaseEnvironment=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a7e426b1-03dc-48af-9dfe-c98bac612dcb",resource:"environments",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/{resource}/{environmentId}",responseType:i.TypeInfo.ReleaseEnvironment,routeValues:{project:n,releaseId:t,environmentId:r},apiVersion:"5.2"})},t}(f);t.ReleaseHttpClient5_2=k;d=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentartifactsApiVersion=r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.approvalsApiVersion_c957584a=r.attachmentsApiVersion=r.attachmentsApiVersion_c4071f6d=r.attachmentsApiVersion_a4d06688=r.attachmentsApiVersion_60b86efb=r.autotriggerissuesApiVersion=r.badgeApiVersion=r.changesApiVersion=r.definitionEnvironmentsApiVersion=r.definitionsApiVersion=r.deploymentsApiVersion=r.environmentsApiVersion=r.environmenttemplatesApiVersion=r.favoritesApiVersion=r.flightAssignmentsApiVersion=r.foldersApiVersion=r.gatesApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.issuesApiVersion=r.logsApiVersion=r.logsApiVersion_c37fbab5=r.logsApiVersion_17c91af7=r.logsApiVersion_2577e6c3=r.logsApiVersion_dec7ca5a=r.manualInterventionsApiVersion=r.metricsApiVersion=r.projectsApiVersion=r.releasesApiVersion=r.releasesettingsApiVersion=r.revisionsApiVersion=r.sendmailApiVersion=r.sourcebranchesApiVersion=r.tagsApiVersion=r.tagsApiVersion_c5b602b6=r.tagsApiVersion_3d21b4c8=r.tasksApiVersion=r.tasksApiVersion_4259291d=r.tasksApiVersion_4259191d=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="5.1",r}return __extends(t,n),t.prototype.getReleaseEnvironment=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a7e426b1-03dc-48af-9dfe-c98bac612dcb",resource:"environments",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/{resource}/{environmentId}",responseType:i.TypeInfo.ReleaseEnvironment,routeValues:{project:n,releaseId:t,environmentId:r},apiVersion:"5.1"})},t}(f);t.ReleaseHttpClient5_1=d;g=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentartifactsApiVersion=r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.approvalsApiVersion_c957584a=r.attachmentsApiVersion=r.attachmentsApiVersion_c4071f6d=r.attachmentsApiVersion_a4d06688=r.attachmentsApiVersion_60b86efb=r.autotriggerissuesApiVersion=r.badgeApiVersion=r.changesApiVersion=r.definitionEnvironmentsApiVersion=r.definitionsApiVersion=r.deploymentsApiVersion=r.environmentsApiVersion=r.environmenttemplatesApiVersion=r.favoritesApiVersion=r.flightAssignmentsApiVersion=r.foldersApiVersion=r.gatesApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.issuesApiVersion=r.logsApiVersion=r.logsApiVersion_c37fbab5=r.logsApiVersion_17c91af7=r.logsApiVersion_2577e6c3=r.logsApiVersion_dec7ca5a=r.manualInterventionsApiVersion=r.metricsApiVersion=r.projectsApiVersion=r.releasesApiVersion=r.releasesettingsApiVersion=r.revisionsApiVersion=r.sendmailApiVersion=r.sourcebranchesApiVersion=r.tagsApiVersion=r.tagsApiVersion_c5b602b6=r.tagsApiVersion_3d21b4c8=r.tasksApiVersion=r.tasksApiVersion_4259291d=r.tasksApiVersion_4259191d=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="5.0",r}return __extends(t,n),t.prototype.getReleaseEnvironment=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a7e426b1-03dc-48af-9dfe-c98bac612dcb",resource:"environments",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/{resource}/{environmentId}",responseType:i.TypeInfo.ReleaseEnvironment,routeValues:{project:n,releaseId:t,environmentId:r},apiVersion:"5.0"})},t}(f);t.ReleaseHttpClient5=g;nt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentartifactsApiVersion=r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.approvalsApiVersion_c957584a=r.attachmentsApiVersion=r.attachmentsApiVersion_c4071f6d=r.autotriggerissuesApiVersion=r.badgeApiVersion=r.changesApiVersion=r.definitionEnvironmentsApiVersion=r.definitionsApiVersion=r.deploymentsApiVersion=r.environmentsApiVersion=r.environmenttemplatesApiVersion=r.favoritesApiVersion=r.foldersApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.issuesApiVersion=r.logsApiVersion=r.logsApiVersion_c37fbab5=r.logsApiVersion_17c91af7=r.logsApiVersion_2577e6c3=r.logsApiVersion_dec7ca5a=r.manualInterventionsApiVersion=r.metricsApiVersion=r.projectsApiVersion=r.releasesApiVersion=r.releasesettingsApiVersion=r.revisionsApiVersion=r.sendmailApiVersion=r.sourcebranchesApiVersion=r.tagsApiVersion=r.tagsApiVersion_c5b602b6=r.tagsApiVersion_3d21b4c8=r.tasksApiVersion=r.tasksApiVersion_4259291d=r.tasksApiVersion_4259191d=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="4.1",r}return __extends(t,n),t.prototype.getReleaseEnvironment=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a7e426b1-03dc-48af-9dfe-c98bac612dcb",resource:"environments",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/{resource}/{environmentId}",responseType:i.TypeInfo.ReleaseEnvironment,routeValues:{project:n,releaseId:t,environmentId:r},apiVersion:"4.1"})},t}(v);t.ReleaseHttpClient4_1=nt;tt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentartifactsApiVersion=r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.approvalsApiVersion_c957584a=r.autotriggerissuesApiVersion=r.changesApiVersion=r.definitionEnvironmentsApiVersion=r.definitionsApiVersion=r.deploymentsApiVersion=r.environmentsApiVersion=r.environmenttemplatesApiVersion=r.favoritesApiVersion=r.foldersApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.issuesApiVersion=r.logsApiVersion=r.logsApiVersion_c37fbab5=r.logsApiVersion_17c91af7=r.logsApiVersion_2577e6c3=r.logsApiVersion_dec7ca5a=r.manualInterventionsApiVersion=r.metricsApiVersion=r.projectsApiVersion=r.releasesApiVersion=r.releasesettingsApiVersion=r.revisionsApiVersion=r.sendmailApiVersion=r.sourcebranchesApiVersion=r.tagsApiVersion=r.tagsApiVersion_c5b602b6=r.tagsApiVersion_3d21b4c8=r.tasksApiVersion=r.tasksApiVersion_4259291d=r.tasksApiVersion_4259191d=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="4.0",r}return __extends(t,n),t.prototype.getReleaseEnvironment=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a7e426b1-03dc-48af-9dfe-c98bac612dcb",resource:"environments",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/{resource}/{environmentId}",responseType:i.TypeInfo.ReleaseEnvironment,routeValues:{project:n,releaseId:t,environmentId:r},apiVersion:"4.0"})},t.prototype.createFolder=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"f7ddf76d-ce0c-4d68-94ff-becaec5d9dea",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",requestType:i.TypeInfo.Folder,responseType:i.TypeInfo.Folder,routeValues:{project:t,path:r},apiVersion:"4.0",data:n})},t}(a);t.ReleaseHttpClient4=tt;it=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentartifactsApiVersion=r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.changesApiVersion=r.definitionEnvironmentsApiVersion=r.definitionsApiVersion=r.deploymentsApiVersion=r.environmentsApiVersion=r.environmenttemplatesApiVersion=r.favoritesApiVersion=r.foldersApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.issuesApiVersion=r.logsApiVersion=r.logsApiVersion_c37fbab5=r.logsApiVersion_17c91af7=r.logsApiVersion_2577e6c3=r.logsApiVersion_dec7ca5a=r.manualInterventionsApiVersion=r.metricsApiVersion=r.projectsApiVersion=r.releasesApiVersion=r.releasesettingsApiVersion=r.revisionsApiVersion=r.sendmailApiVersion=r.sourcebranchesApiVersion=r.tagsApiVersion=r.tagsApiVersion_c5b602b6=r.tagsApiVersion_3d21b4c8=r.tasksApiVersion=r.tasksApiVersion_4259291d=r.tasksApiVersion_4259191d=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="3.2",r}return __extends(t,n),t.prototype.getReleaseDefinition=function(n,t,r){var u={propertyFilters:r&&r.join(",")};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,routeValues:{project:n,definitionId:t},queryParams:u,apiVersion:"3.2"})},t.prototype.getReleaseDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={searchText:t,$expand:r,artifactType:u,artifactSourceId:f,$top:e,continuationToken:o,queryOrder:s,path:h,isExactNameMatch:c,tagFilter:l&&l.join(","),propertyFilters:a&&a.join(","),definitionIdFilter:v&&v.join(","),isDeleted:y,searchTextContainsFolderName:p};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"3.2"})},t.prototype.getReleaseEnvironment=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a7e426b1-03dc-48af-9dfe-c98bac612dcb",resource:"environments",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/{resource}/{environmentId}",responseType:i.TypeInfo.ReleaseEnvironment,routeValues:{project:n,releaseId:t,environmentId:r},apiVersion:"3.2"})},t.prototype.createFolder=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"f7ddf76d-ce0c-4d68-94ff-becaec5d9dea",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",requestType:i.TypeInfo.Folder,responseType:i.TypeInfo.Folder,routeValues:{project:t,path:r},apiVersion:"3.2",data:n})},t}(l);t.ReleaseHttpClient3_2=it;rt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentartifactsApiVersion=r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.changesApiVersion=r.definitionsApiVersion=r.deploymentsApiVersion=r.environmentsApiVersion=r.environmenttemplatesApiVersion=r.favoritesApiVersion=r.foldersApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.logsApiVersion=r.logsApiVersion_c37fbab5=r.logsApiVersion_17c91af7=r.logsApiVersion_2577e6c3=r.logsApiVersion_dec7ca5a=r.manualInterventionsApiVersion=r.metricsApiVersion=r.projectsApiVersion=r.releasesApiVersion=r.releasesettingsApiVersion=r.revisionsApiVersion=r.sendmailApiVersion=r.sourcebranchesApiVersion=r.tasksApiVersion=r.tasksApiVersion_4259291d=r.tasksApiVersion_4259191d=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="3.1",r}return __extends(t,n),t.prototype.getReleaseDefinition=function(n,t,r){var u={propertyFilters:r&&r.join(",")};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,routeValues:{project:n,definitionId:t},queryParams:u,apiVersion:"3.1"})},t.prototype.getReleaseDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={searchText:t,$expand:r,artifactType:u,artifactSourceId:f,$top:e,continuationToken:o,queryOrder:s,path:h,isExactNameMatch:c,tagFilter:l&&l.join(","),propertyFilters:a&&a.join(","),definitionIdFilter:v&&v.join(","),isDeleted:y,searchTextContainsFolderName:p};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"3.1"})},t.prototype.getReleaseEnvironment=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a7e426b1-03dc-48af-9dfe-c98bac612dcb",resource:"environments",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/{resource}/{environmentId}",responseType:i.TypeInfo.ReleaseEnvironment,routeValues:{project:n,releaseId:t,environmentId:r},apiVersion:"3.1"})},t.prototype.createFolder=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"f7ddf76d-ce0c-4d68-94ff-becaec5d9dea",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",requestType:i.TypeInfo.Folder,responseType:i.TypeInfo.Folder,routeValues:{project:t,path:r},apiVersion:"3.1",data:n})},t.prototype.getQueuedReleases=function(n,t){var i={projectId:n,releaseId:t};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"cf6fc7ba-4ad9-403b-86e6-e372cd3b2327",resource:"throttlingQueue",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,queryParams:i,apiVersion:"3.1"})},t}(c);t.ReleaseHttpClient3_1=rt;ut=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentartifactsApiVersion=r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.changesApiVersion=r.definitionsApiVersion=r.deploymentsApiVersion=r.environmentsApiVersion=r.environmenttemplatesApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.logsApiVersion=r.logsApiVersion_c37fbab5=r.logsApiVersion_17c91af7=r.logsApiVersion_2577e6c3=r.logsApiVersion_dec7ca5a=r.manualInterventionsApiVersion=r.releasesApiVersion=r.releasesettingsApiVersion=r.revisionsApiVersion=r.sendmailApiVersion=r.sourcebranchesApiVersion=r.tasksApiVersion=r.tasksApiVersion_4259291d=r.tasksApiVersion_4259191d=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="3.0",r}return __extends(t,n),t.prototype.getReleaseDefinition=function(n,t,r){var u={propertyFilters:r&&r.join(",")};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,routeValues:{project:n,definitionId:t},queryParams:u,apiVersion:"3.0"})},t.prototype.getReleaseDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={searchText:t,$expand:r,artifactType:u,artifactSourceId:f,$top:e,continuationToken:o,queryOrder:s,path:h,isExactNameMatch:c,tagFilter:l&&l.join(","),propertyFilters:a&&a.join(","),definitionIdFilter:v&&v.join(","),isDeleted:y,searchTextContainsFolderName:p};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"3.0"})},t.prototype.getReleaseEnvironment=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a7e426b1-03dc-48af-9dfe-c98bac612dcb",resource:"environments",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/{resource}/{environmentId}",responseType:i.TypeInfo.ReleaseEnvironment,routeValues:{project:n,releaseId:t,environmentId:r},apiVersion:"3.0"})},t.prototype.getReleases=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt){var it={definitionId:t,definitionEnvironmentId:r,searchText:u,createdBy:f,statusFilter:e,environmentStatusFilter:o,minCreatedTime:s,maxCreatedTime:h,queryOrder:c,$top:l,continuationToken:a,$expand:v,artifactTypeId:y,sourceId:p,artifactVersionId:w,sourceBranchFilter:b,isDeleted:k,tagFilter:d&&d.join(","),propertyFilters:g&&g.join(","),releaseIdFilter:nt&&nt.join(","),path:tt};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",responseType:i.TypeInfo.Release,responseIsCollection:!0,routeValues:{project:n},queryParams:it,apiVersion:"3.0"})},t.prototype.getQueuedReleases=function(n,t){var i={projectId:n,releaseId:t};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"cf6fc7ba-4ad9-403b-86e6-e372cd3b2327",resource:"throttlingQueue",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,queryParams:i,apiVersion:"3.0"})},t}(h);t.ReleaseHttpClient3=ut;ft=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentartifactsApiVersion=r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.changesApiVersion=r.definitionsApiVersion=r.environmentsApiVersion=r.environmenttemplatesApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.logsApiVersion=r.logsApiVersion_c37fbab5=r.releasesApiVersion=r.revisionsApiVersion=r.sendmailApiVersion=r.tasksApiVersion=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="2.3",r}return __extends(t,n),t.prototype.getReleaseDefinition=function(n,t,r){var u={propertyFilters:r&&r.join(",")};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,routeValues:{project:n,definitionId:t},queryParams:u,apiVersion:"2.3"})},t.prototype.getReleaseDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={searchText:t,$expand:r,artifactType:u,artifactSourceId:f,$top:e,continuationToken:o,queryOrder:s,path:h,isExactNameMatch:c,tagFilter:l&&l.join(","),propertyFilters:a&&a.join(","),definitionIdFilter:v&&v.join(","),isDeleted:y,searchTextContainsFolderName:p};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"2.3"})},t.prototype.getReleaseEnvironment=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a7e426b1-03dc-48af-9dfe-c98bac612dcb",resource:"environments",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/{resource}/{environmentId}",responseType:i.TypeInfo.ReleaseEnvironment,routeValues:{project:n,releaseId:t,environmentId:r},apiVersion:"2.3"})},t.prototype.getRelease=function(n,t,r,u,f,e){var o={approvalFilters:r,propertyFilters:u&&u.join(","),$expand:f,$topGateRecords:e};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",responseType:i.TypeInfo.Release,routeValues:{project:n,releaseId:t},queryParams:o,apiVersion:"2.3"})},t.prototype.getReleases=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt){var it={definitionId:t,definitionEnvironmentId:r,searchText:u,createdBy:f,statusFilter:e,environmentStatusFilter:o,minCreatedTime:s,maxCreatedTime:h,queryOrder:c,$top:l,continuationToken:a,$expand:v,artifactTypeId:y,sourceId:p,artifactVersionId:w,sourceBranchFilter:b,isDeleted:k,tagFilter:d&&d.join(","),propertyFilters:g&&g.join(","),releaseIdFilter:nt&&nt.join(","),path:tt};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",responseType:i.TypeInfo.Release,responseIsCollection:!0,routeValues:{project:n},queryParams:it,apiVersion:"2.3"})},t}(s);t.ReleaseHttpClient2_3=ft;et=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentartifactsApiVersion=r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.changesApiVersion=r.definitionsApiVersion=r.environmentsApiVersion=r.environmenttemplatesApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.logsApiVersion=r.logsApiVersion_c37fbab5=r.releasesApiVersion=r.revisionsApiVersion=r.sendmailApiVersion=r.tasksApiVersion=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="2.2",r}return __extends(t,n),t.prototype.getReleaseDefinition=function(n,t,r){var u={propertyFilters:r&&r.join(",")};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,routeValues:{project:n,definitionId:t},queryParams:u,apiVersion:"2.2"})},t.prototype.getReleaseDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={searchText:t,$expand:r,artifactType:u,artifactSourceId:f,$top:e,continuationToken:o,queryOrder:s,path:h,isExactNameMatch:c,tagFilter:l&&l.join(","),propertyFilters:a&&a.join(","),definitionIdFilter:v&&v.join(","),isDeleted:y,searchTextContainsFolderName:p};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"2.2"})},t.prototype.getReleaseEnvironment=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a7e426b1-03dc-48af-9dfe-c98bac612dcb",resource:"environments",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/{resource}/{environmentId}",responseType:i.TypeInfo.ReleaseEnvironment,routeValues:{project:n,releaseId:t,environmentId:r},apiVersion:"2.2"})},t.prototype.getRelease=function(n,t,r,u,f,e){var o={approvalFilters:r,propertyFilters:u&&u.join(","),$expand:f,$topGateRecords:e};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",responseType:i.TypeInfo.Release,routeValues:{project:n,releaseId:t},queryParams:o,apiVersion:"2.2"})},t.prototype.getReleases=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt){var it={definitionId:t,definitionEnvironmentId:r,searchText:u,createdBy:f,statusFilter:e,environmentStatusFilter:o,minCreatedTime:s,maxCreatedTime:h,queryOrder:c,$top:l,continuationToken:a,$expand:v,artifactTypeId:y,sourceId:p,artifactVersionId:w,sourceBranchFilter:b,isDeleted:k,tagFilter:d&&d.join(","),propertyFilters:g&&g.join(","),releaseIdFilter:nt&&nt.join(","),path:tt};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",responseType:i.TypeInfo.Release,responseIsCollection:!0,routeValues:{project:n},queryParams:it,apiVersion:"2.2"})},t}(s);t.ReleaseHttpClient2_2=et;ot=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentartifactsApiVersion="2.1",r}return __extends(t,n),t}(o);t.ReleaseHttpClient2_1=ot;st=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentartifactsApiVersion="2.0",r}return __extends(t,n),t}(o);t.ReleaseHttpClient2=st;ct=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(y);t.ReleaseHttpClient=ct;ht={"7.1":y,"7.0":p,"6.1":w,"6.0":b,"5.2":k,"5.1":d,"5.0":g,"4.1":nt,"4.0":tt,"3.2":it,"3.1":rt,"3.0":ut,"2.3":ft,"2.2":et,"2.1":ot,"2.0":st};t.getClient=lt});

define("DistributedTasksCommon/TFS.Tasks.Types",["require","exports","VSS/VSS"],function(n,t,i){var f,r,u,e,o;Object.defineProperty(t,"__esModule",{value:!0});t.TaskGroupType=t.TaskRunsOnConstants=t.DefinitionType=t.MetaTaskCategoryType=t.ConnectedServiceKind=void 0,function(n){n[n.Custom=0]="Custom";n[n.AzureSubscription=1]="AzureSubscription";n[n.Chef=2]="Chef";n[n.Generic=3]="Generic";n[n.GitHub=4]="GitHub";n[n.GitHubEnterprise=5]="GitHubEnterprise"}(f=t.ConnectedServiceKind||(t.ConnectedServiceKind={}));r=function(){function n(){}return n.metaTaskCategory=["Build","Deploy","Package","Utility","Test"],n}();t.MetaTaskCategoryType=r;u=function(){function n(){}return n.task="task",n.metaTask="metaTask",n}();t.DefinitionType=u,function(n){n.RunsOnAgent="Agent";n.RunsOnMachineGroup="MachineGroup";n.RunsOnDeploymentGroup="DeploymentGroup";n.RunsOnServer="Server";n.RunsOnServerGate="ServerGate"}(e=t.TaskRunsOnConstants||(t.TaskRunsOnConstants={})),function(n){n[n.RunOnAny=0]="RunOnAny";n[n.RunOnAgent=1]="RunOnAgent";n[n.RunOnServer=2]="RunOnServer";n[n.RunOnMachineGroup=3]="RunOnMachineGroup";n[n.RunsOnServerGate=4]="RunsOnServerGate"}(o=t.TaskGroupType||(t.TaskGroupType={}));i.tfsModuleLoaded("TFS.Tasks.Types",t)});

define("DistributedTaskControls/Common/JQueryWrapper",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.JQueryWrapper=void 0;var i=function(){function n(){}return n.extend=function(n,t){return $.extend(n,t)},n.extendDeep=function(n,t){return $.extend(!0,n,t)},n.isFunction=function(n){return typeof n=="function"},n.closest=function(n,t){if(n.closest)return n.closest(t);var r=document.querySelectorAll(t),i=0;do for(i=r.length;--i>=0&&r.item(i)!==n;);while(i<0&&(n=n.parentElement));return n},n}();t.JQueryWrapper=i});

define("DistributedTaskControls/Common/Factory",["require","exports","DistributedTaskControls/Common/JQueryWrapper","VSS/Utils/String"],function(n,t,i,r){var u,f,e,s,o,h;Object.defineProperty(t,"__esModule",{value:!0});t.Manager=t.BaseManager=t.Initializable=t.KeyMonikerProvider=t.Factory=t.Singleton=void 0;u=function(){function n(){if(!n._allowPrivateInstantiation)throw new Error("Error: Instantiating an object of Singleton class is not allowed. Please use the instance method");}return n.getInstance=function(t){return this._instance||(n._allowPrivateInstantiation=!0,this._instance=new t({}),n._allowPrivateInstantiation=!1),this._instance},n.dispose=function(){this._instance=null},n._allowPrivateInstantiation=!1,n._instance=null,n}();t.Singleton=u;f=function(){function n(){}return n.create=function(n,t){return this.createObject(n,t)},n.createObject=function(n,t){var i,r;if(t)return new n(t);i=Object.create(n.prototype);try{return r=i.constructor(t),r?r:i}catch(u){return new i.constructor(t)}},n}();t.Factory=f;e=function(){function n(){}return n.getKey=function(){throw new Error("This method needs to be implemented in derived classes");},n}();t.KeyMonikerProvider=e;s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(e);t.Initializable=s;o=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._instanceMap={},t}return __extends(t,n),t.prototype.dispose=function(){var n=this;Object.keys(this._instanceMap).forEach(function(t){n._deleteInstance(t)});this._instanceMap={}},t.prototype.getAllObjects=function(n){var r=n.getKey().toLowerCase(),i=[];for(var t in this._instanceMap)this._instanceMap.hasOwnProperty(t)&&t.indexOf(r)===0&&i.push(this._instanceMap[t]);return i},t.prototype.getObject=function(n,t){var f=n.prototype.constructor.length,u,i;if(f>0){if(u=this._getInstanceKey(n,t),i=this._instanceMap[u],i)return i;throw new Error(r.format("Object requested is not created yet. Ensure that the object is created before it is queried. {0}",n));}else return this.createObject(n,t,null)},t.prototype.removeObject=function(n,t){var i=this._getInstanceKey(n,t);this._deleteInstance(i)},t.prototype.createObject=function(n,t,i){var u=this._getInstanceKey(n,t),r=this._instanceMap[u];if(!r){r=f.createObject(n,i);this.onObjectCreated(r,t);this._instanceMap[u]=r}return r},t.prototype._getInstanceKey=function(n,t){var i=n.getKey();return t&&(i=i+"."+t),i.toLowerCase()},t.prototype._deleteInstance=function(n){var t=this._instanceMap[n],r;t&&(r=t.__dispose,r&&i.JQueryWrapper.isFunction(r)&&t.__dispose(),delete this._instanceMap[n])},t}(u);t.BaseManager=o;h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.onObjectCreated=function(n,t){n.initialize(t)},t}(o);t.Manager=h});

define("DistributedTaskControls/Common/Telemetry",["require","exports","DistributedTaskControls/Common/Factory","VSS/Telemetry/Services"],function(n,t,i,r){var f,e,o,u,c,s,h;Object.defineProperty(t,"__esModule",{value:!0});t.ApproveRejectIndicator=t.Source=t.PermissionIndicatorSource=t.Properties=t.Feature=t.Telemetry=t.TelemetryConstants=void 0,function(n){n.DefaultArea="Dtc-Default-Temeletry-Area"}(f=t.TelemetryConstants||(t.TelemetryConstants={}));e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.instance=function(){return n.getInstance.call(this,t)},t.prototype.setArea=function(n){this._area=n},t.prototype.publishEvent=function(n,t,i,e,o,s){e===void 0&&(e=!1);this._area=this._area||f.DefaultArea;t=t||{};i&&(t[u.Source]=i);r.publishEvent(new r.TelemetryEventData(this._area,n,t,o,s),e)},t}(i.Singleton);t.Telemetry=e;o=function(){function n(){}return n.CreateProcessParameter="CreateProcessParameter",n.LinkToProcessParameter="LinkToProcessParameter",n.LinkPicklistAsProcessParameter="LinkPicklistAsProcessParameter",n.UnlinkProcessParameterFromDialog="UnlinkProcessParameterFromDialog",n.UnlinkToProcessParameter="unlinkToProcessParameter",n.UnlinkAllProcessParameters="UnlinkAllProcessParameters",n.CommandBar="commandBar",n.AddTask="addTask",n.MarketplaceExtensionInstallButtonClicked="marketplaceExtensionInstallButtonClicked",n.MarketplaceExtensionLearnMoreButtonClicked="marketplaceExtensionLearnMoreButtonClicked",n.MarketplaceExtensionLoad="marketplaceExtensionLoad",n.TasksLoad="tasksLoad",n.TasksFailed="tasksFailed",n.MarketplaceExtensionFailed="marketplaceExtensionFailed",n.EMSExtensionFailed="emsExtensionFailed",n.MarketplaceExtensionInSearch="marketplaceExtensionInSearch",n.RefreshTask="refreshTask",n.TaskTab="TaskTab",n.RemoveTask="removeTask",n.CloneTask="cloneTask",n.ViewAsYaml="viewAsYaml",n.CopyYaml="copyYaml",n.EnableTask="enableTask",n.DisableTask="disableTask",n.CreateTaskGroup="createTaskGroup",n.ManageTaskGroup="manageTaskGroup",n.ScreenProperties="screenProperties",n.AddPhase="addPhase",n.AddServiceConnection="addServiceConnection",n.AddServiceConnectionSuccess="addServiceConnectionSuccess",n.TaskGroupCreationBlockedDueToProcessParam="TaskGroupCreationBlockedDueToProcessParam",n.FolderBreadcrumb="folderBreadcrumb",n.VariableGroups="variableGroups",n.MoveTask="moveTask",n.MovePhase="movePhase",n.Variables="variables",n.VariablesViewChange="variablesViewChange",n.VariablesDefaultFilterChange="variablesDefaultFilterChange",n.VariablesTabClick="variablesTabClick",n.VariablesItemClick="variablesItemClick",n.TemplatesInSearch="templatesInSearch",n.ViewIssuesInPanel="viewIssuesInPanel",n.TaskNotInstalled="taskNotInstalled",n.NotInstalledTaskInCall="notInstalledTaskFoundInCall",n.EmptyProcessTemplate="emptyProcessTemplate",n.DeleteBuildTemplate="deleteBuildTemplate",n.SelectBuildTemplate="selectBuildTemplate",n.SaveBuildDefinition="saveBuildDefinition",n.SaveBuildDefinitionWithDirtyProcessParameters="saveBuildDefinitionWithDirtyProcessParameters",n.CloneBuildDefinition="cloneBuildDefinition",n.PublishDraftBuildDefinition="publishDraftBuildDefinition",n.SaveAsDraftBuildDefinition="saveAsDraftBuildDefinition",n.NewBuildDefinitionCreation="newBuildDefinitionCreation",n.QueueBuild="queueBuild",n.AdvancedSettings="advancedSettings",n.EditBuildDefinition="editBuildDefinition",n.SaveReleaseDefinition="saveReleaseDefinition",n.EditReleaseDefinition="editReleaseDefinition",n.ImportReleaseDefinition="importReleaseDefinition",n.CloneReleaseDefinition="cloneReleaseDefinition",n.RevertReleaseDefinition="revertReleaseDefinition",n.NewReleaseDefinitionCreation="newReleaseDefinitionCreation",n.NewReleaseDefinitionTemplateSelection="newReleaseDefinitionTemplateSelection",n.NewEnvironmentTemplateSelection="newEnvironmentTemplateSelection",n.AddNewEnvironment="addNewEnvironment",n.CloneEnvironment="cloneEnvironment",n.DeleteEnvironment="deleteEnvironment",n.QueueRelease="queueRelease",n.CreateReleasePanelQueueRelease="createReleasePanelQueueRelease",n.EnvironmentTriggerCondition="environmentTriggerCondition",n.EnvironmentTriggerConditionsUpdate="environmentTriggerConditionsUpdate",n.EnvironmentScheduleTriggerToggle="environmentScheduleTriggerToggle",n.EnvironmentNameUpdate="environmentNameUpdate",n.EnvironmentOwnerUpdate="environmentOwnerUpdate",n.ContinuosDeploymentTriggerToggle="continuosDeploymentTriggerToggle",n.ReleaseScheduleTriggerToggle="releaseScheduleTriggerToggle",n.EnvironmentNavigationFromCanvas="environmentNavigationFromCanvas",n.EnvironmentNavigationFromPivot="environmentNavigationFromPivot",n.PreDeploymentApprovalType="preDeploymentApprovalType",n.PostDeploymentApprovalType="postDeploymentApprovalType",n.AddNewArtifact="addNewArtifact",n.RemoveArtifact="removeArtifact",n.OpenEnvironmentSecurityDialog="openEnvironmentSecurityDialog",n.SaveEnvironmentAsTemplate="saveEnvironmentAsTemplate",n.ArtifactInputModified="artifactInputModified",n.EnvironmentRankUpdated="environmentRankUpdated",n.ReleaseProgressBreadcrumb="releaseProgressBreadcrumb",n.ReleaseProgressView="releaseProgressView",n.ReleaseProgressViewUserRefresh="releaseProgressViewUserRefresh",n.ManualIntervention="manualIntervention",n.DeploymentGroupPhaseView="deploymentGroupPhaseView",n.CanvasKeyboardAccess="canvasKeyboardAccess",n.ReleaseSummaryView="releaseSummaryView",n.ReleasePreApprovalsPanel="releasePreApproval",n.ReleasePostApprovalsPanel="releasePostApproval",n.CommitsWorkItemsInsights="commitsWorkItemsInsights",n.ReleaseProgressVariablesEdit="releaseProgressVariablesEdit",n.EnvironmentAction="environmentAction",n.EnvironmentCancel="environmentCancel",n.EnvironmentDeploy="environmentDeploy",n.MultipleEnvironmentsDeploy_OpenPanel="multipleEnvironmentsDeployOpenPanel",n.MultipleEnvironmentsDeploy_Action="multipleEnvironmentsDeployAction",n.MultipleEnvironmentsApprove_OpenPanel="multipleEnvironmentsApproveOpenPanel",n.MultipleEnvironmentsApprove_Action="multipleEnvironmentsApproveAction",n.ReleaseAbandon="releaseAbandon",n.InnerFocusZoneAccess="innerFocusZoneAccess",n.DeleteEnvironmentTemplate="deleteEnvironmentTemplate",n.PermissionIndicator="permissionIndicator",n.PermissionDeniedError="permissionDeniedError",n.CanvasDimensions="canvasDimensions",n.InterspersedManualEnvironments="interspersedManualEnvironments",n.MoveEnvironments="moveEnvironments",n.EnvironmentDetailsPanel="environmentDetailsPanel",n.SettableAtReleaseTime="settableAtReleaseTime",n.Contributions="contributions",n.ExtensionInvokedForContribution="extensionInvokedForContribution",n.SaveReleaseAction="saveReleaseAction",n.EditReleaseAction="editReleaseAction",n.DiscardReleaseAction="discardReleaseAction",n.OldReleaseView="navigateOldReleaseView",n.ReleaseGates="releaseGates",n.ReleaseProgressHelpDialog="releaseProgressHelpDialog",n.SignalR="signalR",n.SearchableDropDown="searchableDropDown",n.ArtifactVersionInputMethod="ArtifactVersionInputMethod",n}();t.Feature=o;u=function(){function n(){}return n.Source="source",n.InputName="inputName",n.InputType="inputType",n.IsExistingProcessParameter="isExistingProcessParameter",n.Length="length",n.TemplateId="templateId",n.TemplateName="templateName",n.TemplateCategory="templateCategory",n.GroupId="groupId",n.ActionName="actionName",n.DraftDefinition="draftDefinition",n.TasksCount="tasksCount",n.BuildDefinitionId="buildDefinitionId",n.ProcessParameterCount="processParameterCount",n.VariablesCount="variablesCount",n.SourceVersionType="sourceVersionType",n.CustomDemandsCount="customDemandsCount",n.RetentionRulesCount="retentionRulesCount",n.TriggersInfo="triggersInfo",n.TaskCategory="taskCategory",n.TaskName="taskName",n.ExtensionName="extensionName",n.PositionInSet="positionInSet",n.SizeOfSet="sizeOfSet",n.TaskId="taskId",n.TaskDefinitionType="taskDefinitionType",n.TaskRefName="taskRefName",n.TaskVersionSpec="taskVersionSpec",n.SelectedCategoryTab="selectedCategoryTab",n.SelectedTasksLength="selectedTasksLength",n.ViewYamlArtifact="viewYamlArtifact",n.VariableParameters="variableParameters",n.FilterText="filterText",n.SourceDataChangedForDraft="sourceDataChangedForDraft",n.WindowOuterHeight="windowOuterHeight",n.WindowOuterWidth="windowOuterWidth",n.ScreenHeight="screenHeight",n.ScreenWidth="screenWidth",n.ScreenAvailHeight="screenAvailHeight",n.ScreenAvailWidth="screenAvailWidth",n.PixelDepth="pixelDepth",n.ColorDepth="colorDepth",n.BrowserZoomLevel="browserZoomLevel",n.PhaseType="phaseType",n.EnvironmentCount="environmentCount",n.ArtifactSourceTypes="artifactSourceTypes",n.ReleaseVariablesCount="releaseVariablesCount",n.EnvironmentVariablesCount="environmentVariablesCount",n.VariableGroupCount="variableGroupCount",n.ReleaseDefinitionId="releaseDefinitionId",n.PhasesCount="phasesCount",n.EnvironmentSelected="environmentSelected",n.CanQueueRelease="canQueueRelease",n.TriggerTab="triggerTab",n.TriggerConditionsCount="triggerConditionsCount",n.ToggleState="toggleState",n.ApprovalType="approvalType",n.ServiceEndpointType="serviceEndpointType",n.ServiceEndpointAuthScheme="serviceEndpointAuthScheme",n.SourcesCleanOption="cleanOption",n.FolderPath="folderPath",n.ReadOnlyDemandsCount="readOnlyDemandsCount",n.ArtifactType="artifactType",n.DefinitionDescriptionSet="descriptionSet",n.ReportStatusEnabled="reportStatusEnabled",n.IntegrateJiraWorkItemsEnabled="integrateJiraWorkItemsEnabled",n.IntegrateBoardsWorkItemsEnabled="integrateBoardsWorkItemsEnabled",n.AutoLinkWorkItemsEnabled="autoLinkWorkItemsEnabled",n.RetentionPoliciesChanged="retentionPoliciesChanged",n.ArtifactInputId="artifactInputId",n.KeyCode="keyCode",n.OpenLinkVariableGroupPanel="openLinkVariableGroupPanel",n.LinkVariableGroup="LinkVariableGroup",n.UnlinkVariableGroup="UnlinkVariableGroup",n.TaskAccepted="TaskAccepted",n.permissionIndicatorType="permissionIndicatorType",n.permissionToken="permissionToken",n.permissionIndicatorSource="permissionIndicatorSource",n.permissionIndictorOnVariablesCount="permissionIndicatorOnVariablesCount",n.permissionDeniedErrorMessage="permissionDeniedErrorMessage",n.selectedPivotView="selectedPivotView",n.selectedTab="selectedTab",n.extensionStatus="extensionStatus",n.filterByKeyword="filterByKeyword",n.filterByScope="filterByScope",n.editVariableInListView="editVariableInListView",n.editVariableInGridView="editVariableInGridView",n.emptyVariableRows="emptyVariableRows",n.variablesItemType="variablesItemType",n.isEditMode="isEditMode",n.progressView="progressView",n.EnvironmentsInProgress="environmentsInProgress",n.isADataProviderCall="isADataProviderCall",n.promiseStatus="promiseStatus",n.prefetchedTaskGuids="prefetchedTaskGuids",n.ReleaseToCompareId="releaseToCompareId",n.ExcecutionTime="executionTime",n.canvasRowCount="canvasRows",n.canvasColumnCount="canvasColumns",n.DefinitionCreationSource="DefinitionCreationSource",n.ReleaseCreationSource="ReleaseCreationSource",n.interspersedManualEnvironmentCount="interspersedManualEnvironmentCount",n.sizeOfEachInterspersedManualEnvironment="sizeOfEachInterspersedManualEnvironment",n.autoSaveDescriptionCount="autoSaveDescriptionCount",n.addTagCount="addTagCount",n.deleteTagCount="deleteTagCount",n.ToggledEnvironmentsCount="toggledEnvironmentsCount",n.EnvironmentToggledByCanvas="environmentToggledByCanvas",n.EnvironmentToggledByPicklist="environmentToggledByPicklist",n.DescriptionAdded="descriptionAdded",n.OverridableReleaseVariables="totalOverridableReleaseVariables",n.OverridableEnvironmentVariables="totalOverridableEnvironmentVariables",n.OverridenReleaseVariables="overriddenReleaseVariables",n.OverridenEnvironmentVariables="overriddenEnvironmentVariables",n.Action="action",n.ReleaseId="releaseId",n.ReleaseName="releaseName",n.EnvironmentId="environmentId",n.EnvironmentName="environmentName",n.EnvironmentDefinitionId="environmentDefinitionId",n.EnvironmentStatus="environmentStatus",n.IsRollback="isRollback",n.IsCommentPresent="isCommentPresent",n.IsRedeploy="isRedeploy",n.IsCommandbarAction="isCommandbarAction",n.ApplicableEnvironmentsCount="ApplicableEnvironmentsCount",n.DeployedEnvironmentsCount="DeployedEnvironmentsCount",n.ApprovalEnvironmentsCount="ApprovalEnvironmentsCount",n.actionClickTarget="actionClickTarget",n.moveDirection="moveDirection",n.sourceEnvironmentCount="sourceEnvironmentCount",n.targetEnvironmentCount="targetEnvironmentCount",n.environmentPropertiesSelectedTab="environmentPropertiesSelectedTab",n.rollbackScenario="rollbackScenario",n.commitsOrWorkItems="commitsOrWorkItems",n.specialCaseMessage="specialCaseMessage",n.artifactType="artifactType",n.contributionId="contributionId",n.extensionCountOnContribution="extensionCountOnContribution",n.extensionIdsOnContribution="extensionIdsOnContribution",n.extensionInvokedId="extensionInvokedId",n.approveRejectIndicator="approveRejectIndicator",n.approvalOverridden="approvalOverridden",n.approvalReassigned="approvalReassigned",n.approvalReassignedWithComment="approvalReassignedWithComment",n.deploymentDeferred="deploymentDeferred",n.containsOBOEnabledAuthorization="containsOBOEnabledAuthorization",n.approvalSource="approvalSource",n.phaseIssuesErrorCount="phaseIssuesErrorCount",n.phaseIssuesWarningCount="phaseIssuesWarningCount",n.breadcumbItem="breadcumbItem",n.view="view",n.helpDismissedTarget="helpDismissedTarget",n.selectedTabWhenDismissed="selectedTabWhenDismissed",n.viewLogsNavigation="viewLogsNavigation",n.manualInterventionResumeRejectSource="manualInterventionResumeRejectSource",n.manualInterventionPanelSourceLogs="manualInterventionPanelSourceLogs",n.manualInterventionStatus="manualInterventionStatus",n.isUserHavingPermissions="isUserHavingPermissions",n.forceUpdateTriggered="forceUpdateTriggered",n.Jobstate="jobstate",n.MachineCount="machineCount",n.MachineState="machineState",n.IsVersionManuallyEntered="IsVersionManuallyEntered",n.AreVersionsAvailable="AreVersionsAvailable",n.ReleaseGateId="releaseGateId",n.ReleaseGateEnvironmentId="releaseGateEnvironmentId",n.ReleaseGatesTasksLength="releaseGatesTasksLength",n.SortedGatesArrayLength="sortedGatesArrayLength",n}();t.Properties=u,function(n){n.pipelineTab="pipelineTab";n.tasksTab="tasksTab";n.retentionTab="retentionTab";n.releaseDefinition="releaseDefinition";n.variablesTab="variablesTab"}(c=t.PermissionIndicatorSource||(t.PermissionIndicatorSource={}));s=function(){function n(){}return n.ContextMenu="contextMenu",n.CommandButton="commandButton",n.DragAndDrop="dragAndDrop",n.Keyboard="keyboard",n.Hover="hover",n.MenuItem="menuItem",n}();t.Source=s;h=function(){function n(){}return n.Approved="approved",n.Rejected="rejected",n}();t.ApproveRejectIndicator=h});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils",["require","exports","knockout","VSS/VSS","VSS/Context","VSS/Contributions/Services","VSS/Service","VSS/User/Services","VSS/Locations","VSS/Events/Action","VSS/Navigation/Services","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Date","VSS/Utils/UI","VSS/Utils/Url","VSS/Utils/Array","VSS/Common/Contracts/Platform","VSS/Diag","TFS/Build/Contracts","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.Types","ReleaseManagement/Core/Contracts","ReleasePipeline/Scripts/TFS.ReleaseManagement.Host.TfsContext","ReleasePipeline/Scripts/TFS.ReleaseManagement.LocalUserSettings","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleaseManagement/Core/Constants","ReleaseManagement/Core/RestClient","DistributedTasksCommon/TFS.Tasks.Types","DistributedTaskControls/Common/Telemetry"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht){var pr,yt,pt,wt,bt,lt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei,oi,si,hi,ci,li,ai,vi,yi,pi,ct,wi,bi,ki,di,at,gi,nr,vt,tr,ir,rr,ur,fr,er,or,sr,hr,cr,lr,ar,vr,yr;Object.defineProperty(t,"__esModule",{value:!0});t.ReleaseManagementEndpointHelper=t.TaskGroupHelper=t.BuildHelper=t.BuildDefinitionNameUtils=t.FileEncoding=t.SignalRHelper=t.BranchHelper=t.ReleaseLogsHelper=t.GitHelper=t.ArtifactsHelper=t.DefinitionClone=t.QueueReleaseOnMultipleEnvironmentsDialogArgs=t.QueueReleaseOnEnvironmentDialogArgs=t.ReleaseDeployPhaseHelper=t.DeployPhaseHelper=t.UserSettingsHelper=t.ReleaseStatusHelper=t.ReleaseEnvironmentStatusHelper=t.ReleaseManagementConfiguration=t.PropertySelectorUtils=t.EnvironmentTileStatus=t.EnvironmentStatus=t.ApprovalIcon=t.ComputedReleaseStatusData=t.SecurityOptions=t.ReleaseStatusIcon=t.ReleaseRetentionIcon=t.ReleaseReasonIcon=t.ReleaseLogStates=t.EnumTranslator=t.MenuCommands=t.ChangeTracker=t.WorkFlowHelper=t.ReleaseActions=t.ReleaseTelemetry=t.ArtifactSourceActions=t.ArtifactHelper=t.ArtifactsVersionQueryHelper=t.ReleaseDefinitionActions=t.EnvironmentSummaryActions=t.FilterHelper=t.DeploymentHelper=t.ReleaseEnvironmentHelper=t.EnvironmentDefinitionHelper=t.ReleaseHelper=t.ApprovalsHelper=t.ReleaseArtifactsHelper=void 0;pr=y.domElem;yt=function(){function n(){}return n.getArtifactDetails=function(t,i,r){r===void 0&&(r=!1);var u=[],f=t.definitionReference[et.ArtifactDefinitionConstants.DefinitionId]?t.definitionReference[et.ArtifactDefinitionConstants.DefinitionId].name:a.empty,e=n.getArtifactDisplayName(t.type,i),s=a.localeFormat(g.ArtifactsSourceNameWithTypeFormat,f,e),h=t.definitionReference[et.ArtifactDefinitionConstants.Version]?t.definitionReference[et.ArtifactDefinitionConstants.Version].name:a.empty,o=null;return r&&(o={sourceName:f,version:h,sourceNameWithType:s,type:e,name:"",artifact:null,artifactSourceId:-1,id:-1,path:"",downloadLocation:t.alias,description:"",isArtifactSourceNode:!0,sourceAlias:t.alias},u.push(o)),u},n.addAtrifactName=function(n,t,i,r){return i===0&&r===1?n+=t:i<r-1?(i>0&&(n+=", "),n+=t):n=n+" "+g.ConjunctionForArtifactsDisplayMessage+" "+t,n},n.getArtifactDetailsMessage=function(t,i,r,u,f,e){var l,y;if(!i||(i=a.htmlEncode(i)),!t||!ft.ArrayHelper.hasItems(t)&&a.localeIgnoreCaseComparer(r,nt.ArtifactDefaultVersionConstants.SelectDuringReleaseCreation)!==0)return a.localeFormat(g.NoArtifactsDisplayMessage,i);var v=t.length,s=$.map(t,function(n){return a.htmlEncode(n)}),o=a.empty,h=ft.ValidateParameters.isNullOrEmpty(u),c=ft.ValidateParameters.isNullOrEmpty(f);if(!r)o=a.localeFormat(g.ArtifactsDisplayMessage,i);else switch(r){case nt.ArtifactDefaultVersionConstants.Latest:o=a.localeFormat(g.ArtifactsDisplayMessageLatest,i);break;case nt.ArtifactDefaultVersionConstants.LatestWithBranchAndTags:if(h||c)if(!h&&c){o=a.localeFormat(g.ArtifactsDisplayMessageLatestWithBranchAndNoTags,i,a.htmlEncode(u));break}else if(h&&!c){o=a.localeFormat(g.ArtifactsDisplayMessageLatestWithNoBranchAndTags,i,a.htmlEncode(f));break}else{o=a.localeFormat(g.ArtifactsDisplayMessageLatestWithAllBranchAndAllTags,i);break}else{o=a.localeFormat(g.ArtifactsDisplayMessageLatestWithBranchAndTags,i,a.htmlEncode(u),a.htmlEncode(f));break}case nt.ArtifactDefaultVersionConstants.SpecificVersion:if(ft.ValidateParameters.isNullOrEmpty(e))return a.empty;o=a.localeFormat(g.ArtifactsDisplayMessageSpecificVersion,i,a.htmlEncode(e));break;case nt.ArtifactDefaultVersionConstants.SelectDuringReleaseCreation:return g.ArtifactsDisplayMessageSelectDuringReleaseCreation}return v<=n._maxNumberOfArtifactsToDisplay?o.concat(a.format(g.ArtifactsToBePublishedMessage,s.join(", "))):(l=s.slice(0,n._maxNumberOfArtifactsToDisplay).join(", "),y=s.slice(n._maxNumberOfArtifactsToDisplay,s.length).join(", "),l+=" ".concat(g.ConjunctionForArtifactsDisplayMessage," <div class='more-artifact-message' title='").concat(y,"'>").concat(a.localeFormat(g.MoreArtifacts,v-n._maxNumberOfArtifactsToDisplay),"<\/div>"),o.concat(a.localeFormat(g.ArtifactsToBePublishedMessage,l)))},n.isCurrentTfvcBuildOlderThanLastTfvcBuild=function(n,t){return t&&!t.repository&&k.logError("isCurrentTfvcBuildOlderThanLastTfvcBuild: Unexpected error. Object is: "+JSON.stringify(t)),!!n&&!!t&&a.localeIgnoreCaseComparer(t.repository.type,tt.WellKnownRepositoryTypes.TfsVersionControl)===0&&a.localeIgnoreCaseComparer(t.project.id,n.project.id)===0&&a.localeIgnoreCaseComparer(t.repository.id,n.repository.id)===0&&a.localeIgnoreCaseComparer(t.repository.type,n.repository.type)===0&&a.localeIgnoreCaseComparer(t.sourceBranch,n.sourceBranch)===0&&parseInt(t.sourceVersion)<parseInt(n.sourceVersion)},n.getArtifactDefaultVersionBranchValue=function(n){var t=a.empty,i=a.empty,r=nt.ArtifactDefaultVersionConstants.DefaultVersionType,u=nt.ArtifactDefaultVersionConstants.DefaultVersionBranch,f=nt.ArtifactDefaultVersionConstants.LatestWithBranchAndTags;return this.hasDefinitionReferenceProperty(n.definitionReference,r)&&(t=n.definitionReference[r].id),!t||a.localeIgnoreCaseComparer(t,f)!==0||!n.definitionReference[u]||(i=n.definitionReference[u].name),i},n.getArtifactDefaultVersionTagsValue=function(n){var t=a.empty,i=a.empty,r=nt.ArtifactDefaultVersionConstants.DefaultVersionType,u=nt.ArtifactDefaultVersionConstants.DefaultVersionTags,f=nt.ArtifactDefaultVersionConstants.LatestWithBranchAndTags;return this.hasDefinitionReferenceProperty(n.definitionReference,r)&&(t=n.definitionReference[r].id),!t||a.localeIgnoreCaseComparer(t,f)!==0||!n.definitionReference[u]||(i=n.definitionReference[u].name),i},n.getArtifactDefaultVersionSpecificValue=function(n){var t=a.empty,i=a.empty,r=nt.ArtifactDefaultVersionConstants.DefaultVersionType,u=nt.ArtifactDefaultVersionConstants.DefaultVersionSpecific,f=nt.ArtifactDefaultVersionConstants.SpecificVersion;return this.hasDefinitionReferenceProperty(n.definitionReference,r)&&(t=n.definitionReference[r].id),!t||a.localeIgnoreCaseComparer(t,f)!==0||!n.definitionReference[u]||(i=n.definitionReference[u].name),i},n.hasDefinitionReferenceProperty=function(n,t){return n&&n.hasOwnProperty(t)},n.getArtifactDisplayName=function(n,t){var r=a.empty,i=w.first(t,function(t){return a.localeIgnoreCaseComparer(t.name,n)===0});return i&&i.displayName!==a.empty?i.displayName:a.localeFormat(g.ArtifactExtensionNotAvailable,n)},n.getArtifactBowtieIcon=function(n){var t;switch(n){case nt.ArtifactTypes.Build:t="bowtie-build";break;case nt.ArtifactTypes.ExternalTfsBuildId:t="bowtie-external-build";break;case nt.ArtifactTypes.GitId:t="bowtie-brand-git";break;case nt.ArtifactTypes.GitHubId:case nt.ArtifactTypes.GitHubEnterpriseId:t="bowtie-brand-github";break;case nt.ArtifactTypes.JenkinsId:t="bowtie-brand-jenkins";break;case nt.ArtifactTypes.NugetId:t="bowtie-brand-nuget";break;case nt.ArtifactTypes.PackageManagement:t="bowtie-package";break;case nt.ArtifactTypes.TfsOnPremArtifactId:t="bowtie-brand-vsts";break;case nt.ArtifactTypes.TfvcId:t="bowtie-brand-tfvc";break;default:t="bowtie-build"}return t},n._maxNumberOfArtifactsToDisplay=3,n}();t.ReleaseArtifactsHelper=yt;pt=function(){function n(){}return n.setCanApproveForCurrentUser=function(n,t){n.forEach(function(n){n.canApprove=!n.isAutomated&&n.status===it.ApprovalStatus.Pending&&a.localeIgnoreCaseComparer(u.getDefaultWebContext().user.id,n.approver.id)===0||ft.ArrayHelper.hasItems(t)&&!!w.first(t,function(t){return t.id===n.id})})},n.getApprovalsForSpecificAttempt=function(n,t){return ft.ArrayHelper.hasItems(n)?n.filter(function(n){return n.attempt===t}):[]},n.getApprovalStatusText=function(n){var t=a.empty;switch(n.status){case it.ApprovalStatus.Approved:t=a.localeIgnoreCaseComparer(n.approvedBy.id,n.approver.id)===0?ft.CurrentUser.isCurrentUser(n.approvedBy.id)?g.ApprovedByYou:a.localeFormat(g.ApprovedBy,n.approvedBy.displayName):ft.CurrentUser.isCurrentUser(n.approvedBy.id)?a.localeFormat(g.ApprovedByYouOnBehlafOf,n.approver.displayName):a.localeFormat(g.ApprovedByOnBehlafOf,n.approvedBy.displayName,n.approver.displayName);break;case it.ApprovalStatus.Rejected:t=a.localeIgnoreCaseComparer(n.approvedBy.id,n.approver.id)===0?ft.CurrentUser.isCurrentUser(n.approvedBy.id)?g.RejectedByYou:a.localeFormat(g.RejectedBy,n.approvedBy.displayName):ft.CurrentUser.isCurrentUser(n.approvedBy.id)?a.localeFormat(g.RejectedByYouOnBehalfOf,n.approver.displayName):a.localeFormat(g.RejectedByOnBehalfOf,n.approvedBy.displayName,n.approver.displayName);break;case it.ApprovalStatus.Reassigned:t=a.localeIgnoreCaseComparer(n.approvedBy.id,n.approver.id)===0?ft.CurrentUser.isCurrentUser(n.approvedBy.id)?g.ReassignedByYou:a.localeFormat(g.ReassignedBy,n.approvedBy.displayName):ft.CurrentUser.isCurrentUser(n.approvedBy.id)?a.localeFormat(g.ReassignedByYouOnBehalfOf,n.approver.displayName):a.localeFormat(g.ReassignedByOnBehalfOf,n.approvedBy.displayName,n.approver.displayName);break;case it.ApprovalStatus.Canceled:t=g.ApprovalStatusCanceled;break;case it.ApprovalStatus.Pending:t=ft.CurrentUser.isCurrentUser(n.approver.id)?g.PendingApprovalOnYouText:a.localeFormat(g.PendingApprovalOnText,n.approver.displayName);break;case it.ApprovalStatus.Undefined:t=ft.CurrentUser.isCurrentUser(n.approver.id)?g.ApprovalAssignedToYouText:a.localeFormat(g.ApprovalAssignedToText,n.approver.displayName);break;case it.ApprovalStatus.Skipped:t=a.localeFormat(g.SkippedFor,n.approver.displayName)}return t},n.getApprovalWithAttemptAndStatus=function(t,i,r){var u=n.getApprovalsForSpecificAttempt(t,i);return w.first(u,function(n){return n.status===r})},n.getApprovalSteps=function(n,t){var i=[],r=0;return!t||(r=t.requiredApproverCount!=null?t.requiredApproverCount:-1),ft.ArrayHelper.hasItems(n)&&(i=$.map(n,function(n,t){return{id:0,rank:r===-1?t+1:1,approver:n,isAutomated:!1,isNotificationOn:!1}})),i},n}();t.ApprovalsHelper=pt;wt=function(){function n(){}return n.isTaskSuccessful=function(n){switch(n){case it.TaskStatus.Succeeded:case it.TaskStatus.Skipped:case it.TaskStatus.PartiallySucceeded:return!0}return!1},n.getDefaultReleaseName=function(n){var t=null;return!n||(t=n.releaseNameFormat),ft.ValidateParameters.isNullOrEmpty(t)&&(t=this.defaultReleaseName),t},n.getEnvironmentsApprovalById=function(t,i,r){var u=null,f=w.first(t,function(n){return n.id===i});return!f||(u=n._getApprovalById(f.preDeployApprovals,r),u||(u=n._getApprovalById(f.postDeployApprovals,r))),u},n.haveApprovalsInReleaseChanged=function(t,i){var r=w.first(i.environments,function(i){var r=w.first(t.environments,function(n){return n.id===i.id});if(r)return n.areApprovalsModified(r.preDeployApprovals,i.preDeployApprovals)||n.areApprovalsModified(r.postDeployApprovals,i.postDeployApprovals)});return!!r},n.areApprovalsModified=function(n,t){var i=w.first(t,function(t){var i=w.first(n,function(n){return n.id===t.id});if(!t.isAutomated&&(!i||i.approver.id!==t.approver.id||i.status!==t.status))return!0});return!!i},n.updateNewApprovalsWithCurrentExistingRelease=function(t,i){i&&t&&i.environments.forEach(function(i){var r=w.first(t.environments,function(n){return n.id===i.id});r&&(n.updateNewApprovalsCanApproveWithCurrentApprovals(r.preDeployApprovals,i.preDeployApprovals),n.updateNewApprovalsCanApproveWithCurrentApprovals(r.postDeployApprovals,i.postDeployApprovals),i.setManageDeploymentPermission(r.getManageDeploymentPermission()))})},n.updateNewApprovalsCanApproveWithCurrentApprovals=function(n,t){t.forEach(function(t){var i=w.first(n,function(n){return n.id===t.id});i&&!i.isAutomated&&i.approver.id===t.approver.id&&i.canApprove&&(t.canApprove=i.canApprove)})},n.hasAnyEnvironmentUpdated=function(t,i){var r=!1;return!t||!t.environments||!i||!i.environments||!ft.ArrayHelper.hasItems(t.environments)||!ft.ArrayHelper.hasItems(i.environments)||t.environments.some(function(t){if(t.status===it.EnvironmentStatus.InProgress){var u=i.environments.filter(function(n){return n.id===t.id});if(ft.ArrayHelper.hasItems(u)&&(at.IsEnvironmentCompleted(u[0])||n.hasAnyDeploymentPhaseCompleted(t,u[0])))return r=!0,!0}}),r},n.hasAnyEnvironmentStatusUpdated=function(n,t){var i=!1;return!n||!n.environments||!t||!t.environments||!ft.ArrayHelper.hasItems(n.environments)||!ft.ArrayHelper.hasItems(t.environments)||n.environments.some(function(n){if(n.status===it.EnvironmentStatus.InProgress){var r=t.environments.filter(function(t){return t.id===n.id});if(ft.ArrayHelper.hasItems(r)&&at.IsEnvironmentCompleted(r[0]))return i=!0,!0}}),i},n.hasAnyDeploymentPhaseCompleted=function(t,i){var f=!1,r=n._getInprogressDeployStep(t),u;return!r||!r.releaseDeployPhases||(u=n._getDeployStepById(i,r.id),!u||!u.releaseDeployPhases||r.releaseDeployPhases.some(function(n){if(n.status===it.DeployPhaseStatus.InProgress){var t=u.releaseDeployPhases.filter(function(t){return t.id===n.id});if(ft.ArrayHelper.hasItems(t)&&at.IsDeploymentPhaseCompleted(t[0]))return f=!0,!0}})),f},n.getPendingPreDeployApprovalEnvironments=function(n){if(!n)return a.empty;var t=[];return n.environments.forEach(function(n){var i=!1;n.preDeployApprovals.forEach(function(r){r.status===it.ApprovalStatus.Pending&&(i||(t.push(n.name),i=!0))})}),t.join(", ")},n.getReleaseEnvironment=function(n,t){if(!!n){var i=n.environments.filter(function(n){return n.id===t});if(ft.ArrayHelper.hasItems(i))return i[0]}return undefined},n.createReleasePropertiesList=function(n){var t={};return t[ht.Properties.ReleaseCreationSource]=n,t},n._getApprovalById=function(n,t){return w.first(n,function(n){return n.id===t})},n._getDeployStepById=function(n,t){var r=undefined,i;return!n||!n.deploySteps||!ft.ArrayHelper.hasItems(n.deploySteps)||(i=n.deploySteps.filter(function(n){return n.id===t}),ft.ArrayHelper.hasItems(i)&&(r=i[0])),r},n._getInprogressDeployStep=function(n){var i=undefined,t;return!n||!n.deploySteps||!ft.ArrayHelper.hasItems(n.deploySteps)||(t=n.deploySteps.filter(function(n){return n.status===it.DeploymentStatus.InProgress}),ft.ArrayHelper.hasItems(t)&&(i=t[0])),i},n.defaultReleaseName="Release-$(rev:r)",n}();t.ReleaseHelper=wt;bt=function(){function n(){}return n.sortEnvironmentsByRank=function(n){return ft.ArrayHelper.hasItems(n)&&!!n[0].rank&&n.sort(function(n,t){return n.rank-t.rank}),n},n.createDefinition=function(n){var t={definitionId:0,templateId:n.template.id,queueId:vt.getQueueIdOfAgentBasedDeployPhases(n.template.environment.deployPhases)};!n.definition||$.extend(t,{buildDefinitionId:n.definition.id,buildDefinitionName:n.definition.name,enableCI:n.enableCI});!n.project||$.extend(t,{projectId:n.project.id,projectName:n.project.name});!n.connection||$.extend(t,{connectionId:n.connection.id,connectionName:n.connection.name});c.getHistoryService().addHistoryPoint(nt.DefinitionDesignerActions.environmentsEditorAction,t)},n.defaultEnvironmentRetentionPolicy={daysToKeep:nt.ReleaseDefinitionConstants.DefaultDaysToKeep,releasesToKeep:nt.ReleaseDefinitionConstants.DefaultReleasesToKeep,retainBuild:nt.ReleaseDefinitionConstants.DefaultRetainBuild},n}();t.EnvironmentDefinitionHelper=bt;lt=function(){function n(){}return n.getEnvironmentConditionText=function(n){var t="";if(ft.ArrayHelper.hasItems(n.conditions))switch(n.conditions[0].conditionType){case it.ConditionType.EnvironmentState:t=a.localeFormat(g.AfterSuccessfulDeploymentTriggerText,n.conditions[0].name);break;case it.ConditionType.Event:t=g.EnvironmentDeploymentConditionsOnReleaseCreationlText}else t=g.ReleaseReasonManual;return t},n.getMaxAttemptNumber=function(n,t){t===void 0&&(t=[]);var i=1,r=this.getMaxAttemptNumberFromDeploySteps(t);return ft.ArrayHelper.hasItems(n)&&n.forEach(function(n){n.attempt&&i<n.attempt&&(i=n.attempt)}),r>i?r:i},n.getLatestDeploymentAttempt=function(n){if(ft.ArrayHelper.hasItems(n)){var t=0,i=null;return n.forEach(function(n){n.attempt&&t<n.attempt&&(t=n.attempt,i=n)}),i}return null},n.getDeploymentForAttempt=function(n,t){return ft.ArrayHelper.hasItems(n)?w.first(n,function(n){return n.attempt===t}):null},n.getMaxAttemptNumberFromDeploySteps=function(n){var t=this.getLatestDeploymentAttempt(n);return!t?1:t.attempt},n.getJobsForSpecificAttempt=function(t,i){if(!!t&&ft.ArrayHelper.hasItems(t.deploySteps)){var r=t.deploySteps.filter(function(n){return n.attempt===i})[0];if(!!r)return n.getJobsForDeployStep(r)}return[]},n.getJobsForDeployStep=function(n){var t=[];return!n||!n.releaseDeployPhases||n.releaseDeployPhases.forEach(function(n){return n.deploymentJobs.forEach(function(n){return t.push(n.job)})}),t},n.getDeployPhasesForSpecificAttempt=function(n,t){if(!!n&&ft.ArrayHelper.hasItems(n.deploySteps)){var i=w.first(n.deploySteps,function(n){return n.attempt===t});if(!!i)return i.releaseDeployPhases}return[]},n.getReleaseGatesForSpecificAttempt=function(n,t,i){if(n&&ft.ArrayHelper.hasItems(n.deploySteps)){var r=w.first(n.deploySteps,function(n){return n.attempt===i});if(r)return t===nt.ApprovalType.PreGates?r.preDeploymentGates:r.postDeploymentGates}return null},n.getLatestRunningGateDeploymentJob=function(t){var i,r;return t&&ft.ArrayHelper.hasItems(t.deploymentJobs)&&(r=n.sortGatesBasedOnRank(t),r.deploymentJobs.forEach(function(n){n.job&&n.job.timelineRecordId&&!i&&(i=n)})),i},n.sortGatesBasedOnRank=function(n){if(n&&ft.ArrayHelper.hasItems(n.deploymentJobs)){var t=n.deploymentJobs.sort(function(n,t){return t.job.rank-n.job.rank});n.deploymentJobs=t}return n},n.getJobsForDeploymentGates=function(n){var t=[];return n&&ft.ArrayHelper.hasItems(n.deploymentJobs)&&n.deploymentJobs.forEach(function(n){t.push(n.job)}),t},n.getJobsForDeploymentPhase=function(n){var t=[];return!!n&&ft.ArrayHelper.hasItems(n.deploymentJobs)&&n.deploymentJobs.forEach(function(n){t.push(n.job)}),t},n.getDeployJobsForDeploymentPhase=function(n){return!!n&&ft.ArrayHelper.hasItems(n.deploymentJobs)?n.deploymentJobs:[]},n.getDeployJobsForDeployStep=function(t){var i=[];return!!t&&ft.ArrayHelper.hasItems(t.releaseDeployPhases)&&t.releaseDeployPhases.forEach(function(t){var r=n.getDeployJobsForDeploymentPhase(t);r.forEach(function(n){return i.push(n)})}),i},n.getTasksForAttempt=function(t,i){var r=[],u;return!!t&&ft.ArrayHelper.hasItems(t.deploySteps)&&(u=w.first(t.deploySteps,function(n){return!i||n.attempt===i}),r.push.apply(r,n._getTasksForDeployStep(u))),r},n.getDeployStepForAttempt=function(n,t){return!!n&&ft.ArrayHelper.hasItems(n.deploySteps)?w.first(n.deploySteps,function(n){return!t||n.attempt===t}):null},n._getTasksForDeployStep=function(n){var t=[];return!n||!n.releaseDeployPhases||n.releaseDeployPhases.forEach(function(n){return n.deploymentJobs.forEach(function(n){return t.push.apply(t,n.tasks)})}),t},n.getTasksForAllDeployAttempts=function(t){var i=[];return!t||t.deploySteps.forEach(function(t){return i.push.apply(i,n._getTasksForDeployStep(t))}),i},n.getSortedApprovalsForAllAttempts=function(t,i){var r=[];return ft.ArrayHelper.hasItems(t)&&(r=n.filterAndSortListForAllAttempts(t,i,function(n){return n.attempt},function(n,t){return ft.DateHelper.getDateValue(n.createdOn)-ft.DateHelper.getDateValue(t.createdOn)})),r},n.getManualInterventionsForEnvironment=function(t){var f=[],i,r,u;return t.status===it.EnvironmentStatus.InProgress&&(i=n.getLatestDeploymentAttempt(t.deploySteps),!i||(r=w.first(i.releaseDeployPhases,function(n){return n.status===it.DeployPhaseStatus.InProgress}),!r||(u=w.first(r.manualInterventions,function(n){return n.status===it.ManualInterventionStatus.Pending}),!u||f.push(u)))),f},n.filterAndSortListForSpecificAttempt=function(n,t,i,r){var f=[],u;return ft.ArrayHelper.hasItems(n)&&(u=n.filter(function(n){return i(n)===t}),ft.ArrayHelper.hasItems(u)&&(f=u.sort(function(n,t){return r(n,t)}))),f},n.filterAndSortListForAllAttempts=function(t,i,r,u){var o=[],f,e;if(ft.ArrayHelper.hasItems(t))for(f=1;f<=i;f++)e=n.filterAndSortListForSpecificAttempt(t,f,r,u),ft.ArrayHelper.hasItems(e)&&w.addRange(o,e);return o},n.getApprovalIcon=function(n,t,i){var r,u;return n&&n.hasPendingApproval(t,i)?n.hasPendingApprovalByCurrentUser(t,i)?ct.StatusToStyleMap[nt.ApprovalIconType.ApproveOrReject]:ct.StatusToStyleMap[nt.ApprovalIconType.PendingApproval]:(r=[],n&&(u=t===nt.ApprovalType.PreApproval?n.preDeployApprovals:n.postDeployApprovals,r=i?u.filter(function(n){return n.attempt===i}):u),ft.ArrayHelper.hasItems(r)?ct.StatusToStyleMap[nt.ApprovalIconType.ViewApproval]:ct.StatusToStyleMap[nt.ApprovalIconType.FaddedApproval])},n.getManualApprovalIcon=function(n,t){return!n||n.status!==it.ManualInterventionStatus.Pending?ct.StatusToStyleMap[nt.ApprovalIconType.ApproveOrReject]:t?ct.StatusToStyleMap[nt.ApprovalIconType.ApproveOrReject]:ct.StatusToStyleMap[nt.ApprovalIconType.PendingApproval]},n.getNonAutomtedDefinitionApprovals=function(n){return ft.ArrayHelper.hasItems(n)?n.filter(function(n){return!n.isAutomated}):[]},n.getNonAutomtedApprovals=function(n){return ft.ArrayHelper.hasItems(n)?n.filter(function(n){return!n.isAutomated}):[]},n.getStartTime=function(n,t){var i=n.preDeployApprovals.filter(function(n){return n.attempt===t});if(i&&i.length>0)return i[0].createdOn},n._getTasksForDeployPhase=function(n){var t=[];return!n||n.deploymentJobs.forEach(function(n){return t.push.apply(t,n.tasks)}),t},n.getCompletionTime=function(n,t){switch(n.status){case it.EnvironmentStatus.Succeeded:case it.EnvironmentStatus.Rejected:case it.EnvironmentStatus.Canceled:case it.EnvironmentStatus.PartiallySucceeded:return this._getEndTimeForStateChange(n,t)}return null},n._getEndTimeForStateChange=function(t,i){var r,f,u,o,s,e;return ft.ArrayHelper.hasItems(t.postDeployApprovals)&&(f=t.postDeployApprovals.filter(function(n){return n.attempt===i}),ft.ArrayHelper.hasItems(f))?(r=f.map(function(n){return n.modifiedOn}),new Date(Math.max.apply(null,r))):ft.ArrayHelper.hasItems(t.deploySteps)&&(u=n.getTasksForAttempt(t,i),ft.ArrayHelper.hasItems(u))?t.status===it.EnvironmentStatus.Canceled&&(o=u.filter(function(n){return n.status===it.TaskStatus.InProgress}),ft.ArrayHelper.hasItems(o))?(s=n.getDeployStepForAttempt(t,i),s.lastModifiedOn):(r=u.filter(function(n){return n.finishTime?!0:!1}).map(function(n){return n.finishTime}),new Date(Math.max.apply(null,r))):ft.ArrayHelper.hasItems(t.preDeployApprovals)&&(e=t.preDeployApprovals.filter(function(n){return n.attempt===i}),ft.ArrayHelper.hasItems(e))?(r=e.map(function(n){return n.modifiedOn}),new Date(Math.max.apply(null,r))):void 0},n.getStatusToolTipText=function(t,i,r){var f=n.getMaxAttemptNumberFromDeploySteps(t.deploySteps),e,u;switch(i){case nt.ComputedReleaseEnvironmentStatus.Deferred:return e=ft.DateHelper.getDateTimeInLocaleFormat(t.scheduledDeploymentTime),a.localeFormat(g.DeferredDeploymentStatusToolTipFormat,e);case nt.ComputedReleaseEnvironmentStatus.Pending:if(r)return g.ApprovalPendingForDeletedReleaseTooltipText;if(t.hasPendingApproval(nt.ApprovalType.PostApproval,f))return g.PendingPostDeploymentApproval;if(t.hasManualIntervention())return g.PendingManualIntervention;case nt.ComputedReleaseEnvironmentStatus.PreApprovalPending:return t.hasPendingApproval(nt.ApprovalType.PreApproval,f)&&!r?g.PendingPreDeploymentApproval:g.ApprovalPendingForDeletedReleaseTooltipText;case nt.ComputedReleaseEnvironmentStatus.Queued:return g.QueueForDeploymentTooltipText;case nt.ComputedReleaseEnvironmentStatus.QueuedForAgent:return g.QueueForAgentTooltipText;case nt.ComputedReleaseEnvironmentStatus.QueuedForPipeline:return g.QueueForPipelineTooltipText;case nt.ComputedReleaseEnvironmentStatus.InProgress:return g.DeploymentInProgressTooltipText;case nt.ComputedReleaseEnvironmentStatus.Rejected:return g.DeploymentPostApprovalRejectedTooltipText;case nt.ComputedReleaseEnvironmentStatus.PreApprovalRejected:return g.DeploymentPreApprovalRejectedTooltipText;case nt.ComputedReleaseEnvironmentStatus.Scheduled:return u=ft.DateHelper.getDateTimeInLocaleFormat(t.nextScheduledUtcTime),r?a.localeFormat(g.ScheduleForDeploymentForDeletedReleaseTooltipText,u):a.localeFormat(g.ScheduleForDeploymentTooltipText,u);case nt.ComputedReleaseEnvironmentStatus.PartiallySucceeded:return g.DeploymentPartiallySucceededTooltipText}return n.getStatusTextNew(i)},n.getStatusTextNew=function(n){switch(n){case nt.ComputedReleaseEnvironmentStatus.Succeeded:return g.SummaryEnvironmentStatusSucceeded;case nt.ComputedReleaseEnvironmentStatus.Pending:case nt.ComputedReleaseEnvironmentStatus.PreApprovalPending:return g.SummaryEnvironmentStatusPending;case nt.ComputedReleaseEnvironmentStatus.NotStarted:return g.SummaryEnvironmentStatusNotDeployed;case nt.ComputedReleaseEnvironmentStatus.Queued:case nt.ComputedReleaseEnvironmentStatus.QueuedForAgent:case nt.ComputedReleaseEnvironmentStatus.QueuedForPipeline:return g.SummaryEnvironmentStatusQueued;case nt.ComputedReleaseEnvironmentStatus.Rejected:case nt.ComputedReleaseEnvironmentStatus.PreApprovalRejected:return g.SummaryEnvironmentStatusRejected;case nt.ComputedReleaseEnvironmentStatus.InProgress:return g.SummaryEnvironmentStatusInprogressNew;case nt.ComputedReleaseEnvironmentStatus.Deferred:return g.SummaryEnvironmentStatusDeferred;case nt.ComputedReleaseEnvironmentStatus.Canceled:return g.SummaryEnvironmentStatusCancelled;case nt.ComputedReleaseEnvironmentStatus.Failed:return g.SummaryEnvironmentStatusFailed;case nt.ComputedReleaseEnvironmentStatus.Scheduled:return g.SummaryEnvironmentStatusScheduled;case nt.ComputedReleaseEnvironmentStatus.PartiallySucceeded:return g.SummaryEnvironmentStatusPartiallySucceeded;case nt.ComputedReleaseEnvironmentStatus.Cancelling:return g.SummaryEnvironmentStatusCancelling;case nt.ComputedReleaseEnvironmentStatus.GatesInProgress:return g.SummaryGatesStatusInProgress;case nt.ComputedReleaseEnvironmentStatus.GatesFailed:return g.SummaryGatesStatusFailed;case nt.ComputedReleaseEnvironmentStatus.GatesStabilizing:return g.SummaryGatesStatusStabilizing}},n.getStatusTextFromDeployment=function(n,t){if(!n)return g.SummaryEnvironmentStatusNotDeployed;switch(n.status){case it.DeploymentStatus.Undefined:case it.DeploymentStatus.NotDeployed:if(t)switch(n.operationStatus){case it.DeploymentOperationStatus.Canceled:return g.SummaryEnvironmentStatusCancelled;case it.DeploymentOperationStatus.Rejected:return g.SummaryEnvironmentStatusRejected;default:return g.SummaryEnvironmentStatusNotDeployed}else return g.SummaryEnvironmentStatusNotDeployed;case it.DeploymentStatus.InProgress:return g.SummaryEnvironmentStatusInprogressNew;case it.DeploymentStatus.Failed:return g.SummaryEnvironmentStatusFailed;case it.DeploymentStatus.Succeeded:return g.SummaryEnvironmentStatusSucceeded;case it.DeploymentStatus.PartiallySucceeded:return g.SummaryEnvironmentStatusPartiallySucceeded}},n.hasDeploymentAttemptQueued=function(n){return!!n&&(n.operationStatus===it.DeploymentOperationStatus.Queued||n.operationStatus===it.DeploymentOperationStatus.QueuedForAgent||n.operationStatus===it.DeploymentOperationStatus.QueuedForPipeline)},n.getMissingAttempts=function(n,t){var i=[],r=t.map(function(n){return n.attempt});return n.forEach(function(n){w.arrayContains(n.attempt,r,function(n,t){return n===t})||i.push(n)}),i},n}();t.ReleaseEnvironmentHelper=lt;kt=function(){function n(){}return n.getDeploymentTriggerText=function(n){if(n.reason===it.DeploymentReason.Manual)return n.requestedBy?a.localeFormat(g.ManualDeploymentTriggerText,n.requestedBy.displayName):g.DeploymentTriggerManual;if(n.reason===it.DeploymentReason.Automated&&ft.ArrayHelper.hasItems(n.conditions)){if(n.conditions[0].conditionType===it.ConditionType.Event)return a.localeFormat("{0} - {1}",g.DeploymentTriggerAutomated,g.AfterReleaseCreationText);if(n.conditions[0].conditionType===it.ConditionType.EnvironmentState){var t=a.localeFormat(g.AfterSuccessfulDeploymentToText,n.conditions[0].name);return a.localeFormat("{0} - {1}",g.DeploymentTriggerAutomated,t)}}return""},n.getDeploymentStatusIcon=function(n){switch(n){case it.DeploymentStatus.InProgress:return"bowtie-icon env-sum-bowtie-icon-run bowtie-status-run rm-bowtie-status-run progress";case it.DeploymentStatus.Succeeded:return"bowtie-icon bowtie-status-success passed";case it.DeploymentStatus.PartiallySucceeded:return"bowtie-icon bowtie-status-error passed";case it.DeploymentStatus.Failed:return"bowtie-icon bowtie-status-failure failed";default:return""}},n.getStatusToolTipText=function(n){var t=n.deploymentStatus,i=n.operationStatus;return this.getDeploymentStatusToolTipText(t,i,n.scheduledDeploymentTime,n.scheduledDeploymentTime,n.lastModifiedBy)},n.getDeploymentStatusToolTipText=function(t,i,r,u,f,e){e===void 0&&(e=nt.GatesInProgressSubStatus.Evaluating);switch(t){case it.DeploymentStatus.NotDeployed:switch(i){case it.DeploymentOperationStatus.Deferred:var o=ft.DateHelper.getDateTimeInLocaleFormat(r);return a.localeFormat(g.DeferredDeploymentStatusToolTipFormat,o);case it.DeploymentOperationStatus.Pending:return g.PendingPreDeploymentApproval;case it.DeploymentOperationStatus.Rejected:return f?a.localeFormat(g.SummaryEnvironmentStatusRejectedBy,f.displayName):g.SummaryEnvironmentStatusRejected;case it.DeploymentOperationStatus.Approved:return g.ApprovalStatusApproved;case it.DeploymentOperationStatus.Queued:return g.QueueForDeploymentTooltipText;case it.DeploymentOperationStatus.QueuedForAgent:return g.QueueForAgentTooltipText;case it.DeploymentOperationStatus.QueuedForPipeline:return g.QueueForPipelineTooltipText;case it.DeploymentOperationStatus.PhaseCanceled:case it.DeploymentOperationStatus.PhaseFailed:case it.DeploymentOperationStatus.Canceled:return f?a.localeFormat(g.SummaryEnvironmentStatusCancelledBy,f.displayName):g.SummaryEnvironmentStatusCancelled;case it.DeploymentOperationStatus.Scheduled:return a.localeFormat(g.ScheduleForDeploymentTooltipText,u);case it.DeploymentOperationStatus.Cancelling:return g.SummaryEnvironmentStatusCancelling;case it.DeploymentOperationStatus.EvaluatingGates:return n._getDeploymentGatesStatusText(e);case it.DeploymentOperationStatus.GateFailed:return g.SummaryGatesStatusFailed}case it.DeploymentStatus.InProgress:return i===it.DeploymentOperationStatus.Pending?g.PendingPostDeploymentApproval:i===it.DeploymentOperationStatus.Cancelling?g.SummaryEnvironmentStatusCancelling:i===it.DeploymentOperationStatus.EvaluatingGates?n._getDeploymentGatesStatusText(e):g.DeploymentInProgressTooltipText;case it.DeploymentStatus.Succeeded:return g.SummaryEnvironmentStatusSucceeded;case it.DeploymentStatus.PartiallySucceeded:return g.DeploymentPartiallySucceededTooltipText;case it.DeploymentStatus.Failed:switch(i){case it.DeploymentOperationStatus.PhaseCanceled:case it.DeploymentOperationStatus.Canceled:return f?a.localeFormat(g.SummaryEnvironmentStatusCancelledBy,f.displayName):g.SummaryEnvironmentStatusCancelled;case it.DeploymentOperationStatus.PhaseFailed:return g.SummaryEnvironmentStatusFailed;case it.DeploymentOperationStatus.GateFailed:return g.SummaryGatesStatusFailed;case it.DeploymentOperationStatus.Rejected:return f?a.localeFormat(g.SummaryEnvironmentStatusRejectedBy,f.displayName):g.SummaryEnvironmentStatusRejected;default:return g.SummaryEnvironmentStatusFailed}default:return g.ReleaseStatusUndefined}},n.getStatusText=function(n){var t=n.operationStatus,r=n.deploymentStatus,i;switch(r){case it.DeploymentStatus.NotDeployed:switch(t){case it.DeploymentOperationStatus.Rejected:return g.NotDeployedRejected.toLocaleLowerCase();case it.DeploymentOperationStatus.PhaseCanceled:case it.DeploymentOperationStatus.Canceled:return n.lastModifiedBy?a.localeFormat(g.NotDeployedCancelledText,n.lastModifiedBy.displayName):g.SummaryEnvironmentStatusNotDeployed.toLocaleLowerCase();default:return g.SummaryEnvironmentStatusNotDeployed.toLocaleLowerCase()}case it.DeploymentStatus.InProgress:return(i=g.SummaryEnvironmentStatusInprogressNew.toLocaleLowerCase(),it.DeploymentOperationStatus.Cancelling===t)?a.localeFormat("{0} ({1})",i,g.SummaryEnvironmentStatusCancelling.toLocaleLowerCase()):i;case it.DeploymentStatus.Succeeded:return g.SummaryEnvironmentStatusSucceeded.toLocaleLowerCase();case it.DeploymentStatus.PartiallySucceeded:return g.SummaryEnvironmentStatusPartiallySucceeded.toLocaleLowerCase();case it.DeploymentStatus.Failed:switch(t){case it.DeploymentOperationStatus.PhaseCanceled:return g.SummaryEnvironmentStatusCancelled.toLocaleLowerCase();case it.DeploymentOperationStatus.PhaseFailed:return g.SummaryEnvironmentStatusFailed.toLocaleLowerCase();case it.DeploymentOperationStatus.Rejected:return g.FailedRejectedText.toLocaleLowerCase();case it.DeploymentOperationStatus.Canceled:return n.lastModifiedBy?a.localeFormat(g.FailedCancelledText,n.lastModifiedBy.displayName):g.SummaryEnvironmentStatusFailed.toLocaleLowerCase();default:return g.SummaryEnvironmentStatusFailed.toLocaleLowerCase()}default:return g.ReleaseStatusUndefined.toLocaleLowerCase()}},n.getTitleStatusText=function(n){var t=n.deploymentStatus;switch(t){case it.DeploymentStatus.NotDeployed:return g.SummaryEnvironmentStatusNotDeployed;case it.DeploymentStatus.InProgress:return g.SummaryEnvironmentStatusInprogressNew;case it.DeploymentStatus.Succeeded:return g.SummaryEnvironmentStatusSucceeded;case it.DeploymentStatus.PartiallySucceeded:return g.SummaryEnvironmentStatusPartiallySucceeded;case it.DeploymentStatus.Failed:return g.SummaryEnvironmentStatusFailed;default:return g.ReleaseStatusUndefined}},n._initializeStylesMap=function(){n.stateToBackgroundColorMap||(n.stateToBackgroundColorMap={},n.stateToBackgroundColorMap[it.DeploymentStatus.Undefined]="not-started",n.stateToBackgroundColorMap[it.DeploymentStatus.NotDeployed]="not-started",n.stateToBackgroundColorMap[it.DeploymentStatus.InProgress]="progress",n.stateToBackgroundColorMap[it.DeploymentStatus.Succeeded]="passed",n.stateToBackgroundColorMap[it.DeploymentStatus.Failed]="failed",n.stateToBackgroundColorMap[it.DeploymentStatus.PartiallySucceeded]="partially-succeeded")},n._getDeploymentGatesStatusText=function(n){return n===nt.GatesInProgressSubStatus.Stabilizing?g.SummaryGatesStatusStabilizing:g.SummaryGatesStatusInProgress},n._toInitMaps=n._initializeStylesMap(),n}();t.DeploymentHelper=kt;dt=function(){function n(){}return n._applyDateFilter=function(n,t){var i=new Date;return t===0?i.setHours(0,0,0,0):i.setDate(i.getDate()-t),n.filter(function(n){return n.createdOn>i})},n}();t.FilterHelper=dt;gt=function(){function n(){}return n.getEnvironmentSummaryUrl=function(n,t){var i=rt.TfsContext.getDefault();return ft.UrlHelper.getUrlForExtension(nt.ExtensionArea.ReleaseExplorer,nt.EnvironmentSummaryAction.environmentSummaryAction,{definitionId:n,definitionEnvironmentId:t})},n}();t.EnvironmentSummaryActions=gt;ni=function(){function n(){}return n.editReleaseDefinition=function(n){var t=!!n&&n>0?n:0,r=rt.TfsContext.getDefault(),i=ft.UrlHelper.getExtensionActionUrl(nt.ExtensionArea.ReleaseExplorer,nt.DefinitionDesignerActions.environmentsEditorAction,{definitionId:t});h.getService().performAction(h.CommonActions.ACTION_WINDOW_NAVIGATE,{url:i})},n.getEditReleaseDefinitionUrl=function(n){var t=!!n&&n>0?n:0;return ft.UrlHelper.getUrlForExtension(nt.ExtensionArea.ReleaseCDExplorer,nt.DefinitionDesignerActions.environmentsEditorPreviewAction,{definitionId:t})},n.getReleaseDefinitionReleasesUrl=function(n){var t=!!n&&n>0?n:0,i=rt.TfsContext.getDefault();return ft.UrlHelper.getExtensionActionUrl(nt.ExtensionArea.ReleaseExplorer,nt.ReleasesViewActions.RELEASES,{definitionId:t})},n.getCommitUrl=function(n,t,i){var r=u.getDefaultWebContext().account.uri,f=ft.TfsActionUrlProvider.getCollectionId();return a.format("{0}_permalink/_git/{1}/commit/{2}?collectionId={3}&projectId={4}",r,t,i,f,n)},n.getRepositoryUrl=function(n,t){var i=u.getDefaultWebContext().account.uri,r=ft.TfsActionUrlProvider.getCollectionId();return a.format("{0}_permalink/_git/{1}?collectionId={2}&projectId={3}",i,n,r,t)},n._initialize=function(){return n.DisplayTextMap||(n.DisplayTextMap={},n.DisplayTextMap[nt.ReleaseDefinitionAction.Edit]=g.ReleaseDefinitionEditText,n.DisplayTextMap[nt.ReleaseDefinitionAction.DeleteReleaseDefinition]=g.DeleteText,n.DisplayTextMap[nt.ReleaseDefinitionAction.CreateRelease]=g.Release,n.DisplayTextMap[nt.ReleaseDefinitionAction.CreateDraftRelease]=g.CreateDraftReleaseText,n.DisplayTextMap[nt.ReleaseDefinitionAction.CloneReleaseDefinition]=g.CloneDefinitionText,n.DisplayTextMap[nt.ReleaseDefinitionAction.ExportReleaseDefinition]=g.ExportDefinitionText),n.DisplayTooltipMap||(n.DisplayTooltipMap={},n.DisplayTooltipMap[nt.ReleaseDefinitionAction.Edit]=g.ReleaseDefinitionActionEditTooltip,n.DisplayTooltipMap[nt.ReleaseDefinitionAction.DeleteReleaseDefinition]=g.DeleteReleaseDefinitionTooltip,n.DisplayTooltipMap[nt.ReleaseDefinitionAction.CreateRelease]=g.CreateReleaseButtonText,n.DisplayTooltipMap[nt.ReleaseDefinitionAction.CreateDraftRelease]=g.CreateDraftReleaseText,n.DisplayTooltipMap[nt.ReleaseDefinitionAction.CloneReleaseDefinition]=g.CloneDefinitionText,n.DisplayTooltipMap[nt.ReleaseDefinitionAction.ExportReleaseDefinition]=g.ExportDefinitionText),n.ContextMenuRankMap||(n.ContextMenuRankMap={},n.ContextMenuRankMap[nt.ReleaseDefinitionAction.CreateRelease]=10,n.ContextMenuRankMap[nt.ReleaseDefinitionAction.CreateDraftRelease]=20,n.ContextMenuRankMap[nt.ReleaseDefinitionAction.Edit]=30,n.ContextMenuRankMap[nt.ReleaseDefinitionAction.DeleteReleaseDefinition]=40,n.ContextMenuRankMap[nt.ReleaseDefinitionAction.CloneReleaseDefinition]=50,n.ContextMenuRankMap[nt.ReleaseDefinitionAction.ExportReleaseDefinition]=60,n.ContextMenuRankMap[nt.ReleaseDefinitionAction.EditPreviewInCDWorkflow]=70),null},n._toInit=n._initialize(),n}();t.ReleaseDefinitionActions=ni;ti=function(){function n(){}return n.getVersions=function(n,t){if(!!n&&ft.ArrayHelper.hasItems(n.artifactVersions)){var i=w.first(n.artifactVersions,function(n){return a.ignoreCaseComparer(n.alias,t)===0});if(!!i)return i.versions}return[]},n.getDefaultVersions=function(n,t){if(!!n&&ft.ArrayHelper.hasItems(n.artifactVersions)){var i=w.first(n.artifactVersions,function(n){return a.ignoreCaseComparer(n.alias,t)===0});if(!!i)return i.defaultVersion}return null},n.isDefaultVersionValid=function(n,t){var i=!1,r;return!!n&&ft.ArrayHelper.hasItems(n)&&(r=w.first(n,function(n){return a.localeIgnoreCaseComparer(t.name,n.name)===0}),!r||(i=!0)),i},n}();t.ArtifactsVersionQueryHelper=ti;ii=function(){function n(){}return n.isSupportedArtifactType=function(n){switch(n.toLocaleLowerCase()){case nt.ArtifactTypes.Build.toLocaleLowerCase():case nt.ArtifactTypes.JenkinsId.toLocaleLowerCase():return!0}return!1},n.getArtifactIconCssClass=function(n){switch(n.toLocaleLowerCase()){case nt.ArtifactTypes.Build.toLocaleLowerCase():return"bowtie-icon bowtie-build";case nt.ArtifactTypes.JenkinsId.toLocaleLowerCase():return"icon bowtie-icon icon-jenkins-logo override"}return a.empty},n.getArtifactTooltip=function(n){switch(n.toLocaleLowerCase()){case nt.ArtifactTypes.Build.toLocaleLowerCase():return g.BuildArtifactOptionTooltipText;case nt.ArtifactTypes.JenkinsId.toLocaleLowerCase():return g.JenkinsArtifactOptionTooltipText}return a.empty},n.isArtifactVersionLinkAvailable=function(n){switch(n){case nt.ArtifactTypes.Build:case nt.ArtifactTypes.GitId:case nt.ArtifactTypes.TfvcId:return!0}return!1},n.getSanitizedAliasName=function(n){return a.startsWith(n,nt.StringConstants.TfvcRootId)&&(n=n.substring(nt.StringConstants.TfvcRootId.length)),n=n.replace("/","_"),n=n.replace(/[\\/:*?"<>|]/g,""),"_".concat(n)},n}();t.ArtifactHelper=ii;ri=function(){function n(){}return n.AddArtifactsAction=function(){},n._initialize=function(){return n.DisplayTextMap||(n.DisplayTextMap={},n.DisplayTextMap[nt.ArtifactSourceAction.AddArtifact]=g.ArtifactsAdd),n.DisplayTooltipMap||(n.DisplayTooltipMap={},n.DisplayTooltipMap[nt.ArtifactSourceAction.AddArtifact]=g.ArtifactsAddToolTipText),n.ContextMenuRankMap||(n.ContextMenuRankMap={},n.ContextMenuRankMap[nt.ArtifactSourceAction.AddArtifact]=10),null},n._toInit=n._initialize(),n}();t.ArtifactSourceActions=ri;ui=function(){function n(){}return n.releaseId=-1,n.defer=null,n}();t.ReleaseTelemetry=ui;fi=function(){function n(){}return n.getReleaseUrl=function(n,t,i){return t===void 0&&(t=0),i===void 0&&(i=nt.ReleaseEditorAction.summaryAction),ft.UrlHelper.getExtensionActionUrl(nt.ExtensionArea.ReleaseExplorer,i,{releaseId:n,definitionId:t})},n.getEditorTabCompleteUrl=function(n,t){var i=rt.TfsContext.getDefault();return ft.UrlHelper.getUrlForExtension(nt.ExtensionArea.ReleaseExplorer,t,{releaseId:n})},n.getReleaseDefinitionUrl=function(n,t){return t===void 0&&(t=nt.DefinitionDesignerActions.environmentsEditorAction),ft.UrlHelper.getExtensionActionUrl(nt.ExtensionArea.ReleaseExplorer,t,{definitionId:n})},n._initialize=function(){return n.DisplayTextMap||(n.DisplayTextMap={},n.DisplayTextMap[nt.ReleaseAction.Start]=g.ReleaseActionStart,n.DisplayTextMap[nt.ReleaseAction.Stop]=g.ReleaseActionStop,n.DisplayTextMap[nt.ReleaseAction.Restart]=g.ReleaseActionRestart,n.DisplayTextMap[nt.ReleaseAction.Resume]=g.ReleaseActionResume,n.DisplayTextMap[nt.ReleaseAction.Retry]=g.ReleaseActionRetry,n.DisplayTextMap[nt.ReleaseAction.Abandon]=g.ReleaseActionAbandon,n.DisplayTextMap[nt.ReleaseAction.Cancel]=g.ReleaseActionCancel,n.DisplayTextMap[nt.ReleaseAction.OpenRelease]=g.ReleaseActionOpenRelease,n.DisplayTextMap[nt.ReleaseAction.OpenInNewTab]=g.ReleaseActionOpenReleaseInNewTab,n.DisplayTextMap[nt.ReleaseAction.Create]=g.CreateRelease,n.DisplayTextMap[nt.ReleaseAction.CreateDraft]=g.CreateDraftReleaseText,n.DisplayTextMap[nt.ReleaseAction.Delete]=g.DeleteText,n.DisplayTextMap[nt.ReleaseAction.RetainIndefinately]=g.RetainIndefinitelyText,n.DisplayTextMap[nt.ReleaseAction.StopRetainingIndefinately]=g.StopRetainingIndefinitelyText,n.DisplayTextMap[nt.ReleaseAction.Undelete]=g.UndeleteText),n.DisplayTooltipMap||(n.DisplayTooltipMap={},n.DisplayTooltipMap[nt.ReleaseAction.Start]=g.ReleaseActionStartTooltip,n.DisplayTooltipMap[nt.ReleaseAction.Stop]=g.ReleaseActionStopTooltip,n.DisplayTooltipMap[nt.ReleaseAction.Restart]=g.ReleaseActionRestartTooltip,n.DisplayTooltipMap[nt.ReleaseAction.Resume]=g.ReleaseActionResumeTooltip,n.DisplayTooltipMap[nt.ReleaseAction.Retry]=g.ReleaseActionRetryTooltip,n.DisplayTooltipMap[nt.ReleaseAction.Abandon]=g.ReleaseActionAbandonTooltip,n.DisplayTooltipMap[nt.ReleaseAction.Cancel]=g.ReleaseActionCancelTooltip,n.DisplayTooltipMap[nt.ReleaseAction.OpenRelease]=g.ReleaseActionOpenRelease,n.DisplayTooltipMap[nt.ReleaseAction.OpenInNewTab]=g.ReleaseActionOpenReleaseInNewTab,n.DisplayTooltipMap[nt.ReleaseAction.Create]=g.CreateNewReleaseToolTip,n.DisplayTooltipMap[nt.ReleaseAction.CreateDraft]=g.CreateDraftReleaseText,n.DisplayTooltipMap[nt.ReleaseAction.Delete]=g.DeleteReleaseToolTip,n.DisplayTooltipMap[nt.ReleaseAction.RetainIndefinately]=g.RetainIndefinitelyToolTip,n.DisplayTooltipMap[nt.ReleaseAction.StopRetainingIndefinately]=g.StopRetainingIndefinitelyToolTip,n.DisplayTooltipMap[nt.ReleaseAction.Undelete]=g.UndeleteReleaseToolTip),n.ContextMenuRankMap||(n.ContextMenuRankMap={},n.ContextMenuRankMap[nt.ReleaseAction.OpenRelease]=5,n.ContextMenuRankMap[nt.ReleaseAction.OpenInNewTab]=7,n.ContextMenuRankMap[nt.ReleaseAction.Start]=10,n.ContextMenuRankMap[nt.ReleaseAction.Stop]=20,n.ContextMenuRankMap[nt.ReleaseAction.Cancel]=30,n.ContextMenuRankMap[nt.ReleaseAction.Retry]=40,n.ContextMenuRankMap[nt.ReleaseAction.Resume]=50,n.ContextMenuRankMap[nt.ReleaseAction.RetainIndefinately]=55,n.ContextMenuRankMap[nt.ReleaseAction.StopRetainingIndefinately]=55,n.ContextMenuRankMap[nt.ReleaseAction.Abandon]=60,n.ContextMenuRankMap[nt.ReleaseAction.Restart]=70),null},n._toInit=n._initialize(),n}();t.ReleaseActions=fi;ei=function(){function n(){}return n.getTasks=function(t){var i=[];return t&&(i=$.map(t,function(t,i){return n._getTask(t,i)})),i},n._getTask=function(n,t){return{displayName:n.name,enabled:n.enabled,timeoutInMinutes:n.timeoutInMinutes,inputs:n.inputs,task:{id:n.taskId,versionSpec:n.version,definitionType:n.definitionType},order:t,alwaysRun:n.alwaysRun,continueOnError:n.continueOnError,condition:n.condition,overrideInputs:n.overrideInputs,environment:n.environment,refName:n.refName,retryCountOnTaskFailure:n.retryCountOnTaskFailure}},n}();t.WorkFlowHelper=ei;oi=function(){function n(n){this._disposalManager=new l.DisposalManager;this._changeCompute=n;this._changeCompute.dirty=this._disposalManager.addDisposable(i.computed(function(){return n.computeDirty()},n))}return n.prototype.dispose=function(){this._disposalManager.dispose()},n.prototype.addDisposable=function(n){return this._disposalManager.addDisposable(n)},n}();t.ChangeTracker=oi;si=function(){function n(){}return n.RELEASE_EDITOR_OPEN_RELEASE="release-editor-open-release",n.RELEASE_EDITOR_START_RELEASE="release-editor-start-release",n.RELEASE_EDITOR_ABANDON_RELEASE="release-editor-abandon-release",n.RELEASE_EDITOR_SAVE_RELEASE="release-editor-save-release",n.RELEASE_EDITOR_DELETE_DRAFT_RELEASE="release-editor-delete-draft-release",n.RELEASE_EDITOR_REFRESH_RELEASE="release-editor-refresh-release",n.RELEASE_EDITOR_DEPLOY_TO_ENVIRONMENT="release-editor-deploy-to-environment",n.RELEASE_EDITOR_LOGS_TAB_EXPAND_ALL_NODES="release-editor-logs-tab-expand-all-nodes",n.RELEASE_EDITOR_LOGS_TAB_COLLAPSE_ALL_NODES="release-editor-logs-tab-collapse-all-nodes",n.RELEASE_EDITOR_NEW_RELEASE_PROGRESS_VIEW="release-editor-new-release-progress-view",n.EXPLORER_VIEW_REFRESH_RELEASES="explorer-view-refresh-releases",n.EXPLORER_VIEW_OPEN_RELEASE="explorer-view-open-release",n.EXPLORER_VIEW_OPEN_RELEASE_IN_NEW_TAB="explorer-view-open-release-in-new-tab",n.EXPLORER_VIEW_START_RELEASE="explorer-view-start-release",n.EXPLORER_VIEW_ABANDON_RELEASE="explorer-view-abandon-release",n.EXPLORER_VIEW_DELETE_RELEASE="explorer-view-delete-release",n.EXPLORER_VIEW_UNDELETE_RELEASE="explorer-view-undelete-release",n.EXPLORER_VIEW_RETAIN_INDEFINITELY_RELEASE="explorer-view-retain-indefinitely-release",n.EXPLORER_VIEW_STOP_RETAINING_INDEFINITELY_RELEASE="explorer-view-stop-retaining-indefinitely-release",n.PROJECT_SECURITY="security",n.REFRESH_DEFINITIONS="refresh-definitions",n.LOAD_ENVIRONMENT_TEMPLATES="load-environment-templates",n.EDIT_DEFINITION="edit-definition",n.IMPORT_DEFINITION_TOOLBARMENUITEM="import-definition",n.CLONE_DEFINITION_CONTEXTMENU="clone-definition",n.EXPORT_DEFINITION_CONTEXTMENU="export-definition",n.CREATE_DEFINITION_TOOLBAR_MENU="create-releasedefinition-menu",n.EDIT_PREVIEW_DEFINITION="edit-preview-definition",n.CREATE_RELEASE_FROM_RELEASE_EXPLORER="create-release-from-release-explorer",n.CREATE_RELEASE_FROM_DEFINITION_OVERVIEW="create-release-from-definition-overview",n.CREATE_RELEASE_FROM_CONTEXT_MENU="create-release-from-context-menu",n.CREATE_RELEASE_FROM_DEFINITION_EDITOR="create-release-from-definition",n.CREATE_DRAFT_RELEASE_FROM_RELEASE_EXPLORER="create-draft-release-from-release-explorer",n.CREATE_DRAFT_RELEASE_FROM_CONTEXT_MENU="create-draft-release-from-context-menu",n.CREATE_DRAFT_RELEASE_FROM_DEFINITION_OVERVIEW="create-draft-release-from-definition-overview",n.CREATE_DRAFT_RELEASE_FROM_DEFINITION_EDITOR="create-draft-release-from-definition",n.DELETE_RELEASE_DEFINITION_FROM_EDITOR="delete-release-definition-from-editor",n.DELETE_RELEASE_DEFINITION_FROM_CONTEXT_MENU="delete-release-definition-from-context-menu",n.CMD_COLUMN_OPTIONS="release-column-options",n.REFRESH_SINGLE_RELEASE="refresh-single-release",n.EXPAND_ALL_NODES="expand-all-nodes",n.COLLAPSE_ALL_NODES="collapse-all-nodes",n.REFRESH_DEFINITION_OVERVIEW="refresh-definition-overview",n.EXPANDALL_DEFINITION_OVERVIEW="expandall-definition-overview",n.COLLAPSEALL_DEFINITION_OVERVIEW="collapseall-definition-overview",n.REFRESH_RELEASE_ARTIFACTS="refresh-release-artifacts",n.SAVE_DEFINITION="save-definition",n.REFRESH_DEFINITION="refresh-definition",n.REFRESH_ARTIFACT_DEFINITIONS="refresh-artifact-definitions",n.REFRESH_ARTIFACT_DEFINITION="refresh-artifact-definition",n.ADD_ARTIFACT_DEFINITION="add-artifact-definition",n.DOWNLOAD_ALL_RELEASE_LOGS_NEW="download-all-release-logs-new",n.DOWNLOAD_ALL_RELEASE_LOGS_SEPERATOR="download-all-release-logs-seperator",n.ADD_RELEASE_ARTIFACTS="add-release-artifacts",n.REFRESH_RELEASE_APPROVALS="refresh-release-approvals",n.REFRESH_METATASK_LIST="refresh-metatask-list",n.IMPORT_METATASK_TOOLBARMENUITEM="import-metatask",n.CONFIGURATION_SELECTOR_LABEL="configuration-selector-label",n.CONFIGURATION_SELECTOR_COMBO="configuration-selector",n.CONFIGURATION_SELECTOR_SUBMENU_ENVIRONMENT_VAR="configuration-selector-environment-variables",n.CONFIGURATION_SELECTOR_SUBMENU_RELEASE_VAR="configuration-selector-release-variables",n}();t.MenuCommands=si;hi=function(){function n(){}return n.covnertEnvironmentStatusToReleaseLogState=function(n){switch(n){case nt.ComputedReleaseEnvironmentStatus.NotStarted:return nt.ReleaseLogStates.NotStarted;case nt.ComputedReleaseEnvironmentStatus.Queued:return nt.ReleaseLogStates.Queued;case nt.ComputedReleaseEnvironmentStatus.QueuedForAgent:return nt.ReleaseLogStates.QueuedForAgent;case nt.ComputedReleaseEnvironmentStatus.QueuedForPipeline:return nt.ReleaseLogStates.QueuedForPipeline;case nt.ComputedReleaseEnvironmentStatus.Pending:case nt.ComputedReleaseEnvironmentStatus.PreApprovalPending:return nt.ReleaseLogStates.Pending;case nt.ComputedReleaseEnvironmentStatus.Succeeded:return nt.ReleaseLogStates.Succeeded;case nt.ComputedReleaseEnvironmentStatus.Rejected:case nt.ComputedReleaseEnvironmentStatus.PreApprovalRejected:return nt.ReleaseLogStates.Rejected;case nt.ComputedReleaseEnvironmentStatus.InProgress:return nt.ReleaseLogStates.InProgress;case nt.ComputedReleaseEnvironmentStatus.Canceled:return nt.ReleaseLogStates.Canceled;case nt.ComputedReleaseEnvironmentStatus.Deferred:return nt.ReleaseLogStates.Deferred;case nt.ComputedReleaseEnvironmentStatus.Failed:return nt.ReleaseLogStates.Failed;case nt.ComputedReleaseEnvironmentStatus.Scheduled:return nt.ReleaseLogStates.Scheduled;case nt.ComputedReleaseEnvironmentStatus.PartiallySucceeded:return nt.ReleaseLogStates.PartiallySucceeded;case nt.ComputedReleaseEnvironmentStatus.Cancelling:return nt.ReleaseLogStates.Cancelling}return nt.ReleaseLogStates.Undefined},n.convertTaskStatusToReleaseLogState=function(n){switch(n){case it.TaskStatus.Canceled:return nt.ReleaseLogStates.Canceled;case it.TaskStatus.Skipped:return nt.ReleaseLogStates.Skipped;case it.TaskStatus.Failure:case it.TaskStatus.Failed:return nt.ReleaseLogStates.Failed;case it.TaskStatus.InProgress:return nt.ReleaseLogStates.InProgress;case it.TaskStatus.Pending:return nt.ReleaseLogStates.Pending;case it.TaskStatus.Success:case it.TaskStatus.Succeeded:return nt.ReleaseLogStates.Succeeded;case it.TaskStatus.PartiallySucceeded:return nt.ReleaseLogStates.PartiallySucceeded}return nt.ReleaseLogStates.Undefined},n.convertDeploymentPhaseStatusToReleaseLogState=function(n){switch(n){case it.DeployPhaseStatus.Canceled:return nt.ReleaseLogStates.Canceled;case it.DeployPhaseStatus.Skipped:return nt.ReleaseLogStates.Skipped;case it.DeployPhaseStatus.Failed:return nt.ReleaseLogStates.Failed;case it.DeployPhaseStatus.InProgress:return nt.ReleaseLogStates.InProgress;case it.DeployPhaseStatus.NotStarted:return nt.ReleaseLogStates.Pending;case it.DeployPhaseStatus.Succeeded:return nt.ReleaseLogStates.Succeeded;case it.DeployPhaseStatus.PartiallySucceeded:return nt.ReleaseLogStates.PartiallySucceeded;case it.DeployPhaseStatus.Cancelling:return nt.ReleaseLogStates.Cancelling}return nt.ReleaseLogStates.Undefined},n.convertManualInterventionStatusToReleaseLogStatus=function(n){switch(n){case it.ManualInterventionStatus.Pending:return nt.ReleaseLogStates.Pending;case it.ManualInterventionStatus.Approved:return nt.ReleaseLogStates.Approved;case it.ManualInterventionStatus.Rejected:return nt.ReleaseLogStates.Rejected;case it.ManualInterventionStatus.Canceled:return nt.ReleaseLogStates.Canceled}return nt.ReleaseLogStates.Undefined},n.convertDeploymentGateStatusToReleaseLogStatus=function(n){switch(n){case it.GateStatus.Pending:return nt.ReleaseLogStates.Pending;case it.GateStatus.InProgress:return nt.ReleaseLogStates.InProgress;case it.GateStatus.Failed:return nt.ReleaseLogStates.Failed;case it.GateStatus.Canceled:return nt.ReleaseLogStates.Canceled;case it.GateStatus.Succeeded:return nt.ReleaseLogStates.Succeeded}return nt.ReleaseLogStates.Undefined},n}();t.EnumTranslator=hi;ci=function(){function n(){}return n._initialize=function(){return n.DisplayTextMap||(n.DisplayTextMap={},n.DisplayTextMap[nt.ReleaseLogStates.Pending]=g.ReleaseLogStatePending,n.DisplayTextMap[nt.ReleaseLogStates.InProgress]=g.ReleaseLogStateInProgress,n.DisplayTextMap[nt.ReleaseLogStates.Done]=g.ReleaseLogStateDone,n.DisplayTextMap[nt.ReleaseLogStates.Succeeded]=g.ReleaseLogStateSucceeded,n.DisplayTextMap[nt.ReleaseLogStates.Stopped]=g.ReleaseLogStateStopped,n.DisplayTextMap[nt.ReleaseLogStates.Rejected]=g.ReleaseLogStateRejected,n.DisplayTextMap[nt.ReleaseLogStates.Failed]=g.ReleaseLogStateFailed,n.DisplayTextMap[nt.ReleaseLogStates.Canceled]=g.ReleaseLogStateCanceled,n.DisplayTextMap[nt.ReleaseLogStates.Reassigned]=g.ReleaseLogStateReassigned,n.DisplayTextMap[nt.ReleaseLogStates.Abandoned]=g.ReleaseLogStateAbandoned,n.DisplayTextMap[nt.ReleaseLogStates.NotStarted]=g.ReleaseLogStateNotStarted,n.DisplayTextMap[nt.ReleaseLogStates.Queued]=g.ReleaseLogStateQueued,n.DisplayTextMap[nt.ReleaseLogStates.QueuedForAgent]=g.ReleaseLogStateQueued,n.DisplayTextMap[nt.ReleaseLogStates.QueuedForPipeline]=g.ReleaseLogStateQueued,n.DisplayTextMap[nt.ReleaseLogStates.Approved]=g.ReleaseLogStateApproved,n.DisplayTextMap[nt.ReleaseLogStates.Undefined]=g.ReleaseLogStateUndefined,n.DisplayTextMap[nt.ReleaseLogStates.AutomatedApproval]=g.AutomatedApprovalLogStatus,n.DisplayTextMap[nt.ReleaseLogStates.Skipped]=g.ReleaseLogStateSkipped,n.DisplayTextMap[nt.ReleaseLogStates.Scheduled]=g.ReleaseLogStateScheduled,n.DisplayTextMap[nt.ReleaseLogStates.PartiallySucceeded]=g.ReleaseLogStatePartiallySucceeded,n.DisplayTextMap[nt.ReleaseLogStates.Cancelling]=g.ReleaseLogStateCancelling),n.DisplayIconMap||(n.DisplayIconMap={},n.DisplayIconMap[nt.ReleaseLogStates.Pending]="icon-tfs-build-reason-scheduleforced",n.DisplayIconMap[nt.ReleaseLogStates.InProgress]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ReleaseLogStates.Done]="bowtie-status-success",n.DisplayIconMap[nt.ReleaseLogStates.Succeeded]="bowtie-status-success",n.DisplayIconMap[nt.ReleaseLogStates.Stopped]="bowtie-status-stop",n.DisplayIconMap[nt.ReleaseLogStates.Rejected]="bowtie-status-failure",n.DisplayIconMap[nt.ReleaseLogStates.Failed]="bowtie-status-failure",n.DisplayIconMap[nt.ReleaseLogStates.Canceled]="bowtie-status-failure",n.DisplayIconMap[nt.ReleaseLogStates.Reassigned]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ReleaseLogStates.Abandoned]="bowtie-status-no-fill",n.DisplayIconMap[nt.ReleaseLogStates.NotStarted]="bowtie-record",n.DisplayIconMap[nt.ReleaseLogStates.Queued]="bowtie-record",n.DisplayIconMap[nt.ReleaseLogStates.QueuedForAgent]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ReleaseLogStates.QueuedForPipeline]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ReleaseLogStates.Approved]="bowtie-status-success",n.DisplayIconMap[nt.ReleaseLogStates.Undefined]="bowtie-status-failure",n.DisplayIconMap[nt.ReleaseLogStates.AutomatedApproval]="bowtie-status-success",n.DisplayIconMap[nt.ReleaseLogStates.Skipped]="bowtie-status-no-fill",n.DisplayIconMap[nt.ReleaseLogStates.Scheduled]="icon-tfs-build-reason-scheduleforced",n.DisplayIconMap[nt.ReleaseLogStates.PartiallySucceeded]="bowtie-status-error bowtie-status-error-logs-page",n.DisplayIconMap[nt.ReleaseLogStates.Cancelling]="bowtie-status-stop"),n.DisplayOutlineIconMap||(n.DisplayOutlineIconMap={},n.DisplayOutlineIconMap[nt.ReleaseLogStates.Pending]="icon-tfs-build-reason-scheduleforced",n.DisplayOutlineIconMap[nt.ReleaseLogStates.InProgress]="bowtie-status-run-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Done]="bowtie-status-success-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Succeeded]="bowtie-status-success-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Stopped]="bowtie-status-stop-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Rejected]="bowtie-status-failure-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Failed]="bowtie-status-failure-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Canceled]="bowtie-status-failure-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Reassigned]="bowtie-status-run-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Abandoned]="bowtie-status-no-fill",n.DisplayOutlineIconMap[nt.ReleaseLogStates.NotStarted]="bowtie-record",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Queued]="bowtie-record",n.DisplayOutlineIconMap[nt.ReleaseLogStates.QueuedForAgent]="bowtie-status-run-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.QueuedForPipeline]="bowtie-status-run-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Approved]="bowtie-status-success-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Undefined]="bowtie-status-failure-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.AutomatedApproval]="bowtie-status-success-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Skipped]="bowtie-status-no-fill",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Scheduled]="icon-tfs-build-reason-scheduleforced",n.DisplayOutlineIconMap[nt.ReleaseLogStates.PartiallySucceeded]="bowtie-status-error-outline bowtie-status-error-logs-page",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Cancelling]="bowtie-status-stop-outline"),null},n.toInit=n._initialize(),n}();t.ReleaseLogStates=ci;li=function(){function n(){}return n._initialize=function(){n.DisplayTextMap||(n.DisplayTextMap={},n.DisplayTextMap[it.ReleaseReason.Manual]=g.ReleaseReasonManual,n.DisplayTextMap[it.ReleaseReason.ContinuousIntegration]=g.ContinuousDeploymentTriggerText,n.DisplayTextMap[it.ReleaseReason.PullRequest]=g.PullRequestTriggerText,n.DisplayTextMap[it.ReleaseReason.Schedule]=g.ScheduledTriggerText,n.DisplayTextMap[it.ReleaseReason.None]=g.ReleaseReasonNone);n.DisplayIconMap||(n.DisplayIconMap={},n.DisplayIconMap[it.ReleaseReason.ContinuousIntegration]="bowtie-build-reason-checkin-shelveset",n.DisplayIconMap[it.ReleaseReason.PullRequest]="bowtie-build-reason-checkin-shelveset",n.DisplayIconMap[it.ReleaseReason.Manual]="bowtie-trigger-user",n.DisplayIconMap[it.ReleaseReason.Schedule]="bowtie-status-waiting")},n.toInit=n._initialize(),n}();t.ReleaseReasonIcon=li;ai=function(){function n(){}return n._initialize=function(){n.DisplayTextMap||(n.DisplayTextMap={},n.DisplayTextMap[0]="",n.DisplayTextMap[1]=g.RetainIndefinitelyText);n.DisplayIconMap||(n.DisplayIconMap={},n.DisplayIconMap[0]="",n.DisplayIconMap[1]="bowtie-security-lock-fill")},n.toInit=n._initialize(),n}();t.ReleaseRetentionIcon=ai;vi=function(){function n(){}return n._initialize=function(){n.DisplayIconMap||(n.DisplayIconMap={},n.DisplayIconMap[it.ReleaseStatus.Draft]="icon-tfs-release-draft",n.DisplayIconMap[it.ReleaseStatus.Abandoned]="bowtie-status-no-fill");n.DisplayTextMap||(n.DisplayTextMap={},n.DisplayTextMap[it.ReleaseStatus.Undefined]=g.ReleaseStatusUndefined,n.DisplayTextMap[it.ReleaseStatus.Draft]=g.ReleaseStatusDraft,n.DisplayTextMap[it.ReleaseStatus.Active]=g.ReleaseStatusActive,n.DisplayTextMap[it.ReleaseStatus.Abandoned]=g.ReleaseStatusAbandoned)},n.toInit=n._initialize(),n}();t.ReleaseStatusIcon=vi;yi=function(){function n(){}return n.getOptions=function(){return n._options||(n._options={permissionSet:"c788c23e-1b46-4162-8f5e-d7585343b5de",separator:"/",projectGuid:u.getDefaultWebContext().project.id}),n._options},n.getMetaTaskOptions=function(){return n._metaTaskOptions||(n._metaTaskOptions={permissionSet:"f6a4de49-dbe2-4704-86dc-f8ec1a294436",separator:"/",projectGuid:u.getDefaultWebContext().project.id}),n._metaTaskOptions},n}();t.SecurityOptions=yi;pi=function(){function n(){}return n._initialize=function(){return n.DisplayTextMap||(n.DisplayTextMap={},n.DisplayTextMap[nt.ComputedReleaseStatus.Undefined]=g.ReleaseStatusUndefined,n.DisplayTextMap[nt.ComputedReleaseStatus.Draft]=g.ReleaseStatusDraft,n.DisplayTextMap[nt.ComputedReleaseStatus.InProgress]=g.ReleaseStatusActive,n.DisplayTextMap[nt.ComputedReleaseStatus.Completed]=g.ReleaseStatusActive,n.DisplayTextMap[nt.ComputedReleaseStatus.Abandoned]=g.ReleaseStatusAbandoned),n.DisplayIconMap||(n.DisplayIconMap={},n.DisplayIconMap[nt.ComputedReleaseStatus.Draft]="icon-tfs-release-draft",n.DisplayIconMap[nt.ComputedReleaseStatus.InProgress]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ComputedReleaseStatus.Completed]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ComputedReleaseStatus.Abandoned]="bowtie-status-no-fill"),n.DisplayColorMap||(n.DisplayColorMap={},n.DisplayColorMap[nt.ComputedReleaseStatus.Draft]="hub-title-release-draft",n.DisplayColorMap[nt.ComputedReleaseStatus.InProgress]="hub-title-release-inprogress",n.DisplayColorMap[nt.ComputedReleaseStatus.Completed]="hub-title-release-inprogress",n.DisplayColorMap[nt.ComputedReleaseStatus.Abandoned]="hub-title-release-abandoned"),n.AllowedActionMap||(n.AllowedActionMap={},n.AllowedActionMap[nt.ComputedReleaseStatus.Draft]=new nt.SupportedActions([nt.ReleaseAction.Start,nt.ReleaseAction.Delete]),n.AllowedActionMap[nt.ComputedReleaseStatus.InProgress]=new nt.SupportedActions([nt.ReleaseAction.Abandon,nt.ReleaseAction.Delete]),n.AllowedActionMap[nt.ComputedReleaseStatus.Completed]=new nt.SupportedActions([nt.ReleaseAction.Abandon,nt.ReleaseAction.Delete]),n.AllowedActionMap[nt.ComputedReleaseStatus.Abandoned]=new nt.SupportedActions([nt.ReleaseAction.Delete])),null},n.toInit=n._initialize(),n}();t.ComputedReleaseStatusData=pi;ct=function(){function n(){}return n._initialize=function(){return n.StatusToStyleMap||(n.StatusToStyleMap={},n.StatusToStyleMap[nt.ApprovalIconType.ApproveOrReject]=n.APPROVAL_APPROVE_REJECT_ICON_CLASS,n.StatusToStyleMap[nt.ApprovalIconType.PendingApproval]=n.APPROVAL_PENDING_APPROVAL_ICON_CLASS,n.StatusToStyleMap[nt.ApprovalIconType.ViewApproval]=n.APPROVAL_VIEW_APPROVAL_ICON_CLASS,n.StatusToStyleMap[nt.ApprovalIconType.FaddedApproval]=n.APPROVAL_FADDED_APPROVAL_ICON_CLASS,n.StatusToStyleMap[nt.ApprovalIconType.DeferredApproval]=n.APPROVAL_DEFERRED_APPROVAL_ICON_CLASS,n.StatusToStyleMap[nt.ApprovalIconType.QueuedIcon]=n.APPROVAL_QUEUED_ICON_CLASS),n.StatusToTextMap||(n.StatusToTextMap={},n.StatusToTextMap[it.ApprovalStatus.Undefined]=g.ReleaseStatusUndefined,n.StatusToTextMap[it.ApprovalStatus.Pending]=g.ReleaseLogStatePending,n.StatusToTextMap[it.ApprovalStatus.Approved]=g.ApprovalStatusApproved,n.StatusToTextMap[it.ApprovalStatus.Rejected]=g.ReleaseLogStateRejected,n.StatusToTextMap[it.ApprovalStatus.Reassigned]=g.ReleaseLogStateReassigned,n.StatusToTextMap[it.ApprovalStatus.Canceled]=g.ApprovalStatusCanceled,n.StatusToTextMap[it.ApprovalStatus.Skipped]=g.ApprovalStatusSkipped),n.ApprovalTypeToTextMap||(n.ApprovalTypeToTextMap={},n.ApprovalTypeToTextMap[it.ApprovalType.Undefined]=g.ReleaseStatusUndefined,n.ApprovalTypeToTextMap[it.ApprovalType.PreDeploy]=g.PreDeploymentApproval,n.ApprovalTypeToTextMap[it.ApprovalType.PostDeploy]=g.PostDeploymentApproval),n.StatusToStatusIconMap||(n.StatusToStatusIconMap={},n.StatusToStatusIconMap[it.ApprovalStatus.Undefined]="",n.StatusToStatusIconMap[it.ApprovalStatus.Pending]="",n.StatusToStatusIconMap[it.ApprovalStatus.Approved]="bowtie-status-success",n.StatusToStatusIconMap[it.ApprovalStatus.Rejected]="bowtie-status-failure",n.StatusToStatusIconMap[it.ApprovalStatus.Reassigned]="bowtie-status-success",n.StatusToStatusIconMap[it.ApprovalStatus.Canceled]="bowtie-status-failure",n.StatusToStatusIconMap[it.ApprovalStatus.Skipped]="bowtie-status-success"),null},n.APPROVAL_APPROVE_REJECT_ICON_CLASS="bowtie-user-pending",n.APPROVAL_PENDING_APPROVAL_ICON_CLASS="bowtie-status-waiting",n.APPROVAL_VIEW_APPROVAL_ICON_CLASS="bowtie-user",n.APPROVAL_FADDED_APPROVAL_ICON_CLASS="bowtie-user release-fadeout",n.APPROVAL_DEFERRED_APPROVAL_ICON_CLASS="bowtie-status-waiting-fill rm-bowtie-status-waiting-fill",n.APPROVAL_QUEUED_ICON_CLASS="bowtie-build-queue",n.toInit=n._initialize(),n}();t.ApprovalIcon=ct;wi=function(){function n(){}return n._initialize=function(){return n.DisplayTextMap||(n.DisplayTextMap={},n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.NotStarted]=g.SummaryEnvironmentStatusNotStarted,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.Queued]=g.SummaryEnvironmentStatusQueued,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.Pending]=g.SummaryEnvironmentStatusPending,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.Succeeded]=g.SummaryEnvironmentStatusSucceeded,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.Rejected]=g.SummaryEnvironmentStatusRejected,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.PreApprovalRejected]=g.SummaryEnvironmentStatusRejected,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.InProgress]=g.SummaryEnvironmentStatusInprogress,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.Canceled]=g.SummaryEnvironmentStatusCancelled,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.Deferred]=g.SummaryEnvironmentStatusDeferred,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.QueuedForAgent]=g.SummaryEnvironmentStatusQueued,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.QueuedForPipeline]=g.SummaryEnvironmentStatusQueued,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.PreApprovalPending]=g.SummaryEnvironmentStatusPending,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.Failed]=g.SummaryEnvironmentStatusFailed,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.Scheduled]=g.SummaryEnvironmentStatusScheduled,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.PartiallySucceeded]=g.SummaryEnvironmentStatusPartiallySucceeded,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.Cancelling]=g.SummaryEnvironmentStatusCancelling),n.DisplayIconMap||(n.DisplayIconMap={},n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.NotStarted]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.Queued]="bowtie-record",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.Pending]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.Succeeded]="bowtie-status-success",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.Rejected]="bowtie-status-failure",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.PreApprovalRejected]="bowtie-status-failure",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.Failed]="bowtie-status-failure",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.InProgress]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.Canceled]="bowtie-status-failure",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.Deferred]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.QueuedForAgent]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.QueuedForPipeline]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.PreApprovalPending]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.Scheduled]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.PartiallySucceeded]="bowtie-status-error",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.Cancelling]="bowtie-status-run rm-bowtie-status-run"),null},n.toInit=n._initialize(),n}();t.EnvironmentStatus=wi;bi=function(){function n(){}return n.getBackgroudColor=function(n){if(!n)return"not-started";switch(n.status){case it.DeploymentStatus.NotDeployed:return"not-started";case it.DeploymentStatus.InProgress:return"progress";case it.DeploymentStatus.PartiallySucceeded:return"partially-succeeded";case it.DeploymentStatus.Succeeded:return"passed";case it.DeploymentStatus.Failed:return"failed"}},n._initializeStylesMap=function(){n.stateToStyleMap||(n.stateToStyleMap={},n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.NotStarted]="environment-definition-overview-notstarted",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.Queued]="environment-definition-overview-notstarted",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.Pending]="environment-definition-overview-inprogress",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.Deferred]="environment-definition-overview-deferred",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.QueuedForAgent]="environment-definition-overview-inprogress",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.QueuedForPipeline]="environment-definition-overview-inprogress",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.InProgress]="environment-definition-overview-inprogress",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.Succeeded]="environment-definition-overview-successful",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.Rejected]="environment-definition-overview-rejected",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.PreApprovalRejected]="environment-definition-overview-rejected",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.Failed]="env-def-over-failed",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.Canceled]="environment-definition-overview-stopped",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.PreApprovalPending]="environment-definition-overview-inprogress",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.Scheduled]="environment-definition-overview-deferred",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.PartiallySucceeded]="environment-definition-overview-partiallysucceeded");n.stateToStyleMap_List||(n.stateToStyleMap_List={},n.stateToStyleMap_List[it.DeploymentStatus.NotDeployed]="env-tile-notstarted",n.stateToStyleMap_List[it.DeploymentStatus.InProgress]="bowtie-play-fill env-tile-inprogress",n.stateToStyleMap_List[it.DeploymentStatus.Failed]="bowtie-edit-delete env-tile-rejected",n.stateToStyleMap_List[it.DeploymentStatus.PartiallySucceeded]="bowtie-status-error-outline env-tile-partiallysucceeded",n.stateToStyleMap_List[it.DeploymentStatus.Succeeded]="bowtie-check env-tile-successful")},n._toInitMaps=n._initializeStylesMap(),n}();t.EnvironmentTileStatus=bi;ki=function(){function n(){}return n.convertToQueryParam=function(t){var i=JSON.stringify(t);return n._shouldUsePropertySelectorBasedOnUrlLength(i)?i:""},n._shouldUsePropertySelectorBasedOnUrlLength=function(t){var r=encodeURI(t),i=u.getDefaultWebContext(),f=i.collection.uri+(i.project.id.length>i.project.name.length?i.project.id:i.project.name);return r.length+f.length<n.urlUpperLimit?!0:!1},n.urlUpperLimit=1700,n}();t.PropertySelectorUtils=ki;di=function(){function n(){}return n.logsPageDurationTimerRefreshDelayInMilliSeconds=3e3,n.logsPageSingleRefreshDelayInMilliSeconds=1e4,n}();t.ReleaseManagementConfiguration=di;at=function(){function n(){}return n.getComputedReleaseEnvironmentStatus=function(n){if(n.status===it.EnvironmentStatus.Scheduled)return nt.ComputedReleaseEnvironmentStatus.Scheduled;if(!ft.ArrayHelper.hasItems(n.deploySteps))return nt.ComputedReleaseEnvironmentStatus.NotStarted;var t=lt.getLatestDeploymentAttempt(n.deploySteps);return this.getComputedEnvironmentStatusFromDeployment(t)},n.getComputedEnvironmentStatusFromDeployment=function(t){if(!t)return nt.ComputedReleaseEnvironmentStatus.NotStarted;var i=n._deploymentStatusMap[t.status];if(i===nt.ComputedReleaseEnvironmentStatus.NotStarted)switch(t.operationStatus){case it.DeploymentOperationStatus.Queued:return nt.ComputedReleaseEnvironmentStatus.Queued;case it.DeploymentOperationStatus.Pending:return nt.ComputedReleaseEnvironmentStatus.PreApprovalPending;case it.DeploymentOperationStatus.Canceled:case it.DeploymentOperationStatus.PhaseCanceled:return nt.ComputedReleaseEnvironmentStatus.Canceled;case it.DeploymentOperationStatus.Deferred:return nt.ComputedReleaseEnvironmentStatus.Deferred;case it.DeploymentOperationStatus.QueuedForAgent:return nt.ComputedReleaseEnvironmentStatus.QueuedForAgent;case it.DeploymentOperationStatus.QueuedForPipeline:return nt.ComputedReleaseEnvironmentStatus.QueuedForPipeline;case it.DeploymentOperationStatus.Rejected:return nt.ComputedReleaseEnvironmentStatus.PreApprovalRejected;case it.DeploymentOperationStatus.Approved:return nt.ComputedReleaseEnvironmentStatus.InProgress;case it.DeploymentOperationStatus.Cancelling:return nt.ComputedReleaseEnvironmentStatus.Cancelling;case it.DeploymentOperationStatus.EvaluatingGates:return n._getComputedReleaseEnvironmentStatusFromReleaseGates(t);case it.DeploymentOperationStatus.GateFailed:return nt.ComputedReleaseEnvironmentStatus.GatesFailed}else if(i===nt.ComputedReleaseEnvironmentStatus.InProgress)switch(t.operationStatus){case it.DeploymentOperationStatus.Pending:case it.DeploymentOperationStatus.ManualInterventionPending:return nt.ComputedReleaseEnvironmentStatus.Pending;case it.DeploymentOperationStatus.Cancelling:return nt.ComputedReleaseEnvironmentStatus.Cancelling;case it.DeploymentOperationStatus.EvaluatingGates:return n._getComputedReleaseEnvironmentStatusFromReleaseGates(t)}else if(i===nt.ComputedReleaseEnvironmentStatus.Rejected)switch(t.operationStatus){case it.DeploymentOperationStatus.Canceled:return nt.ComputedReleaseEnvironmentStatus.Canceled;case it.DeploymentOperationStatus.Rejected:return nt.ComputedReleaseEnvironmentStatus.Rejected;case it.DeploymentOperationStatus.GateFailed:return nt.ComputedReleaseEnvironmentStatus.GatesFailed;default:return nt.ComputedReleaseEnvironmentStatus.Failed}return i},n.IsEnvironmentCompleted=function(n){return n.status===it.EnvironmentStatus.Succeeded||n.status===it.EnvironmentStatus.Rejected||n.status===it.EnvironmentStatus.Canceled||n.status===it.EnvironmentStatus.PartiallySucceeded?!0:!1},n.IsDeploymentPhaseCompleted=function(n){return n.status===it.DeployPhaseStatus.Succeeded||n.status===it.DeployPhaseStatus.Skipped||n.status===it.DeployPhaseStatus.Canceled||n.status===it.DeployPhaseStatus.Failed||n.status===it.DeployPhaseStatus.PartiallySucceeded?!0:!1},n.getGatesInProgressSubStatus=function(n){var t=nt.GatesInProgressSubStatus.NotInProgress;return n&&n.status===it.GateStatus.InProgress&&(t=!(n.startedOn&&!n.stabilizationCompletedOn)?nt.GatesInProgressSubStatus.Evaluating:nt.GatesInProgressSubStatus.Stabilizing),t},n.getDeploymentGatesInProgressSubStatus=function(t){var i=nt.GatesInProgressSubStatus.NotInProgress,r;return t&&(r=t.status===it.DeploymentStatus.NotDeployed?t.preDeploymentGates:t.postDeploymentGates,i=n.getGatesInProgressSubStatus(r)),i},n._getComputedReleaseEnvironmentStatusFromReleaseGates=function(t){return n.getDeploymentGatesInProgressSubStatus(t)===nt.GatesInProgressSubStatus.Stabilizing?nt.ComputedReleaseEnvironmentStatus.GatesStabilizing:nt.ComputedReleaseEnvironmentStatus.GatesInProgress},n._initialize=function(){return n._deploymentStatusMap||(n._deploymentStatusMap={},n._deploymentStatusMap[it.DeploymentStatus.Undefined]=nt.ComputedReleaseEnvironmentStatus.Undefined,n._deploymentStatusMap[it.DeploymentStatus.NotDeployed]=nt.ComputedReleaseEnvironmentStatus.NotStarted,n._deploymentStatusMap[it.DeploymentStatus.InProgress]=nt.ComputedReleaseEnvironmentStatus.InProgress,n._deploymentStatusMap[it.DeploymentStatus.Succeeded]=nt.ComputedReleaseEnvironmentStatus.Succeeded,n._deploymentStatusMap[it.DeploymentStatus.PartiallySucceeded]=nt.ComputedReleaseEnvironmentStatus.PartiallySucceeded,n._deploymentStatusMap[it.DeploymentStatus.Failed]=nt.ComputedReleaseEnvironmentStatus.Rejected),null},n.toInit=n._initialize(),n}();t.ReleaseEnvironmentStatusHelper=at;gi=function(){function n(){}return n.getComputedReleaseStatus=function(t){return n._releaseStatusMap[t.status]===undefined?n._isReleaseRunning(t.environments)?nt.ComputedReleaseStatus.InProgress:nt.ComputedReleaseStatus.Completed:n._releaseStatusMap[t.status]},n.getOriginalReleaseStatus=function(t){return n._computedStatusToReleaseStatusMap[t]},n.isReleaseNotStarted=function(n){return n.environments?n.environments.every(function(n){return n.status===it.EnvironmentStatus.NotStarted||n.status===it.EnvironmentStatus.Scheduled}):!1},n.isAnyEnvironmentDeployable=function(n){return ft.ArrayHelper.hasItems(n.environments)?n.environments.some(function(n){return n.status===it.EnvironmentStatus.NotStarted||n.status===it.EnvironmentStatus.Canceled||n.status===it.EnvironmentStatus.Rejected||n.status===it.EnvironmentStatus.Scheduled||n.status===it.EnvironmentStatus.Succeeded||n.status===it.EnvironmentStatus.PartiallySucceeded}):!1},n._isReleaseRunning=function(n){return n?n.some(function(n){return n.status===it.EnvironmentStatus.Queued||n.status===it.EnvironmentStatus.InProgress}):!1},n._initialize=function(){return n._releaseStatusMap||(n._releaseStatusMap={},n._releaseStatusMap[it.ReleaseStatus.Undefined]=nt.ComputedReleaseStatus.Undefined,n._releaseStatusMap[it.ReleaseStatus.Draft]=nt.ComputedReleaseStatus.Draft,n._releaseStatusMap[it.ReleaseStatus.Abandoned]=nt.ComputedReleaseStatus.Abandoned),n._computedStatusToReleaseStatusMap||(n._computedStatusToReleaseStatusMap={},n._computedStatusToReleaseStatusMap[nt.ComputedReleaseStatus.Undefined]=it.ReleaseStatus.Undefined,n._computedStatusToReleaseStatusMap[nt.ComputedReleaseStatus.Draft]=it.ReleaseStatus.Draft,n._computedStatusToReleaseStatusMap[nt.ComputedReleaseStatus.Abandoned]=it.ReleaseStatus.Abandoned,n._computedStatusToReleaseStatusMap[nt.ComputedReleaseStatus.InProgress]=it.ReleaseStatus.Active,n._computedStatusToReleaseStatusMap[nt.ComputedReleaseStatus.Completed]=it.ReleaseStatus.Active),null},n.toInit=n._initialize(),n}();t.ReleaseStatusHelper=gi;nr=function(){function n(){}return n.getLocalUserSettingProvider=function(){return new ut.LocalUserSettings},n}();t.UserSettingsHelper=nr;vt=function(){function n(){}return n.getAgentBasedDeployPhases=function(n){return n.filter(function(n){return n.phaseType===it.DeployPhaseTypes.AgentBasedDeployment})},n.getQueueIdOfAgentBasedDeployPhases=function(t){var i=n.getAgentBasedDeployPhases(t);return ft.ArrayHelper.hasItems(i)?i[0].deploymentInput.queueId:0},n.getDemandsOfAgentBasedDeployPhases=function(t){var i=n.getAgentBasedDeployPhases(t);return ft.ArrayHelper.hasItems(i)?i[0].deploymentInput.demands:[]},n.isServerBasedDeployPhase=function(n){return n.phaseType===it.DeployPhaseTypes.RunOnServer},n.convertDeployPhaseTypeToTaskGroupType=function(n){switch(n){case it.DeployPhaseTypes.AgentBasedDeployment:return st.TaskGroupType.RunOnAgent;case it.DeployPhaseTypes.RunOnServer:return st.TaskGroupType.RunOnServer;case it.DeployPhaseTypes.MachineGroupBasedDeployment:return st.TaskGroupType.RunOnMachineGroup}return st.TaskGroupType.RunOnAgent},n}();t.DeployPhaseHelper=vt;tr=function(){function n(){}return n.isDeployPhaseComplete=function(n){return n?n.status===it.DeployPhaseStatus.Succeeded||n.status===it.DeployPhaseStatus.PartiallySucceeded||n.status===it.DeployPhaseStatus.Failed||n.status===it.DeployPhaseStatus.Canceled:!1},n.getFinishTime=function(n){if(!n.deploymentJobs)return null;var t=null;return n.deploymentJobs.forEach(function(n){!n.job||(t?v.defaultComparer(t,n.job.finishTime)>0&&(t=n.job.finishTime):t=n.job.finishTime)}),t},n.getStartTime=function(n){if(!n.deploymentJobs||!n.deploymentJobs)return null;var t=null;return n.deploymentJobs.forEach(function(n){!n.job||(t?v.defaultComparer(t,n.job.startTime)>0&&(t=n.job.startTime):t=n.job.startTime)}),t},n.getSelectedPhase=function(n,t){if(!n)return null;var i=null;return n.forEach(function(n){n.id===t&&(i=n)}),i},n}();t.ReleaseDeployPhaseHelper=tr;ir=function(){function n(n,t,i){this.environment=n;this.release=t;this.refreshCallBack=i}return n}();t.QueueReleaseOnEnvironmentDialogArgs=ir;rr=function(){function n(n,t){this.release=n;this.refreshCallBack=t}return n}();t.QueueReleaseOnMultipleEnvironmentsDialogArgs=rr;ur=function(){function n(){}return n.normalizeDefinitionForClone=function(n){return this._normalizeDefinition(n)},n.normalizeDefinitionForImport=function(t){var i=this._normalizeDefinition(t);return i.environments.forEach(function(t){var i=vt.getAgentBasedDeployPhases(t.deployPhases);i.forEach(function(n){return n.deploymentInput.queueId=0});t.preDeployApprovals=n._resetApprovers(t.preDeployApprovals);t.postDeployApprovals=n._resetApprovers(t.postDeployApprovals)}),i},n._normalizeDefinition=function(n){return n.id=0,n.name=n.name.concat(g.DefinitionCloneSuffix),n.environments.forEach(function(n){n.owner=null}),n},n._resetApprovers=function(n){return n.approvals.forEach(function(n){n.isAutomated||(n.approver={id:"",displayName:""})}),n},n}();t.DefinitionClone=ur;fr=function(){function n(){}return n.getPrimaryArtifact=function(n){return ft.ArrayHelper.hasItems(n)?w.first(n,function(n){return!!n&&n.isPrimary}):null},n.getPrimaryArtifactBranchName=function(t){var i=n.getPrimaryArtifact(t);return n.getArtifactBranchName(i)},n.getPrimaryArtifactBuildInfo=function(t){var i=n.getPrimaryArtifact(t);return n.getArtifactBuildInfo(i)},n.getArtifactBranchName=function(n){if(n){var t=n.definitionReference[et.ArtifactDefinitionConstants.BranchId];return t&&t.name?t.name:a.empty}return a.empty},n.getArtifactBuildInfo=function(t){if(t){var i=t.definitionReference[et.ArtifactDefinitionConstants.Version],r=t.definitionReference[et.ArtifactDefinitionConstants.DefinitionId];if(i&&i.name)return r&&r.name&&n.isMultiDefinitionType(t)?a.format("{0} ({1})",i.name,r.name):i.name}return a.empty},n.isMultiDefinitionType=function(n){return n&&n.definitionReference&&n.definitionReference.hasOwnProperty(et.ArtifactDefinitionConstants.IsMultiDefinitionType)&&a.equals(n.definitionReference[et.ArtifactDefinitionConstants.IsMultiDefinitionType].id,"true",!0)?!0:!1},n.getArtifactVersionUrl=function(t){var i,r,f,e;if(t&&!o.getService().hasClaim(o.UserClaims.Member)){if(i=t.definitionReference[et.ArtifactDefinitionConstants.Version],!i||!i.id)return a.empty;if(r=t.definitionReference[et.ArtifactDefinitionConstants.ProjectId],t.type===nt.ArtifactTypes.Build)return f=new p.Uri(a.format("{0}{1}/_build",u.getDefaultWebContext().collection.uri,r&&r.name||u.getDefaultWebContext().project.name)),f.addQueryParam("buildId",i.id),f.absoluteUri;if(t.type===nt.ArtifactTypes.TfvcId)return f=new p.Uri(a.format("{0}{1}/_versionControl/changeset/{2}",u.getDefaultWebContext().collection.uri,r&&r.name||u.getDefaultWebContext().project.name,i.id)),f.absoluteUri}return t&&n.isArtifactVersionLinkAvailable(t.type)?(e=t.definitionReference[et.ArtifactDefinitionConstants.ArtifactSourceVersionUrl],e&&e.id?e.id:a.empty):a.empty},n.isArtifactVersionLinkAvailable=function(n){switch(n){case nt.ArtifactTypes.Build:case nt.ArtifactTypes.TfvcId:return!0}return!1},n}();t.ArtifactsHelper=fr;er=function(){function n(){}return n.refToFriendlyName=function(t){if(t)return n.getRefFriendlyName(t.name)},n.refsToFriendlyNames=function(n){return n.length===0?[]:n.map(this.refToFriendlyName)},n.compareRefs=function(n,t){return a.localeIgnoreCaseComparer(n.name,t.name)},n.getRefFriendlyName=function(n){if(n){if(n.indexOf("refs/heads/")===0)return n.substring(11);if(n.indexOf("refs/tags/")===0)return n.substring(10)}return n},n}();t.GitHelper=er;or=function(){function n(){}return n.getReleaseDeployPhase=function(n,t){var i=lt.getDeployPhasesForSpecificAttempt(n,t.attempt);return w.first(i,function(n){return n.id===t.releaseDeployPhaseId})},n.getReleaseDeployStep=function(n,t){return lt.getDeployStepForAttempt(n,t.attempt)},n}();t.ReleaseLogsHelper=or;sr=function(){function n(){}return n.toDisplayValue=function(t){var i=t;return!!t&&a.startsWith(t,n._branchPrefix)&&(i=t.substr(n._branchPrefix.length)),i},n._branchPrefix="refs/heads/",n}();t.BranchHelper=sr;hr=function(){function n(){}return n.loadSignalrClient=function(){function e(n,t){return function(){t.apply(n,$.makeArray(arguments))}}function i(n,t){var u,i,r,f,o;for(u in n)if(n.hasOwnProperty(u)){if(i=n[u],!i.hubName)continue;o=t?i.on:i.off;for(r in i.client)if(i.client.hasOwnProperty(r)){if(f=i.client[r],typeof f!="function")continue;o.call(i,r,e(i,f))}}}var t,f,r;n._loaded||(n._loaded=!0,t=$,f=t.signalR,t.hubConnection.prototype.createHubProxies=function(){var n={};return this.starting(function(){i(n,!0);this._registerSubscribedHubs()}).disconnected(function(){i(n,!1)}),n.releaseHub=this.createHubProxy("releaseHub"),n.releaseHub.client={},n.releaseHub.server={WatchReleaseDefinitionsReleases:function(){return n.releaseHub.invoke.apply(n.releaseHub,$.merge(["WatchReleaseDefinitionsReleases"],$.makeArray(arguments)))},WatchReleaseDefinitionReleases:function(){return n.releaseHub.invoke.apply(n.releaseHub,$.merge(["WatchReleaseDefinitionReleases"],$.makeArray(arguments)))},StopWatchingReleaseDefinitionsReleases:function(){return n.releaseHub.invoke.apply(n.releaseHub,$.merge(["StopWatchingReleaseDefinitionsReleases"],$.makeArray(arguments)))},StopWatchingReleaseDefinitionReleases:function(){return n.releaseHub.invoke.apply(n.releaseHub,$.merge(["StopWatchingReleaseDefinitionReleases"],$.makeArray(arguments)))},watchRelease:function(){return n.releaseHub.invoke.apply(n.releaseHub,$.merge(["WatchRelease"],$.makeArray(arguments)))},watchReleaseJobLogs:function(){return n.releaseHub.invoke.apply(n.releaseHub,$.merge(["WatchReleaseJobLogs"],$.makeArray(arguments)))},watchCollection:function(){return n.releaseHub.invoke.apply(n.releaseHub,$.merge(["WatchCollection"],$.makeArray(arguments)))}},n},r=u.getPageContext(),n._loadReleaseHub(t,r),t.hubConnection.prototype.createHubProxies=function(){var n={};return this.starting(function(){i(n,!0);this._registerSubscribedHubs()}).disconnected(function(){i(n,!1)}),n.taskAgentPoolHub=this.createHubProxy("taskAgentPoolHub"),n.taskAgentPoolHub.client={},n.taskAgentPoolHub.server={subscribe:function(){return n.taskAgentPoolHub.invoke.apply(n.taskAgentPoolHub,$.merge(["Subscribe"],$.makeArray(arguments)))},unsubscribe:function(){return n.taskAgentPoolHub.invoke.apply(n.taskAgentPoolHub,$.merge(["Unsubscribe"],$.makeArray(arguments)))},WatchResourceUsageChanges:function(){return n.taskAgentPoolHub.invoke.apply(n.taskAgentPoolHub,$.merge(["WatchResourceUsageChanges"],$.makeArray(arguments)))},UnwatchResourceUsageChanges:function(){return n.taskAgentPoolHub.invoke.apply(n.taskAgentPoolHub,$.merge(["UnwatchResourceUsageChanges"],$.makeArray(arguments)))}},n.deploymentGroupHub=this.createHubProxy("deploymentGroupHub"),n.deploymentGroupHub.client={},n.deploymentGroupHub.server={subscribe:function(){return n.deploymentGroupHub.invoke.apply(n.deploymentGroupHub,$.merge(["Subscribe"],$.makeArray(arguments)))},unsubscribe:function(){return n.deploymentGroupHub.invoke.apply(n.deploymentGroupHub,$.merge(["Unsubscribe"],$.makeArray(arguments)))}},n.testHub=this.createHubProxy("testHub"),n.testHub.client={},n.testHub.server={watchRelease:function(){return n.testHub.invoke.apply(n.testHub,$.merge(["WatchRelease"],$.makeArray(arguments)))},unWatchRelease:function(){return n.testHub.invoke.apply(n.testHub,$.merge(["UnWatchRelease"],$.makeArray(arguments)))}},n})},n._loadReleaseHub=function(n){var t=n.signalR;t.hub=n.hubConnection(this.getSignalRConnectionUrl(),{useDefaultPath:!1});$.extend(t,t.hub.createHubProxies())},n.getSignalRConnectionUrl=function(){var t=e.getService(f.WebPageDataService),n=t.getPageData(nt.ReleaseManagementDataProviderKeys.SignalRDataProvider);return n&&n.connectionUrl?n.connectionUrl:"signalr"},n._loaded=!1,n}();t.SignalRHelper=hr;cr=function(){function n(){}return n.getStringFromArrayBuffer=function(t){var i=n.detectFileEncoding(t),r;if(typeof TextDecoder!="undefined"&&i[0]==="utf-8")return r=new TextDecoder,r.decode(t);if(i[0]==="utf-8"&&i[1]==!1)return String.fromCharCode.apply(null,new Uint8Array(t));if(i[0]==="utf-8"&&i[1]==!0)return String.fromCharCode.apply(null,new Uint8Array(t).subarray(3));if(i[0]==="utf-16le"&&i[1]==!1)return String.fromCharCode.apply(null,new Uint16Array(t));if(i[0]==="utf-16le"&&i[1]==!0)return String.fromCharCode.apply(null,new Uint16Array(t).subarray(1));throw"We don't support the encoding that you are trying to use "+i[0]+" with BOM: "+i[1];},n.detectFileEncoding=function(t){if(t.byteLength<4)return console.warn("The encoding of the file could not be detected because the content is not long enought. Defaulting to UTF8"),["utf-8",!1];var i=new Uint8Array(t);return n.detectFileEncodingWithBOM(i)||n.detectFileEncodingWithoutBOM(i)},n.getArrayBuffer=function(n){for(var i=new ArrayBuffer(n.length),t=0;t<n.length;t++)i[t]=n[t];return i},n.areArrayBuffersEqual=function(n,t){if(n.length!=t.length)return!1;for(var i=0;i<n.length;){if(n[i]!==t[i])return!1;i++}return!0},n.detectFileEncodingWithBOM=function(t){return n.areArrayBuffersEqual(t.subarray(0,3),new Uint8Array([239,187,191]))?["utf-8",!0]:n.areArrayBuffersEqual(t.subarray(0,4),new Uint8Array([255,254,0,0]))?["utf-32le",!0]:n.areArrayBuffersEqual(t.subarray(0,2),new Uint8Array([254,255]))?["utf-16be",!0]:n.areArrayBuffersEqual(t.subarray(0,2),new Uint8Array([255,254]))?["utf-16le",!0]:n.areArrayBuffersEqual(t.subarray(0,4),new Uint8Array([0,0,254,255]))?["utf-32be",!0]:null},n.detectFileEncodingWithoutBOM=function(n){for(var t=0,i=0;i<4;i++)t=t<<1,t=t|(n[i]>0?1:0);switch(t){case 1:return["utf-32be",!1];case 5:return["utf-16be",!1];case 8:return["utf-32le",!1];case 10:return["utf-16le",!1];case 15:return["utf-8",!1];default:throw Error("Unknown file encoding: TypeCode "+t);}},n}();t.FileEncoding=cr;lr=function(){function n(){}return n.getDisplayNameWithFolder=function(n,t){var i=a.empty;return n?(a.startsWith(n,this.Slash)&&(n=n.substring(1)),a.localeIgnoreCaseComparer(n,a.empty)===0?t:a.format("{0}\\{1}",n,t)):t},n.Slash="\\",n}();t.BuildDefinitionNameUtils=lr;ar=function(){function n(){}return n._initialize=function(){n.ResultToTextMap||(n.ResultToTextMap={},n.ResultToTextMap[d.BuildResult.Canceled]=g.BuildResultCancelled,n.ResultToTextMap[d.BuildResult.Failed]=g.BuildStatusFailed,n.ResultToTextMap[d.BuildResult.PartiallySucceeded]=g.BuildStatusPartiallySucceeded,n.ResultToTextMap[d.BuildResult.Succeeded]=g.BuildStatusSucceeded,n.ResultToTextMap[d.BuildResult.None]=g.BuildStatusNone);n.StatusToTextMap||(n.StatusToTextMap={},n.StatusToTextMap[d.BuildStatus.Cancelling]=g.BuildStatusCancelling,n.StatusToTextMap[d.BuildStatus.Completed]=g.BuildStatusCompleted,n.StatusToTextMap[d.BuildStatus.None]=g.BuildStatusNone,n.StatusToTextMap[d.BuildStatus.InProgress]=g.BuildStatusInProgress,n.StatusToTextMap[d.BuildStatus.NotStarted]=g.BuildStatusNotStarted,n.StatusToTextMap[d.BuildStatus.Postponed]=g.BuildStatusPostponed)},n.toInit=n._initialize(),n}();t.BuildHelper=ar;vr=function(){function n(){}return n.ToTaskGroupPublishPreviewParameter=function(n,t){return{disablePriorVersions:t,preview:n.preview,revision:n.revision,version:n.version,comment:n.comment}},n.ToTaskGroupCreateParameter=function(n){return{category:n.category,description:n.description,iconUrl:n.iconUrl,inputs:n.inputs,instanceNameFormat:n.instanceNameFormat,name:n.name,parentDefinitionId:n.parentDefinitionId,runsOn:n.runsOn,tasks:n.tasks,version:n.version,friendlyName:n.friendlyName,author:n.author}},n.ToTaskGroupUpdateParameter=function(n){return{category:n.category,comment:n.comment,description:n.description,iconUrl:n.iconUrl,id:n.id,inputs:n.inputs,instanceNameFormat:n.instanceNameFormat,name:n.name,parentDefinitionId:n.parentDefinitionId,revision:n.revision,runsOn:n.runsOn,tasks:n.tasks,version:n.version,friendlyName:n.friendlyName,author:n.author}},n}();t.TaskGroupHelper=vr;yr=function(){function n(){}return n.getReleaseEndPoint=function(){var n=u.getDefaultWebContext();return u.getPageContext().webAccessConfiguration.isHosted?s.getCachedServiceLocation(ot.ReleaseHttpClient.serviceInstanceId,b.ContextHostType.ProjectCollection,n):a.empty},n}();t.ReleaseManagementEndpointHelper=yr;r.tfsModuleLoaded("TFS.ReleaseManagement.Utils",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.MessageArea",["require","exports","knockout","VSS/VSS","VSS/Controls/Notifications","VSS/Utils/Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core"],function(n,t,i,r,u,f,e){function l(n){t.currentContext=n}var o,s,h,c;Object.defineProperty(t,"__esModule",{value:!0});t.setCurrentContext=t.currentContext=t.MessageContext=t.MessageAreaViewModel=t.MessageAreaView=void 0;o=f.delegate;s=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._disposalManager=new f.DisposalManager,i._messageAreaViewModel=t.viewModel,i._messageAreaViewModel.clearDelegate=o(i,i._clearHandler),i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({closeable:!0},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._subscribe()},t.prototype.clear=function(){n.prototype.clear.call(this);this._messageAreaViewModel.logError("");this._messageAreaViewModel.logErrorWithLink("");this._messageAreaViewModel.logWarning("");this._messageAreaViewModel.logMessage("");this._link&&this._link.length>0&&(this._link.off("click"),this._link=null);var t=this._element.find("a");t&&t.length>0&&(t.off("click"),t=null)},t.prototype.dispose=function(){this.clear();this._disposalManager.dispose()},t.prototype._clearHandler=function(n){n?(this.getMessageType()===u.MessageAreaType.Error||this.getMessageType()===u.MessageAreaType.Warning)&&this.clear():this.clear()},t.prototype._subscribe=function(){var n=this;this._disposalManager.addDisposable(this._messageAreaViewModel.logError.subscribe(function(t){t&&n.setError(e.ErrorHelper.getErrorMessage(t))}));this._disposalManager.addDisposable(this._messageAreaViewModel.logErrorWithLink.subscribe(function(t){t&&n.setMessage(t,u.MessageAreaType.Error)}));this._disposalManager.addDisposable(this._messageAreaViewModel.logWarning.subscribe(function(t){t&&n.setMessage(t,u.MessageAreaType.Warning)}));this._disposalManager.addDisposable(this._messageAreaViewModel.logMessage.subscribe(function(t){if(t&&(n.setMessage(t,u.MessageAreaType.Info),n._messageAreaViewModel.logMessage(""),t.jquery&&$(t).length>0&&(n._link=$(t).find("a").on("click",o(n,n.clear)),n._link.length>0))){n._link.on("click",o(n,n.clear));f.delay(n,10,function(){n._link.first().focus()})}}))},t}(u.MessageAreaControl);t.MessageAreaView=s;h=function(){function n(){this.logError=i.observable("");this.logErrorWithLink=i.observable({});this.logMessage=i.observable({});this.logWarning=i.observable({})}return n.prototype.clear=function(n){n===void 0&&(n=!1);this.clearDelegate&&this.clearDelegate(n)},n.prototype.clearError=function(){this.clearDelegate&&this.clearDelegate(!0)},n}();t.MessageAreaViewModel=h;c=function(){function n(n){this._viewModel=n}return n.prototype.logError=function(n){this._viewModel.logError(n)},n.prototype.clearError=function(){this._viewModel.clearError()},n.prototype.logMessage=function(n){this._viewModel.logMessage(n)},n.prototype.logWarning=function(n){this._viewModel.logWarning(n)},n.prototype.clear=function(){this._viewModel.clear()},n}();t.MessageContext=c;t.setCurrentContext=l;r.tfsModuleLoaded("TFS.ReleaseManagement.MessageArea",t)});

define("DistributedTasksCommon/ServiceEndpoints/ServiceEndpoint.Common",["require","exports","q","VSS/VSS","VSS/Context","DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary","VSS/Utils/String","jQueryUI/widget"],function(n,t,i,r,u,f,e){function p(n){return/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(n)}function w(){return u.getPageContext().webAccessConfiguration.isHosted?f.VisualStudioTeamServicesProductName:f.TeamFoundationServerProductName}function b(n,t,r){var f=this,u=i.defer(),o=n.beginExecuteServiceEndpointRequest(t,e.EmptyGuidString);return o.then(function(i){r=k(i,r);i.callbackRequired?(Object.assign(t.dataSourceDetails.parameters,i.callbackContextParameters),f.recursivelyExecuteServiceEndpointRequest(n,t,r).then(function(n){u.resolve(n)},function(n){u.reject(n)})):e.equals(i.statusCode,"ok",!0)?(i.result=r,u.resolve(i)):u.resolve(i)},function(n){u.reject(n)}),u.promise}function k(n,t){var i=n.result;return i&&i.length>0&&(t=t?t.concat(n.result):n.result),t}var l,a,o,v,y,s,h,c;Object.defineProperty(t,"__esModule",{value:!0});t.recursivelyExecuteServiceEndpointRequest=t.productName=t.isGuid=t.KubernetesServiceEndpointDetails=t.DockerRegistryServiceEndpointDetails=t.ServiceEndpointDetails=t.ServiceEndpointType=t.EndpointAuthorizationParameters=t.EndpointAuthorizationSchemes=t.ServiceFabricEndpointServerCertAuthorization=t.FeatureAvailabilityFlags=void 0,function(n){n.ResourceAuthorizationforVGEndpoint="WebAccess.DistributedTask.ResourceAuthorization.VGEndpoint";n.AzureSubscriptionBasedDockerRegistry="ServiceEndpoints.AzureSubscriptionBasedDockerRegistry";n.EnableSovereignSupportInKubernetesEndpoint="ServiceEndpoints.EnableSovereignSupport";n.DoNotAuthorizeAllPipelinesByDefault="Pipelines.Policy.DoNotAuthorizeAllPipelinesByDefault"}(l=t.FeatureAvailabilityFlags||(t.FeatureAvailabilityFlags={})),function(n){n.ServerCertificateLookup="certLookup";n.ServerCertCommonNameId="servercertcommonname";n.ServerCertThumbprintId="servercertthumbprint";n.ServerCertCommonNameValue="CommonName";n.ServerCertThumbprintValue="Thumbprint"}(a=t.ServiceFabricEndpointServerCertAuthorization||(t.ServiceFabricEndpointServerCertAuthorization={})),function(n){n.UsernamePassword="UsernamePassword";n.Certificate="Certificate";n.ServicePrincipal="ServicePrincipal";n.PersonalAccessToken="PersonalAccessToken";n.OAuth="OAuth";n.OAuth2="OAuth2";n.None="None";n.Token="Token";n.ManagedServiceIdentity="ManagedServiceIdentity";n.Kubernetes="Kubernetes";n.InstallationToken="InstallationToken";n.JiraConnectApp="JiraConnectApp";n.PublishProfile="PublishProfile"}(o=t.EndpointAuthorizationSchemes||(t.EndpointAuthorizationSchemes={})),function(n){n.OboAuthorization="oboAuthorization";n.TenantId="tenantid";n.ClientCertificateData="ClientCertificateData";n.ClientKeyData="ClientKeyData";n.Username="username";n.Password="password";n.ApiToken="apiToken";n.AccessToken="AccessToken";n.ConfigurationId="ConfigurationId";n.ServicePrincipalKeyAuth="spnKey";n.ServicePrincipalCertificateAuth="spnCertificate"}(v=t.EndpointAuthorizationParameters||(t.EndpointAuthorizationParameters={})),function(n){n.Azure="azure";n.AzureRM="azurerm";n.AzureDeploymentManager="azuredeploymentmanager";n.Bitbucket="bitbucket";n.Chef="chef";n.ExternalGit="git";n.Generic="generic";n.GitHub="github";n.GitHubBoards="githubboards";n.GitHubEnterprise="githubenterprise";n.Jenkins="jenkins";n.Jira="jira";n.Subversion="subversion";n.SSH="ssh";n.Docker="dockerregistry";n.Kubernetes="kubernetes";n.ServiceFabric="servicefabric"}(y=t.ServiceEndpointType||(t.ServiceEndpointType={}));s=function(){function n(n,t){t||(t=n.scheme===o.PersonalAccessToken||n.scheme===o.OAuth||n.scheme===o.OAuth2?{parameters:{accessToken:n.passwordKey},scheme:n.scheme}:{parameters:{username:n.username,password:n.passwordKey},scheme:o.UsernamePassword});var i={id:n.endpointId,description:n.description,administratorsGroup:null,authorization:t,createdBy:null,data:n.parameters,name:n.endpointName,type:n.type,url:n.url,readersGroup:null,groupScopeId:null,serviceEndpointProjectReferences:null,isShared:undefined,isReady:undefined,operationStatus:null,owner:undefined};this.endPoint=i}return n.prototype.toServiceEndpoint=function(){return this.endPoint},n.prototype.toServiceEndpointDetails=function(){return{type:this.endPoint.type,url:this.endPoint.url,authorization:this.endPoint.authorization,data:this.endPoint.data}},n}();t.ServiceEndpointDetails=s;h=function(){function n(n,t){t||n.scheme===o.UsernamePassword&&(t={parameters:{username:n.username,password:n.passwordKey,email:n.email,registry:n.registry},scheme:n.scheme});var i={id:n.endpointId,description:n.description,administratorsGroup:null,authorization:t,createdBy:null,data:n.parameters,name:n.endpointName,type:n.type,url:n.url,readersGroup:null,groupScopeId:null,serviceEndpointProjectReferences:null,isShared:undefined,isReady:undefined,operationStatus:null,owner:undefined};this.endPoint=i}return n.prototype.toServiceEndpoint=function(){return this.endPoint},n.prototype.toServiceEndpointDetails=function(){return{type:this.endPoint.type,url:this.endPoint.url,authorization:this.endPoint.authorization,data:this.endPoint.data}},n}();t.DockerRegistryServiceEndpointDetails=h;c=function(){function n(n,t){this.kubeconfigAuthType="Kubeconfig";var i={id:n.endpointId,description:n.description,administratorsGroup:null,authorization:t,createdBy:null,data:n.parameters,name:n.endpointName,type:n.type,url:n.url,readersGroup:null,groupScopeId:null,serviceEndpointProjectReferences:null,isShared:undefined,isReady:!1,operationStatus:null,owner:undefined};this.endPoint=i}return n.prototype.toServiceEndpoint=function(){return this.endPoint},n.prototype.toServiceEndpointDetails=function(){return{type:this.endPoint.type,url:this.endPoint.url,authorization:this.endPoint.authorization,data:this.endPoint.data}},n}();t.KubernetesServiceEndpointDetails=c;t.isGuid=p;t.productName=w;t.recursivelyExecuteServiceEndpointRequest=b;r.tfsModuleLoaded("ServiceEndpoint.Common",t)});

define("DistributedTasksCommon/TFS.Knockout.Tree",["require","exports","knockout","VSS/VSS","VSS/Utils/UI","DistributedTasksCommon/TFS.Tasks.Utils"],function(n,t,i,r,u,f){var a,e,o,s,h,c,l;Object.defineProperty(t,"__esModule",{value:!0});t.TreeViewModel=t.TreeNodeEventArgs=t.BaseTreeSection=t.StaticTreeNode=t.BaseTreeNode=t.TreeNodeCollection=void 0;a=u.domElem;e=function(){function n(n,t){var r=this;this.parent=i.observable();this.expanded=i.observable(!1);this.nodes=i.isObservable(n)?n:i.observableArray((n||[]).sort(t));this.root=i.computed({read:function(){return r.parent()?r.parent().root():null}});$.each(this.nodes(),function(n,t){r._onNodeAdded(t)});this.nodes.subscribe(function(n){$.each(n,function(n,t){r._onNodeAdded(t)})});this.nodes.subscribe(function(n){n.forEach(function(n){n.status==="added"&&r._onNodeAdded(n.value);n.status==="deleted"&&r._onNodeRemoved(n.value)})},null,"arrayChange");this.isFolder=i.computed({read:function(){return r.nodes().length>0}})}return n.prototype._onNodeAdded=function(n){n.parent(this)},n.prototype._onNodeRemoved=function(n){n.parent(null)},n.prototype._onExpandIconClick=function(){this.expanded(!this.expanded())},n}();t.TreeNodeCollection=e;o=function(n){function t(t){var r=__construct(this,n,[t]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.selectable=i.observable(!0),r.selected=i.observable(!1),r.hovering=i.observable(!1),r}return __extends(t,n),t.prototype._onClick=function(n,t){var i=this.root();!i||i._onClick(n,t,this)},t.prototype._onMouseover=function(n){var t=this.root();!t||t.hoverNode(n)},t.prototype._onMouseout=function(){var n=this.root();!n||n.hoverNode(null)},t.prototype._onContextMenuClick=function(n,t){var i=this.root();!i||i._onContextMenuClick(n,t)},t.prototype._onTreeIconClick=function(n,t){this.isFolder()&&this.expanded(!this.expanded());var i=this.root();!i||i._onTreeIconClick(n,t)},t.prototype._onNodeIconClick=function(n,t){var i=this.root();!i||i._onNodeIconClick(n,t)},t.prototype._onKeyDown=function(n,t){var i=this.root();return!i?!0:i._onKeyDown(n,t,this)},t}(e);t.BaseTreeNode=o;s=function(n){function t(t){var r=__construct(this,n,[t]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.text=i.observable(""),r.cssClass=i.observable(""),r.showIcon=i.observable(!1),r.nodeIconCssClass=i.observable(""),r.dirty=i.observable(!1),r}return __extends(t,n),t}(o);t.StaticTreeNode=s;h=function(){function n(n,t){this.root=new s;this._nodes=[];this.root.text(n);this.root.selectable(!1);this.root.cssClass(t);this.root.showIcon(!1);this.root.isFolder=i.computed({read:function(){return!0}})}return n.prototype.setExpanded=function(n){this.root.expanded(n)},n.prototype.add=function(n,t){t===void 0&&(t=!1);t?this.root.nodes.unshift(n):this.root.nodes.push(n);this._nodes=this.root.nodes.peek()},n.prototype.setNodes=function(n){this.root.nodes(n);this._nodes=n},n.prototype.resetNodes=function(){this.root.nodes(this._nodes)},n.prototype.filterNodes=function(n){var t="",i;n&&(t=n.toLowerCase());i=this._nodes.filter(function(n){if(n&&n.text){var i=n.text;try{return i().toLowerCase().indexOf(t)>=0}catch(r){return console.log("The nodes of the section has to be subscribable and of type ITreeNode to get filtered"),!1}}return!1});this.root.nodes(i)},n}();t.BaseTreeSection=h;c=function(){function n(){}return n}();t.TreeNodeEventArgs=c;l=function(n){function t(t,r){var u=__construct(this,n,[t,r]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u.onClick=i.observable(),u.onContextMenuClick=i.observable(),u.onKeyDown=i.observable(),u._selectedNode=i.observable(),u._hoverNode=i.observable(),u.nodeSelectedByClick=!1,u.root=i.computed({read:function(){return u}}),$.each(u.nodes(),function(n,t){u._onNodeAdded(t)}),u.selectedNode=i.computed({read:function(){return u._selectedNode()},write:function(n,t){var i,r;u.nodeSelectedByClick=t===!0;i=u._selectedNode();i===n||u._onNodeSelecting(n,t)||(!i||u._onNodeUnselected(i),n&&(r=n.parent.peek(),r&&r.expanded(!0)),u._selectedNode(n),u._onNodeSelected(n))}}),u.hoverNode=i.computed({read:function(){return u._hoverNode()},write:function(n){var t=u._hoverNode();!t||u._onNodeMouseout(t);u._hoverNode(n);u._onNodeMouseover(n)}}),u}return __extends(t,n),t.prototype.selectNode=function(n){var t=this;$.each(this.nodes(),function(i,r){return!t._selectNode(r,n)})},t.prototype._selectNode=function(n,t){var r=this,i;return t(n)?(this.selectedNode(n),!0):(i=!1,$.each(n.nodes(),function(n,u){if(r._selectNode(u,t))return i=!0,!1}),i)},t.prototype._onNodeUnselected=function(n){!n||n.selected(!1)},t.prototype._onNodeSelected=function(n){!n||n.selected(!0)},t.prototype._onNodeMouseout=function(n){!n||n.hovering(!1)},t.prototype._onNodeMouseover=function(n){!n||n.hovering(!0)},t.prototype._onNodeSelecting=function(){return!1},t.prototype._onClick=function(n,t,i){if(n.selectable()){var r=this.selectedNode;r(n,!0)}this.onClick({node:n,eventObject:t,value:i})},t.prototype._onContextMenuClick=function(n,t,i){this.onContextMenuClick({node:n,eventObject:t,value:i})},t.prototype._onKeyDown=function(n,t,i){switch(t.keyCode){case u.KeyCode.ENTER:return f.AccessibilityHelper.triggerClickOnEnterPress(t);default:this.onKeyDown({node:n,eventObject:t,value:i})}return!0},t.prototype._onTreeIconClick=function(){},t.prototype._onNodeIconClick=function(){},t}(e);t.TreeViewModel=l;r.tfsModuleLoaded("TFS.Knockout.Tree",t)});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=e[0]&2?u["return"]:e[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[e[0]&2,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o];u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e};define("DistributedTasksCommon/DefinitionResourceReferenceBuildHttpClient",["require","exports","TFS/Build/RestClient"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.DefinitionResourceReferenceBuildHttpClient=void 0;var r=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.authorizeProjectResources=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"398c85bc-81aa-4822-947c-a194a05f0fef",apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/build/authorizedresources",responseIsCollection:!0,routeValues:{project:t},data:n})]})})},t.prototype.getProjectResources=function(n,t,i){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(){return r={type:t,id:i},[2,this._beginRequest({httpMethod:"GET",area:"build",locationId:"398c85bc-81aa-4822-947c-a194a05f0fef",apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/build/authorizedresources",responseIsCollection:!0,routeValues:{project:n},queryParams:r})]})})},t}(i.BuildHttpClient5);t.DefinitionResourceReferenceBuildHttpClient=r});

define("DistributedTasksCommon/TFS.Tasks.Models",["require","exports","q","knockout","DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary","VSS/FeatureAvailability/Services","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Array","VSS/Utils/Number","VSS/Utils/UI","VSS/VSS","VSS/WebApi/RestClient","VSS/Service","VSS/Context","TFS/DistributedTask/Contracts","VSS/WebApi/Constants","DistributedTasksCommon/ServiceEndpoints/ServiceEndpoint.Common","DistributedTasksCommon/TFS.Tasks.Types","DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary","DistributedTasksCommon/TFS.Knockout.Tree","DistributedTasksCommon/TFS.Tasks.Utils","DistributedTasksCommon/DefinitionResourceReferenceBuildHttpClient","TFS/DistributedTask/TaskAgentRestClient","TFS/ServiceEndpoint/ServiceEndpointRestClient"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt){function kt(n){var t=o.format("{0}.{1}.{2}",n.major,n.minor,n.patch);return n.isTest&&(t=t+"-test"),t}function ht(){return y.getPageContext().webAccessConfiguration.paths.resourcesPath+"icon-meta-task.png"}var ti,ct,lt,at,vt,yt,pt,ut,ft,et,wt,ot,bt,dt,gt,ni,st;Object.defineProperty(t,"__esModule",{value:!0});t.getLatestMetaTaskIconUrl=t.MetaTaskManager=t.WizardPage=t.TaskCategoryAllTreeSection=t.TaskCategoryTreeNode=t.getVersionSpec=t.TaskDefinitionsResult=t.TaskAgentClientService=t.ConnectedServicesClientService=t.BuildLegacyHttpClient=t.TaskDefinitionCollection=t.TaskDefinitionCache=t.LatestVersionSpec=t.InstanceNameFormatRegex=t.TaskDefinitionViewModel=t.TaskDefinitionMetadata=t.ModelContext=t.SimpleKeyValuePair=t.KeyValuePair=t.ChangeTrackerModel=t.CustomerIntelligenceInfo=void 0,function(n){n.Area="DistributedTask";n.FeatureTask="Task";n.FeatureInputEditorExtension="TaskInputEditorExtension"}(ti=t.CustomerIntelligenceInfo||(t.CustomerIntelligenceInfo={}));ct=function(){function n(){var n=this;this._disposalManager=new e.DisposalManager;this._initializeObservables();this.dirty=this._disposalManager.addDisposable(r.computed(function(){return n._isDirty()}));this.invalid=this._disposalManager.addDisposable(r.computed(function(){return n._isInvalid()}));this.warning=this._disposalManager.addDisposable(r.computed(function(){return n._isWarning()}))}return n.prototype.dispose=function(){this._disposalManager.dispose()},n.prototype.revert=function(){},n.prototype.setClean=function(){},n.prototype._addDisposable=function(n){return this._disposalManager.addDisposable(n)},n.prototype._initializeObservables=function(){},n.prototype._isDirty=function(){return!1},n.prototype._isInvalid=function(){return!1},n.prototype._isWarning=function(){return!1},n}();t.ChangeTrackerModel=ct;lt=function(){function n(n,t){this.key=r.observable("");this.value=r.observable("");this.key(n);this.value(t)}return n}();t.KeyValuePair=lt;at=function(){function n(n,t){n===void 0&&(n="");t===void 0&&(t="");this.key="";this.value="";this.key=n;this.value=t}return n}();t.SimpleKeyValuePair=at;vt=function(){function n(){}return n.currentDate=r.observable(new Date),n}();t.ModelContext=vt;yt=function(){function n(){}return n.getMetadata=function(t){n._taskMetadata||n._initialize();var i=n._taskMetadata[t.toLowerCase()];return i||(i=n._defaultTaskMetadata),i},n._initialize=function(){n._taskMetadata={};n._taskMetadata[n._prepareEnvironmentTaskId]={showVersionDropdown:!1};n._defaultTaskMetadata={showVersionDropdown:!1}},n._prepareEnvironmentTaskId="114fca70-4b6d-4699-993c-8c38bfda8305",n}();t.TaskDefinitionMetadata=yt;pt=function(){function n(n,t){var i=this;this.id=r.observable("");this.friendlyName=r.observable("");this.description=r.observable("");this.author=r.observable("");this.sourceLocation=r.observable("");this.iconUrl=r.observable("");this.disabled=r.observable(!1);this._taskDefinition=n;this._addFunction=t;this.id(n.id);this.friendlyName(this._getFriendlyName(n));this.description(n.description);this.author(n.author);this.sourceLocation(n.sourceLocation);this.iconUrl(n.iconUrl);this.disabled(n.disabled);this.hasIcon=r.computed({read:function(){return!!i.iconUrl()}})}return n.prototype.addCommand=function(){typeof this._addFunction=="function"&&this._addFunction()},n.prototype.onAddButtonKeyDown=function(n,t){var o=$(t.target),e;switch(t.keyCode){case c.KeyCode.ENTER:return nt.AccessibilityHelper.triggerClickOnEnterPress(t);case c.KeyCode.UP:case c.KeyCode.DOWN:t.preventDefault();var u=o.parent().parent(),i=u.parent().children("*[tabindex != '-1']:visible"),r=i.index(u),f=0;return f=t.keyCode==c.KeyCode.UP?r-1>=0?r-1:i.length-1:r+1<i.length?r+1:0,e=i.eq(f),e.children("div.task-definition-add").children("button").focus(),!1;default:return!0}},n.prototype._getFriendlyName=function(n){return n.definitionType===k.DefinitionType.metaTask&&n.version.isTest?o.format("{0} ({1})",n.name,d.DraftText):n.friendlyName},n}();t.TaskDefinitionViewModel=pt;t.InstanceNameFormatRegex=/\$\((.+?)\)/g;t.LatestVersionSpec="*";ut=function(){function n(){this._currentTaskDefinitions=null;this._currentTaskDefinitionDictionary={};this._currentTaskDefinitionsDemands={}}return n.getTaskDefinitionCache=function(t,i){i===void 0&&(i=!1);var r=n.mutateFilter(t);return(i||!n.instance.has(r))&&(n.instance.has(r)||(n.instance.set(r,new n),n.existingFilters.push(r)),n.instance.get(r)._taskDefinitionResultsPromise=n.instance.get(r).refresh(t)),n.instance.get(r)},n.mutateFilter=function(t){if(!t||t.length===0)return n.DEFAULT_VISIBILITY_FILTER;for(var i=0;i<n.existingFilters.length;i++)if(s.arrayEquals(t,n.existingFilters[i]))return n.existingFilters[i];return t},n.getInstance=function(){return n.instance.has(n.DEFAULT_VISIBILITY_FILTER)||n.instance.set(n.DEFAULT_VISIBILITY_FILTER,new n),n.instance.get(n.DEFAULT_VISIBILITY_FILTER)},n.disposeInstance=function(){n.instance.clear();n.existingFilters=[]},n.prototype.getCurrentTaskDefinitions=function(){return this._currentTaskDefinitions},n.prototype.getTaskDefinition=function(n){return this._currentTaskDefinitionDictionary[n]},n.prototype.getTaskDefinitionDemands=function(n){return this._currentTaskDefinitionsDemands[n]},n.prototype.getTaskDefinitionResults=function(){return this._taskDefinitionResultsPromise},n.prototype.refresh=function(n){var f=this,r,u,e=y.getDefaultWebContext(),o=new v.VssConnection(e),t;return r=o.getHttpClient(ot),u=r.getTaskDefinitions2(null,n),t=i.defer(),i.all([u,this._getMetaTaskDefinitions()]).spread(function(n,i){n.tasks=n.tasks||[];i=i||[];i.forEach(function(n){n.iconUrl=ht()});n.tasks=n.tasks.concat(i);f._setTasks(n.tasks);t.resolve(n)},function(n){t.reject(n)}),this._taskDefinitionResultsPromise=t.promise,t.promise},n.prototype.cacheMetaTaskDemandsFromServer=function(t,i){var r=this;if(!n.metaTaskManager)return null;this._taskDefinitionResultsPromise&&this._taskDefinitionResultsPromise.then(function(u){var f=[],e=u.tasks,o=new ft(e),s=n.metaTaskManager.getTaskGroup(t,i,!0);s.then(function(n){n.tasks&&n.tasks.forEach(function(n){if(n.enabled){var i=e.filter(function(t){return t.id==n.task.id}),t=nt.getTaskDefinition(o.getMajorVersions(n.task.id),n.task.versionSpec);t&&t.demands&&t.demands.forEach(function(n){f.push(n)})}});r._currentTaskDefinitionsDemands[t]=f})})},n.prototype._getMetaTaskDefinitions=function(){return n.metaTaskManager?n.metaTaskManager.getDefinitions():i.resolve(null)},n.prototype._setTasks=function(n){var t=this;this._currentTaskDefinitions=n;this._currentTaskDefinitionDictionary={};this._currentTaskDefinitions.forEach(function(n){t._currentTaskDefinitionDictionary[n.id]=n})},n.metaTaskManager=null,n.instance=new Map,n.DEFAULT_VISIBILITY_FILTER=["NO_FILTER"],n.existingFilters=[],n}();t.TaskDefinitionCache=ut;ft=function(){function n(n,t){var i=this;this._taskVersionMap={};this._latestMajorVersions={};this._visibilityFilter=[];ut.metaTaskManager=new st;this._taskDefinitions=n.sort(function(n,t){return i._compareVersions(n.version,t.version)});this._taskDefinitionCache=ut.getTaskDefinitionCache(t);$.each(this._taskDefinitions,function(n,t){var u=t.id.toLowerCase(),r,f;t.definitionType===k.DefinitionType.metaTask&&(t.iconUrl=ht());r=i._taskVersionMap[u];r===undefined&&(r=[],i._taskVersionMap[u]=r,i._latestMajorVersions[u]={});f=kt(t.version);r.splice(0,0,{versionSpec:f,taskDefinition:t});i._latestMajorVersions[u][t.version.major]=t});this._latestVersions=nt.getLatestReleasedVersions(this._latestMajorVersions)}return n.prototype.getTaskDefinitions=function(){return this._taskDefinitionCache.getCurrentTaskDefinitions()!=null&&(this._taskDefinitions=this._taskDefinitionCache.getCurrentTaskDefinitions()),this._taskDefinitions},n.prototype.getTaskVersionMap=function(){var n=this;return this.getTaskDefinitions(),$.each(this._taskDefinitions,function(t,i){var u=i.id.toLowerCase(),r=n._taskVersionMap[u];r===undefined&&(r=[],n._taskVersionMap[u]=r)}),this._taskVersionMap},n.prototype.getTaskById=function(n){var t=this;return this.getTaskDefinitions(),$.each(this._taskDefinitions,function(n,i){var r=i.id.toLowerCase();t._latestVersions[r]=i}),this._latestVersions[(n||"").toLowerCase()]},n.prototype.getMajorVersions=function(n){var r,t=this._latestMajorVersions[n],i;return t||(i=this.getTaskById(n),i?(this._latestMajorVersions[n]=(r={},r[i.version.major]=i,r),t=this._latestMajorVersions[n]):t={}),t},n.prototype.getLatestVersionArray=function(){var n=this,i;return this._latestVersionArray||(this.getTaskVersionMap(),i=this._latestMajorVersions,this._latestVersionArray=$.map(this._latestVersions,function(r){return n._taskVersionMap[r.id].splice(0,0,{versionSpec:t.LatestVersionSpec,taskDefinition:r}),$.each(i[r.id],function(i,u){var s=i+".",f=n._taskVersionMap[r.id],e=f.length;$.each(f,function(n,t){if(o.startsWith(t.versionSpec,s))return e=n,!1});f.splice(e,0,{versionSpec:i+"."+t.LatestVersionSpec,taskDefinition:u})}),r})),this._latestVersionArray},n.prototype.getTaskDefinitionDemandsById=function(n){return this._taskDefinitionCache.getTaskDefinitionDemands(n)||[]},n.prototype._compareVersions=function(n,t){if(n||t)if(n){if(!t)return-1}else return 1;else return 0;var i=h.defaultComparer(n.major,t.major);return i===0&&(i=h.defaultComparer(n.minor,t.minor),i===0&&(i=h.defaultComparer(n.patch,t.patch),i===0&&(n.isTest&&!t.isTest?i=-1:t.isTest&&!n.isTest&&(i=1)))),i},n}();t.TaskDefinitionCollection=ft;et=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetSubscriptionNames=function(n){return this._beginRequest({area:t.AreaName,locationId:t.AzureDeploymentEnvironmentDetailsResources,responseIsCollection:!0,routeValues:{project:n}})},t.AreaName="Build",t.AzureDeploymentEnvironmentDetailsResources="0524c91b-a145-413c-89eb-b3342b6826a4",t}(a.VssHttpClient);t.BuildLegacyHttpClient=et;wt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._buildLegacyHttpClient=t.getHttpClient(et,w.ServiceInstanceTypes.TFS);this._httpClient=t.getHttpClient(it.TaskAgentHttpClient,w.ServiceInstanceTypes.TFS);this._serviceEndpointClient=t.getHttpClient(rt.ServiceEndpointHttpClient,w.ServiceInstanceTypes.TFS);this._defResourceRefBuildClient=t.getHttpClient(tt.DefinitionResourceReferenceBuildHttpClient,w.ServiceInstanceTypes.TFS)},t.prototype.beginGetServiceEndpoints=function(n,t,i){return this._serviceEndpointClient.getServiceEndpoints(this._getProjectId(),n,t,i)},t.prototype.beginGetSubscriptionNames=function(){return this._buildLegacyHttpClient.beginGetSubscriptionNames(this._getProjectName())},t.prototype.beginGetAzureSubscriptions=function(){return this._httpClient.getAzureSubscriptions()},t.prototype.beginGetAzureManagementGroups=function(){return this._httpClient.getAzureManagementGroups()},t.prototype.beginGetServiceEndpointTypes=function(n,t){return this._serviceEndpointClient.getServiceEndpointTypes(n,t)},t.prototype.beginCreateServiceEndpoint=function(n,t){var u=this,r;return(t===void 0&&(t=!1),this._fillServiceEndpointProjectReferences(n,this._getProjectId()),!f.FeatureAvailabilityService.isFeatureEnabled(b.FeatureAvailabilityFlags.ResourceAuthorizationforVGEndpoint))?this._serviceEndpointClient.createServiceEndpoint(n):(r=i.defer(),this._serviceEndpointClient.createServiceEndpoint(n).then(function(n){if(t){var i={authorized:!0,id:n.id,name:n.name,type:"endpoint"};u._defResourceRefBuildClient.authorizeProjectResources([i],u._getProjectId()).then(function(){r.resolve(n)},function(n){r.reject(new Error(o.localeFormat(d.ErrorSavingEndpointPolicyDuringCreation,"\r\n",n.message||n)))})}else r.resolve(n)},function(n){r.reject(new Error(n.message||n))}),r.promise)},t.prototype.beginDeleteServiceEndpoint=function(n){var r=this,t,e;return f.FeatureAvailabilityService.isFeatureEnabled(b.FeatureAvailabilityFlags.ResourceAuthorizationforVGEndpoint)?(t=i.defer(),e={authorized:!1,id:n,name:"",type:"endpoint"},this._defResourceRefBuildClient.authorizeProjectResources([e],this._getProjectId()).then(function(){r._serviceEndpointClient.deleteServiceEndpoint(n,[r._getProjectId()]).then(function(){t.resolve()},function(n){t.reject(new Error(o.localeFormat(u.ErrorDeletingEndpoint,"\r\n",n.message||n)))})},function(n){t.reject(new Error(o.localeFormat(u.ErrorDeletingPolicy,"\r\n",n.message||n)))}),t.promise):this._serviceEndpointClient.deleteServiceEndpoint(n,[this._getProjectId()])},t.prototype.beginGetVstsAadTenantId=function(){return this._httpClient.getVstsAadTenantId()},t.prototype.beginCreateOAuthRequest=function(n,t,i,r,u){return i===void 0&&(i=p.AadLoginPromptOption.SelectAccount),this._httpClient.createAadOAuthRequest(n,t,i,r,u)},t.prototype.beginUpdateServiceEndpoint=function(n,t){return this._fillServiceEndpointProjectReferences(n,this._getProjectId()),n.name=null,n.description=null,this._serviceEndpointClient.updateServiceEndpoint(n,n.id,t)},t.prototype.beginGetEndpoint=function(n){return this._serviceEndpointClient.getServiceEndpointDetails(this._getProjectId(),n)},t.prototype.beginQueryEndpoint=function(n){return n.scope=this._getProjectId(),this._httpClient.queryEndpoint(n)},t.prototype.beginQueryServiceEndpoint=function(n){return this._serviceEndpointClient.queryServiceEndpoint(n,this._getProjectId())},t.prototype.beginExecuteServiceEndpointRequest=function(n,t){return this._serviceEndpointClient.executeServiceEndpointRequest(n,this._getProjectId(),t)},t.prototype.authorizeEndpoint=function(n){var t=i.defer(),r={authorized:!0,id:n.id,name:n.name,type:"endpoint"};return this._defResourceRefBuildClient.authorizeProjectResources([r],this._getProjectId()).then(function(){t.resolve(n)},function(n){t.reject(new Error(o.localeFormat(d.ErrorSavingEndpointPolicyDuringCreation,"\r\n",n.message||n)))}),t.promise},t.prototype._getProjectName=function(){return this.getWebContext().project.name},t.prototype._getProjectId=function(){return this.getWebContext().project.id},t.prototype._fillServiceEndpointProjectReferences=function(n,t){n.serviceEndpointProjectReferences=[{name:n.name,description:n.description,projectReference:{id:t,name:""}}]},t}(v.VssService);t.ConnectedServicesClientService=wt;ot=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getTaskDefinitions2=function(n,t,i){var r={visibility:t,scopeLocal:i};return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"distributedtask",locationId:"60aac929-f0cd-4bc8-9ce4-6b30e8f1b1bd",resource:"tasks",routeTemplate:"_apis/{area}/{resource}/{taskId}/{versionString}",responseIsCollection:!0,routeValues:{taskId:n},queryParams:r,apiVersion:this.tasksApiVersion}).spread(function(n,t,i,r){return{tasks:n,pendingTaskHeader:i.getResponseHeader("x-ms-pendingtasks"),numTasksToUpdate:r!=null&&parseInt(r)||0}})},t}(it.TaskAgentHttpClient);t.TaskAgentClientService=ot;bt=function(){function n(){}return n}();t.TaskDefinitionsResult=bt;t.getVersionSpec=kt;dt=function(n){function t(t,i){var u=__construct(this,n,[]),f,e;for(f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u.value=r.observable(""),u.showIcon=r.observable(!0),u.nodeIconCssClass=r.observable(""),u.cssClass=r.observable("node-link"),e=i,e||(e=t),u.dirty=r.computed({read:function(){return!1}}),u.text=r.computed({read:function(){return e}}),u.value(t),u}return __extends(t,n),t.prototype._onContextMenuClick=function(n,t){this.root()._onContextMenuClick(this,t,this.value())},t}(g.BaseTreeNode);t.TaskCategoryTreeNode=dt;gt=function(n){function t(t,i){return i===void 0&&(i="node-section"),n.call(this,t,i)||this}return __extends(t,n),t}(g.BaseTreeSection);t.TaskCategoryAllTreeSection=gt;ni=function(){function n(n,t,i,u,f,e){this.id="";this.templateName="";this.title="";this.viewModel=r.observable(null);this.order=0;this.id=n;this.order=i;this.cssClass=u;this.templateName=f;this.title=t;this.viewModel(e)}return n}();t.WizardPage=ni;st=function(){function n(){var n=y.getDefaultWebContext(),t=new v.VssConnection(n);this._projectId=n.project.id;this._taskAgentClient=t.getHttpClient(it.TaskAgentHttpClient)}return n.prototype.getDefinitions=function(){return this._taskAgentClient.getTaskGroups(this._projectId)},n.prototype.getRevisions=function(n){return this._taskAgentClient.getTaskGroupHistory(this._projectId,n)},n.prototype.getRevision=function(n,t){return this._taskAgentClient.getTaskGroupRevision(this._projectId,n,t)},n.prototype.saveDefinition=function(n){var t=this.ToTaskGroupCreateParameter(n);return this._taskAgentClient.addTaskGroup(n,this._projectId)},n.prototype.getTaskGroup=function(n,t,i){return this._taskAgentClient.getTaskGroup(this._projectId,n,t,i?p.TaskGroupExpands.Tasks:p.TaskGroupExpands.None)},n.prototype.ToTaskGroupCreateParameter=function(n){return{category:n.category,description:n.description,iconUrl:n.iconUrl,inputs:n.inputs,instanceNameFormat:n.instanceNameFormat,name:n.name,parentDefinitionId:n.parentDefinitionId,runsOn:n.runsOn,tasks:n.tasks,version:n.version,friendlyName:n.friendlyName,author:n.author}},n}();t.MetaTaskManager=st;t.getLatestMetaTaskIconUrl=ht;l.tfsModuleLoaded("TFS.Tasks.Models",t)});

define("DistributedTasksCommon/ServiceEndpoints/VstsAadAuthorizer",["require","exports","q","VSS/Service","VSS/Utils/Core","VSS/VSS","VSS/Utils/String","DistributedTasksCommon/TFS.Tasks.Models","DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.VstsAadAuthorizer=void 0;var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._monitorAuthProgress=null,t}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._distributedTaskClient=t.getService(o.ConnectedServicesClientService)},t.prototype.authorize=function(n,t,r,u,f,o){var h=this,s;return u===void 0&&(u=e.empty),f===void 0&&(f=!1),s=i.defer(),this._getAadOAuthLoginUrl(n,t,r,u,f,o).then(function(n){n=n.value||n;h.authWindow=window.open(n,"","width = 960, height = 600, location = true, menubar = false, toolbar = false");u===e.empty?h._pollAuthWindow().then(function(n){s.resolve(n)},function(n){s.reject(n)}):s.resolve(e.empty)},function(n){s.reject(n)}),s.promise},t.prototype._pollAuthWindow=function(){var n=this,t=i.defer();return this._monitorAuthProgress=new u.DelayedFunction(this,1e3,"monitorAuthProgress",function(){try{if(n.authWindow)if(n.authWindow.closed)t.reject(""),n._cleanupAuthWindow();else try{n.authWindow.vstsaadoauthcompleted?(n.authWindow.vstsaadoautherrormessage?t.reject(n.authWindow.vstsaadoautherrormessage):n.authWindow.vstsaadoauthaccesstokenkey?t.resolve(n.authWindow.vstsaadoauthaccesstokenkey):t.reject(s.SpnAuthorizationFailedError),n._cleanupAuthWindow()):n._monitorAuthProgress.reset()}catch(r){n._monitorAuthProgress.reset()}else t.reject(s.CouldNotAuthenticateAAD),n._cleanupAuthWindow()}catch(i){t.reject(i);n._cleanupAuthWindow()}}),this._monitorAuthProgress.start(),t.promise},t.prototype._cleanupAuthWindow=function(){if(this.authWindow)try{this.authWindow.close();this.authWindow=null}catch(n){}this._monitorAuthProgress&&(this._monitorAuthProgress.cancel(),delete this._monitorAuthProgress)},t.prototype._getAadOAuthLoginUrl=function(n,t,r,u,f,o){return u===void 0&&(u=e.empty),f===void 0&&(f=!1),o?i.resolve(o):this._distributedTaskClient.beginCreateOAuthRequest(n,t,r,u,f)},t}(r.VssService);t.VstsAadAuthorizer=h;f.tfsModuleLoaded("AzureAuthenticationHelper",t)});

define("DistributedTaskControls/Common/AppContext",["require","exports","DistributedTaskControls/Common/Factory","VSS/Utils/Array"],function(n,t,i,r){var f,u;Object.defineProperty(t,"__esModule",{value:!0});t.AppContext=t.AppCapability=void 0,function(n){n[n.LinkProcessParameters=0]="LinkProcessParameters";n[n.GreaterThanConditionInDemand=1]="GreaterThanConditionInDemand";n[n.MultiplePhases=2]="MultiplePhases";n[n.VariablesForTasktimeout=3]="VariablesForTasktimeout";n[n.Build=4]="Build";n[n.Deployment=5]="Deployment";n[n.ViewYAML=6]="ViewYAML";n[n.MarketplaceExtensions=7]="MarketplaceExtensions";n[n.PhaseJobCancelTimeout=8]="PhaseJobCancelTimeout";n[n.ShowViewYAMLInPhase=9]="ShowViewYAMLInPhase"}(f=t.AppCapability||(t.AppCapability={}));u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.instance=function(){return n.getInstance.call(this,t)},t.prototype.isCapabilitySupported=function(n){return!this._capabilities||this._capabilities.length===0?!1:r.contains(this._capabilities,n)},Object.defineProperty(t.prototype,"Capabilities",{set:function(n){this._capabilities=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IsSystemVariable",{get:function(){return this._isSystemVariable},set:function(n){this._isSystemVariable=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"PageContext",{get:function(){return this._pageContext},set:function(n){this._pageContext=n},enumerable:!1,configurable:!0}),t}(i.Singleton);t.AppContext=u});

define("DistributedTaskControls/Common/RegexConstants",["require","exports"],function(n,t){function i(n){return new RegExp("^"+n+" \\(([1-9][0-9]*)\\)\\s*$","i")}function r(n){var i=n.replace(t.RegexSpecialCharactersRegex,"\\$&").replace("\\{0\\}","([1-9][0-9]*)");return new RegExp("^"+i+"\\s*$","i")}Object.defineProperty(t,"__esModule",{value:!0});t.ServiceEndPointsRegexConstants=t.DefaultDefinitionNameFormatRegexLoc=t.DefaultDefinitionNameFormatRegex=t.SelfClosingHTMLTagRegEx=t.PredicateRuleRegEx=t.GuidPatternRegEx=t.LiveLogsLineRegEx=t.FindManagementGroupIdRegEx=t.FindSubscriptionIdRegEx=t.DemandGtVersionRegEx=t.DemandEqualsRegEx=t.ReleaseDefinitionNameRegex=t.RegexSpecialCharactersRegex=t.VariableParameterRegex=t.DefinitionNameRegex=t.TaskNameRegex=void 0;t.TaskNameRegex=/(\r\n|\n|\r|\t)/gm;t.DefinitionNameRegex=/[\u0000-\u001F\"\/\:\<\>\\\|\$\@]/;t.VariableParameterRegex=new RegExp("\\$\\(.*?\\)");t.RegexSpecialCharactersRegex=/[-\/\\^$*+?.()|[\]{}]/g;t.ReleaseDefinitionNameRegex=/[\u0000-\u001F\"\/\:\<\>\\\|\$\@\%\*]/;t.DemandEqualsRegEx=new RegExp(" -equals ","i");t.DemandGtVersionRegEx=new RegExp(" -gtVersion ","i");t.FindSubscriptionIdRegEx=/\(([A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12})\)$/;t.FindManagementGroupIdRegEx=/\(([A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12})\)$/;t.LiveLogsLineRegEx=/^\#*\[([^|\s\]]+).*?\](.*)/;t.GuidPatternRegEx="^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$";t.PredicateRuleRegEx=/([a-zA-Z0-9 ]+)([!=<>]+)([a-zA-Z0-9. ]+)/g;t.SelfClosingHTMLTagRegEx=/<\s*([^\s>]+)([^>]*)\/\s*>/g;t.DefaultDefinitionNameFormatRegex=i;t.DefaultDefinitionNameFormatRegexLoc=r;var u;(function(n){n.GuidPatternWithoutBraces=t.GuidPatternRegEx;n.GuidPatternWithBraces="^{[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}}$";n.UriValidator="^.+://.+$"})(u=t.ServiceEndPointsRegexConstants||(t.ServiceEndPointsRegexConstants={}))});

define("DistributedTaskControls/Common/ShortKeys",["require","exports","VSS/Controls/KeyboardShortcuts"],function(n,t,i){var r,u,f;Object.defineProperty(t,"__esModule",{value:!0});t.KeyCodes=t.InputControlShortKeys=t.ItemListShortKeys=void 0;r=function(){function n(){}return n.MoveSelectedItemUp=i.ShortcutKeys.CONTROL+"+"+i.ShortcutKeys.ALT+"+e",n.MoveSelectedItemDown=i.ShortcutKeys.CONTROL+"+"+i.ShortcutKeys.ALT+"+d",n}();t.ItemListShortKeys=r,function(n){n.HelpShortKey=i.ShortcutKeys.CONTROL+"+"+i.ShortcutKeys.ALT+"+h";n.LinkShortKey=i.ShortcutKeys.CONTROL+"+"+i.ShortcutKeys.ALT+"+l";n.MasterDetailsToggleShortKey=i.ShortcutKeys.CONTROL+"+f6"}(u=t.InputControlShortKeys||(t.InputControlShortKeys={})),function(n){n[n.MoveSelectedItemUp=69]="MoveSelectedItemUp";n[n.MoveSelectedItemDown=68]="MoveSelectedItemDown";n[n.Help=72]="Help";n[n.Link=76]="Link"}(f=t.KeyCodes||(t.KeyCodes={}))});

define("DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls",["require","exports"],function(require,exports){var e=exports;e.WizardSave="Save";e.WizardNext="Next";e.PhaseSkippedText="The job was skipped due to an unsatisfied condition.";e.DeploymentGroupPhaseHelpMarkDown="[More Information](https://go.microsoft.com/fwlink/?LinkId=852588)";e.AgentConnectingSubText="Connecting...";e.TomorrowFormat="tomorrow at {0}";e.RemoveTaskDescription="Click to remove the task";e.CreateAutoSpnFooter="A new Azure Service Principal will be created and assigned with \u0026quot;Contributor\u0026quot; role, having access to all the resources in the selected subscription.\u003cbr/\u003e\u003cbr/\u003eIf your subscription is not listed above, or your organization is not backed by Azure Active Directory or to specify an existing Service Principal click";e.VariableScopeFilterSearchBoxAriaLabel="Scope search";e.NoMatchingSubscriptionFound="No matching subscription or service connection found";e.CancelButtonText="Cancel";e.DownloadLogMenuitemLabel="Download the log";e.RunOnServerTaskTypeDescription="Tasks are shown that will run on the server. Currently, only one task is allowed in a server job.";e.DistributedTaskOverviewWarning="\"Distributed task overview warning\"";e.VariableNamePlaceHolder="name (required)";e.AgentPhaseTitle="Agent job";e.ARIALabelProcessVariablesTable="Pipeline variables table";e.TaskGroupCategoryInfoIconAriaLabel="More information about category";e.JobCancellingStatus="Canceling";e.SearchTemplateDescription="Search for the pipeline template to apply";e.AgentAcquisitionRunAsLaunchAgentServiceText="To run as a LaunchAgent service see \u003ca target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://go.microsoft.com/fwlink/?LinkID=821556\"\u003ehere\u003c/a\u003e";e.VariableGroupsNeedAttention="Some variable groups need attention";e.VariableNameDuplicateMessageNoScope="Variable \u0027{0}\u0027 is already defined";e.SpecialCharactersNotAllowedErrorMessage="\u0027\u003c\u0027, \u0027\u003e\u0027, \u0027|\u0027, \u0027\\\u0027, \u0027:\u0027, \u0027$\u0027, \u0027@\u0027, \u0027\"\u0027, \u0027/\u0027 are not allowed.";e.EditorShortKeyGroup="Editor";e.TargetsText="targets";e.AgentQueueDropdownNoRegisteredAgents="(No agents)";e.CopyContentHelpDocsLinkTitle="[more information about YAML builds]";e.EnvironmentVariableNameSpaceErrorTooltip="Environment variable name cannot contain spaces";e.TargetsLabel="Targets";e.GitHubConnectionDeletedMessage="The service connection for the “{0}” repository no longer exists. To fix this problem, create or select a service connection.";e.RetryCountOnTaskFailureTooltip="Specifies the number of retries for this task that will happen in case of task failure. Note: Requires agent version 2.194.0 or later. Not supported for agentless tasks.";e.SubscriptionIdInvalid="Subscription ID must be a valid GUID";e.MetataskInstanceNameFormat="Task group: {0} {1}";e.ConnectionLabel="Connection:";e.PhaseIssuesHeaderText="Job issues";e.NoExtensionAvailableText="There are no extensions to display";e.AgentAcquisitionPlatformOsxVersion="macOS {0}";e.HoursAgoCompactFormat="{0}h ago";e.TaskItemListDescription="Don\u0027t see what you need?";e.MoreTaskLogOptionsEllipsesButtonAriaLabel="More task log options";e.TaskLogExpandedViewCloseButtonAriaLabel="Close expanded view";e.Errors="{0} errors";e.MetataskControlOptionsTooltipText="Setting the control option as \u0027false\u0027 in the task group will override the control option value in the sub tasks. Else, it honors the value set in sub tasks. \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=761053\" target=\"_blank\" rel=\"noopener noreferrer\" tabindex=\"0\" aria-label=\"Read more about task groups\" \u003eRead more\u003c/a\u003e.";e.VerifyServiceEndpointFailureSuggestion="Note: Verification may fail if the URL is not accessible from {0}. However, it might still be valid and accessible from the agent that executes Build/Release.";e.ConditionSelector_SucceededOrFailedInRelease="Even if a previous task has failed, unless the deployment was canceled";e.AuthorizedUsingOAuthFormat="Authorized as user \u0027{0}\u0027";e.ErrorSavingEndpointPolicyDuringCreation="Service connection was created successfully, but there was an error in loading policy.\\n";e.RunOnServerPhaseHeaderTooltip="Group of tasks that will run on server";e.IssuesButtonAriaLabel="View job issues";e.ServiceConnectionCreatePanelTitle="New service connection";e.Task_ErrorMessageForAzureEndpoint="Selected Azure service connection in the current task has been updated to service connection type \u0027Azure\u0027 under \u0027Services\u0027 tab. Update Azure connection type field for the current task with value \u0027Azure Classic\u0027.";e.PhaseRunOnServerTitle="Run on server";e.PredefinedVariables="Predefined variables";e.ARIADescriptionAddPhaseEllipsisButton="Show add phase contextual menu";e.JobInProgressStatus="In progress";e.RefreshAgentQueueDescription="Refresh the agent pool";e.QueuedStatusLabel="Queued";e.Task_TestCategoryText="Test";e.PhaseExecutionPlanHeader="Execution plan";e.EnterValidServerUrl="Enter a valid, absolute server URL";e.SelectRepositoryTitle="Select a repository";e.AuthorizationInprogressInfoMessage="Configuring the Azure service connection...";e.VariableGroupHeaderExpandedAriaLabel="Collapse variable group";e.Warnings="{0} warnings";e.AddTaskToPhase="Add a task to {0}";e.SettableAtQueueTimeTitleText="Variable \u0027{0}\u0027 settable at queue time.";e.FlatViewTextInputCellDescription="Press enter or spacebar to edit this cell.";e.EmptyText="Empty";e.LinkSettings="Link settings";e.BranchFilterAriaLabel="Branch filter";e.EqualSymbol=" = ";e.AuthorizedUsingPAT="Authorized using personal access token";e.NoDaySelectedError="You must select at least one day.";e.ScopeText="Scope";e.ARIALabelScheduledTriggerTimeMinute="Trigger time - minutes";e.ManageInputDescription="Manage {0}. Page will open in new tab.";e.PoolMetadataSettingsLink="Provide custom pool information using agent pool settings.";e.Friday="Fri";e.PhaseConditionCustomConditionText="Custom condition using variable expressions";e.PhaseConditionCustomConditionHelp="Specifies an expression that controls when this job should run. [More information](https://go.microsoft.com/fwlink/?linkid=851344)";e.EnabledLabel="Enabled";e.CollapsibleLearnMoreLinkDescription="Learn more about Release approvals and gates";e.VariableGroupDeletedMessage="This variable group no longer exists. Remove the entry from the pipeline.";e.NoResultsFoundText="No results found.";e.Tuesday="Tue";e.LogsComponentContentRegionAriaLabel="Task log content region";e.GenerateLinkText="generate";e.DeletePhaseDialogText="You are about to delete the \u0027{0}\u0027 job and all its settings. This action cannot be reversed.";e.BranchFilterForBuildPlaceholder="Select a branch or use a variable";e.DisplayNameText="Display name";e.Task_PreviewMajorVersionSpecFormat="{0} (preview)";e.PhaseSelectDependenciesLabel="Select dependencies";e.VariablesGridViewLabel="Grid";e.Delete="Delete";e.Deploy="Deploy";e.PhaseSummaryQueueTimeText="Queue time: {0}";e.LinkedVariableGroupsText="Variable groups";e.TimeoutTitle="Timeout";e.LinkVGPanelCloseButtonAriaLabel="Close variable groups panel";e.Authorizing="Authorizing";e.VariablesNeedAttention="Some variables need attention";e.Task_AddServiceEndpointTitle="Add";e.Utility="Utility";e.AgentAcquisitionDialogTitle="Get agent";e.TaskAdded="Task added";e.Monday="Mon";e.EnvironmentVariableNameEmptyErrorTooltip="Environment variable name is required";e.Manage="Manage";e.MoreInformationTooltipText="More Information";e.TasksEnabled="Tasks enabled";e.YearsAgoCompactFormat="{0}y ago";e.ChangeTypeText="Change Type";e.ARIALabelMaxTargetsInParallel="Maximum number of targets in parallel";e.EmptyFolderMessage="No items in this folder.";e.ARIALabelEnvironmentVariablesTable="Environment variables table";e.Browse="Browse";e.AgentQueuesText="Agent pools";e.Thursday="Thu";e.ByText="by";e.CyclicDependencyErrorMessageNodeSeparator=", ";e.AgentAcquisitionPlatformWindows="Windows";e.JobsAheadText="jobs are ahead of this one";e.IntegerInRangeErrorMessage="You must specify an integer from {0} to {1}.";e.Cancel="Cancel";e.SearchInputDescription="Search {0} on server";e.ProcessParameterGroupLabel="Parameters";e.ARIALabelDemandsTable="Demands table";e.ARIALabelVariablesRightPane="Variables Tab - Right details pane";e.UseBasicDescription="Create a new service connection authenticated with a username and password";e.Create="Create";e.Custom="Custom";e.InstallCountText="{0} installs";e.EndpointCreationOperationFailed="Service connection creation operation failed";e.NameLabel="Name";e.AdvancedOptionText="Advanced";e.WaitingForRunningJobsToFinish="Waiting for the currently running jobs to finish";e.ParallelismTitle="Parallelism";e.AgentAcquisitionDownloadAgentTitle="Download the agent";e.ProjectCollection="Project collection";e.ControlOptionsText="Control Options";e.PositiveValidCancelTimeoutErrorMessage="You must specify an integer from {0} to 60 for job cancellation timeout.";e.InvalidRefNameInput="A valid reference name can only contain \u0027a-z\u0027, \u0027A-Z\u0027, \u00270-9\u0027 and \u0027_\u0027.";e.DisabledLabel="Disabled";e.ForYearsSingularFormat="{0} year";e.ConnectionStatusVerifying="Verifying...";e.SelectTimezoneDescription="Select the time zone for the schedule";e.DeleteVariableTitleText="Delete variable \u0027{0}\u0027";e.PositiveValidNumberErrorMessage="You must specify an integer from 0 to 1000000000.";e.TaskLogStepOverviewErrorLogsDescription="This task has error logs summary associated with it.";e.Tasks_MenuEnableText="Enable selected task(s)";e.RunOnMachineGroupPhaseName="Run on machine group";e.AboutToStart="about to start";e.ConditionSelectorCustomConditionTooltip="Specifies an expression that controls when this task should run. [More information about custom conditions](https://go.microsoft.com/fwlink/?linkid=842996)";e.Task_ToolCategoryText="Tool";e.AddInputDescription="Add {0}";e.RequiredInputErrorMessage="This setting is required.";e.VariableScopeLabel="Scope of {0}";e.CommandBarEllipsesAriaLabel="More options";e.AgentAcquisitionRunAsSystemDServiceText="To run as a SystemD service see \u003ca target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://go.microsoft.com/fwlink/?LinkID=821557\"\u003ehere\u003c/a\u003e";e.ARIADescriptionTaskGroupDialogCreateDescription="Create a task group";e.ConfigAsCodeText="Configuration as code";e.DeleteTemplateConfirmMessage="Are you sure you want to permanently delete the \u0027{0}\u0027 template?";e.FetchingAgentInformationText="Fetching agent information";e.QueuePositionLabel="Position";e.DeleteText="Delete";e.Task_PackageCategoryText="Package";e.UsePAT="Authorize with a GitHub personal access token";e.DurationFormatSeconds="{0} seconds";e.Update="Update";e.EditDefinitionNamePlaceHolder="Enter pipeline name";e.HourSuffix="h";e.InProgressTaskLogStepOverviewAriaLabel="{0}, {1}, running for {2}";e.ViewQueueDescription="Click to view the agent pool.";e.OptionsLeftPaneARIALabel="Options left pane";e.Undelete="Undelete";e.FolderPickerRowLabel="Folder picker row";e.SettableAtQueueTimeText="Settable at queue time";e.UseAutoSpnUpdateWindowFooter="To renew the Service Principal Key automatically click";e.TaskDeletedMessage="This task is no longer installed. Re-install the task or remove it from your pipeline. This usually means the task was never installed or was disabled by policy. You can check here if built-in tasks were disabled: \"Organization (Collection) settings\" \u003e \"Pipelines settings\" \u003e \"Task restrictions\" \u003e \"Disable built-in tasks\" (it should be turned off if you want to use built-in tasks)";e.ConcurrencyLimitsLearnMore="Not expecting to see this here? We have recently enabled parallel job limits. [Learn more](https://aka.ms/concurrency-limits)";e.RunOnAgentPhaseHeaderTooltip="Group of tasks that will run on an agent";e.DGARIADescriptionRequiredTags="Deploy to subset of targets in the deployment group using tags. For example – Web, DB etc.";e.Task_HelpMessageForTaskCategory="Categorizes the task according to the selected option.";e.DraftText="Draft";e.Task_MiscCategoryText="Miscellaneous";e.Skipped="skipped";e.RequiredTagsLabel="Required tags";e.TaskGroupViewYamlError="Task group has not been exported, task groups are not supported yet";e.PhaseAdditionalOptionsHeader="Additional options";e.HelpShortKey="Help";e.ARIALabelTaskGroupConfigurationParameterValue="{0} value";e.InfoCalloutAriaLabel="More information about {0}";e.AzureManagementGroupDisplayName="{0} ({1})";e.GetText="Get";e.ARIALabelVariablesLeftPane="Variables Tab - Left pane";e.Hidden="Hidden";e.WaitingForAvailableAgent="Waiting for an available agent";e.UpdateAutoSpnFooter="Azure Service Principal key will be renewed for this service connection.\u003cbr/\u003e\u003cbr/\u003eTo update using an existing Service Principal click";e.ARIALabelDismissErrorMessage="Dismiss error message";e.Tasks_MenuManageMetaTask="Manage task group";e.ParallelismNoneOptionText="None";e.DeploymentGroupHelpMarkdown="A deployment group job executes the tasks that are defined in the job on some or all of the targets in the deployment group.\u003cbr/\u003e\u003cbr/\u003eDeployment groups make it easy to define groups of target servers for deployment. A deployment group is a logical set of deployment targets that each have an agent installed. [Learn more...](https://go.microsoft.com/fwlink/?linkid=856339)";e.NoSearchResultsFoundText="No results found for ";e.SearchInputText="Search button for searching build pipelines";e.PrivateAgentsBusyText="All eligible agents are busy";e.PhaseConditionAlwaysText="Even if a previous job has failed";e.MoreDetails="More details";e.DeploymentJobCancelTimeoutDescription="Specifies the maximum waiting time for a deployment job to respond to a cancellation request before being terminated by the server. A zero value will cause the timeout for the parent pipeline to be used.";e.ForConjunctionInFriendlyDate="for";e.RepositoryPickerAriaLabel="Repository Picker";e.VariableGroupUnaccessibleMessage="You do not have permissions to view this variable group";e.TimeoutDescription="Specifies the maximum time, in minutes, a deployment is allowed to execute on an agent before being canceled by the server. \u003cbr\u003eDuration is measured after the pre-approval is completed and before the post-approval is requested. \u003cbr\u003eA zero value will cause the timeout for the parent pipeline to be used.";e.PhaseRunOnMachineGroupDeploymentTitle="Run on deployment group";e.SearchTaskAriaLabel="Search task";e.ComboBoxInvalidErrorMessage="Invalid Value";e.AgentlessPhaseTitle="Agentless job";e.ChangeVariableTypeToSecret="Change variable type to secret";e.OpenLinkVariableGroupPanelButton="Link variable group";e.PhaseSummaryStartTimeText="Started: {0}";e.RealmName="Realm name";e.BreadcrumbOverflowAriaLabel="More folders";e.PlainVariable="Plain variable";e.PhaseSelectDependenciesLabelFormat="Select job dependencies, {0}";e.DaysAgoFormat="{0} days ago";e.AgentRequestQueued="Queueing the job";e.SourcesConnectionNameFormat="{0} connection {1}";e.AuthRequiredMessage="We need your authorization to access your repositories";e.MaxAgentsTitle="Maximum number of agents";e.DeleteTemplateConfirmHeader="Delete template";e.ARIADescriptionRequiredTags="Machines matching the specified tags will be targeted for deployment. Example – Web, DB etc.";e.FailedToFindEndpointUIContribution="Failed to find service connection UI contribution {0}";e.Task_TaskRenameTooltip="Rename";e.VariablesNeedAttentionSingleScope="Errors in \u0027{0}\u0027 variables";e.SystemPrerequisites="System prerequisites";e.NoMatchingRepositoriesFoundText="No matching repositories found";e.AgentAcquisitionConfigureAccountHtml="Configure your account by following the steps outlined \u003ca target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://aka.ms/vstsagentroles\"\u003ehere\u003c/a\u003e.";e.EnableAccessTokenLabel="Allow scripts to access the OAuth token";e.Tasks_MenuRemoveTasks="Remove selected task(s)";e.VariableGroupNoResult="No variable groups found.";e.MarkdownExternalLinkTooltip="External link";e.Sunday="Sun";e.CopyToClipboard="Copy to clipboard";e.Parameters="Parameters";e.ShareButtonText="Share";e.LogComponentFollowTailToggleLabel="Follow tail";e.ProjectLabel="Project";e.VariableNameDuplicateMessage="Variable \u0027{0}\u0027 is already defined for \u0027{1}\u0027 scope";e.ReferenceNameText="Reference name";e.ShowFoldersDropDownDescription="Show folders drop-down";e.EmptyVariableRowAriaLabel="Empty variable";e.LearnMoreVariableGroupsLinkText="Learn more about variable groups";e.AzureServicePrincipalIdText="Service Principal Client ID";e.HoursAgoSingularFormat="{0} hour ago";e.CompareDifference="Compare Difference";e.InvalidVariableOrNonPositiveNumber="Specified value is not valid. You must specify an integer from 0 to 1000000000 or a variable, ex:- $(testvariable).";e.PhaseRunOnAgentDeploymentTitle="Run on agent";e.DeletePhaseDialogTitle="Delete the job";e.DemandLabel="Demand";e.EmptyDemandRowAriaLabel="Empty demand";e.ConditionSelector_CustomCondition="Custom conditions";e.SaveButtonText="Save";e.ViewYamlTitle="View YAML has moved";e.DeleteEmptyEnvironmentVariableTooltip="Delete environment variable";e.TodayFormat="today at {0}";e.Subscription="Subscription";e.Task_VersionSelectorHelp="A new version of the task is available.";e.InputFieldAlertDefinition="Input field {0}";e.MoreInformation="More Information";e.DisplayNameLabel="Display name";e.AddRunOnAgentTasksText="Add an agent job";e.SliderCurrentValueImpliesText="{0}{1} implies {2} {3}";e.LinkedParameterIconAriaLabel="Linked parameter";e.PivotError="{0} in error";e.TaskLearnMoreText="Learn more";e.Project="Current project";e.SelectedOptionInvalidMessage="This setting is invalid. Select a valid option from the dropdown.";e.ARMEndpointScopeResource="Scoped to resource \u0027{0}\u0027 in resource group \u0027{1}\u0027";e.Task_BuildCategoryText="Build";e.ApplyTemplateButtonText="Apply";e.PlanGroupsInProgressText="In progress";e.TaskItemListTitle="Add tasks";e.FetchingExtensionsText="Fetching Extensions";e.MinutesAgoCompactFormat="{0}m ago";e.AddDemandDescription="Add new demand";e.AgentAcquisitionPlatformUbuntuVersion="Ubuntu {0}";e.SvnServerUrlHelpText="If you use this authentication credential as a main Subversion repository service connection, you should specify the full repository URL,\r\ne.g. \u003ccode\u003e`https://svnserver/repo`\u003c/code\u003e or \u003ccode\u003e`svn://svnserver:3690/repositories/myrepo`\u003c/code\u003e.\r\nThe `Realm name` parameter is optional in this case.\r\n\u003cbr\u003e\u003cbr\u003e\r\nIf you use this authentication credential as an additional service connection for Subversion externals, you may specify the schema, hostname, and port only,\r\ne.g. \u003ccode\u003e`https://svnserver:443`\u003c/code\u003e or \u003ccode\u003e`svn://svnserver:3690`\u003c/code\u003e.\r\nThe `Realm name` parameter is required in this case.";e.Task_TaskEnabledText="Enabled";e.UndefinedVariableYamlComment="Your build pipeline references an undefined variable named ‘{0}’. Create or edit the build pipeline for this YAML file, define the variable on the Variables tab. See https://go.microsoft.com/fwlink/?linkid=865972";e.RunOnServerDescriptionText="A job is a logical grouping of tasks that defines the runtime target on which the tasks will execute. An agentless job executes tasks on the server without requiring an agent.";e.RepositorySelectorSearchFailed="Repositories cannot be searched either because the resources do not exist or you do not have permission to view them.";e.ARIALabelPlangroupsQueueDialogLeftPane="{0} - Left pane";e.AddRunOnServerTasksText="Add a server job";e.DisabledText="Disabled";e.MoreInformationText="More information";e.VariableNameRequiredMessage="Variable name is required";e.DaysSummaryText="{0} and {1}";e.EditorExtensionButtonAriaLabel="Edit {0}";e.Confirm="Confirm";e.ForYearsCompactFormat="{0}y";e.Task_UtilityCategoryText="Utility";e.ConditionSelector_RunAlwaysInBuild="Even if a previous task has failed, even if the build was canceled";e.ParallelismMultiConfigurationOptionText="Multi-configuration";e.Tasks_MetaTaskDescTooltip="Help-text for task group inputs (optional).";e.ViewAsYamlDescription="Click to view YAML snippet for this task";e.WizardPrevious="Previous";e.SubscriptionNameInvalid="Enter a valid subscription name";e.CreateAndLinkVariableDialogTitle="Link settings";e.CopyTaskDisplayNameFormat="{0} copy";e.TasksDisabled="Tasks disabled";e.TaskExtensionDisabledMessage="This task\u0027s extension \"{0}\" has been disabled.";e.SelectTitle="Select";e.AgentName="Agent: {0}";e.SelectVersionDescription="Select the version of task to apply.";e.VariableGroupDescriptionText="Description";e.UnlinkAllText="Unlink all";e.QueueDropdownEmptyMessage="There are no authorized queues to pick from";e.ProcessParameterGroupParamsMoreInfoMarkdown="[Learn more](https://aka.ms/process-params)";e.OptionsRightPaneARIALabel="Options right pane";e.Pending="pending";e.SvnAcceptUntrustedCertsHelpText="Allows the SVN client to accept self-signed SSL server certificates without installing them into the DevOps service role and/or Build Agent computers. \u003cbr\u003e\u003cbr\u003e Same as the `--trust-server-cert` option of the `svn` command line utility.";e.ARIALabelScheduledTriggerTimeZone="Trigger time zone";e.JobSkippedStatus="Skipped";e.SearchLabel="Search";e.TaskInputLinkShortKey="Link task parameter";e.PastedContentClippedText="This input does not support more than {0} characters. The pasted content has been clipped.";e.PoolOwnerLabel="Pool owner:";e.MultipliersTitle="Multipliers";e.FetchingTasksText="Fetching Tasks";e.DurationFormatMinutes="{0} minutes";e.ShiftTaskOrPhaseUpShortKey="Move task or job up";e.AllAgentsDisabled="All eligible agents are disabled";e.RequestedText="Requested";e.TaskLogViewLimitExceededMessage="The log is too big to be displayed in the browser. You can download the log and view it offline.";e.DemandNameEmptyErrorTooltip="Demand name is required";e.ARIADescriptionMaxTargetsInParallel="Provide % of deployment machines that can be deployed in parallel against the total deployment machines that matches provided tags in this deployment group.";e.ConnectionStatusNotVerified="Not verified";e.AgentSpecificationRequired="Selecting an agent specification is required";e.MinutesAgoPluralFormat="{0} minutes ago";e.VariableErrorMessageColumnHeader="Variable error message";e.SevenDaysFormat="{0} at {1}";e.DefaultValueText="Default value";e.ARMEndpointScope="Scoped to {0}";e.Wednesday="Wed";e.AzureRMInputComponentNote="Note: To configure new a service connection, select the Azure subscription from the list and click \u0027Authorize\u0027. \u003cbr /\u003e\r\nIf your subscription is not listed or if you want to use an existing service principal, you can setup an Azure service connection using the \u0027Add\u0027 or \u0027Manage\u0027 button. \u003cbr /\u003e\r\nManaged Service Identity service connection scope is limited to access granted to the Azure virtual machine running the agent. Ensure that the VM has access to specified resources. \u003cbr /\u003e\r\nService connection scoped at Management Group level are visible only in Azure PowerShell task.";e.Package="Package";e.TaskGroup_InPreviewToolTip="These options are in preview";e.VariableExpressionLabel="Variable expression";e.PasswordLabel="Password";e.Task_AzureConnectionManageTitle="Manage";e.YamlTemplateDescription="Looking for a better experience to configure your pipelines using YAML files? Try the new YAML pipeline creation experience. \u003ca href=\"https://aka.ms/build-designers\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eLearn more\u003c/a\u003e";e.RunOnServerPhaseName="Run on server";e.PhaseConditionOnSucceededText="Only when all previous jobs have succeeded";e.DeleteDemandTooltip="Delete demand \u0027{0}\u0027";e.ConjunctionWithFriendlyDateFormat="{0} {1}";e.AgentAcquisitionPlatformOsx="macOS";e.ShowBranchesAriaLabel="Show branches";e.TaskInputLinkToProcessParameterCalloutText="This setting is linked to the \u0027{0}\u0027 ({1}) pipeline parameter.";e.ExpandText="Expand";e.TargetsToDeployText="Targets to deploy to in parallel";e.ARIALabelDismissWarningMessage="Dismiss warning message";e.TaskCallFailedDisplayErrorMessage="Unable to refresh the list of tasks. This may be due to some network issue. Please check your connection and refresh the list again.";e.SkipDownloadArtifactHelpText="Skip downloading artifacts to the agent before starting the deployment. The artifact directory will not be cleaned if this is checked.";e.ExternalGitDialogTitle="Add a generic Git service connection";e.TaskLogExpandViewButtonName="View detailed logs";e.PhaseNameLengthErrorMessage="The job name must be less than 256 characters";e.YearsAgoSingularFormat="{0} year ago";e.PhaseConditionOnFailureText="Only when a previous job has failed";e.CopyContentHelpText="Below is a clipboard-friendly view of your selection. To copy to the clipboard, either right-click and choose \u0027Copy\u0027 from the browser’s context menu or press Ctrl+C. ";e.OnlyOneManualInterventionTaskIsAllowedError="Only one manual intervention task is allowed per run on a server job.";e.DeprecatedTasksText="Deprecated tasks";e.MinutesSuffix="m";e.Tasks_MetaTaskDialogCreate="Create";e.NoRepositoryFoundText="No repository found";e.CollapseText="Collapse";e.SeedLabel="Seed";e.Task_ErrorMessageForAzureRmEndpoint="Selected Azure service connection in the current task has been updated to service connection type \u0027Azure Resource Manager\u0027 under \u0027Services\u0027 tab. Update Azure connection type field for the current task with value \u0027Azure Resource Manager\u0027.";e.CouldNotFetchEndpointTypes="Could not retrieve available service connection types";e.AddConnection="Add connection";e.ExtensionCallFailedDisplayErrorMessage="Unable to fetch the list of extensions from the marketplace. This may be due to some network issue. Please check your connection and refresh the list again.";e.LoadingAgentInfo="Loading agent information...";e.ChangeScopeText="Change scope";e.AgentSpecificationLabel="Agent Specification";e.SelectDayDescription="Select the day(s) for the schedule";e.ARIALabelScheduledTriggerTimeHours="Trigger time - hours";e.ContinuousDaysSummaryText="{0} through {1}";e.CloseButtonText="Close";e.MachinesMissingDemandLabel="Targets Missing Demand";e.ContinueOnErrorText="Continue on error";e.Task_NumTasksUpdateInProgress="{0} tasks are being updated and will be available soon.";e.ARIALabelHistoryVersionSelector="Select a version";e.ARIALabelVariablesTable="Variables table";e.ForDaysSingularFormat="{0} day";e.EnterRepositoryOrSearch="Enter repository full name i.e. \u0027organization/repository\u0027 OR click \u0027...\u0027 to search";e.AgentPhaseHelpMarkDown="[More Information](https://go.microsoft.com/fwlink/?LinkId=825235)";e.ARIALabelHistorySelectVersion="Select this version";e.DGDemandsDescription="View the list of targets that are missing capabilities required for the tasks to run. Targets with the missing capability are skipped during deployment.";e.GitRepositoryUrl="Git repository URL";e.ForHoursFormat="{0} hours";e.PlanDurationInQueueText="Duration in queue";e.SkipArtifactDownloadLabel="Skip download of artifacts";e.AzureRMAvailableServiceConnections="Available Azure service connections";e.ConditionSelector_SucceededOrFailedInBuild="Even if a previous task has failed, unless the build was canceled";e.Task_ResetText="reset";e.AzureSubscriptionIdText="Subscription ID";e.YearsAgoFormat="{0} years ago";e.Download="Download";e.TaskRemoved="Task removed";e.PlanStartedText="Started";e.Tasks_MenuCloneTasks="Clone task(s)";e.ExtensionText="extension";e.SharingItemDoesnotExists="The item you are trying to share doesn\u0027t exists.";e.ForMinutesSingluarFormat="{0} minute";e.OK="OK";e.EnableAccessTokenHelpText="Enables scripts and other processes launched by tasks to access the OAuth token through the System.AccessToken variable.";e.FolderPath="Folder path";e.JobAuthorizedToStart="This job is ready to begin";e.ContextMenuText="Context menu";e.CounterVariableSeedLabel="Seed for {0}";e.ConnectionNameInvalid="Enter a valid connection name";e.ForMinutesCompactFormat="{0}m";e.RunOnServerPhaseHelpMarkDown="[More Information](https://go.microsoft.com/fwlink/?LinkId=852587)";e.DeleteDemandColumnHeader="Delete demand";e.ConditionSelectorLabelText="Run this task";e.GetItFreeText="Get it free";e.ProcessParameterGroupParamsMoreInfoLink="https://aka.ms/process-params";e.ManageConcurrencyLimit="Manage parallel job limits";e.AgentAcquisitionMoreInfoTitle="That\u0027s it!";e.TasksRemoved="Tasks removed";e.LinkSettingsDescription="Click to link this task\u0027s settings to shared pipeline parameters.";e.DeploymentGroupDeployToMultipleMachinesOptionText="Multiple";e.CloseOverlayPanel="Close panel";e.Task_InvalidSectionName="{0}  *";e.ARIALabelHistoryAllVersionsSelector="Select all versions";e.SecretVariableYamlComment="Your build pipeline references a secret variable named ‘{0}’. Create or edit the build pipeline for this YAML file, define the variable on the Variables tab, and then select the option to make it secret. See https://go.microsoft.com/fwlink/?linkid=865972";e.PoolDetailsTitleFormat="Details for pool {0}";e.TaskLogStepTitleDescription="Click here to open the logs for this task.";e.NumberOfAgentsDescription="Specify the number of agents to be used. This is the maximum number of agents that can run in parallel. Actual numbers of agents running in parallel will depend on the number of available agents in the agent pool selected.";e.AzureSubscriptionDisplayName="{0} ({1})";e.AzureServicePrincipalKeyText="Service Principal Key";e.AgentInitializingSubText="Initializing the agent...";e.JustNow="just now";e.ShowMore="Show more";e.ScheduleTime="at {0}:{1}";e.Add="Add";e.And="and";e.New="New";e.Tasks_MenuCreateMetaTask="Create task group";e.CreateMetaTaskDescriptionWatermarkText="Enter description";e.Error="{0} error";e.MatchingTargetsResolvedAtRuntime="Matching targets to be resolved at run time for \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1} deployment group\u003c/a\u003e";e.NoProjects="No projects available.";e.SpnKeyInvalid="Enter a valid service principal key";e.Build="Build";e.Comma=",";e.MinutesAgoSingularFormat="{0} minute ago";e.ForDaysFormat="{0} days";e.Hours="Hours";e.Token="Token";e.ViewDetails="View details";e.Retry="Retry";e.Shown="Shown";e.RefreshInputDescription="Refresh {0}";e.DemandEquals="equals";e.EnvironmentVariableValueEmptyErrorTooltip="Environment variable value is required";e.DemandExists="exists";e.HelpButtonText="Help";e.ExpandViewAriaDescription="Click on the button to see the logs in expanded view";e.UseBasic="Use username and password to authorize";e.DeleteEnvironmentVariableColumnHeader="Delete environment variable";e.DefaultAgentQueue="Agent pool";e.Task_UnableToCreateTaskGroupMessage="Unable to create task group. Task {0} with runsOn value: {1}, does not match with other child tasks.";e.ProcessParameterGroupDescription="Important settings that can be shared between your pipeline’s tasks and changed in one place.";e.DeleteEmptyDemandTooltip="Delete demand";e.TaskGroup_Preview="Preview";e.OnConjunctionInFriendlyDate="on";e.ErrorWhileOpeningEditorExtension="Error finding the extension";e.ClipboardPasteLargeDataError="Clipboard data is too large to paste";e.TargetsMissingCapability="Targets missing capability";e.SortJobItemsAriaDescription="Sorted by {0}";e.TimeoutInMinutes="Timeout";e.ExternalLinkTooltipText="External Link";e.NumberOfAgentsTitle="Number of agents";e.UserName="User name";e.ARIALabelTaskGroupConfigurationParameterDescription="{0} description";e.ServerUrl="Server URL";e.ConditionSelector_Failed="Only when a previous task has failed";e.AddTask="Add Task";e.Tasks_MetaTaskParamTooltip="Variables extracted from selected tasks.";e.VariableGroupValueColumn="Value";e.VisualStudioTeamServicesProductName="Azure DevOps";e.SubversionDialogTitle="Add a Subversion repository service connection";e.VariableGroupNameText="Name";e.WhatsNewInVersionText="What\u0027s new in version {0}";e.TypeOfParallelismDescription="The manner in which the job’s tasks are parallelized. \u003cbr/\u003e \u003cbr/\u003e \u003cb\u003eNone:\u003c/b\u003e Tasks will run on a single agent.\u003cbr/\u003e\u003cbr/\u003e \u003cb\u003eMulti-configuration:\u003c/b\u003e Run the same set of tasks on multiple configurations as specified in the multipliers. Configurations will run in parallel and each configuration will use a single agent. The total number of agents used by the job will depend on the number of configurations, and can be limited by specifying the maximum number of agents. \u003cbr/\u003e \u003cbr/\u003e \u003cb\u003eMulti-agent:\u003c/b\u003e Run the same set of tasks on multiple agents using the specified number of agents. \u003cbr/\u003e\u003cbr/\u003e\u003ca href=\u0027https://go.microsoft.com/fwlink/?linkid=835763\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027\u003eMore information.\u003c/a\u003e";e.DeploymentGroupDeployToSingleMachineOptionText="One target at a time";e.UseAutoSpnCreateWindowFooter="To create a new Service Principal automatically click";e.AgentAcquisitionPlatformLinux="Linux";e.ServerJobTimeoutDescription="Specifies the maximum time in minutes, a deployment is allowed to execute on an agent before being canceled by the server. \u003cbr\u003eDuration is measured after the pre-approval is completed and before the post-approval is requested. \u003cbr\u003eA zero value indicates an infinite timeout.";e.ContinuousDaysAndTimeSummaryText="{0} through {1} at {2}:{3}";e.ChangeRefName="Any changes to the reference name will require updates to downstream tasks that uses this reference name, a valid reference name can only contain \u0027a-z\u0027, \u0027A-Z\u0027, \u00270-9\u0027 and \u0027_\u0027.";e.TaskTypeDescriptioHelpUrl="https://go.microsoft.com/fwlink/?LinkID=825235";e.InvalidAgentSpecification="Invalid agent specification";e.DurationFormatHours="{0} hours";e.VariableGroupDeleted="[Variable group deleted]";e.ApplyTemplateDescription="Apply {0} template";e.AgentAcquisitionCreateAgentTitle="Create the agent";e.MaxNumberOfAgentDescription="Limit the number of agents to be used. If more configurations are specified than the maximum number of agents, some configurations will wait until an agent completes running a previously assigned configuration.";e.NoScheduleSelected="No schedule selected...";e.PrivateText="Private";e.TaskDisabled="Task disabled";e.SpnClientIdInvalid="Enter a valid service principal client ID or name";e.VariablesGridViewAriaLabel="Variables grid view";e.AgentAcquisitionHeaderTitle="Starting your job";e.ServicePrincipalTip="Refer to \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=623000\u0026clcid=0x409\" target=\"_blank\" rel=\"noopener noreferrer\"\u003elink\u003c/a\u003e on how to create Azure Service Principal manually.";e.TaskTimeoutTooltip="Specifies the maximum time, in minutes, that a task is allowed to execute before being canceled by server.\u003cbr\u003e A zero value indicates an infinite timeout.";e.ForDaysCompactFormat="{0}d";e.AlwaysRunText="Always run";e.ChangedByText="Changed By";e.TeamFoundationServerProductName="Azure DevOps Server";e.GroupDialogboxCalloutDescription="Categorizes the task according to selected option.";e.Tasks_MetaTaskDialogParameterHeader="Name";e.NoDefinitionIdYetText="\u003c No pipeline ID yet \u003e";e.MatchingTargetsPercentage="{0}% targets";e.VariableValuePlaceHolder="value";e.SliderTargetsDisplayValue="{0}% targets ({1})";e.PlanGroupsInQueueText="In queue";e.AddDeploymentGroupPhase="Add a deployment group job";e.HostedAgentReadyForJobText="An agent is now available";e.InputsEditorExtensionLabel="Input Editor";e.QueryText="Query";e.LinkLabel="Link";e.VariableValueLabel="Value of {0}";e.GroupTaskDialogParameterText="The following parameters and values are from the configuration variables used in the underlying tasks.";e.PhaseConditionHelpText="Specifies when this job should run. Choose \"Custom conditions\" to specify more complex conditions.";e.ConditionSelectorTooltip="Specifies when this task should run. Choose \"Custom conditions\" to specify more complex conditions.";e.UsePATDescription="Create a new GitHub service connection authenticated with a GitHub personal access token";e.LearnMore="Learn more";e.AgentAcquisitionConfigureAgentTitle="Configure the agent";e.DemandsDescription="Specify which capabilities the agent must have to run this pipeline.";e.SearchableComboSearchSucessful="Search completed; select an option now.";e.ARIADescriptionDeployInParallel="Deployment configuration will determine the number of targets that can be deployed to, in parallel. The selection accounts for the percentage of targets that must remain available at any time excluding the targets that are being deployed to.  It is also used to determine the success and failure conditions during deployment.";e.AcceptUntrustedCerts="Accept untrusted SSL certificates";e.DeprecatedText="Deprecated";e.TaskGroupCreationDeniedBecauseOfProcessParams="One or more of the selected tasks have settings linked to pipeline parameters. You must unlink these before creating a task group.";e.CopyContentHelpDocsLink="\u003ca href=\u0027https://go.microsoft.com/fwlink/?linkid=852344\u0027 target=\u0027_blank\u0027\u003e{0}\u003c/a\u003e";e.AddAgentPoolPhase="Add an agent job";e.YesterdayFormat="yesterday at {0}";e.JobNotStartedStatus="Not started";e.AzureSubscriptionNameText="Subscription Name";e.HostedText="Hosted";e.MoreInformationForInputLabel="More information for {0}";e.SinceSevenDaysFormat="{0}, {1}";e.ConnectionName="Connection name";e.SettingToLink="Setting to link";e.VariablesListViewLabel="List";e.MSIResourceMissingWarning="Managed Service Identity service connection scope is limited to access granted to the Azure virtual machine running the agent. Ensure that the VM has access to specified resources.";e.DeploymentGroupNotFound="Deployment Group does not exist.";e.SpnCreationInProgress="Setting up Service Principal details for the service connection...";e.CloseMessageBarButtonText="Close message bar";e.CounterVariableValidSeedRange="Seed values must be integers greater than or equal to 0.";e.EnvironmentVariableErrorMessageColumnHeader="Environment variable error message";e.OutputGroup="Output Variables";e.DaysAgoSingularFormat="{0} day ago";e.AgentAcquisitionPlatformRedhat="Red Hat";e.DeploymentGroupPhaseTitle="Deployment group job";e.ConditionSelector_RunAlwaysInRelease="Even if a previous task has failed, even if the deployment was canceled";e.AgentAcquisitionRunAgentInteractiveOrServiceTitle="You can run the agent interactively or as a LaunchAgent service.";e.PhaseCancelledText="Job canceled.";e.ARIALabelPlangroupsQueueDialogRightPane="{0} - Right details pane";e.PhaseCancellingText="Canceling job...";e.AgentAcquisitionPlatformUbuntu="Ubuntu";e.TaskEnabled="Task enabled";e.ManageVariableGroups="Manage variable groups";e.FolderPickerLabel="Folder";e.VariablesGridDuplicateNameMessage="Duplicate values have been defined for this variable in List view for \u0027{0}\u0027 scope.";e.PreviousTaskButtonText="Previous task";e.Task_MetaTaskDialogParentParameterHeading="Parameters";e.PhaseDependenciesHeader="Dependencies";e.ForMinutesPluralFormat="{0} minutes";e.DeploymentGroupLabel="Deployment group";e.InProgress="in progress";e.ARMEndpointScopeResourceGroup="Scoped to resource group \u0027{0}\u0027";e.AgentAcquisitionRunAgentOptionallyTitle="Optionally run the agent interactively";e.SecretValueText="Secret value";e.SearchableComboSearchFailed="Search for \u0027{0}\u0027 did not yield any result, use some other text.";e.ShowFoldersDropDownLabel="Show folders";e.PlanGroupsQueueHubsNotProvidedErrorMessage="At least one hub information should be provided.";e.BrowseInputComponentDescription="Browse {0}";e.ErrorText="Error";e.ConditionSelector_AllSucceeded="Only when all previous tasks have succeeded";e.DeleteVariableTitleTextNoName="Delete variable";e.ProcessParametersMultipleSettingsLinkedFooterText="This field is linked to {0} settings.";e.ManageLinkDescription="Manage {0}.";e.CyclicDependencyErrorMessage="Cyclic dependencies is preventing the layout of the following: {0}";e.MoreErrorsMessage="{0} more errors. Click on expand view in the context menu to view complete logs.";e.ARMEndpointAdvancedOptions="Advanced options";e.ManageAgentQueueDescription="Manage the agent pool. The page will open in new tab.";e.IssueTextFormat="[{0}]{1}";e.CompletedTaskLogStepOverviewAriaLabel="{0}, {1}, ran for {2}";e.CheckoutMarketPlaceText="Check out the Marketplace.";e.DefinitionDefaultNameFormat="{0} ({1})";e.JobCancelledStatus="Canceled";e.SearchAllRepositories="Search all repositories";e.HostedAgentsBusyText="All agents are busy";e.SinceYesterdayFormat="yesterday {0}";e.NoSubscriptionFound="No subscription or service connection found.";e.PercentageSymbol="%";e.Authorize="Authorize";e.ConnectionStatusVerified="Verified";e.Task_DeployCategoryText="Deploy";e.AgentAcquisitionPlatformRedhatVersion="Red Hat {0}";e.SvnRealmNameHelpText="If you use multiple credentials in a build pipeline to download a complete set of the source from Subversion,\r\nyou should specify the `Realm name` in each of them. The `Realm name` represents a sort of \"authentication namespace\" used\r\nby the Subversion repository to select the appropriate Subversion identity database. Along with the repository server\u0027s schema, hostname, and port it forms\r\na key that the Build Agent uses to select the specific credential from the set provided in the build pipeline.  \u003cbr\u003e\u003cbr\u003e\r\nTo find out the `Realm name`, you could do any of the following:\r\n\u003cul\u003e\r\n\u003cli\u003e\r\nIf you access the repository via `HTTP` or `HTTPS`: Open the repo in a web browser without saved credentials. It will use the `Realm Name` in the authentication dialog.\r\n\u003c/li\u003e\r\n\u003cli\u003e\r\nUse the command line `svn` program. If you don\u0027t have stored the credentials, run e.g. \u003ccode\u003e`svn info https://svnserver/repo`\u003c/code\u003e.\r\nYou will see the `Realm name` when it asks you to enter a password.\r\n\u003c/li\u003e\r\n\u003cli\u003e\r\nIf you have already stored the credentials to access the repository, look for the `Realm name` in one of the files in the Subversion authentication cache section of your user profile,\r\ne.g. in \u003ccode\u003e`~/.subversion/auth/svn/simple`\u003c/code\u003e or \u003ccode\u003e`C:\\Users\\yourname\\Application Data\\Subversion\\auth\\svn.simple`\u003c/code\u003e.\r\n\u003c/li\u003e\r\n\u003c/ul\u003e";e.AddAgentlessPhase="Add an agentless job";e.SinceStartOfDateFormat="{0}";e.Minutes="Minutes";e.ProcessParameterGroupNoParamsHelp="This pipeline doesn’t have any pipeline parameters. Create them to share the most important settings between tasks and change them in one place.";e.AddCustomConnectionsDialogTitle="Add {0} service connection";e.AgentAcquisitionRunAgentTitle="Run the agent";e.CollapsibleDescriptionLearnMore="Learn more";e.EnvironmentsScopeText="Stages";e.InstalledText="Installed";e.PoolMetadataNotFound="No additional information was found for pool {0}.";e.NoVariableGroupMessage="Add variable groups to your pipeline.";e.VerifyConnection="Verify connection";e.MinutesLaterFormat="{0} minutes";e.DependentsWarningMessage="This setting is dependent on \u003cb\u003e {0} \u003c/b\u003esetting(s). Linking it to a pipeline parameter without also linking all the settings on which it depends could cause your pipeline to fail unintentionally.";e.SecretVariableValueResetMessage="Secret variable values are not copied when importing or cloning. Enter the value or delete the variable.";e.DeleteScheduleButtonAriaLabel="Delete schedule";e.Tasks_MetaTaskDialogValuesHeader="Value";e.EditText="Edit";e.ARIADescriptionTaskGroupDialogCancelDescription="Cancel task group creation";e.PhaseDeploymentTargetsHeader="Deployment targets";e.SincePendingTimeDuration="since {0}";e.EmptyProcessFormat="Or start with an {0}";e.OverrideVariableYamlComment="Your build pipeline references the ‘{0}’ variable, which you’ve selected to be settable at queue time. Create or edit the build pipeline for this YAML file, define the variable on the Variables tab, and then select the option to make it settable at queue time. See https://go.microsoft.com/fwlink/?linkid=865971";e.VariablesListViewAriaLabel="Variables list view";e.Task_NameLabel="Name";e.MenuViewAsYaml="View YAML";e.SearchableComboGuidance="This setting is required. You may select an option from dropdown or type and search.";e.VariableDeleteColumnHeader="Delete variable";e.DeleteEnvironmentVariableTooltip="Delete environment variable \u0027{0}\u0027";e.ProcessParametersSingleSettingLinkedFooterText="This field is linked to 1 setting in {0}";e.AddRunOnMachineGroupTasksText="Add a machine group job";e.GenerateLinkTooltip="Generate name from task attributes";e.Tasks_MarketPlaceText="Don\u0027t see what you need? Check out the Marketplace.";e.AddAzureResourceManagerDialogTitle="Add Azure Resource Manager Service Connection";e.HoursAgoFormat="{0} hours ago";e.QueueNameLabel="Pool:";e.VariableSecretColumnHeader="Secret variable";e.TrimmedScheduleTime="{0}:{1}";e.LinkVariableGroupPanelHeader="Link variable group";e.VariablesNeedAttentionMultipleScopes="Errors across multiple scopes";e.Saturday="Sat";e.Succeeded="succeeded";e.AllFieldsRequired="All fields are required";e.SecretVariable="Secret variable";e.NoSearchResultsFoundDescription="Check the spelling of your search term or try different keywords to expand the results of your search.";e.ARIALabelProcessEditorRightPane="Process Editor overview - right pane";e.LinkVariableGroupPanelInfoText="Use a variable group to store values that you want to make available across multiple release pipelines. You will only be able to see variable groups where you have a “user access” role. [Learn More]({0})";e.ScheduleTextFormat="Schedule {0}";e.SubversionRepositoryUrl="Subversion repository URL";e.SearchForProjectsText="Search for projects";e.AddPhaseLearnMore="Learn more about jobs";e.GetVariableValueTooltip="Get value";e.Task_AllCategoriesText="All";e.VariablesText="Variables";e.VariablesList="Variables list";e.UnlinkAllProcessParametersDialogTitle="Unlink all pipeline parameters";e.RunOnAgentPhaseName="Run on agent";e.FetchingLogLoadingComponentLabel="Fetching logs";e.InvalidRepositoryName="\u0027{0}\u0027 is not a valid repository name, click \u0027...\u0027 to search";e.EnvironmentVariableRowAriaLabel="Environment variable {0}";e.Task_CreateMetaTaskDialogTitle="Create task group";e.VariableLabel="The pipeline parameter to link to this setting";e.CounterVariableValueLabel="Value for {0}";e.Task_AddLabelText="Add";e.Refresh="Refresh";e.AzureRMAvailableAzureSubscriptions="Available Azure subscriptions";e.PoolMetadataLabel="Pool information:";e.ARIALabelHistoryEllipsisButton="More history options";e.AuthorizeUsingOAuth="Authorize using OAuth";e.SearchTemplateAriaLabel="Search template";e.ConnectionStatusFailed="Failed";e.PickListDisabledGuidanceMessageInfo="Configure the value of this setting from the Pipeline view.";e.UnLockText="Unlock";e.DemandValueEmptyErrorTooltip="Demand value is required";e.Loading="Loading...";e.ClickAuthorizeHelpTextForManagementGroup="Click Authorize to configure an Azure service connection. A new Azure service principal will be created and added to the Owner role, having access to all resources in the selected management group.";e.LogsComponentHeaderRegionAriaLabel="Task log header region";e.AddEnvironmentVariableDescription="Add new environment variable";e.AddTaskDescription="Add {0} task";e.AddTaskLinkText="Add";e.YamlTemplateName="YAML";e.TaskItemListAllText="All";e.ScopesText="Scopes: ";e.Cancelled="canceled";e.SettingsRequiredMessage="Some settings need attention";e.ServerUrlInvalid="The server URL is invalid";e.TagPickerNoTagsHeader="No Tags";e.AgentQueuesInfoMarkdown="When you queue a build, it executes on an agent from the selected pool. You can select a Microsoft-hosted pool, or a self-hosted pool that you manage.\u003cbr /\u003e\r\n[More information](https://go.microsoft.com/fwlink/?linkid=858744)";e.ClickAuthorizeHelpText="Click Authorize to configure an Azure service connection. A new Azure service principal will be created and added to the Contributor role, having access to all resources in the selected subscription. To restrict the scope of the service principal to a specific resource group, see [connect to Microsoft Azure](https://go.microsoft.com/fwlink/?linkid=2094254)";e.ParallelExecutionYamlComment="Multi-configuration and multi-agent job options are not exported to YAML. Configure these options using documentation guidance: https://docs.microsoft.com/vsts/pipelines/process/phases";e.JobPartiallySucceededStatus="Partially succeeded";e.TaskDisabledMessage="This task has been disabled for your project.";e.ARIADescriptionHistoryEllipsisButton="Show contextual menu";e.VariableRowAriaLabel="Variable \u0027{0}\u0027";e.SelectHourDescription="Select the hour for the schedule";e.DefinitionLabel="Pipeline";e.Task_AddTasksDialogTitle="Task catalog";e.TaskGroupCreatedMessagePrefix="Task group ";e.OneDayAndTimeSummaryText="{0} at {1}:{2}";e.PhaseNotStartedText="The job has not yet started.";e.EditDefinitionNameInvalidTitle="The pipeline name cannot be empty.";e.CreatingText="Creating...";e.GetExtensionAriaDescription="Get {0} extension";e.ShiftTaskUpShortKey="Move task up";e.RevertDefinition="Revert Pipeline";e.ARIALabelAddPhaseEllipsisButton="Add phase options";e.VariablesGridDuplicateNameMessageMultipleScope="Duplicate values have been defined for this variable in List view for scopes: \u0027{0}\u0027";e.NotStartedTaskLogStepOverviewAriaLabel="{0}, {1}";e.CreateTaskGroup="Create task group";e.SettableAtQueueTimeTitleTextNoName="Variable settable at queue time.";e.FoldersNameHeader="Folders / Pipelines";e.AgentAcquisitionConfigureAccountTitle="Configure your account";e.RunOnMachineGroupTasksDescription="Lets you add tasks which require a machine group";e.HostedQueue="Microsoft-hosted pool";e.AzureRMAvailableAzureManagementGroups="Available Azure management groups";e.RunOnMachineGroupPhaseHeaderTooltip="Group of tasks that will run on a machine group";e.PrivateAgentReadyForJobText="Agent {0} is available";e.ConditionSelectorCustomInputLabel="Custom condition";e.PoolInfoLabel="Pool information";e.PhaseAgentSelectionHeader="Agent selection";e.ARIALabelProcessEditorLeftPane="Process Editor overview - left pane";e.DemandErrorMessageColumnHeader="Demand error message";e.Description="Description";e.ParallelismMultiAgentsOptionText="Multi-agent";e.RunOnServerTasksDescription="Lets you add tasks which run on the server";e.SortJobItemsAriaTitle="Sort job items";e.CommentText="Comment";e.DeploymentGroupZeroMachinesWithSelectedTagsDisplayText="No matching targets in \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1} deployment group\u003c/a\u003e";e.MorePhaseSummaryOptionsEllipsesButtonAriaLabel="More job summary options";e.EmptyProcessText="Empty job";e.CounterVariablesOverviewText="Counter variables";e.TagPickerSuggestedTagsHeader="Suggested Tags";e.EmptyEnvironmentVariableRowAriaLabel="Empty environment variable";e.TaskGroupCreatedMessageSuffix=" has been created.";e.WhiteSpaceSeparator=" ";e.DeploymentGroupNumberOfMachinesWithSelectedTagsDisplayText="{2} matching targets in \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1} deployment group\u003c/a\u003e";e.DraftedTaskDefinitionFriendlyName="{0} {1}";e.UnlinkText="Unlink";e.AzureTenantId="Tenant ID";e.AgentAcquisitionConfigureAgentDetailedInstructions="Detailed instructions";e.ProcessParametersCalloutText="This field is linked to {0} setting(s) across:";e.ChoiceLabel="Or";e.FileUploadDialogTitle="Upload file";e.Tasks_MetaTaskValueTooltip="Default value for task group inputs (optional).";e.DaysAgoCompactFormat="{0}d ago";e.EmptyProcessDescription="Click to start with an empty pipeline and add your own steps.";e.RunOnAgentDescriptionText="A job is a logical grouping of tasks that defines the runtime target on which the tasks will execute. An agent job executes tasks on an agent in an agent pool.";e.VariableGroupNameColumn="Name";e.ShiftTaskOrPhaseDownShortKey="Move task or job down";e.MoreItem="+{0} more";e.TagsLabel="Tags";e.ChangedDateText="Changed Date";e.WarningText="Warning";e.TaskTypeDescriptionHelpText="Learn more \u003ca href=\u0027{0}\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027\u003ehere\u003c/a\u003e.";e.RetryCountOnTaskFailureLabel="Number of retries if task failed";e.AdvancedSettingsText="Advanced settings";e.Task_VersionSelectorLabel="Task version";e.ChangeVariableTypeToPlain="Change variable type to plain text";e.SpnUpdateInProgress="Service Principal details are being updated...";e.PhaseFailedText="Failure occurred during job execution.";e.ChangeDetailsText="Change details";e.PhaseConditionLabel="Run this job";e.PrivateQueue="Private pool";e.ViewYamlMessage="View YAML has a new home. To use the new feature, click the \u0027...\u0027 menu on the Runs page and choose \u0027Export YAML\u0027.";e.RunOnAgentTasksDescription="Lets you add tasks which require an agent";e.Task_MarketplaceCategoryText="Marketplace";e.EmptyOutputVariablesList="There are no output variables associated with this task. [Learn more about output variables](https://github.com/Microsoft/azure-pipelines-agent/blob/master/docs/preview/outputvariable.md)";e.InfoIconAriaLabel="More information";e.VariableGroupNameFormat="{0} ({1})";e.AgentAcquisitionRunInteractivelyTitle="To run interactively:";e.DeploymentMachineLinkText="\u003ca href=\"{0}\" target=\"_blank\"\u003e{1}\u003c/a\u003e";e.FollowTailDisabled="Follow tail is disabled";e.EnvironmentVariablesHeader="Environment Variables";e.CopyUrlToClipboard="Copy URL to clipboard";e.DemandsTitle="Demands";e.TaskLearnMoreDescription="Click to read more about {0} task";e.AuthorizeToCreateAzureRMEndpointHelpText="Click Authorize to configure an Azure service connection. A new Azure Service Principal will be created and assigned with the \"Contributor\" role, having access to all resources in the selected subscription.";e.PreviewText="Preview";e.TenetIdInvalid="Enter a valid tenant ID";e.Tasks_MetaTaskDialogDescriptionHeader="Description";e.DaysAndTimeSummaryText="{0} and {1} at {2}:{3}";e.EditDefinitionNameTitle="Edit pipeline name";e.VariableGroupHeaderCollapsedAriaLabel="Expand variable group";e.InheritAgentQueueFromDefinition="\u003cinherit from pipeline\u003e";e.MinutesLessThanTen="{0}{1}";e.AddVariableDescription="Add new pipeline variable";e.DemandNameSpaceErrorTooltip="Demand name cannot contain spaces";e.ForYearsFormat="{0} years";e.JobFailedStatus="Failed";e.EditVariableGroupText="Edit variable group";e.TaskLogStepOverviewLiveLogDescription="This task has live logs associated with it.";e.PasswordKey="Password / Token key";e.UrlInvalid="Enter a valid URL.";e.LockText="Lock";e.NextTaskButtonText="Next task";e.UnlinkFromProcessParameterCalloutFooterText="Unlink";e.ForHoursSingularFormat="{0} hour";e.CategoryText="Category";e.ResetCounterVariableValue="Reset Value back to Seed";e.Tasks_MetaTaskVariablesMessage="The following parameters and values are from the configuration variables used in the underlying tasks.";e.QueueLabel="Pool";e.Warning="{0} warning";e.MultipliersDescription="A list of comma separated configuration variables to use. These are defined on the \u003cem\u003eVariables\u003c/em\u003e tab.\u003cbr/\u003e\u003cbr/\u003eFor example, \u003ccode\u003eOperatingSystem, Browser\u003c/code\u003e will run the tasks for both variables.";e.Tasks_MenuDisableText="Disable selected task(s)";e.VariableGroupScopeText="Variable group scope";e.SinceConjunctionInFriendlyDate="since";e.JenkinsLicenseText="\u0026amp;quot;Jenkins\u0026amp;quot; is a registered trademark of Software in the Public Interest Inc\r\nThe Jenkins logo is licensed under the Creative Commons Attribution-ShareAlike Unported License by the Jenkins project (https://jenkins-ci.org/)";e.SelectMinuteDescription="Select the minute for the schedule";e.ErrorTruncateMessageBarText="Expand or collapse error message bar";e.MissingDemandWarning="Some targets do not meet all task demands";e.FollowTailEnabled="Follow tail is enabled";e.RunOnMachineGroupDescriptionText="A job is a logical grouping of tasks that defines the runtime target on which the tasks will execute. A deployment group job executes tasks on machines defined in a deployment group.";e.RemoveText="Remove";e.ValueLabel="Value";e.ForHoursCompactFormat="{0}h";e.Days="Days";e.Back="Back";e.Name="Name";e.View="View ";e.Test="Test";e.RequiredInputInValidMessage="This setting is invalid.";e.ShiftTaskDownShortKey="Move task down";e.DurationFormatDays="{0} days";e.UnlinkAllProcessParametersDialogSubText="Are you sure you want to unlink all pipeline parameters? This action cannot be reversed.";e.ARIALabelHistoryTab="History";e.Task_RenameTaskLabel="Rename";e.ProcessParameterGroupParamsMoreInfo="Learn more";e.AgentAcquisitionRunAgentOptionallyInfo="If you didn\u0027t run as a service above:";e.JobSucceededStatus="Succeeded";e.DemandRowAriaLabel="Demand {0}";e.ProcessVariablesText="Pipeline variables";e.DeploymentJobCancelTimeoutText="Job cancel timeout";e.NewerVersionAvailableFlagAriaLabel="Newer version available";e.ConditionLabel="Condition";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("DistributedTaskControls/Common/Types",["require","exports","DistributedTasksCommon/TFS.Tasks.Types","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls"],function(n,t,i,r){var f,u,e,o,s,h,c,l;Object.defineProperty(t,"__esModule",{value:!0});t.TemplateDefinitionCategory=t.BranchFilterType=t.DraggedOverRegion=t.ScheduleDays=t.ExtensionStatisticName=t.TaskItemType=t.ILinkToProcessParameterPayload=t.ActionForTaskInput=void 0,function(n){n[n.None=0]="None";n[n.LinkToProcessParameter=1]="LinkToProcessParameter";n[n.UnlinkFromProcessParameter=2]="UnlinkFromProcessParameter";n[n.NavigateToVariablesTab=3]="NavigateToVariablesTab"}(f=t.ActionForTaskInput||(t.ActionForTaskInput={}));u=function(){function n(){}return n}();t.ILinkToProcessParameterPayload=u,function(n){n.Task=i.DefinitionType.task;n.MetaTask=i.DefinitionType.metaTask;n.Extension=r.ExtensionText}(e=t.TaskItemType||(t.TaskItemType={})),function(n){n.Install="install";n.OnpremDownloads="onpremDownloads"}(o=t.ExtensionStatisticName||(t.ExtensionStatisticName={})),function(n){n[n.None=0]="None";n[n.Monday=1]="Monday";n[n.Tuesday=2]="Tuesday";n[n.Wednesday=4]="Wednesday";n[n.Thursday=8]="Thursday";n[n.Friday=16]="Friday";n[n.Saturday=32]="Saturday";n[n.Sunday=64]="Sunday";n[n.All=127]="All"}(s=t.ScheduleDays||(t.ScheduleDays={})),function(n){n[n.None=0]="None";n[n.Top=1]="Top";n[n.Bottom=2]="Bottom"}(h=t.DraggedOverRegion||(t.DraggedOverRegion={})),function(n){n[n.TagName=0]="TagName";n[n.BranchName=1]="BranchName"}(c=t.BranchFilterType||(t.BranchFilterType={})),function(n){n[n.Featured=0]="Featured";n[n.Others=1]="Others";n[n.Custom=2]="Custom"}(l=t.TemplateDefinitionCategory||(t.TemplateDefinitionCategory={}))});

define("DistributedTaskControls/Common/Components/Base",["require","exports","VSS/Flux/Component"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.Component=void 0;var r=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.state={},i}return __extends(t,n),t.prototype._resolveRef=function(n){var t=this;return this._resolves||(this._resolves={}),this._resolves[n]||(this._resolves[n]=function(i){return t[n]=i}),this._resolves[n]},t}(i.Component);t.Component=r});

define("DistributedTaskControls/SharedControls/ErrorComponent/ErrorComponent",["require","exports","react","DistributedTaskControls/Common/Components/Base","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/ErrorComponent/ErrorComponent"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.ErrorComponent=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=u.css(this.props.cssClass,"dtc-error","ms-font-s");return i.createElement("span",{className:"dtc-error-component-container",id:this.props.id},i.createElement("div",{"aria-live":"assertive"},i.createElement(u.DelayedRender,null,i.createElement("div",{className:n},i.createElement("i",{className:"bowtie-icon bowtie-status-error-outline left"}),this.props.errorMessage))))},t}(r.Component);t.ErrorComponent=f});

define("DistributedTaskControls/SharedControls/InputControls/Common",["require","exports"],function(n,t){var i,r;Object.defineProperty(t,"__esModule",{value:!0});t.InputValidationType=t.InputControlType=void 0,function(n){n.INPUT_TYPE_FILE_PATH="filepath";n.INPUT_TYPE_ARTIFACT_PATH="artifactpath";n.INPUT_TYPE_BOOLEAN="boolean";n.INPUT_TYPE_AZURE_CONNECTION="azureconnection";n.INPUT_TYPE_RADIO="radio";n.INPUT_TYPE_PICK_LIST="picklist";n.INPUT_TYPE_PICK_LIST_V2="picklistV2";n.INPUT_TYPE_MULTI_LINE="multiline";n.INPUT_TYPE_STRING_LIST="stringlist";n.INPUT_TYPE_STRING="string";n.INPUT_TYPE_AZURE_RESOURCE_MANAGER="azureresourcemanager";n.INPUT_TYPE_CONNECTED_SERVICE="connectedservice";n.INPUT_TYPE_COMBO_BOX="combobox";n.INPUT_TYPE_SEARCHABLE_COMBO_BOX="searchablecombobox";n.INPUT_TYPE_DEPLOYMENT_GROUP="deploymentgroup";n.INPUT_TYPE_IDENTITIES="identities";n.INPUT_TYPE_TOGGLE="toggle";n.INPUT_TYPE_DROPDOWN="dropdown";n.INPUT_TYPE_SECURE_FILE="securefile";n.INPUT_TYPE_QUERY_CONTROL="querycontrol";n.INPUT_TYPE_DURATION_CONTROL="durationcontrol";n.INPUT_CONTROL_EDITOR_EXTENSION="editorExtension";n.INPUT_TYPE_GITHUB_REPOSITORY_PICKER="gitHubRepositoryPicker"}(i=t.InputControlType||(t.InputControlType={})),function(n){n[n.Expression=0]="Expression";n[n.Input=1]="Input"}(r=t.InputValidationType||(t.InputValidationType={}))});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__rest=this&&this.__rest||function(n,t){var u={},r;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(u[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(u[i[r]]=n[i[r]]);return u};define("DistributedTaskControls/SharedControls/InputControls/Components/ValidatableTextField",["require","exports","react","OfficeFabric/TextField","OfficeFabric/Utilities"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.ValidatableTextField=void 0;var f=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._textField=null,i.state={onNotifyValidationResult:null},i}return __extends(t,n),t.prototype.render=function(){var n=this.props,u=n.onNotifyValidationResult,t=__rest(n,["onNotifyValidationResult"]);return i.createElement(r.TextField,__assign({ref:this._resolveRef("_textField"),onNotifyValidationResult:this.state.onNotifyValidationResult},t))},t.prototype.focus=function(){this._textField&&this._textField.focus()},t.prototype.componentWillReceiveProps=function(n){!this.state.onNotifyValidationResult&&n.onNotifyValidationResult&&this.setState({onNotifyValidationResult:n.onNotifyValidationResult})},t}(u.BaseComponent);t.ValidatableTextField=f});

define("DistributedTaskControls/Common/ClipboardUtils",["require","exports","VSS/Utils/String"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.ClipboardUtils=void 0;var r=function(){function n(){}return n.getPastedText=function(n){var r=i.empty,t;return n&&n.clipboardData?r=n.clipboardData.getData("text/plain"):(t=window,t.clipboardData&&t.clipboardData.getData&&(r=t.clipboardData.getData("Text"))),r},n}();t.ClipboardUtils=r});

define("DistributedTaskControls/SharedControls/InputControls/Components/ExpandableTextbox",["require","exports","react","react-dom","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Components/ValidatableTextField","DistributedTaskControls/Common/ClipboardUtils","VSS/Utils/Core","VSS/Utils/String","VSS/Controls/Dialogs","OfficeFabric/components/TextField/TextField.scss","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/ExpandableTextbox"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){Object.defineProperty(t,"__esModule",{value:!0});t.Component=void 0;var v=function(n){function t(){var i=__construct(this,n,arguments);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._onChanged=function(n){if(i._adjustHeight(n),i.props.onChanged)i.props.onChanged(n)},i._onGetErrorMessage=function(n){return i._adjustHeight(n),i.props.onGetErrorMessage?i.props.onGetErrorMessage(n):h.empty},i._windowResizeHandler=function(){i._input&&i._sizingElement&&(i._sizingElement.width(i._input.width()),i._adjustHeight(i._input.text()))},i._pasteHandler=function(n){var r=i._getPastedText(n),u;r&&(r.length>t.c_maxPasteContentSize?(u={title:f.ErrorText,buttons:[{id:"ok-button",text:f.OK}]},c.showMessageDialog(f.ClipboardPasteLargeDataError,u),n.preventDefault()):s.delay(i,0,function(){var t=i._input.text(),n=t.replace(i.c_newLinePattern," ");n!==t&&(i._adjustHeight(n),i._input.text(n),i._onChanged(n))}))},i._keydownHandler=function(n){n.keyCode===13?(n.preventDefault(),n.stopPropagation()):i._adjustHeight(i._input.text())},i._focusInHandler=function(){i._adjustHeight(i._input.text())},i._focusOutHandler=function(){i._adjustHeight(i._input.text(),!1)},i.c_newLinePattern=/(\r\n|\n|\r)/gm,i}return __extends(t,n),t.prototype.componentDidMount=function(){var i=this,u=r.findDOMNode(this),f,n;if(u){this._input=$(u).find("textarea");this._input.attr({id:this.props.id,"aria-describedby":this.props.ariaDescribedBy});this._input.css({"min-height":t.c_minHeight,"max-height":t.c_maxHeight,overflow:"hidden"});f=$(u).find("."+l.fieldGroup);f.css({"min-height":t.c_parentMinHeight});this._input.on("keydown",this._keydownHandler);this._input.on("paste",this._pasteHandler);this._input.on("focusin",this._focusInHandler);this._input.on("focusout",this._focusOutHandler)}$(window).on("resize",this._windowResizeHandler);n=this.refs[t.c_sizingElementRefName];n&&(this._sizingElement=$(n));s.delay(this,0,function(){n&&i._input&&i._sizingElement.width(i._input.width())});this._adjustHeight(this.props.value,!1)},t.prototype.componentWillUnmount=function(){this._input&&(this._input.off("keydown",this._keydownHandler),this._input.off("paste",this._pasteHandler),this._input.off("focusin",this._focusInHandler),this._input.off("focusout",this._focusOutHandler));$(window).off("resize",this._windowResizeHandler)},t.prototype.componentWillReceiveProps=function(n){n.value!==this._input.text()&&this._adjustHeight(n.value,!1)},t.prototype.render=function(){var n=this;return i.createElement("div",{className:"fabric-style-overrides"},i.createElement("div",{className:"dtc-expandable-textbox"},i.createElement("div",{className:a.css("dtc-sizing-element-container",l.root,l.rootIsMultiline)},i.createElement("div",{className:l.fieldGroup},i.createElement("div",{ref:t.c_sizingElementRefName,className:a.css("dtc-sizing-element",l.field)}))),i.createElement(e.ValidatableTextField,{borderless:this.props.borderless,ref:function(t){n.props.textFieldRef&&n.props.textFieldRef(t)},id:this.props.id,"aria-labelledby":this.props.ariaLabelledBy,"aria-required":this.props.required,value:this.props.value,multiline:!0,onChanged:this._onChanged,disabled:this.props.disabled,resizable:!1,deferredValidationTime:this.props.deferredValidationTime||t.c_defaultDeferredValidationTime,onGetErrorMessage:this._onGetErrorMessage,"aria-disabled":this.props.disabled,type:this.props.type,onBlur:this.props.onBlur,inputClassName:this.props.inputClassName,onNotifyValidationResult:this.props.onNotifyValidationResult})))},t.prototype._getPastedText=function(n){var t=n.originalEvent;return o.ClipboardUtils.getPastedText(t)},t.prototype._adjustHeight=function(n,i){var r=this;i===void 0&&(i=!0);this._sizingElement&&(i&&(n+=t.c_addendum),this._sizingElement.text(n),s.delay(this,0,function(){if(r._input){var n=r._sizingElement.height(),i=r._input.height();n!==i&&(r._input.height(Math.min(t.c_maxHeight,n)),n>t.c_maxHeight?r._input.css({overflow:"auto"}):r._input.css({overflow:"hidden"}))}}))},t.c_maxHeight=640,t.c_minHeight=30,t.c_parentMinHeight=32,t.c_sizingElementRefName="sizingElement",t.c_maxPasteContentSize=8192,t.c_defaultDeferredValidationTime=500,t.c_addendum=" an addendum to smoothen height increase",t}(u.Component);t.Component=v});

/**
 * marked - a markdown parser
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 */
(function(){var block={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:noop,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:noop,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:noop,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};block.bullet=/(?:[*+-]|\d+\.)/;block.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;block.item=replace(block.item,"gm")(/bull/g,block.bullet)();block.list=replace(block.list)(/bull/g,block.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+block.def.source+")")();block.blockquote=replace(block.blockquote)("def",block.def)();block._tag="(?!(?:"+"a|em|strong|small|s|cite|q|dfn|abbr|data|time|code"+"|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo"+"|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b";block.html=replace(block.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,block._tag)();block.paragraph=replace(block.paragraph)("hr",block.hr)("heading",block.heading)("lheading",block.lheading)("blockquote",block.blockquote)("tag","<"+block._tag)("def",block.def)();block.normal=merge({},block);block.gfm=merge({},block.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/});block.gfm.paragraph=replace(block.paragraph)("(?!","(?!"+block.gfm.fences.source.replace("\\1","\\2")+"|"+block.list.source.replace("\\1","\\3")+"|")();block.tables=merge({},block.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/});function Lexer(options){this.tokens=[];this.tokens.links={};this.options=options||marked.defaults;this.rules=block.normal;if(this.options.gfm){if(this.options.tables){this.rules=block.tables}else{this.rules=block.gfm}}}Lexer.rules=block;Lexer.lex=function(src,options){var lexer=new Lexer(options);return lexer.lex(src)};Lexer.prototype.lex=function(src){src=src.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n");return this.token(src,true)};Lexer.prototype.token=function(src,top,bq){var src=src.replace(/^ +$/gm,""),next,loose,cap,bull,b,item,space,i,l;while(src){if(cap=this.rules.newline.exec(src)){src=src.substring(cap[0].length);if(cap[0].length>1){this.tokens.push({type:"space"})}}if(cap=this.rules.code.exec(src)){src=src.substring(cap[0].length);cap=cap[0].replace(/^ {4}/gm,"");this.tokens.push({type:"code",text:!this.options.pedantic?cap.replace(/\n+$/,""):cap});continue}if(cap=this.rules.fences.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"code",lang:cap[2],text:cap[3]});continue}if(cap=this.rules.heading.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"heading",depth:cap[1].length,text:cap[2]});continue}if(top&&(cap=this.rules.nptable.exec(src))){src=src.substring(cap[0].length);item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/\n$/,"").split("\n")};for(i=0;i<item.align.length;i++){if(/^ *-+: *$/.test(item.align[i])){item.align[i]="right"}else if(/^ *:-+: *$/.test(item.align[i])){item.align[i]="center"}else if(/^ *:-+ *$/.test(item.align[i])){item.align[i]="left"}else{item.align[i]=null}}for(i=0;i<item.cells.length;i++){item.cells[i]=item.cells[i].split(/ *\| */)}this.tokens.push(item);continue}if(cap=this.rules.lheading.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"heading",depth:cap[2]==="="?1:2,text:cap[1]});continue}if(cap=this.rules.hr.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"hr"});continue}if(cap=this.rules.blockquote.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"blockquote_start"});cap=cap[0].replace(/^ *> ?/gm,"");this.token(cap,top,true);this.tokens.push({type:"blockquote_end"});continue}if(cap=this.rules.list.exec(src)){src=src.substring(cap[0].length);bull=cap[2];this.tokens.push({type:"list_start",ordered:bull.length>1});cap=cap[0].match(this.rules.item);next=false;l=cap.length;i=0;for(;i<l;i++){item=cap[i];space=item.length;item=item.replace(/^ *([*+-]|\d+\.) +/,"");if(~item.indexOf("\n ")){space-=item.length;item=!this.options.pedantic?item.replace(new RegExp("^ {1,"+space+"}","gm"),""):item.replace(/^ {1,4}/gm,"")}if(this.options.smartLists&&i!==l-1){b=block.bullet.exec(cap[i+1])[0];if(bull!==b&&!(bull.length>1&&b.length>1)){src=cap.slice(i+1).join("\n")+src;i=l-1}}loose=next||/\n\n(?!\s*$)/.test(item);if(i!==l-1){next=item.charAt(item.length-1)==="\n";if(!loose)loose=next}this.tokens.push({type:loose?"loose_item_start":"list_item_start"});this.token(item,false,bq);this.tokens.push({type:"list_item_end"})}this.tokens.push({type:"list_end"});continue}if(cap=this.rules.html.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:cap[1]==="pre"||cap[1]==="script"||cap[1]==="style",text:cap[0]});continue}if(!bq&&top&&(cap=this.rules.def.exec(src))){src=src.substring(cap[0].length);this.tokens.links[cap[1].toLowerCase()]={href:cap[2],title:cap[3]};continue}if(top&&(cap=this.rules.table.exec(src))){src=src.substring(cap[0].length);item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/(?: *\| *)?\n$/,"").split("\n")};for(i=0;i<item.align.length;i++){if(/^ *-+: *$/.test(item.align[i])){item.align[i]="right"}else if(/^ *:-+: *$/.test(item.align[i])){item.align[i]="center"}else if(/^ *:-+ *$/.test(item.align[i])){item.align[i]="left"}else{item.align[i]=null}}for(i=0;i<item.cells.length;i++){item.cells[i]=item.cells[i].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */)}this.tokens.push(item);continue}if(top&&(cap=this.rules.paragraph.exec(src))){src=src.substring(cap[0].length);this.tokens.push({type:"paragraph",text:cap[1].charAt(cap[1].length-1)==="\n"?cap[1].slice(0,-1):cap[1]});continue}if(cap=this.rules.text.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"text",text:cap[0]});continue}if(src){throw new Error("Infinite loop on byte: "+src.charCodeAt(0))}}return this.tokens};var inline={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:noop,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:noop,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};inline._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/;inline._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/;inline.link=replace(inline.link)("inside",inline._inside)("href",inline._href)();inline.reflink=replace(inline.reflink)("inside",inline._inside)();inline.normal=merge({},inline);inline.pedantic=merge({},inline.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/});inline.gfm=merge({},inline.normal,{escape:replace(inline.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:replace(inline.text)("]|","~]|")("|","|https?://|")()});inline.breaks=merge({},inline.gfm,{br:replace(inline.br)("{2,}","*")(),text:replace(inline.gfm.text)("{2,}","*")()});function InlineLexer(links,options){this.options=options||marked.defaults;this.links=links;this.rules=inline.normal;this.renderer=this.options.renderer||new Renderer;this.renderer.options=this.options;if(!this.links){throw new Error("Tokens array requires a `links` property.")}if(this.options.gfm){if(this.options.breaks){this.rules=inline.breaks}else{this.rules=inline.gfm}}else if(this.options.pedantic){this.rules=inline.pedantic}}InlineLexer.rules=inline;InlineLexer.output=function(src,links,options){var inline=new InlineLexer(links,options);return inline.output(src)};InlineLexer.prototype.output=function(src){var out="",link,text,href,cap;while(src){if(cap=this.rules.escape.exec(src)){src=src.substring(cap[0].length);out+=cap[1];continue}if(cap=this.rules.autolink.exec(src)){src=src.substring(cap[0].length);if(cap[2]==="@"){text=cap[1].charAt(6)===":"?this.mangle(cap[1].substring(7)):this.mangle(cap[1]);href=this.mangle("mailto:")+text}else{text=escape(cap[1]);href=text}out+=this.renderer.link(href,null,text);continue}if(!this.inLink&&(cap=this.rules.url.exec(src))){src=src.substring(cap[0].length);text=escape(cap[1]);href=text;out+=this.renderer.link(href,null,text);continue}if(cap=this.rules.tag.exec(src)){if(!this.inLink&&/^<a /i.test(cap[0])){this.inLink=true}else if(this.inLink&&/^<\/a>/i.test(cap[0])){this.inLink=false}src=src.substring(cap[0].length);out+=this.options.sanitize?escape(cap[0]):cap[0];continue}if(cap=this.rules.link.exec(src)){src=src.substring(cap[0].length);this.inLink=true;out+=this.outputLink(cap,{href:cap[2],title:cap[3]});this.inLink=false;continue}if((cap=this.rules.reflink.exec(src))||(cap=this.rules.nolink.exec(src))){src=src.substring(cap[0].length);link=(cap[2]||cap[1]).replace(/\s+/g," ");link=this.links[link.toLowerCase()];if(!link||!link.href){out+=cap[0].charAt(0);src=cap[0].substring(1)+src;continue}this.inLink=true;out+=this.outputLink(cap,link);this.inLink=false;continue}if(cap=this.rules.strong.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.strong(this.output(cap[2]||cap[1]));continue}if(cap=this.rules.em.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.em(this.output(cap[2]||cap[1]));continue}if(cap=this.rules.code.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.codespan(escape(cap[2],true));continue}if(cap=this.rules.br.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.br();continue}if(cap=this.rules.del.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.del(this.output(cap[1]));continue}if(cap=this.rules.text.exec(src)){src=src.substring(cap[0].length);out+=escape(this.smartypants(cap[0]));continue}if(src){throw new Error("Infinite loop on byte: "+src.charCodeAt(0))}}return out};InlineLexer.prototype.outputLink=function(cap,link){var href=escape(link.href),title=link.title?escape(link.title):null;return cap[0].charAt(0)!=="!"?this.renderer.link(href,title,this.output(cap[1])):this.renderer.image(href,title,escape(cap[1]))};InlineLexer.prototype.smartypants=function(text){if(!this.options.smartypants)return text;return text.replace(/--/g,"—").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")};InlineLexer.prototype.mangle=function(text){var out="",l=text.length,i=0,ch;for(;i<l;i++){ch=text.charCodeAt(i);if(Math.random()>.5){ch="x"+ch.toString(16)}out+="&#"+ch+";"}return out};function Renderer(options){this.options=options||{};this.badUrlRegex=/^(data|file|javascript|vbscript):/;this.exemptUrlRegex=/^data:image\/(gif|jpeg|png|webp);/;}Renderer.prototype.isSafeHref=function(href){if(!href){return true;}var hrefTest=href.trim().toLowerCase();return this.badUrlRegex.test(hrefTest)?(this.exemptUrlRegex.test(hrefTest)?true:false):true;};Renderer.prototype.code=function(code,lang,escaped){if(this.options.highlight){var out=this.options.highlight(code,lang);if(out!=null&&out!==code){escaped=true;code=out}}if(!lang){return"<pre><code>"+(escaped?code:escape(code,true))+"\n</code></pre>"}return'<pre><code class="'+this.options.langPrefix+escape(lang,true)+'">'+(escaped?code:escape(code,true))+"\n</code></pre>\n"};Renderer.prototype.blockquote=function(quote){return"<blockquote>\n"+quote+"</blockquote>\n"};Renderer.prototype.html=function(html){return html};Renderer.prototype.heading=function(text,level,raw){return"<h"+level+' id="'+this.options.headerPrefix+raw.toLowerCase().replace(/[^\w]+/g,"-")+'">'+text+"</h"+level+">\n"};Renderer.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"};Renderer.prototype.list=function(body,ordered){var type=ordered?"ol":"ul";return"<"+type+">\n"+body+"</"+type+">\n"};Renderer.prototype.listitem=function(text){return"<li>"+text+"</li>\n"};Renderer.prototype.paragraph=function(text){return"<p>"+text+"</p>\n"};Renderer.prototype.table=function(header,body){return"<table>\n"+"<thead>\n"+header+"</thead>\n"+"<tbody>\n"+body+"</tbody>\n"+"</table>\n"};Renderer.prototype.tablerow=function(content){return"<tr>\n"+content+"</tr>\n"};Renderer.prototype.tablecell=function(content,flags){var type=flags.header?"th":"td";var tag=flags.align?"<"+type+' style="text-align:'+flags.align+'">':"<"+type+">";return tag+content+"</"+type+">\n"};Renderer.prototype.strong=function(text){return"<strong>"+text+"</strong>"};Renderer.prototype.em=function(text){return"<em>"+text+"</em>"};Renderer.prototype.codespan=function(text){return"<code>"+text+"</code>"};Renderer.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"};Renderer.prototype.del=function(text){return"<del>"+text+"</del>"};Renderer.prototype.link=function(href,title,text){if(this.options.sanitize){try{var prot=decodeURIComponent(unescape(href)).replace(/[^\w:]/g,'').toLowerCase();}catch(e){return '';}if(prot.indexOf('javascript:')===0){return '';}}var out;if(this.isSafeHref(href)){out='<a href="'+href+'"';if(title){out+=' title="'+title+'"';}out+='>'+text+'</a>';}else{out=this.safeOutput(href,title,text,false);}return out;};Renderer.prototype.image=function(href,title,text){if(this.isSafeHref(href)){var out='<img src="'+href+'" alt="'+text+'"';if(title){out+=' title="'+title+'"';}out+=this.options.xhtml ? '/>' : '>';}else{out=this.safeOutput(href,title,text,true);}return out;};Renderer.prototype.safeOutput=function(href,title,text,isImage){var out='<span>';if(title){out='<span title="'+title+'">';}if(isImage){out+="!";}out+='['+text+']('+href+')</span>';return out;};function Parser(options){this.tokens=[];this.token=null;this.options=options||marked.defaults;this.options.renderer=this.options.renderer||new Renderer;this.renderer=this.options.renderer;this.renderer.options=this.options}Parser.parse=function(src,options,renderer){var parser=new Parser(options,renderer);return parser.parse(src)};Parser.prototype.parse=function(src){this.inline=new InlineLexer(src.links,this.options,this.renderer);this.tokens=src.reverse();var out="";while(this.next()){out+=this.tok()}return out};Parser.prototype.next=function(){return this.token=this.tokens.pop()};Parser.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};Parser.prototype.parseText=function(){var body=this.token.text;while(this.peek().type==="text"){body+="\n"+this.next().text}return this.inline.output(body)};Parser.prototype.tok=function(){switch(this.token.type){case"space":{return""}case"hr":{return this.renderer.hr()}case"heading":{return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text)}case"code":{return this.renderer.code(this.token.text,this.token.lang,this.token.escaped)}case"table":{var header="",body="",i,row,cell,flags,j;cell="";for(i=0;i<this.token.header.length;i++){flags={header:true,align:this.token.align[i]};cell+=this.renderer.tablecell(this.inline.output(this.token.header[i]),{header:true,align:this.token.align[i]})}header+=this.renderer.tablerow(cell);for(i=0;i<this.token.cells.length;i++){row=this.token.cells[i];cell="";for(j=0;j<row.length;j++){cell+=this.renderer.tablecell(this.inline.output(row[j]),{header:false,align:this.token.align[j]})}body+=this.renderer.tablerow(cell)}return this.renderer.table(header,body)}case"blockquote_start":{var body="";while(this.next().type!=="blockquote_end"){body+=this.tok()}return this.renderer.blockquote(body)}case"list_start":{var body="",ordered=this.token.ordered;while(this.next().type!=="list_end"){body+=this.tok()}return this.renderer.list(body,ordered)}case"list_item_start":{var body="";while(this.next().type!=="list_item_end"){body+=this.token.type==="text"?this.parseText():this.tok()}return this.renderer.listitem(body)}case"loose_item_start":{var body="";while(this.next().type!=="list_item_end"){body+=this.tok()}return this.renderer.listitem(body)}case"html":{var html=!this.token.pre&&!this.options.pedantic?this.inline.output(this.token.text):this.token.text;return this.renderer.html(html)}case"paragraph":{return this.renderer.paragraph(this.inline.output(this.token.text))}case"text":{return this.renderer.paragraph(this.parseText())}}};function escape(html,encode){return html.replace(!encode?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function unescape(html){return html.replace(/&([#\w]+);/g,function(_,n){n=n.toLowerCase();if(n==="colon")return":";if(n.charAt(0)==="#"){return n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1))}return""})}function replace(regex,opt){regex=regex.source;opt=opt||"";return function self(name,val){if(!name)return new RegExp(regex,opt);val=val.source||val;val=val.replace(/(^|[^\[])\^/g,"$1");regex=regex.replace(name,val);return self}}function noop(){}noop.exec=noop;function merge(obj){var i=1,target,key;for(;i<arguments.length;i++){target=arguments[i];for(key in target){if(Object.prototype.hasOwnProperty.call(target,key)){obj[key]=target[key]}}}return obj}function marked(src,opt,callback){if(callback||typeof opt==="function"){if(!callback){callback=opt;opt=null}opt=merge({},marked.defaults,opt||{});var highlight=opt.highlight,tokens,pending,i=0;try{tokens=Lexer.lex(src,opt)}catch(e){return callback(e)}pending=tokens.length;var done=function(err){if(err){opt.highlight=highlight;return callback(err)}var out;try{out=Parser.parse(tokens,opt)}catch(e){err=e}opt.highlight=highlight;return err?callback(err):callback(null,out)};if(!highlight||highlight.length<3){return done()}delete opt.highlight;if(!pending)return done();for(;i<tokens.length;i++){(function(token){if(token.type!=="code"){return--pending||done()}return highlight(token.text,token.lang,function(err,code){if(err)return done(err);if(code==null||code===token.text){return--pending||done()}token.text=code;token.escaped=true;--pending||done()})})(tokens[i])}return}try{if(opt)opt=merge({},marked.defaults,opt);return Parser.parse(Lexer.lex(src,opt),opt)}catch(e){e.message+="\nPlease report this to https://github.com/chjj/marked.";if((opt||marked.defaults).silent){return"<p>An error occured:</p><pre>"+escape(e.message+"",true)+"</pre>"}throw e}}marked.options=marked.setOptions=function(opt){merge(marked.defaults,opt);return marked};marked.defaults={gfm:true,tables:true,breaks:false,pedantic:false,sanitize:false,smartLists:false,silent:false,highlight:null,langPrefix:"lang-",smartypants:false,headerPrefix:"",renderer:new Renderer,xhtml:false};marked.Parser=Parser;marked.parser=Parser.parse;marked.Renderer=Renderer;marked.Lexer=Lexer;marked.lexer=Lexer.lex;marked.InlineLexer=InlineLexer;marked.inlineLexer=InlineLexer.output;marked.parse=marked;if(typeof module!=="undefined"&&typeof exports==="object"){module.exports=marked}else if(typeof define==="function"&&define.amd){define("DistributedTaskControls/Common/3rdParty/marked",function(){return marked})}else{this.marked=marked}}).call(function(){return this||(typeof window!=="undefined"?window:global)}());

// Copyright (C) Microsoft Corporation. All rights reserved.
define("DistributedTaskControls/Common/3rdParty/marked-tfs-extensions",["require","exports","VSS/VSS","DistributedTaskControls/Common/3rdParty/marked","VSS/Utils/Url","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls"],function(n,t,i,r,u,f){function o(n){var t=e.getWindow(),i=new u.Uri(n),r=i.host?i.host:t.location.hostname;return r!==t.location.hostname}Object.defineProperty(t,"__esModule",{value:!0});t.Helper=void 0,function(){var t=r.Renderer.prototype.link,n;r.Renderer.prototype.link=function(n,i,r){var h=t.call(this,n,i,r),u=$(h),c="",e,s,l;return u.length===1&&u.is("a")?(e=u.attr("href"),u.attr("data-original-href",e),this.options.transformLink&&(e=this.options.transformLink(e),u.attr("href",e)),o(e)&&(u.attr("target","_blank"),u.attr("rel","noopener noreferrer"),this.options.hideExternalImageIcon||(s=$("<span class='bowtie-icon bowtie-navigate-external'><\/span>"),l=f.MarkdownExternalLinkTooltip,s.attr("title",l),c=s[0].outerHTML)),u[0].outerHTML+c):h};n=r.Renderer.prototype.image;r.Renderer.prototype.image=function(t,i,r){var e=n.call(this,t,i,r),u=$(e),f;return u.length===1&&u.is("img")?(this.options.transformImage&&(f=u.attr("src"),f=this.options.transformImage(f),u.attr("src",f)),u[0].outerHTML):e}}();var e;(function(n){function t(){return window}n.getWindow=t})(e=t.Helper||(t.Helper={}));i.tfsModuleLoaded("marked-tfs-extensions",t)});

define("DistributedTaskControls/Components/MarkdownRenderer",["require","exports","react","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","ContentRendering/Markdown","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/3rdParty/marked","DistributedTaskControls/Common/3rdParty/marked-tfs-extensions","OfficeFabric/Utilities","VSS/Common/Constants/Platform","VSS/Utils/Url","VSS/FeatureAvailability/Services","VSS/Utils/Html","VSS/LWP","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/MarkdownRenderer"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});t.Component=void 0;var p=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.componentWillMount=function(){this._setState(this.props);o.Helper.getWindow()},t.prototype.componentWillReceiveProps=function(n){this._setState(n)},t.prototype.componentDidMount=function(){this._addRelAttrToExternalLinks()},t.prototype.componentDidUpdate=function(){this._addRelAttrToExternalLinks()},t.prototype.render=function(){var n={__html:this.state.resolvedMarkdown?a.HtmlNormalizer.normalizeStripAttributes(this.state.resolvedMarkdown,null,["target"]):this.state.resolvedMarkdown};return i.createElement("div",{"aria-label":this.props.ariaLabel?y.localeFormat(r.InputFieldAlertDefinition,this.props.ariaLabel):null,ref:this._resolveRef("_markdownContainer"),className:s.css("dtc-markdown-renderer",this.props.cssClass),dangerouslySetInnerHTML:n})},t.marked=function(n){var t=y.empty,i;return n&&(i=e(n),t="<div>\n                                ".concat(i,"\n                            <\/div>")),t},t.prototype._setState=function(n){if(l.FeatureAvailabilityService.isFeatureEnabled(h.WebPlatformFeatureFlags.MarkdownRendering)){var i=n.markdownRendererOptions?n.markdownRendererOptions:{breaks:!0,html:!0};this._renderer||(this._renderer=new u.MarkdownRenderer(i));this.setState({resolvedMarkdown:this._renderer.renderHtml(n.markdown)})}else this.setState({resolvedMarkdown:t.marked(n.markdown)})},t.prototype._getDefaultMarkdownRendererOptions=function(){return{breaks:!0,html:!0}},t.prototype._addRelAttrToExternalLinks=function(){var n=this._markdownContainer.getElementsByTagName("a"),t,i,r;if(n&&n.length>0)for(t=0;t<n.length;t++)i=n[t].target,r=n[t].href,!i&&c.isExternalUrl(r)&&(n[t].target="_blank",n[t].rel="noopener noreferrer"),i&&y.ignoreCaseComparer(i,"_blank")===0&&(n[t].rel="noopener noreferrer")},t.componentType="dtMarkdownRenderer",t}(f.Component);t.Component=p;v.registerLWPComponent(p.componentType,p)});

define("DistributedTaskControls/Common/UrlUtilities",["require","exports","DistributedTaskControls/Common/AppContext","VSS/Events/Action","VSS/LWP","VSS/Utils/Url","VSS/Diag"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.UrlUtilities=void 0;var o=u.getLWPModule("VSS/Platform/FPS"),s=function(){function n(){}return n.openInNewWindow=function(n,t){this._performAction(r.CommonActions.ACTION_WINDOW_OPEN,n,t)},n.navigateTo=function(n,t,u){var f=i.AppContext.instance().PageContext;if(f&&n)o.onClickFPS(f,n,!0,u);else this._performAction(r.CommonActions.ACTION_WINDOW_NAVIGATE,n,t)},n.isRelativeUrl=function(n){if(!n||!n.trim())return!0;var t=n.indexOf(":");return t<0},n._performAction=function(n,t,i){if(t!==null&&t!==undefined){var u=i&&this.isRelativeUrl(t);u||f.isSafeProtocol(t)?r.getService().performAction(n,{url:t}):e.logError("UrlUtilities:performAction: Unsafe url detected.")}else e.logError("UrlUtilities:performAction: URL cannot be null or underfined.")},n}();t.UrlUtilities=s});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)};define("DistributedTaskControls/Components/SafeLink",["require","exports","react","OfficeFabric/Link","VSS/Utils/Url","VSS/Flux/Component","VSS/Utils/String","VSS/Diag","VSS/Utils/UI","DistributedTaskControls/Common/UrlUtilities"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});t.SafeLink=void 0;var c=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onKeyDown=function(n){if(!t.props.disabled&&(n.keyCode===s.KeyCode.ENTER||n.keyCode===s.KeyCode.SPACE)&&t.props.onKeyDown)t.props.onKeyDown(n)},t}return __extends(t,n),t.prototype.render=function(){var t=this.props.allowRelative&&h.UrlUtilities.isRelativeUrl(this.props.href),n;return!this.props.href||t||u.isSafeProtocol(this.props.href)?(n=e.empty,this.props.target&&e.ignoreCaseComparer(this.props.target,"_blank")===0&&(n="noopener noreferrer"),i.createElement(r.Link,__assign({href:this.props.href,disabled:this.props.disabled,"aria-disabled":this.props.disabled,target:this.props.target,className:this.props.className,rel:n,onClick:this.props.onClick,onKeyDown:this._onKeyDown,tabIndex:this.props.tabIndex||0},this.props.ariaProps),this.props.children)):(o.logError("SafeLink:render: Invalid href detected: "+this.props.href),null)},t}(f.Component);t.SafeLink=c});

define("DistributedTaskControls/Components/CalloutComponent",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/MarkdownRenderer","DistributedTaskControls/Components/SafeLink","OfficeFabric/Button","OfficeFabric/Callout","OfficeFabric/FocusZone","OfficeFabric/FocusTrapZone","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/CalloutComponent"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});t.CalloutComponent=void 0;var c=function(n){var t=n.header;return i.createElement("div",{className:"callout-header"},t)},l=function(n){var t=n.description;return i.createElement("div",{className:"callout-description"},t)},a=function(n){var t=n.target,r=n.text;return i.createElement("div",{className:"callout-link"},i.createElement(f.SafeLink,{href:t,target:"_blank"},r),i.createElement("span",{className:"bowtie-icon bowtie-navigate-external"}))},v=function(n){var t=n.text,r=n.onClick;return i.createElement("div",{className:"callout-footer"},i.createElement(e.DefaultButton,{onClick:r,className:"callout-footer-btn",ariaLabel:t},t))},y=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onCalloutDismiss=function(n){t.props.calloutDismissDelegate&&t.props.calloutDismissDelegate(n);n.type==="click"?n.target.focus():t.props.targetElement&&t.props.targetElement.focus()},t._onCalloutFooterOnClick=function(){t.props.calloutContentProps.calloutFooterOnClick&&t.props.calloutContentProps.calloutFooterOnClick()},t}return __extends(t,n),t.prototype.render=function(){return i.createElement(o.Callout,{className:"dtc-callout-component",role:"alertdialog",target:this.props.targetElement,onDismiss:this._onCalloutDismiss,gapSpace:5,setInitialFocus:!0,directionalHint:12},i.createElement(h.FocusTrapZone,{isClickableOutsideFocusTrap:!0},i.createElement(s.FocusZone,{className:"info-callout",direction:s.FocusZoneDirection.vertical},i.createElement("div",{className:"dtc-callout","data-is-focusable":!0,"aria-label":this.props.calloutContentProps.calloutContentAriaLabel},i.createElement("div",{className:"dtc-callout-content"},this.props.calloutContentProps.calloutHeader&&i.createElement(c,{header:this.props.calloutContentProps.calloutHeader}),this.props.calloutContentProps.calloutDescription&&i.createElement(l,{description:this.props.calloutContentProps.calloutDescription}),this.props.calloutContentProps.calloutMarkdown&&i.createElement(u.Component,{markdown:this.props.calloutContentProps.calloutMarkdown}),this.props.calloutContentProps.calloutLinkText&&this.props.calloutContentProps.calloutLink&&i.createElement(a,{target:this.props.calloutContentProps.calloutLink,text:this.props.calloutContentProps.calloutLinkText}),this.props.calloutContentProps.calloutAdditionalContent&&this.props.calloutContentProps.calloutAdditionalContent())),this.props.calloutContentProps.calloutFooterText&&i.createElement(v,{text:this.props.calloutContentProps.calloutFooterText,onClick:this._onCalloutFooterOnClick}))))},t}(r.Component);t.CalloutComponent=y});

define("DistributedTaskControls/Components/InfoButton",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/CalloutComponent","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Common/JQueryWrapper","VSS/Utils/String","VSS/Utils/UI","OfficeFabric/Button","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/InfoButton"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});t.Component=void 0;var c=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onInfoButtonClick=function(n){t.toggleInfoCalloutState();t.props.stopClickPropagation&&(n.stopPropagation(),n.preventDefault())},t._onInfoButtonFocus=function(){t.props.onFocus&&t.props.onFocus()},t._handleKeyDown=function(n){!t.props.isIconFocusable||n.keyCode!==s.KeyCode.ENTER&&n.keyCode!==s.KeyCode.SPACE||(t.toggleInfoCalloutState(),n.preventDefault(),n.stopPropagation())},t.toggleInfoCalloutState=function(){t.setState({isCalloutVisible:!t.state.isCalloutVisible})},t._onCalloutDismiss=function(){t.setState({isCalloutVisible:!1})},t._onCalloutFooterOnClick=function(){t.setState({isCalloutVisible:!1});t.props.calloutContent.calloutFooterOnClick&&t.props.calloutContent.calloutFooterOnClick()},t}return __extends(t,n),t.prototype.render=function(){var t=this,r=(this.props.cssClass||"")+" dtc-info-button",s=" dtc-info-button-icon "+this.props.iconStyle,c=this.props.calloutContent.calloutContentAriaLabel?this.props.calloutContent.calloutContentAriaLabel:this.props.calloutContent.calloutHeader?o.format(f.InfoCalloutAriaLabel,this.props.calloutContent.calloutHeader):this.props.iconAriaLabel?this.props.iconAriaLabel:f.InfoIconAriaLabel,n=e.JQueryWrapper.extendDeep({},this.props.calloutContent);return n.calloutContentAriaLabel=c,n.calloutFooterOnClick=this._onCalloutFooterOnClick,i.createElement("div",{className:r,ref:function(n){return t._infoButtonElement=n}},i.createElement(h.IconButton,{iconProps:{iconName:this.props.iconName||"Info"},"data-is-focusable":!!this.props.isIconFocusable,className:s,onClick:this._onInfoButtonClick,onFocus:this._onInfoButtonFocus,onKeyDown:this._handleKeyDown,tabIndex:!this.props.isIconFocusable?null:0,ariaLabel:this.props.iconAriaLabel||f.InfoIconAriaLabel}),this.state.isCalloutVisible&&i.createElement(u.CalloutComponent,{targetElement:this._infoButtonElement,calloutDismissDelegate:this._onCalloutDismiss,calloutContentProps:n}))},t}(r.Component);t.Component=c});

define("DistributedTaskControls/Generated/DistributedTask.Constants",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k;Object.defineProperty(t,"__esModule",{value:!0});t.VariableGroupType=t.TaskWellKnownItems=t.TaskRunsOnConstants=t.TaskResourceIds=t.TaskAgentPoolMetricsValidColumnValueTypes=t.TaskAgentPoolMetricsValidColumnNames=t.TaskAgentPoolMetricsValidAgentState=t.ResourceLimitConstants=t.ParallelismTagTypes=t.InputValidationTypes=t.EventConstants=t.DeploymentGroupMetricsValidTargetState=t.DeploymentGroupMetricsValidJobStatus=t.DeploymentGroupMetricsValidColumnValueTypes=t.DeploymentGroupMetricsValidColumnNames=t.CoreAttachmentType=t.AzurePermissionResourceProviders=void 0,function(n){n.AzureRoleAssignmentPermission="Microsoft.RoleAssignment";n.AzureKeyVaultPermission="Microsoft.KeyVault"}(i=t.AzurePermissionResourceProviders||(t.AzurePermissionResourceProviders={})),function(n){n.Log="DistributedTask.Core.Log";n.Summary="DistributedTask.Core.Summary";n.FileAttachment="DistributedTask.Core.FileAttachment";n.DiagnosticLog="DistributedTask.Core.DiagnosticLog"}(r=t.CoreAttachmentType||(t.CoreAttachmentType={})),function(n){n.DeploymentTargetState="DeploymentTargetState";n.LastDeploymentStatus="LastDeploymentStatus";n.TotalDeploymentTargetCount="TotalDeploymentTargetCount"}(u=t.DeploymentGroupMetricsValidColumnNames||(t.DeploymentGroupMetricsValidColumnNames={})),function(n){n.Number="number";n.String="string"}(f=t.DeploymentGroupMetricsValidColumnValueTypes||(t.DeploymentGroupMetricsValidColumnValueTypes={})),function(n){n.Succeeded="Succeeded";n.NotSucceeded="Not succeeded";n.NotDeployed="Not deployed"}(e=t.DeploymentGroupMetricsValidJobStatus||(t.DeploymentGroupMetricsValidJobStatus={})),function(n){n.Online="Online";n.Offline="Offline"}(o=t.DeploymentGroupMetricsValidTargetState||(t.DeploymentGroupMetricsValidTargetState={})),function(n){n.AgentAdded="MS.TF.DistributedTask.AgentAdded";n.AgentDeleted="MS.TF.DistributedTask.AgentDeleted";n.AgentRequestAssigned="MS.TF.DistributedTask.AgentRequestAssigned";n.AgentRequestCompleted="MS.TF.DistributedTask.AgentRequestCompleted";n.AgentRequestQueued="MS.TF.DistributedTask.AgentRequestQueued";n.AgentUpdated="MS.TF.DistributedTask.AgentUpdated";n.DeploymentGatesChanged="MS.TF.DistributedTask.DeploymentGatesChanged";n.DeploymentMachinesChanged="MS.TF.DistributedTask.DeploymentMachinesChanged";n.PoolCreated="MS.TF.DistributedTask.AgentPoolCreated";n.PoolDeleted="MS.TF.DistributedTask.AgentPoolDeleted";n.QueueCreated="MS.TF.DistributedTask.AgentQueueCreated";n.QueueDeleted="MS.TF.DistributedTask.AgentQueueDeleted";n.QueuesDeleted="MS.TF.DistributedTask.AgentQueuesDeleted";n.TasksChanged="MS.TF.DistributedTask.TasksChanged";n.Version="2.0";n.DeploymentFailed="MS.TF.DistributedTask.DeploymentFailed"}(s=t.EventConstants||(t.EventConstants={})),function(n){n.Expression="expression";n.Input="input"}(h=t.InputValidationTypes||(t.InputValidationTypes={})),function(n){n.Public="Public";n.Private="Private"}(c=t.ParallelismTagTypes||(t.ParallelismTagTypes={})),function(n){n.FreeCount="FreeCount";n.PurchasedCount="PurchasedCount";n.EnterpriseUsersCount="EnterpriseUsersCount";n.IsPremium="IsPremium"}(l=t.ResourceLimitConstants||(t.ResourceLimitConstants={})),function(n){n.Online="Online";n.Offline="Offline"}(a=t.TaskAgentPoolMetricsValidAgentState||(t.TaskAgentPoolMetricsValidAgentState={})),function(n){n.AgentState="AgentState";n.AgentsCount="AgentsCount"}(v=t.TaskAgentPoolMetricsValidColumnNames||(t.TaskAgentPoolMetricsValidColumnNames={})),function(n){n.Number="number";n.String="string"}(y=t.TaskAgentPoolMetricsValidColumnValueTypes||(t.TaskAgentPoolMetricsValidColumnValueTypes={})),function(n){n.Agents="e298ef32-5878-4cab-993c-043836571f42";n.AgentMessages="c3a054f6-7a8a-49c0-944e-3a8e5d7adfd7";n.AgentSessions="134e239e-2df3-4794-a6f6-24f1f19ec8dc";n.AgentUpdates="8cc1b02b-ae49-4516-b5ad-4f9b29967c30";n.UserCapabilities="30ba3ada-fedf-4da8-bbb5-dacf2f82e176";n.AgentClouds="bfa72b3d-0fc6-43fb-932b-a7f6559f93b9";n.AgentCloudRequests="20189bd7-5134-49c2-b8e9-f9e856eea2b2";n.Packages="8ffcd551-079c-493a-9c02-54346299d144";n.Pools="a8c47e17-4d56-4a56-92bb-de7ea7dc65be";n.AgentCloudTypes="5932e193-f376-469d-9c3e-e5588ce12cb5";n.DeploymentPoolsSummary="6525d6c6-258f-40e0-a1a9-8a24a3957625";n.PoolMaintenanceDefinitions="80572e16-58f0-4419-ac07-d19fde32195c";n.PoolMaintenanceJobs="15e7ab6e-abce-4601-a6d8-e111fe148f46";n.Queues="900fa995-c559-4923-aae7-f8424fe4fbea";n.DeploymentGroupAccessToken="3d197ba2-c3e9-4253-882f-0ee2440f8174";n.DeploymentPoolAccessToken="e077ee4a-399b-420b-841f-c43fbc058e0b";n.DeploymentGroupsMetrics="281c6308-427a-49e1-b83a-dac0f4862189";n.DeploymentGroups="083c4d89-ab35-45af-aa11-7cf66895c53e";n.DeploymentMachineGroups="d4adf50f-80c6-4ac8-9ca1-6e4e544286e9";n.DeploymentMachines="6f6d406f-cfe6-409c-9327-7009928077e7";n.DeploymentMachineGroupMachines="966c3874-c347-4b18-a90c-d509116717fd";n.DeploymentTargets="2f0aa599-c121-4256-a5fd-ba370e0ae7b6";n.DeploymentMachineGroupAccessToken="f8c7c0de-ac0d-469b-9cb1-c21f72d67693";n.PoolRolesCompat="9e627af6-3635-4ddf-a275-dca904802338";n.QueueRoles="b0c6d64d-c9fa-4946-b8de-77de623ee585";n.PoolRoles="381dd2bb-35cf-4103-ae8c-3c815b25763c";n.PoolMetadata="0d62f887-9f53-48b9-9161-4c35d5735b0f";n.JobRequestsDeprecated="fc825784-c92a-4299-9221-998a02d1b54f";n.AgentRequests="f5f81ffb-f396-498d-85b1-5ada145e648a";n.DeploymentMachineJobRequests="a3540e5b-f0dc-4668-963b-b752459be545";n.DeploymentTargetJobRequests="2fac0be3-8c8f-4473-ab93-c1389b08a2c9";n.DeploymentMachineMessages="91006ac4-0f68-4d82-a2bc-540676bd73ce";n.DeploymentTargetMessages="1c1a817f-f23d-41c6-bf8d-14b638f64152";n.Tasks="60aac929-f0cd-4bc8-9ce4-6b30e8f1b1bd";n.TaskEndpoint="f223b809-8c33-4b7d-b53f-07232569b5d6";n.TaskIcons="63463108-174d-49d4-b8cb-235eea42a5e1";n.Logs="46f5667d-263a-4684-91b1-dff7fdcf64e2";n.Logs_Compat="15344176-9e77-4cf4-a7c3-8bc4d0a3c4eb";n.Plans="5cecd946-d704-471e-a45f-3b4064fcfaba";n.Plans_Compat="f8d10759-6e90-48bc-96b0-d19440116797";n.PlanEvents="557624af-b29e-4c20-8ab0-0399d2204f3f";n.PlanEvents_Compat="dfed02fb-deee-4039-a04d-aa21d0241995";n.PlanAttachments="eb55e5d6-2f30-4295-b5ed-38da50b1fc52";n.Attachments="7898f959-9cdf-4096-b29e-7f293031629e";n.Timelines="83597576-cc2c-453c-bea6-2882ae6a1653";n.Timelines_Compat="ffe38397-3a9d-4ca6-b06d-49303f287ba5";n.TimelineRecords="8893bc5b-35b2-4be7-83cb-99e683551db4";n.TimelineRecords_Compat="50170d5d-f122-492f-9816-e2ef9f8d1756";n.TimelineRecordFeeds="858983e4-19bd-4c5e-864c-507b59b58b12";n.TimelineRecordFeeds_Compat="9ae056f6-d4e4-4d0c-bd26-aee2a22f01f2";n.ServiceEndpoints="ca373c13-fec3-4b30-9525-35a117731384";n.ServiceEndpoints2="dca61d2f-3444-410a-b5ec-db2fc4efb4c5";n.ServiceEndpointTypes="7c74af83-8605-45c1-a30b-7a05d5d7f8c1";n.ServiceEndpointProxy="e3a44534-7b94-4add-a053-8af449589c62";n.ServiceEndpointProxy2="f956a7de-d766-43af-81b1-e9e349245634";n.AzureSubscriptions="bcd6189c-0303-471f-a8e1-acb22b74d700";n.AzureManagementGroups="39fe3bf2-7ee0-4198-a469-4a29929afa9c";n.TaskGroups="6c08ffbf-dbf1-4f9a-94e5-a1cbd47005e7";n.TaskGroupHistory="100cc92a-b255-47fa-9ab3-e44a2985a3ac";n.ExtensionEvents="96c86d26-36fb-4649-9215-36e03a8bbc7d";n.TaskHubLicense="f9f0f436-b8a1-4475-9041-1ccdbf8f0128";n.ResourceLimits="1f1f0557-c445-42a6-b4a0-0df605a3a0f8";n.ResourceUsage="eae1d376-a8b1-4475-9041-1dfdbe8f0143";n.VariableGroups="f5b09dd5-9d54-45a1-8b5a-1c8287d634cc";n.SecureFiles="adcfd8bc-b184-43ba-bd84-7c8c6a2ff421";n.PlanGroupsQueue="0dd73091-3e36-4f43-b443-1b76dd426d84";n.QueuedPlanGroup="65fd0708-bc1e-447b-a731-0587c5464e5b";n.PlanGroupsQueueMetrics="038fd4d5-cda7-44ca-92c0-935843fee1a7";n.VstsAadOAuth="9c63205e-3a0f-42a0-ad88-095200f13607";n.InputValidation="58475b1e-adaf-4155-9bc1-e04bf1fff4c2";n.GetServiceEndpointExecutionHistory="3ad71e20-7586-45f9-a6c8-0342e00835ac";n.PostServiceEndpointExecutionHistory="11a45c69-2cce-4ade-a361-c9f5a37239ee";n.AreaId="A85B8835-C1A1-4AAC-AE97-1C3D0BA72DBD";n.AreaName="distributedtask";n.AgentsResource="agents";n.AgentMessagesResource="messages";n.AgentSessionsResource="sessions";n.AgentUpdatesResource="updates";n.UserCapabilitiesResource="usercapabilities";n.AgentCloudsResource="agentclouds";n.AgentCloudRequestsResource="requests";n.PackagesResource="packages";n.PoolsResource="pools";n.AgentCloudTypesResource="agentcloudtypes";n.DeploymentPoolsResource="deploymentPools";n.DeploymentPoolsSummaryResource="deploymentPoolsSummary";n.PoolMaintenanceDefinitionsResource="maintenancedefinitions";n.PoolMaintenanceJobsResource="maintenancejobs";n.QueuesResource="queues";n.DeploymentGroupAccessTokenResource="deploymentgroupaccesstoken";n.DeploymentPoolAccessTokenResource="deploymentpoolaccesstoken";n.DeploymentGroupsMetricsLocationIdString="281C6308-427A-49E1-B83A-DAC0F4862189";n.DeploymentGroupsMetricsResource="deploymentgroupsmetrics";n.DeploymentGroupsResource="deploymentgroups";n.DeploymentMachineGroupsResource="machinegroups";n.DeploymentMachinesLocationIdString="6F6D406F-CFE6-409C-9327-7009928077E7";n.DeploymentMachineGroupMachinesLocationIdString="966C3874-C347-4B18-A90C-D509116717FD";n.DeploymentMachinesResource="machines";n.DeploymentTargetsLocationIdString="2F0AA599-C121-4256-A5FD-BA370E0AE7B6";n.DeploymentTargetsResource="targets";n.DeploymentMachineGroupAccessTokenResource="machinegroupaccesstoken";n.PoolRolesCompatResource="roles";n.QueueRolesResource="queueroles";n.PoolRolesResource="poolroles";n.PoolMetadataResource="poolmetadata";n.JobRequestsDeprecatedResource="jobrequests";n.AgentRequestsResource="agentrequests";n.DeploymentMachineJobRequestsResource="deploymentmachinejobrequests";n.DeploymentTargetJobRequestsResource="deploymentTargetJobRequests";n.DeploymentMachineMessagesResource="deploymentmachinemessages";n.DeploymentTargetMessagesResource="deploymentTargetMessages";n.TasksResource="tasks";n.TaskEndpointResource="endpoint";n.TaskIconsResource="icon";n.LogsResource="logs";n.PlansResource="plans";n.PlanEventsResource="events";n.PlanAttachmentsLocationIdString="EB55E5D6-2F30-4295-B5ED-38DA50B1FC52";n.AttachmentsLocationIdString="7898F959-9CDF-4096-B29E-7F293031629E";n.AttachmentsResource="attachments";n.TimelinesResource="timelines";n.TimelineRecordsResource="records";n.TimelineRecordFeedsResource="feed";n.ServiceEndpoints2LocationIdString="DCA61D2F-3444-410A-B5EC-DB2FC4EFB4C5";n.ServiceEndpointsResource="serviceendpoints";n.ServiceEndpointTypesResource="serviceendpointtypes";n.ServiceEndpointProxy2LocationIdString="F956A7DE-D766-43AF-81B1-E9E349245634";n.ServiceEndpointProxyResource="serviceendpointproxy";n.AzureRmSubscriptionsResource="azurermsubscriptions";n.AzureRmManagementGroupsResource="azurermmanagementgroups";n.TaskGroupsResource="taskgroups";n.TaskGroupHistoryResource="revisions";n.ExtensionEventsResource="extensionevents";n.ExtensionPreInstallResource="preinstall";n.TaskHubLicenseResource="hublicense";n.ResourceLimitsLocationIdString="1F1F0557-C445-42A6-B4A0-0DF605A3A0F8";n.ResourceLimitsResource="resourcelimits";n.ResourceUsageLocationIdString="EAE1D376-A8B1-4475-9041-1DFDBE8F0143";n.ResourceUsageResource="resourceusage";n.VariableGroupsResource="variablegroups";n.SecureFilesResource="securefiles";n.PlanGroupsQueueLocationIdString="0DD73091-3E36-4F43-B443-1B76DD426D84";n.QueuedPlanGroupLocationIdString="65FD0708-BC1E-447B-A731-0587C5464E5B";n.PlanGroupsQueueResource="plangroupsqueue";n.PlanGroupsQueueMetricsLocationIdString="038FD4D5-CDA7-44CA-92C0-935843FEE1A7";n.PlanGroupsQueueMetricsResource="metrics";n.VstsAadOAuthResource="vstsaadoauth";n.InputValidationResource="inputvalidation";n.GetServiceEndpointExecutionHistoryLocationIdString="3AD71E20-7586-45F9-A6C8-0342E00835AC";n.PostServiceEndpointExecutionHistoryLocationIdString="11A45C69-2CCE-4ADE-A361-C9F5A37239EE";n.ServiceEndpointExecutionHistoryResource="executionhistory"}(p=t.TaskResourceIds||(t.TaskResourceIds={})),function(n){n.RunsOnAgent="Agent";n.RunsOnMachineGroup="MachineGroup";n.RunsOnDeploymentGroup="DeploymentGroup";n.RunsOnServer="Server"}(w=t.TaskRunsOnConstants||(t.TaskRunsOnConstants={})),function(n){n.TASKPREVIEW_VISIBILITY_AREA="Preview"}(b=t.TaskWellKnownItems||(t.TaskWellKnownItems={})),function(n){n.Vsts="Vsts";n.AzureKeyVault="AzureKeyVault"}(k=t.VariableGroupType||(t.VariableGroupType={}))});

define("DistributedTaskControls/SharedControls/InputControls/InputValidator",["require","exports","DistributedTaskControls/Generated/DistributedTask.Constants","TFS/DistributedTask/TaskAgentRestClient","VSS/Service","VSS/Context"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.InputValidator=void 0;var e=function(){function n(){}return n.shouldPerformValidate=function(n){return n&&n.indexOf("$")>-1?!1:!0},n.getExpressionErrorMessage=function(t){var r="expression",u={inputs:{}};return u.inputs[r]={type:i.InputValidationTypes.Expression,value:t},n._getValidationMessage(u,r)},n.getInputErrorMessage=function(t,r){var u="input",f={inputs:{}};return f.inputs[u]={type:i.InputValidationTypes.Input,value:r.expression,context:{value:t},reason:r.reason},n._getValidationMessage(f,u)},n._getValidationMessage=function(n,t){return this._getTaskAgentClient().validateInputs(n).then(function(n){var i=n.inputs[t];return i.isValid?"":i.reason})},n._getTaskAgentClient=function(){return n._taskAgentClient||(n._taskAgentClient=this._getVssConnection().getHttpClient(r.TaskAgentHttpClient)),n._taskAgentClient},n._getVssConnection=function(){return n._vssConnection||(n._vssConnection=new u.VssConnection(f.getDefaultWebContext())),n._vssConnection},n}();t.InputValidator=e});

define("DistributedTaskControls/SharedControls/InputControls/Utilities",["require","exports","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Utils/String"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.InputControlUtils=void 0;var u=function(){function n(){}return n.getId=function(n){var t=n.toUpperCase();return this._idMap[t]||(this._idMap[t]=0),r.format("{0}{1}",t,this._idMap[t]++)},n.getCalloutInfoProps=function(t){return{calloutContentProps:n.getCalloutContentProps(t)}},n.getCalloutContentProps=function(n){return{calloutMarkdown:n,calloutContentAriaLabel:r.localeFormat(i.InfoCalloutAriaLabel,n)}},n._idMap={},n}();t.InputControlUtils=u});

define("DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase",["require","exports","react","react-dom","DistributedTaskControls/Common/AppContext","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/InfoButton","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/InputValidator","DistributedTaskControls/Common/ShortKeys","DistributedTaskControls/SharedControls/InputControls/Utilities","OfficeFabric/Label","VSS/Diag","VSS/Utils/String","VSSUI/Util","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/FabricStyleOverrides","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){Object.defineProperty(t,"__esModule",{value:!0});t.InputBase=void 0;var w=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.onValueChanged=function(n){if(!t.props.disabled){t.setState({value:n});t.props.onValueChanged(n)}},t._handleFocus=function(){t.props.getFooterElement&&t._inputbaseFooterContainer&&t._renderFooterElement(!0)},t._handleBlur=function(n){if(t._mounted){var i=n.relatedTarget||document.activeElement;t._container&&!t._container.contains(i)&&t.props.getFooterElement&&t._inputbaseFooterContainer&&t._renderFooterElement(!1)}},t.getErrorMessage=function(n){var i=y.empty,r,u;if(!t.props.getErrorMessage||(i=t.props.getErrorMessage(n)),r=t.props.asyncValidator,!i&&r&&(u=t.getStringValue(n),u!=null&&h.InputValidator.shouldPerformValidate(u)))if(r.type===s.InputValidationType.Input){if(!r.data)return v.logError("validation should have data for input type"),i;i=h.InputValidator.getInputErrorMessage(t.getStringValue(n),{expression:r.data.expression,reason:r.data.reason})}else i=h.InputValidator.getExpressionErrorMessage(u);return i},t._handleKeyDown=function(n){if(n&&n.ctrlKey&&n.altKey)switch(n.keyCode){case c.KeyCodes.Help:t._infoElement&&t._infoElement.toggleInfoCalloutState();break;case c.KeyCodes.Link:if(!!t.props.infoProps){if(!u.AppContext.instance().isCapabilitySupported(u.AppCapability.LinkProcessParameters))break;!t.props.infoProps.linkToProcessParameterDelegate||!t._infoElement||t.props.infoProps.linkToProcessParameterDelegate();!t.props.infoProps.unlinkToProcessParameterDelegate||!t._infoElement||t.props.infoProps.unlinkToProcessParameterDelegate()}}},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._domId=l.InputControlUtils.getId(this.getType());this.setState({value:this.props.value})},t.prototype.componentWillReceiveProps=function(n){this.setState({value:n.value})},t.prototype.render=function(){var r=this,n=null,t;return!this.props.infoProps||(!this.props.infoProps.calloutContentProps||this.props.infoProps.calloutContentProps.calloutContentAriaLabel||this.props.infoProps.calloutContentProps.calloutHeader||!this.props.label||(this.props.infoProps.calloutContentProps.calloutContentAriaLabel=y.format(o.InfoCalloutAriaLabel,this.props.label)),n=i.createElement(e.Component,{iconName:this.props.infoProps.iconName,isIconFocusable:this.props.disabled,iconAriaLabel:this.props.infoProps.iconAriaLabel||this.props.label&&y.format(o.MoreInformationForInputLabel,this.props.label),calloutContent:this.props.infoProps.calloutContentProps,ref:function(n){r._infoElement=n},cssClass:this.getType()===s.InputControlType.INPUT_TYPE_BOOLEAN?"info-input-without-label":"info-input-with-label"})),t=this.getInputClassName(),i.createElement("div",{className:t,ref:this._resolveRef("_container"),id:this.getInputFieldComponentElementId(),onFocus:this._handleFocus,onBlur:this._handleBlur,onKeyDown:this._handleKeyDown},this.addLabelControl()&&i.createElement("div",null,i.createElement(a.Label,__assign({required:this.props.required,className:"input-field-label",id:this.getInputFieldLabelElementId(),htmlFor:this.getInputFieldControlElementId()},this.props.ariaLevel?{role:"heading","aria-level":this.props.ariaLevel}:{}),this.props.label),n,this.getAdditonalLabelControls()),this._getDescriptionElement(),this.getControl(),!this.addLabelControl()&&n,this._getFooter())},t.prototype._getDescriptionElement=function(){var n=null;return this.props.ariaDescription?n=this.props.ariaDescription:this.props.infoProps&&this.props.infoProps.calloutContentProps&&this.props.infoProps.calloutContentProps.calloutMarkdown&&(n=this.props.infoProps.calloutContentProps.calloutMarkdown),n?i.createElement("div",{className:"input-field-description hidden",id:this.getInputFieldDescriptionElementId(!0)},n):void 0},t.prototype._doesDescriptionExists=function(){return this.props.ariaDescription||this.props.infoProps&&this.props.infoProps.calloutContentProps&&this.props.infoProps.calloutContentProps.calloutMarkdown?!0:!1},t.prototype.componentDidMount=function(){this._mounted=!0},t.prototype.componentWillUnmount=function(){this._mounted=!1},t.prototype.getInputClassName=function(){return"input-field-component"},t.prototype.getAdditonalLabelControls=function(){return null},t.prototype.addLabelControl=function(){return!!this.props.label},t.prototype.getInputValue=function(){return this.state.value},t.prototype.getContainer=function(){return this._container},t.prototype._getFooter=function(){if(this.props.getFooterElement)return i.createElement("div",{ref:this._resolveRef("_inputbaseFooterContainer"),"aria-live":"polite"})},t.prototype._renderFooterElement=function(n){var t=this.props.getFooterElement(n,this.getFooterDescriptionElementId());t&&r.render(t,this._inputbaseFooterContainer)},t.prototype.getStringValue=function(n){var t=null;return typeof n!="object"?t=n.toString():v.logError("Input with label ".concat(this.props.label," has value that cannot be converted to a string, it should have getStringValue implementation.\n                      Input validation cannot be performed.")),t},t.prototype.getInputFieldLabelElementId=function(){return"INPUT-FIELD-LABEL-"+this._domId},t.prototype.getInputFieldDescriptionElementId=function(n,t){if(n===void 0&&(n=!1),t===void 0&&(t=!0),this._doesDescriptionExists()){var i="INPUT-FIELD-DESC-"+this._domId;return n||!this.props.getFooterElement||(i=i.concat(" ",this.getFooterDescriptionElementId())),t?p.getSafeId(i):i}return null},t.prototype.getFooterDescriptionElementId=function(){return"INPUT-FIELD-FOOTER-DESC-"+this._domId},t.prototype.getInputFieldControlElementId=function(){return"INPUT-FIELD-"+this._domId},t.prototype.getInputFieldComponentElementId=function(){return"INPUT-FIELD-CONTAINER-"+this._domId},t.c_defaultDeferredOnChangeDuration=500,t}(f.Component);t.InputBase=w});

define("DistributedTaskControls/SharedControls/InputControls/Components/TextInputComponentBase",["require","exports","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.TextInputComponentBase=void 0;var r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(i.InputBase);t.TextInputComponentBase=r});

define("DistributedTaskControls/Components/TooltipIfOverflow",["require","exports","react","DistributedTaskControls/Common/Components/Base","OfficeFabric/Utilities","VSS/Controls/PopupContent","VSS/Utils/Core"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.TooltipIfOverflow=void 0;var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.c_tooltipContentUpdateDelay=2e3,t.c_tooltipOpenDelay=1e3,t}return __extends(t,n),t.prototype.render=function(){var n=this;return i.createElement("div",{ref:function(t){n._element=t},className:u.css("dtc-text-tooltip-on-overflow-host",this.props.cssClass)},this.props.children)},t.prototype.shouldComponentUpdate=function(n){return this.props.targetElementClassName===n.targetElementClassName&&this.props.containerClassName===n.containerClassName&&this.props.tooltip===n.tooltip&&!n.forceUpdate?!1:!0},t.prototype.componentDidMount=function(){if(this._element){var n=this._element.getElementsByClassName(this.props.targetElementClassName);n.length>0&&(this._targetElement=n[0]);this.props.containerClassName&&(n=this._element.getElementsByClassName(this.props.containerClassName),n.length>0&&(this._container=n[0]))}this._updateToolTipIfTitleOverflow()},t.prototype.componentDidUpdate=function(){var n=this;this._isTitleTooptipUpdateInProcess||(this._isTitleTooptipUpdateInProcess=!0,e.delay(this,this.c_tooltipContentUpdateDelay,function(){n._updateToolTipIfTitleOverflow();n._isTitleTooptipUpdateInProcess=!1}))},t.prototype.componentWillUnmount=function(){this._tooltip&&(this._tooltip.dispose(),this._tooltip=null)},t.prototype._updateToolTipIfTitleOverflow=function(){this._targetElement&&(this._tooltip&&this._tooltip.dispose(),this.props.tooltip&&(this._tooltip=f.RichContentTooltip.addIfOverflow(this.props.tooltip,this._targetElement,{openCloseOnHover:!0,showOnFocus:!0,openDelay:this.c_tooltipOpenDelay,topOffsetPixels:5,setAriaDescribedBy:!0,menuContainer:this._container?$(this._container):$(this._targetElement),coreCssClass:"rich-content-tooltip auto-width"})))},t}(r.Component);t.TooltipIfOverflow=o});

define("DistributedTaskControls/SharedControls/InputControls/Components/StringInputComponent",["require","exports","react","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/ExpandableTextbox","DistributedTaskControls/SharedControls/InputControls/Components/TextInputComponentBase","DistributedTaskControls/SharedControls/InputControls/Components/ValidatableTextField","DistributedTaskControls/Components/TooltipIfOverflow","OfficeFabric/Utilities","VSS/Diag","VSS/Utils/Core"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.StringInputComponent=void 0;var l=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onValueChanged=function(n){if(t._delayedOnChange)t._delayedOnChange(n);else t.onValueChanged(n)},t._forceUpdate=!1,t}return __extends(t,n),t.prototype.getType=function(){return r.InputControlType.INPUT_TYPE_STRING},t.prototype.setFocus=function(){this._textField&&this._textField.focus()},t.prototype.componentDidMount=function(){var i,r;n.prototype.componentDidMount.call(this);i=0;i=this.props.deferredOnChangeTimeInMs===undefined?t.c_defaultDeferredOnChangeTime:this.props.deferredOnChangeTimeInMs;i>0&&(r=new s.Async,this._delayedOnChange=r.debounce(this.onValueChanged,i))},t.prototype.componentWillReceiveProps=function(t){n.prototype.componentWillReceiveProps.call(this,t);this._forceUpdate=t.forceUpdate||!c.equals(this.props,t)},t.prototype.getControl=function(){return h.logVerbose("[StringInputComponent.getControl]: Method called."),this.props.isMultilineExpandable&&this.props.rows===1?this._renderExpandableTextBox():this._renderSimpleTextBox()},t.prototype._renderExpandableTextBox=function(){var n=this;return i.createElement(u.Component,{textFieldRef:function(t){n._textField=t},id:this.props.id||this.getInputFieldControlElementId(),ariaLabelledBy:this.props.ariaLabelledBy||this.getInputFieldLabelElementId(),ariaDescribedBy:this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId(),required:this.props.required,value:this.state.value,onChanged:this._onValueChanged,disabled:this.props.disabled,onGetErrorMessage:this.getErrorMessage,type:this.props.type,onBlur:this.props.onBlur,inputClassName:this.props.inputClassName,onNotifyValidationResult:this.props.onNotifyValidationResult})},t.prototype._renderSimpleTextBox=function(){var n=this;return i.createElement(o.TooltipIfOverflow,{tooltip:this.state.value,forceUpdate:this._forceUpdate,targetElementClassName:"string-input-component-input",containerClassName:"string-input-component-input-container"},i.createElement("div",{className:"string-input-component-input-container"},i.createElement(e.ValidatableTextField,{borderless:this.props.borderless,ref:function(t){n._textField=t},id:this.props.id||this.getInputFieldControlElementId(),"aria-labelledby":this.props.ariaLabelledBy||(!this.props.label?null:this.getInputFieldLabelElementId()),"aria-describedby":this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId(),"aria-required":this.props.required,ariaLabel:this.props.ariaLabel,"aria-disabled":this.props.disabled,value:this.state.value,className:s.css("input-textfield",this.props.cssClass),onChanged:this._onValueChanged,disabled:this.props.disabled,deferredValidationTime:this.props.deferredValidationTime,onGetErrorMessage:this.getErrorMessage,readOnly:this.props.readOnly,type:this.props.type,multiline:this.props.isMultilineExpandable,resizable:this.props.isResizable,autoAdjustHeight:this.props.noAutoAdjustHeight?!this.props.noAutoAdjustHeight:this.props.isMultilineExpandable,rows:this.props.rows,onBlur:this.props.onBlur,inputClassName:s.css("string-input-component-input",this.props.inputClassName),errorMessage:this.props.errorMessage,onNotifyValidationResult:this.props.onNotifyValidationResult})))},t.c_defaultDeferredOnChangeTime=500,t}(f.TextInputComponentBase);t.StringInputComponent=l});

define("DistributedTaskControls/SharedControls/InputControls/Components/DropDownInputComponent",["require","exports","react","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Common","OfficeFabric/Dropdown","OfficeFabric/Utilities","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/DropDownInputComponent"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.DropDownInputControl=void 0;var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onChanged=function(n,i){t.onValueChanged({index:i,option:n})},t}return __extends(t,n),t.prototype.getType=function(){return u.InputControlType.INPUT_TYPE_DROPDOWN},t.prototype.getControl=function(){var n=this;return i.createElement(f.Dropdown,{ref:function(t){n._dropdown=t},id:this.getInputFieldControlElementId(),className:e.css("input-control-drop-down",this.props.cssClass),label:o.empty,ariaLabel:this.props.ariaLabel||this.props.label,options:this.props.options,selectedKey:this.props.selectedKey,onChanged:this._onChanged,"aria-disabled":this.props.disabled,"aria-describedby":this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId(),required:this.props.required,disabled:this.props.disabled,errorMessage:this.props.errorMessage,dropdownWidth:this.props.dropdownWidth,calloutProps:{className:this.props.calloutClassName}})},t.prototype.setFocus=function(){this._dropdown&&this._dropdown.focus()},t.prototype.getInputClassName=function(){return this.props.dropDownClassName||n.prototype.getInputClassName.call(this)},t}(r.InputBase);t.DropDownInputControl=s});

define("DistributedTaskControls/SharedControls/InputControls/Components/DurationInputComponent",["require","exports","react","DistributedTaskControls/SharedControls/ErrorComponent/ErrorComponent","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Components/StringInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Components/DropDownInputComponent","VSS/Diag","VSS/Utils/String","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/DurationInputComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l){var y,a,v;Object.defineProperty(t,"__esModule",{value:!0});t.DurationInputComponent=t.TimeUnits=t.TimeConstants=void 0,function(n){n.MinutesInDay=1440;n.MinutesInMonth=43200;n.MinutesInHour=60;n.MinutesInYear=525600;n.HoursInYear=8760;n.HoursInDay=24;n.DaysInYear=365;n.DaysInMonth=30}(y=t.TimeConstants||(t.TimeConstants={})),function(n){n[n.Minutes=1]="Minutes";n[n.Hours=2]="Hours";n[n.Days=3]="Days"}(a=t.TimeUnits||(t.TimeUnits={}));v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onValueChanged=function(n){var i={value:n,unit:t.state.value.unit};t.setState({errorMessage:c.empty},function(){t.onValueChanged(i)})},t._onUnitChanged=function(n){var i={value:t.state.value.value,unit:n.key};t.setState({errorMessage:c.empty},function(){t.onValueChanged(i)})},t.errorElementId=c.format("{0}{1}{2}",t.getType(),"-errorcomponent-",c.generateUID()),t}return __extends(t,n),t.prototype.componentDidMount=function(){this.setState({value:this.props.value,errorMessage:this.props.errorMessage})},t.prototype.componentWillReceiveProps=function(n){this.setState({value:n.value,errorMessage:n.errorMessage})},t.prototype.getType=function(){return u.InputControlType.INPUT_TYPE_DURATION_CONTROL},t.prototype.getControl=function(){return h.logVerbose("[DurationInputComponent.getControl]: Method called."),this._renderTimeComponent()},t.prototype._renderTimeComponent=function(){return!this.props.showDay&&!this.props.showHour&&!this.props.showMinute?null:i.createElement("div",{className:"time-container"},i.createElement("div",{className:"time-container-content"},this._getTimeValueInputContainer(),this._getTimeUnitContainer()),this._getErrorMessageElement())},t.prototype._getTimeValueInputContainer=function(){var n=this._getSelectedUnit(),t=!this.props.inputAriaLabel?c.empty:c.format(this.props.inputAriaLabel,n);return i.createElement("div",{className:"time-value-input-container"},i.createElement(e.StringInputComponent,{borderless:!0,inputClassName:l.css("time-input-textfield",{invalid:!!this.state.errorMessage}),value:!this.state.value?c.empty:this.state.value.value,onValueChanged:this._onValueChanged,ariaDescription:this.props.inputAriaDescription,ariaDescribedBy:this.state.errorMessage?this.errorElementId:null,ariaLabel:t,disabled:this.props.disabled}))},t.prototype._getTimeUnitContainer=function(){var n=this,t=this._getSelectedUnit();return i.createElement("div",{className:"time-unit-container"},this._showDropDown()?i.createElement(s.DropDownInputControl,{cssClass:"timeunit-dropdown",options:this._getTimeUnits(),onValueChanged:function(t){n._onUnitChanged(t.option,t.index)},selectedKey:!this.state.value?this._getTimeUnits()[0].key:this.state.value.unit,disabled:this.props.disabled,ariaLabel:this.props.unitAriaLabel}):i.createElement("div",null,t))},t.prototype._getTimeUnits=function(){var n=[];return!this.props.showDay||n.push({key:a.Days,text:f.Days}),!this.props.showHour||n.push({key:a.Hours,text:f.Hours}),!this.props.showMinute||n.push({key:a.Minutes,text:f.Minutes}),n},t.prototype._getErrorMessageElement=function(){return!this.state.errorMessage?null:i.createElement(r.ErrorComponent,{errorMessage:this.state.errorMessage,id:this.errorElementId})},t.prototype._showDropDown=function(){var n=0;return this.props.showDay&&n++,this.props.showHour&&n++,this.props.showMinute&&n++,n>1?!0:!1},t.prototype._getSelectedUnit=function(){if(!this.state.value)return this._getTimeUnits()[0].text;switch(this.state.value.unit){case a.Days:return f.Days;case a.Hours:return f.Hours;case a.Minutes:return f.Minutes}},t}(o.InputBase);t.DurationInputComponent=v});

define("DistributedTaskControls/Common/Utilities",["require","exports","DistributedTaskControls/Common/AppContext","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Common/RegexConstants","DistributedTaskControls/Common/ShortKeys","DistributedTaskControls/Common/ShortKeys","DistributedTaskControls/Common/Types","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Components/DurationInputComponent","DistributedTasksCommon/TFS.Tasks.Types","DistributedTasksCommon/TFS.Tasks.Utils","DistributedTasksCommon/TFS.Tasks.Models","VSS/Common/Contracts/Platform","VSS/Context","VSS/Context","VSS/Contributions/Services","VSS/FeatureAvailability/Services","VSS/FeatureManagement/Services","VSS/Navigation/HubsService","VSS/Navigation/Services","VSS/Service","VSS/Utils/Array","VSS/Utils/Number","VSS/Utils/String","VSS/Utils/UI","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot){Object.defineProperty(t,"__esModule",{value:!0});t.DtcUtils=void 0;var st=function(){function n(){}return n.getCurrentUser=function(){var n=b.getDefaultWebContext();return n?{displayName:n.user.name,id:n.user.id,isAadIdentity:n.host.isAADAccount,isContainer:!1,uniqueName:n.user.uniqueName,url:n.host.uri}:null},n.getTaskFromTaskDefinition=function(t){var i=!1,r=!1,u=v.getMajorVersionSpec(t.version),f;return t.definitionType===a.DefinitionType.metaTask&&(i=!0,r=!0,y.TaskDefinitionCache.getTaskDefinitionCache().cacheMetaTaskDemandsFromServer(t.id,u)),f={id:t.id,versionSpec:u,definitionType:t.definitionType},{displayName:"",refName:null,enabled:!0,continueOnError:i,timeoutInMinutes:0,alwaysRun:r,retryCountOnTaskFailure:0,inputs:n.convertTaskDefinitionInputsToTaskInstanceInputs(t.inputs),task:f}},n.convertTaskDefinitionInputsToTaskInstanceInputs=function(n){for(var t,r={},i=0,u=n;i<u.length;i++)t=u[i],t.defaultValue!==undefined&&(r[t.name]=t.defaultValue);return r},n.getTaskInputType=function(n){var t=n.type.split(":")[0];return t&&(t=t.toLowerCase()),t},n.getUniqueInstanceId=function(){return ft.format(n._formatString,"object-instance-id",ft.generateUID())},n.createInputDefinitionCopy=function(n){return!n?n:{name:n.name,defaultValue:n.defaultValue,groupName:n.groupName,helpMarkDown:n.helpMarkDown,label:n.label,required:n.required,type:n.type,visibleRule:n.visibleRule,options:f.JQueryWrapper.extend({},n.options),properties:f.JQueryWrapper.extend({},n.properties)}},n.getDefaultName=function(n,t){var r=1,u=!1,i;t=t||[];do i=ft.format(n,r),u=rt.arrayContains(i,t,function(n,t){return ft.equals(n,t,!0)}),r++;while(u);return i},n.createSourceDefinitionCopy=function(n){return!n?n:{authKey:n.authKey,endpoint:n.endpoint,keySelector:n.keySelector,selector:n.selector,target:n.target}},n.createDataSourceBindingCopy=function(n){return!n?n:{dataSourceName:n.dataSourceName,endpointId:n.endpointId,endpointUrl:n.endpointUrl,resultSelector:n.resultSelector,resultTemplate:n.resultTemplate,target:n.target,parameters:f.JQueryWrapper.extend({},n.parameters)}},n.containsProcessParameter=function(t){return n.oldProcParamRegex.test(t)||n.newProcParamRegex.test(t)},n.resolveTaskInputValueByProcessParameters=function(t,i){var r=n._resolveTaskInputValueByProcessParameters(t,i,n.oldProcParamRegex);return r.isResolved?r:n._resolveTaskInputValueByProcessParameters(t,i,n.newProcParamRegex)},n.getProcParamNameFromVariableName=function(n){var i=new RegExp("(^\\s*)("+u.ProcessParameterConstants.NewProcessParameterPrefix+")(\\.)(.*)(\\s*$)","i"),t=i.exec(n);return!!t&&t.length===6?t[4]?t[4].trim():ft.empty:n},n.getProcParamNameFromProcessParameter=function(t){var u=t?t.trim():ft.empty,f=n.newProcParamRegex,r=null,i=f.exec(u);return!i||i.length!==7||(r=i[5]?i[5].trim():ft.empty),r},n.convertSerializedDemandToDemandData=function(t){var r=[];return t&&t.length>0&&t.forEach(function(t){var f={name:ft.empty,condition:ft.empty,value:ft.empty},s,o;i.AppContext.instance().isCapabilitySupported(i.AppCapability.GreaterThanConditionInDemand)?e.DemandEqualsRegEx.test(t)?(f.condition=u.DemandCondition.Equals,s=t.split(e.DemandEqualsRegEx),s&&(f.name=s[0]==null?ft.empty:s[0],f.value=s[1]==null?ft.empty:s[1])):(f.name=t,f.condition=u.DemandCondition.Exists):(o=n._demandRegex.exec(t),o&&(f.name=o[1]?o[1]:ft.empty,f.value=o[4]?o[4]:ft.empty,f.condition=ft.equals(u.DemandCondition.Equals,o[3])?u.DemandCondition.Equals:u.DemandCondition.Exists));r.push(f)}),r},n.convertSerializedDemandToDeploymentGroupDemandData=function(t){var i=[];return n.convertSerializedDemandToDemandData(t).forEach(function(n){n&&i.push({name:n.name,value:n.condition===u.DemandCondition.Exists?n.condition:n.value,machinesMissingDemand:[]})}),i},n.convertDemandDataToSerializedDemand=function(t){var i=[];return t&&t.length>0&&t.forEach(function(t){switch(t.condition){case u.DemandCondition.Exists:i.push(t.name.trim());break;case u.DemandCondition.Equals:i.push(ft.localeFormat(n._formatEqualsString,t.name.trim(),t.value.trim()))}}),i},n.isQualifiedMachine=function(n,t){if(!n)return!(t&&t.length>0);return t.every(function(t){return rt.contains(n,t,ft.localeIgnoreCaseComparer)?!0:!1})},n.removeItemFromList=function(n,t){var i={items:null,removedItem:null,nextItem:null};return i.items=n.filter(function(r,u){if(ft.equals(r.getKey(),t)){i.removedItem=r;var f=u===n.length-1?u-1:u+1;return f>=0&&(i.nextItem=n[f]),!1}return!0}),i},n.scrollElementToView=function(n,t,i){window.requestAnimationFrame&&window.requestAnimationFrame(function(){n&&(et.Positioning.scrollIntoViewVertical($(n),t||et.Positioning.VerticalScrollBehavior.Default),i&&i())})},n.isNumberInRange=function(n,t,i,r){return n===null||n===undefined?!1:r&&!ut.isPositiveNumber(n)?!1:ut.defaultComparer(n,t)>=0&&ut.defaultComparer(n,i)<=0},n.isValidNonNegativeNumberInRange=function(n,t,i){if(t===void 0&&(t=0),n===null||n===undefined)return r.InputState.Invalid_NonPositiveNumber;var u=parseInt(n,10),f=u.toString()===n&&this.isNumberInRange(u,t,i);return f?r.InputState.Valid:r.InputState.Invalid_NonPositiveNumber},n.isValidNumber=function(n){if(!n)return!1;var t=parseInt(n,10);return t.toString()===n},n.isValidNonNegativeIntegerInRange=function(n,t,i,u){var f,e;return(t===void 0&&(t=0),u===void 0&&(u=!1),f=this.getInteger(n),isNaN(f)||u&&f.toString()!==n)?r.InputState.Invalid_NonPositiveNumber:(e=this.isNumberInRange(f,t,i),e?r.InputState.Valid:r.InputState.Invalid_NonPositiveNumber)},n.isValidInteger=function(n,t,i){var r=this.getInteger(n);return isNaN(r)?!1:t&&!ut.isPositiveNumber(n)?!1:i&&r.toString()!==n?!1:!0},n.areIntegersEqual=function(n,t){var i=this.getInteger(n),r=this.getInteger(t);return isNaN(i)&&isNaN(r)||i===r},n.getInteger=function(n){return(n=n?n.trim():null,!n||!this.validIntegerRegex.test(n))?NaN:parseInt(n,10)},n.isValueInVariableFormat=function(n){return n===null||n===undefined?!1:n.match(this._variableFormatRegex)===null?!1:!0},n.getValueForCaseInsensitiveKey=function(n,t){var i=Object.keys(n);return i.forEach(function(n){if(ft.ignoreCaseComparer(n,t)===0)return t=n,!1}),n[t]},n.getUrlForExtension=function(n,t,i,r){var u=w.getPageContext(),o=u.webContext.collection.uri,s=u.webContext.project.name,f="",e;return u.navigation.topMostLevel===p.NavigationContextLevels.Team&&(f=w.getPageContext().webContext.team.name),e=o+s+(!f?"":"/"+f),this._getExtensionActionUrlFragment(e,n,t,i,r).replace("#","?")},n.fixEmptyAndRecurringStringValuesInArray=function(n){n=n||[];var t={},i=[];return n.forEach(function(n){var r=n.trim(),u;!r||(u=r.toLowerCase(),t[u]||(t[u]=!0,i.push(r)))}),i},n.fixEmptyAndRecurringValuesInDelimitedString=function(n){var t=n.split(u.CommaSeparator);return(this.fixEmptyAndRecurringStringValuesInArray(t)||[]).join(u.CommaSeparator)},n.isURLType=function(n){return this._absolutePathRegex.test(n)},n.getBoolValue=function(n){return ft.ignoreCaseComparer(n,"true")===0?!0:!1},n.getTaskInOrder=function(n,t){var i=[];return t?(t.forEach(function(t){rt.contains(n,t)&&i.push(t)}),i):i},n.isTaskSupportedForTaskGroup=function(n,t){switch(n){case a.TaskGroupType.RunOnAgent:return this._canTaskRunOnAgent(t);case a.TaskGroupType.RunOnServer:return this.canTaskRunOnServer(t);case a.TaskGroupType.RunOnMachineGroup:return this._canTaskRunOnMachineGroup(t);case a.TaskGroupType.RunOnAny:return!0;case a.TaskGroupType.RunsOnServerGate:return this._canTaskRunOnServerGate(t)}return!1},n.getRefFriendlyName=function(t){return t&&t&&t.indexOf(n._headsRef)===0?t.substring(n._headsRef.length):t},n.getFullRefNameFromBranch=function(n){return this._getFullRefName(n,h.BranchFilterType.BranchName)},n.getFullRefNameFromTag=function(n){return this._getFullRefName(n,h.BranchFilterType.TagName)},n.isNullOrWhiteSpace=function(n){return!n||n.trim().length===0},n.isValidStringLength=function(n,t){return!(this.isNullOrWhiteSpace(n)||n.length>t)},n.checkValidStringLengthErrorMessage=function(n,t,i){return this.isNullOrWhiteSpace(n)?c.RequiredInputErrorMessage:n.length>t?i:ft.empty},n.getRunThisTaskInputDefinition=function(){var n={defaultValue:ft.empty,groupName:u.CONTROL_OPTIONS_GROUP,helpMarkDown:c.ConditionSelectorTooltip,label:c.ConditionSelectorLabelText,name:u.TaskControlOptionsConstants.ControlOptionsInputName_ConditionSelector,options:{},properties:{},required:!1,type:r.INPUT_TYPE_PICK_LIST,visibleRule:undefined};return n.options[u.TaskConditions.Succeeded]=c.ConditionSelector_AllSucceeded,n.options[u.TaskConditions.SucceededOrFailed]=i.AppContext.instance().isCapabilitySupported(i.AppCapability.Build)?c.ConditionSelector_SucceededOrFailedInBuild:c.ConditionSelector_SucceededOrFailedInRelease,n.options[u.TaskConditions.Always]=i.AppContext.instance().isCapabilitySupported(i.AppCapability.Build)?c.ConditionSelector_RunAlwaysInBuild:c.ConditionSelector_RunAlwaysInRelease,n.options[u.TaskConditions.Failed]=c.ConditionSelector_Failed,n.options[u.TaskConditions.Custom]=c.ConditionSelector_CustomCondition,n},n.getCustomConditionInputDefinition=function(){return{defaultValue:ft.empty,groupName:u.CONTROL_OPTIONS_GROUP,helpMarkDown:c.ConditionSelectorCustomConditionTooltip,label:c.ConditionSelectorCustomInputLabel,name:u.TaskControlOptionsConstants.ControlOptionsInputName_ConditionEditor,options:{},properties:{},required:!1,type:r.INPUT_TYPE_STRING,visibleRule:ft.format("{0} = {1}",u.TaskControlOptionsConstants.ControlOptionsInputName_ConditionSelector,u.TaskConditions.Custom),validation:{}}},n.getTaskConditionOptions=function(){return[u.TaskConditions.Succeeded,u.TaskConditions.SucceededOrFailed,u.TaskConditions.Always,u.TaskConditions.Failed,u.TaskConditions.Custom]},n.canTaskRunOnServer=function(n){return!!n&&rt.contains(n,a.TaskRunsOnConstants.RunsOnServer,ft.localeIgnoreCaseComparer)},n.isFeatureFlagEnabled=function(n){return!!n&&d.FeatureAvailabilityService.isFeatureEnabled(n,!1)},n.isFeatureStateEnabled=function(n){return!!n&&it.getService(g.FeatureManagementService).isFeatureEnabled(n)},n.registertShortcuts=function(){ot.using(["VSS/Controls/KeyboardShortcuts"],function(n){var t=n.ShortcutManager.getInstance();t.registerShortcut(c.EditorShortKeyGroup,o.InputControlShortKeys.HelpShortKey,{description:c.HelpShortKey,action:function(){},element:document.body,allowPropagation:!0});i.AppContext.instance().isCapabilitySupported(i.AppCapability.LinkProcessParameters)&&t.registerShortcut(c.EditorShortKeyGroup,o.InputControlShortKeys.LinkShortKey,{description:c.TaskInputLinkShortKey,action:function(){},element:document.body,allowPropagation:!0});t.registerShortcut(c.EditorShortKeyGroup,s.ItemListShortKeys.MoveSelectedItemUp,{description:i.AppContext.instance().isCapabilitySupported(i.AppCapability.MultiplePhases)?c.ShiftTaskOrPhaseUpShortKey:c.ShiftTaskUpShortKey,action:function(){},element:document.body,allowPropagation:!0});t.registerShortcut(c.EditorShortKeyGroup,s.ItemListShortKeys.MoveSelectedItemDown,{description:i.AppContext.instance().isCapabilitySupported(i.AppCapability.MultiplePhases)?c.ShiftTaskOrPhaseDownShortKey:c.ShiftTaskDownShortKey,action:function(){},element:document.body,allowPropagation:!0})})},n.unregisterShortcuts=function(){ot.using(["VSS/Controls/KeyboardShortcuts"],function(n){var t=n.ShortcutManager.getInstance();t.unRegisterShortcut(c.EditorShortKeyGroup,o.InputControlShortKeys.HelpShortKey);i.AppContext.instance().isCapabilitySupported(i.AppCapability.LinkProcessParameters)&&t.unRegisterShortcut(c.EditorShortKeyGroup,o.InputControlShortKeys.LinkShortKey);t.unRegisterShortcut(c.EditorShortKeyGroup,s.ItemListShortKeys.MoveSelectedItemUp);t.unRegisterShortcut(c.EditorShortKeyGroup,s.ItemListShortKeys.MoveSelectedItemDown)})},n.prefetchModulesInAsyncMode=function(n){ot.using(n,function(){})},n.insertItemInList=function(n,t){if(n&&n.sourceItem&&n.sourceItem.data){var i=0;return n.targetItem&&n.targetItem.data&&(i=rt.findIndex(t,function(t){return t&&t.getKey()===n.targetItem.data.getKey()}),n.shouldInsertBefore||(i=i+1)),t.splice(i,0,n.sourceItem.data),t}return null},n.removeInvalidRefNameCharacters=function(n){var r=ft.empty,i,t;if(n)for(i=0;i<n.length;i++)t=n.charAt(i),(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="_")&&(r=r+t);return r},n.isValidRefName=function(n){var i,t;if(n){for(i=0;i<n.length;i++)if(t=n.charAt(i),!(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="_"))return!1}else return!1;return!0},n.isSimplePicklistValueInvalidOption=function(t,i,u){return!(t&&(t[r.INPUT_TYPE_PROPERTY_MULTI_SELECT]&&t[r.INPUT_TYPE_PROPERTY_MULTI_SELECT].toLowerCase()===r.BOOLEAN_TRUE||t[r.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST]&&t[r.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST].toLowerCase()===r.BOOLEAN_TRUE||t[r.INPUT_TYPE_PROPERTY_EDITABLE_OPTIONS]&&t[r.INPUT_TYPE_PROPERTY_EDITABLE_OPTIONS].toLowerCase()===r.BOOLEAN_TRUE))&&!n.isValuePresentInOptions(i,u)?!0:!1},n.isValuePresentInOptions=function(n,t){var i,r;if(!n)return!1;t=t||ft.empty;i=!1;for(r in n)if(n.hasOwnProperty(r)){if(ft.localeIgnoreCaseComparer(r,t)===0){i=!0;break}if(ft.localeIgnoreCaseComparer(n[r],t)===0){i=!0;break}}return i},n.resolveProcessParameterEndpoint=function(n,t){var r=null,i;return n&&n.inputs&&n.inputs.length>0&&(i=rt.first(n.inputs,function(n){return ft.ignoreCaseComparer(n.name,t)===0}),i&&(r=i.defaultValue)),r},n.convertMinutesToDuration=function(n,t){return t=t===undefined||t===null||t>l.TimeUnits.Days?l.TimeUnits.Days:t,t<l.TimeUnits.Minutes&&(t=l.TimeUnits.Minutes),n!==null&&n!==undefined?n%l.TimeConstants.MinutesInDay==0&&t>=l.TimeUnits.Days?{value:(n/l.TimeConstants.MinutesInDay).toString(),unit:l.TimeUnits.Days}:n%l.TimeConstants.MinutesInHour==0&&t>=l.TimeUnits.Hours?{value:(n/l.TimeConstants.MinutesInHour).toString(),unit:l.TimeUnits.Hours}:{value:n.toString(),unit:l.TimeUnits.Minutes}:void 0},n.convertToDuration=function(t){return n.convertMinutesToDuration(t)},n.convertToTimeoutInMinutes=function(t){if(!!t&&!!t.value&&t.unit!==null&&t.unit!==undefined){if(n.isValidInteger(t.value)){var i=n.getInteger(t.value);switch(t.unit){case l.TimeUnits.Days:return(i*l.TimeConstants.MinutesInDay).toString();case l.TimeUnits.Hours:return(i*l.TimeConstants.MinutesInHour).toString();case l.TimeUnits.Minutes:return i.toString();default:return i.toString()}}return t.value}},n.getDurationDiffInMinutes=function(t,i){var r=n.convertDurationToNumberInMinutes(t),u=n.convertDurationToNumberInMinutes(i);return isNaN(r)||isNaN(u)?NaN:r-u},n.convertDurationToNumberInMinutes=function(t){return n.getInteger(n.convertToTimeoutInMinutes(t))},n.convertMinutesToValidDuration=function(t,i,r,u,f,e){u===void 0&&(u=0);f===void 0&&(f=l.TimeUnits.Minutes);u=u===undefined||u===null?0:u;f=f===undefined||f===null?l.TimeUnits.Minutes:f;var o={value:u.toString(),unit:f};return t!==undefined&&t!==null&&n.isNumberInRange(t,i,r)&&(o=t===0?{value:t.toString(),unit:f}:n.convertMinutesToDuration(t,e)),o},n.isDurationInMinutesRange=function(t,i,r){return n.isNumberInRange(n.convertDurationToNumberInMinutes(t),i,r)},n.isDurationInRange=function(t,i,r){return n.isDurationInMinutesRange(t,i,r)},n.isRetryableError=function(n){return!!n&&(n===502||n===503||n===504)},n.isTaskInputSearchable=function(n){return n&&n.properties&&(ft.equals(n.properties[r.Properties.IsSearchable],"true",!0)||n.properties[r.Properties.SearchDataSourceName])?!0:!1},n.getSearchDataSourceName=function(n){var t=ft.empty;return n&&n.properties&&n.properties[r.Properties.SearchDataSourceName]&&(t=n.properties[r.Properties.SearchDataSourceName]),t},n.isNewServiceConnectionUXEnabled=function(){var t=n.isFeatureStateEnabled(r.NewServiceConnectionUXConstants.FeatureId),i=!!it.getService(k.WebPageDataService).getPageData(r.NewServiceConnectionUXConstants.FeatureDataProviderId);return t||i},n._resolveTaskInputValueByProcessParameters=function(n,t,i){var o=n?n.toString().trim():ft.empty,r={actualValue:n,resolvedValue:n,isResolved:!1},u=i.exec(o),f,e;return!u||u.length!==7||(f=u[5]?u[5].trim():ft.empty,f&&(e=f.toLowerCase(),t.hasOwnProperty(e)&&(r.isResolved=!0,r.resolvedValue=t[e],r.boundProcessParameterName=f))),r},n._canTaskRunOnAgent=function(n){return!n||n.length===0||rt.contains(n,a.TaskRunsOnConstants.RunsOnAgent,ft.localeIgnoreCaseComparer)},n._canTaskRunOnMachineGroup=function(n){return!!n&&(rt.contains(n,a.TaskRunsOnConstants.RunsOnMachineGroup,ft.localeIgnoreCaseComparer)||rt.contains(n,a.TaskRunsOnConstants.RunsOnDeploymentGroup,ft.localeIgnoreCaseComparer))},n._canTaskRunOnServerGate=function(n){return!!n&&rt.contains(n,a.TaskRunsOnConstants.RunsOnServerGate,ft.localeIgnoreCaseComparer)},n._getExtensionActionUrlFragment=function(n,t,i,r,u){var e=tt.getHistoryService().getFragmentActionLink(i,r),f;return u&&(f=it.getLocalService(nt.HubsService).getHubById(t),!!f&&!!f.uri)?f.uri+e:n+this._getExtensionUrl(t)+e},n._getExtensionUrl=function(n){return"/_apps/hub/".concat(n)},n._getFullRefName=function(n,t){var i=this._getTrimmedValue(n),r=i;return(i.indexOf("refs/")!==0||i.indexOf("*")<0)&&(t===h.BranchFilterType.TagName?r=this._getFullRefNameFromTag(i):t===h.BranchFilterType.BranchName&&(r=this._getFullRefNameFromBranch(i))),r},n._getTrimmedValue=function(n){var t=n||ft.empty;return t.trim()},n._getFullRefNameFromBranch=function(n){return this._headsRef+n},n._getFullRefNameFromTag=function(n){return this._tagsRef+n},n._absolutePathRegex=/^(?:\/|[A-Za-z]+:\/\/)/,n._demandRegex=/^([^\s]+)(\s+\-([^\s]+)\s+(.*))?/,n._variableFormatRegex=new RegExp("(^\\$\\()(\\s*)(.+)(\\)$)"),n.oldProcParamRegex=new RegExp("(^\\$\\()(\\s*)("+u.ProcessParameterConstants.OldProcessParameterPrefix+")(\\.)(.*)(\\)$)","i"),n.newProcParamRegex=new RegExp("(^\\$\\()(\\s*)("+u.ProcessParameterConstants.NewProcessParameterPrefix+")(\\.)(.*)(\\)$)","i"),n.validIntegerRegex=/^(\+|\-)?\d+(\.[0]*)?$/,n._formatString="{0}-{1}",n._formatEqualsString="{0} -equals {1}",n._headsRef="refs/heads/",n._tagsRef="refs/tags/",n}();t.DtcUtils=st});

define("DistributedTaskControls/Clients/TaskAgentRestClient",["require","exports","TFS/DistributedTask/TaskAgentRestClient","TFS/DistributedTask/Contracts"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.TaskAgentRestClient=void 0;var u=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getDeploymentGroupsWithContinuationToken=function(n,t,i,u,f,e,o){var s={name:t,actionFilter:i,$expand:u,continuationToken:f,$top:e,ids:o&&o.join(",")};return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"distributedtask",locationId:"083c4d89-ab35-45af-aa11-7cf66895c53e",resource:"deploymentgroups",routeTemplate:"{project}/_apis/{area}/{resource}/{deploymentGroupId}",responseType:r.TypeInfo.DeploymentGroup,responseIsCollection:!0,routeValues:{project:n},queryParams:s,apiVersion:this.deploymentgroupsApiVersion}).spread(function(n,t,i){return{deploymentGroups:n,continuationToken:i.getResponseHeader("x-ms-continuationtoken")}})},t.prototype.getDeploymentGroupsMetricsWithContinuationToken=function(n,t,i,u){var f={deploymentGroupName:t,continuationToken:i,$top:u};return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"distributedtask",locationId:"281c6308-427a-49e1-b83a-dac0f4862189",resource:"deploymentgroupsmetrics",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{resource}",responseType:r.TypeInfo.DeploymentGroupMetrics,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:this.deploymentgroupsApiVersion}).spread(function(n,t,i){return{deploymentGroupsMetrics:n,continuationToken:i.getResponseHeader("x-ms-continuationtoken")}})},t.prototype.getDeploymentTargetsWithContinuationToken=function(n,t,i,u,f,e,o,s,h,c,l){var a={tags:i&&i.join(","),name:u,partialNameMatch:f,$expand:e,agentStatus:o,agentJobResult:s,continuationToken:h,$top:c,enabled:l};return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"distributedtask",locationId:"2f0aa599-c121-4256-a5fd-ba370e0ae7b6",resource:"targets",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{deploymentGroupId}/{resource}",responseType:r.TypeInfo.DeploymentMachine,responseIsCollection:!0,routeValues:{project:n,deploymentGroupId:t.toString()},queryParams:a,apiVersion:this.deploymentgroupsApiVersion}).spread(function(n,t,i){return{deploymentTargets:n,continuationToken:i.getResponseHeader("x-ms-continuationtoken")}})},t}(i.TaskAgentHttpClient);t.TaskAgentRestClient=u});

define("ReleasePipeline/Scripts/Clients/ReleaseClient",["require","exports","q","VSS/WebApi/Constants","VSS/Service","VSS/Context","ReleaseManagement/Core/Contracts","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleaseManagement/Core/RestClient","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils"],function(n,t,i,r,u,f,e,o,s,h){function v(){if(!a){var n=f.getDefaultWebContext(),t=new u.VssConnection(n);a=t.getService(l)}return a}var c,l,a;Object.defineProperty(t,"__esModule",{value:!0});t.getReleaseService=t.ReleaseManagementService=t.ReleaseManagementHttpClient=void 0;c=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.getReleasesWithContinuationToken=function(n,t,i,r,u,f,o,s,h,c,l,a,v,y,p,w,b,k){var d={definitionId:t,definitionEnvironmentId:i,searchText:r,statusFilter:u,environmentStatusFilter:f,minCreatedTime:o,maxCreatedTime:s,queryOrder:h,$top:c,continuationToken:l,$expand:a,sourceBranchFilter:v,propertySelectors:y,isDeleted:p,releaseIdFilter:w,tagFilter:b,createdBy:k};return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",responseType:e.TypeInfo.Release,responseIsCollection:!0,routeValues:{project:n},queryParams:d,apiVersion:this.releasesApiVersion}).spread(function(n,t,i){return{releases:n,continuationToken:i.getResponseHeader("x-ms-continuationtoken")}})},t.prototype.getDeploymentsWithContinuationToken=function(n,t,i,r,u,f,o,s,h,c,l,a){var v={definitionId:t,definitionEnvironmentId:i,createdBy:r,deploymentStatus:u,operationStatus:f,latestAttemptsOnly:a,queryOrder:o,$top:s,continuationToken:h,minStartedTime:c,maxStartedTime:l};return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"Release",locationId:"b005ef73-cddc-448e-9ba2-5193bf36b19f",resource:"deployments",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:e.TypeInfo.Deployment,responseIsCollection:!0,routeValues:{project:n},queryParams:v,apiVersion:this.deploymentsApiVersion}).spread(function(n,t,i){return{deployments:n,continuationToken:i.getResponseHeader("x-ms-continuationtoken")}})},t.prototype.getReleaseDefinitionsWithContinuationToken=function(n,t,i,r,u,f,o,s,h){h===void 0&&(h=null);var c={searchText:t,$expand:i,$top:r,continuationToken:u,queryOrder:f,propertySelectors:o,definitionIdFilter:s,path:h};return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:e.TypeInfo.ReleaseDefinition,responseIsCollection:!0,routeValues:{project:n},queryParams:c,apiVersion:this.definitionsApiVersion}).spread(function(n,t,i){return{definitions:n,continuationToken:i.getResponseHeader("x-ms-continuationtoken")}})},t.prototype.updateReleaseDefinitionWithApiVersion=function(n,t,i){return this._beginRequestWithAjaxResult({httpMethod:"PUT",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",requestType:e.TypeInfo.ReleaseDefinition,responseType:e.TypeInfo.ReleaseDefinition,routeValues:{project:t},apiVersion:i,data:n})},t.prototype._beginRequest=function(t,i){return i===void 0&&(i=!1),!!this.DeploymentAuthorizationInfoList&&o.ArrayHelper.hasItems(this.DeploymentAuthorizationInfoList)&&(t.customHeaders||(t.customHeaders={}),t.customHeaders["x-rm-deploymentauthorization"]=JSON.stringify(this.DeploymentAuthorizationInfoList)),n.prototype._beginRequest.call(this,t,i)},t}(s.ReleaseHttpClient);t.ReleaseManagementHttpClient=c;l=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(i){n.prototype.initializeConnection.call(this,i);var u=f.getPageContext().webAccessConfiguration.isHosted;this._httpClient=u?i.getHttpClient(c,t.serviceInstanceId):i.getHttpClient(c,r.ServiceInstanceTypes.TFS)},t.prototype.getHttpClient=function(){return this._httpClient},t.prototype.setDeploymentAuthorizationHeader=function(n){this._httpClient.DeploymentAuthorizationInfoList=n},t.prototype.beginGetReleaseDefinitions=function(n,t,i,r,u,f,o,s){s===void 0&&(s=null);var c=this._getProjectName(),l=t;return t||(t=e.ReleaseDefinitionExpands.Environments),this.getHttpClient().getReleaseDefinitionsWithContinuationToken(c,n,l,i,r,u,f,o,s).then(function(n){return n.definitions.forEach(function(n){h.EnvironmentDefinitionHelper.sortEnvironmentsByRank(n.environments)}),n})},t.prototype.beginGetReleaseDefinitionHistory=function(n){var t=this._getProjectName();return this.getHttpClient().getReleaseDefinitionHistory(t,n)},t.prototype.beginGetReleaseHistory=function(n){var t=this._getProjectName();return this.getHttpClient().getReleaseHistory(t,n)},t.prototype.beginGetReleaseRevision=function(n,t){var i=this._getProjectName();return this.getHttpClient().getReleaseRevision(i,n,t)},t.prototype.beginGetReleaseDefinitionRevision=function(n,t){var i=this._getProjectName();return this.getHttpClient().getReleaseDefinitionRevision(i,n,t)},t.prototype.beginGetReleaseDefinitionsForArtifactSource=function(n,t,i,r,u){return r||(r=this._getProjectName()),u||(u=e.ReleaseDefinitionQueryOrder.IdAscending),this.getHttpClient().getReleaseDefinitions(r,null,i,n,t,null,null,u)},t.prototype.beginGetProjects=function(n,t){return this.getHttpClient().getReleaseProjects(n,t)},t.prototype.beginGetReleaseDefinition=function(n,t){var u,r;return u=t?t:this._getProjectName(),r=i.defer(),this.getHttpClient().getReleaseDefinition(u,n).then(function(n){h.EnvironmentDefinitionHelper.sortEnvironmentsByRank(n.environments);r.resolve(n)},function(n){r.reject(n)}),r.promise},t.prototype.beginDeleteReleaseDefinition=function(n,t,i){var r=this._getProjectName();return this.getHttpClient().deleteReleaseDefinition(r,n,t,i)},t.prototype.beginGetReleaseDefinitionSummary=function(n,t,i,r){r===void 0&&(r=null);var u=this._getProjectName();return this.getHttpClient().getReleaseDefinitionSummary(u,n,t,i,r)},t.prototype.beginGetRelease=function(n,t,i){var r=this._getProjectName();return this.getHttpClient().getRelease(r,n,t,i)},t.prototype.beginGetReleaseEnvironment=function(n,t){var i=this._getProjectName();return this.getHttpClient().getReleaseEnvironment(i,n,t)},t.prototype.beginGetReleasesForArtifact=function(n,t,i,r){return n===null?this.getHttpClient().getReleases(null,null,null,null,null,null,null,null,null,null,null,null,e.ReleaseExpands.Environments|e.ReleaseExpands.Approvals,t,i,r):this.getHttpClient().getReleases(n,null,null,null,null,null,null,null,null,null,null,null,e.ReleaseExpands.Environments|e.ReleaseExpands.Approvals,t,i,r)},t.prototype.beginGetIssues=function(n,t,i){var r=this._getProjectName();return this.getHttpClient().getIssues(r,t,i)},t.prototype.beginGetAutoTriggerIssues=function(n,t,i,r){return this.getHttpClient().getAutoTriggerIssues(t,i,r,n)},t.prototype.beginGetReleaseWorkItems=function(n,t,i,r){var u=this._getProjectName();return this.getHttpClient().getReleaseWorkItemsRefs(u,n,t,i,r)},t.prototype.beginGetReleaseChanges=function(n,t,i,r){var u=this._getProjectName();return this.getHttpClient().getReleaseChanges(u,n,t,i,r)},t.prototype.beginGetReleasesWithContinuationToken=function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){var b=this._getProjectName();return this.getHttpClient().getReleasesWithContinuationToken(b,n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w)},t.prototype.beginUpdateRelease=function(n){var t=this._getProjectName();return this.getHttpClient().updateRelease(n,t,n.id)},t.prototype.beginPatchRelease=function(n,t,i,r){var u=this._getProjectName();this.getHttpClient().updateReleaseResource(t,u,n).then(i,r)},t.prototype.beginDeleteRelease=function(n,t){var i=this._getProjectName();return this.getHttpClient().deleteRelease(i,n,t)},t.prototype.beginUndeleteRelease=function(n,t){var i=this._getProjectName();return this.getHttpClient().undeleteRelease(i,n,t)},t.prototype.beginDownloadLog=function(n,t,i,r){var u=this._getProjectName();return this.getHttpClient().getTaskLog(u,n,t,i,r)},t.prototype.beginDownloadLog2=function(n,t,i,r,u){var f=this._getProjectName();return this.getHttpClient().getTaskLog2(f,n,t,i,r,u)},t.prototype.beginDownloadGateLog=function(n,t,i,r){var u=this._getProjectName();return this.getHttpClient().getGateLog(u,n,t,i,r)},t.prototype.beginGetTasks=function(n,t,i){var r=this._getProjectName();return this.getHttpClient().getTasksForTaskGroup(r,n,t,i)},t.prototype.beginGetTasks2=function(n,t,i,r){var u=this._getProjectName();return this.getHttpClient().getTasks2(u,n,t,i,r)},t.prototype.beginPatchApproval=function(n,t){var i=this._getProjectName();return this.getHttpClient().updateReleaseApproval(t,i,n)},t.prototype.beginPatchApprovals=function(n){var t=this._getProjectName();return this.getHttpClient().updateReleaseApprovals(n,t)},t.prototype.beginGetReleaseApprovals=function(n,t,i){var r=this._getProjectName();return this.getHttpClient().getApprovals(r,n,t,i,null,null,null,null,!0)},t.prototype.beginListEnvironmentTemplates=function(){var n=this._getProjectName();return this.getHttpClient().listDefinitionEnvironmentTemplates(n)},t.prototype.beginGetEnvironmentTemplate=function(n){var t=this._getProjectName();return this.getHttpClient().getDefinitionEnvironmentTemplate(t,n)},t.prototype.beginSaveEnvironmentTemplate=function(n){var t=this._getProjectName();return this.getHttpClient().createDefinitionEnvironmentTemplate(n,t)},t.prototype.beginDeleteEnvironmentTemplate=function(n){var t=this._getProjectName();return this.getHttpClient().deleteDefinitionEnvironmentTemplate(t,n)},t.prototype.beginGetFlightAssignments=function(n){return this.getHttpClient().getFlightAssignments(n)},t.prototype.beginCreateReleaseDefinition=function(n){var t=this._getProjectName();return this.getHttpClient().createReleaseDefinition(n,t)},t.prototype.beginSaveReleaseDefinition=function(n){var t=this._getProjectName();return this.getHttpClient().updateReleaseDefinition(n,t)},t.prototype.beginCreateRelease=function(n,t){var i;return i=t?t:this._getProjectName(),this.getHttpClient().createRelease(n,i)},t.prototype.beginPatchReleaseEnvironment=function(n,t,i,r,u){var e=this._getProjectName(),f={status:i,scheduledDeploymentTime:null,comment:r};return u&&Object.keys(u).length>0&&(f.variables=u),this.getHttpClient().updateReleaseEnvironment(f,e,n,t)},t.prototype.beginPatchReleaseEnvironmentScheduledDeploymentTime=function(n,t,i){var r=this._getProjectName();return this.getHttpClient().updateReleaseEnvironment({status:e.EnvironmentStatus.Undefined,scheduledDeploymentTime:i,comment:undefined},r,n,t)},t.prototype.beginGetArtifactTypes=function(){var n=this._getProjectName();return this.getHttpClient().getArtifactTypeDefinitions(n)},t.prototype.beginGetDefinitionArtifactsVersion=function(n,t){var i=t||this._getProjectName();return this.getHttpClient().getArtifactVersions(i,n)},t.prototype.beginGetArtifactsVersion=function(n){var t=this._getProjectName();return this.getHttpClient().getArtifactVersionsForSources(n,t)},t.prototype.beginPostInputValuesQuery=function(n){var t=this._getProjectName();return this.getHttpClient().getInputValues(n,t)},t.prototype.beginGetReleaseApproval=function(n,t){var i=this._getProjectName();return this.getHttpClient().getApproval(i,n,t)},t.prototype.beginGetApprovalHistory=function(n){var t=this._getProjectName();return this.getHttpClient().getApprovalHistory(t,n)},t.prototype.beginGetSummaryMailSections=function(n){var t=this._getProjectName();return this.getHttpClient().getSummaryMailSections(t,n)},t.prototype.beginSendSummaryMail=function(n,t){var i=this._getProjectName();return this.getHttpClient().sendSummaryMail(t,i,n)},t.prototype.beginGetManualIntervention=function(n,t){var i=this._getProjectName();return this.getHttpClient().getManualIntervention(i,n,t)},t.prototype.beginGetManualInterventions=function(n){var t=this._getProjectName();return this.getHttpClient().getManualInterventions(t,n)},t.prototype.beginUpdateManualIntervention=function(n,t,i){var r=this._getProjectName();return this.getHttpClient().updateManualIntervention(n,r,t,i)},t.prototype.beginGetSourceBranches=function(n){var t=this._getProjectName();return this.getHttpClient().getSourceBranches(t,n)},t.prototype.beginUpdateGates=function(n,t){var i=this._getProjectName();return this.getHttpClient().updateGates(t,i,n)},t.prototype.beginDeploymentsOnEnvironments=function(n){var t=this._getProjectName();return this.getHttpClient().getDeploymentsForMultipleEnvironments(n,t)},t.prototype.beginGetDeploymentsWithContinuationToken=function(n,t,i,r,u,f,e,o,s,h,c){var l=this._getProjectName();return this.getHttpClient().getDeploymentsWithContinuationToken(l,n,t,i,r,u,f,e,o,s,h,c)},t.prototype.beginGetReleaseSettings=function(){var n=this.getWebContext().project.id;return this.getHttpClient().getReleaseSettings(n)},t.prototype.beginUpdateReleaseSettings=function(n){var t=this.getWebContext().project.id;return this.getHttpClient().updateReleaseSettings(n,t)},t.prototype.beginGetQueuedReleases=function(n,t){return u.getClient(s.ReleaseHttpClient3_1).getQueuedReleases(n,t)},t.prototype.beginCreateFavorites=function(n,t,i){var r=this._getProjectName();return this._httpClient.createFavorites(n,r,t,i)},t.prototype.beginDeleteFavorites=function(n,t,i){var r=this._getProjectName();return this._httpClient.deleteFavorites(r,n,t,i)},t.prototype.beginGetFavorites=function(n,t){var i=this._getProjectName();return this._httpClient.getFavorites(i,n,t)},t.prototype.beginAddTag=function(n,t){return this._httpClient.addReleaseTag(this._getProjectName(),n,t)},t.prototype.beginDeleteTag=function(n,t){return this._httpClient.deleteReleaseTag(this._getProjectName(),n,t)},t.prototype.beginGetTags=function(){return this._httpClient.getTags(this._getProjectName())},t.prototype.beginGetDefinitionEnvironments=function(n){var t=this.getWebContext().project.id;return this._httpClient.getDefinitionEnvironments(t,n)},t.prototype.beginSaveReleaseDefinitionUsingApiVersion=function(n,t){var r=this,i=this._getProjectName(),u=n.id;return this.getHttpClient().updateReleaseDefinitionWithApiVersion(n,i,t).then(function(){return r.beginGetReleaseDefinition(u,i)})},t.prototype.beginUpdateFolder=function(n,t){var i=this._getProjectName();return this.getHttpClient().updateFolder(n,i,t)},t.prototype.beginGetReleaseDefinitionsfolders=function(n,t){var i=this._getProjectName();return this.getHttpClient().getFolders(i,n,t)},t.prototype.beginDeleteFolder=function(n){var t=this._getProjectName();return this.getHttpClient().deleteFolder(t,n)},t.prototype.beginCreateFolder=function(n,t){var i=this._getProjectName();return this.getHttpClient().createFolder(n,i,t)},t.prototype.beginGetTaskAttachments=function(n,t,i,r,u){var f=this._getProjectName();return this.getHttpClient().getReleaseTaskAttachments(f,n,t,i,r,u)},t.prototype.beginGetTaskAttachmentContent=function(n,t,i,r,u,f,e,o){var s=this._getProjectName();return this.getHttpClient().getReleaseTaskAttachmentContent(s,n,t,i,r,u,f,e,o).then(function(n){try{return h.FileEncoding.getStringFromArrayBuffer(n)}catch(t){return"Error Message: "+t}})},t.prototype._getProjectName=function(){var n=this.getWebContext().project.name;return!!n&&t.IllegalUrlPathCharsForCORS.some(function(t){return n.indexOf(t)>=0})?this.getWebContext().project.id:n},t.serviceInstanceId="0000000D-0000-8888-8000-000000000000",t.IllegalUrlPathCharsForCORS=["."],t}(u.VssService);t.ReleaseManagementService=l;t.getReleaseService=v});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.WebApiServices",["require","exports","q","VSS/VSS","VSS/Utils/String","VSS/Utils/Array","VSS/WebApi/RestClient","VSS/WebApi/Constants","VSS/Security/RestClient","VSS/Common/Contracts/Platform","VSS/Service","VSS/Context","VSS/Graph/RestClient","DistributedTaskControls/Clients/TaskAgentRestClient","TFS/ServiceEndpoint/ServiceEndpointRestClient","DistributedTasksCommon/ServiceEndpoints/VstsAadAuthorizer","TFS/DistributedTask/Contracts","ReleaseManagement/Core/RestClient","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","TFS/Build/Contracts"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt;Object.defineProperty(t,"__esModule",{value:!0});t.timeZones=t.initialServiceData=t.GraphService=t.ArtifactTypesService=t.TaskHttpClientService=t.DistributedTaskService=t.AgentPackageClient=t.DistributedTaskAgentClient=t.SecurityPermissionsService=t.VstsAadAuthorizerService=t.DashboardService=t.GitService=t.BuildService=t.WorkItemService=t.TestManagementService=void 0;tt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){var f=this,u;n.prototype.initializeConnection.call(this,t);u=i.defer();this._scriptLoadPromise=u.promise;r.using(["TFS/TestManagement/RestClient"],function(n){f._httpClient=t.getHttpClient(n.TestHttpClient,o.ServiceInstanceTypes.TFS);u.resolve(!0)})},t.prototype.getTestResultDetailsForRelease=function(n,t,i,r,u){var f=this;return this._scriptLoadPromise.then(function(){return f._httpClient.getTestResultDetailsForRelease(f._getProjectName(),n,t,i,r,u)})},t.prototype.queryTestResultsSummaryForReleases=function(n){var t=this;return this._scriptLoadPromise.then(function(){return t._httpClient.queryTestResultsSummaryForReleases(n,t._getProjectName())})},t.prototype._getProjectName=function(){return this.getWebContext().project.name},t}(c.VssService);t.TestManagementService=tt;it=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){var f=this,u;n.prototype.initializeConnection.call(this,t);u=i.defer();this._scriptLoadPromise=u.promise;r.using(["TFS/WorkItemTracking/RestClient"],function(n){f._httpClient=t.getHttpClient(n.WorkItemTrackingHttpClient,o.ServiceInstanceTypes.TFS);u.resolve(!0)})},t.prototype.beginGetWorkItems=function(n,t){var i=this;return this._scriptLoadPromise.then(function(){var r=n.map(function(n){return parseInt(n.id)});return i._httpClient.getWorkItems(r,t)})},t.prototype.beginGetWorkItemsInCurrentProject=function(n,t){var i=this;return this._scriptLoadPromise.then(function(){var r=n.map(function(n){return parseInt(n.id)});return i._httpClient.getWorkItems(r,t,null,null,null,i._getProjectName())})},t.prototype.beginGetWorkItemIcons=function(){var n=this;return this._scriptLoadPromise.then(function(){var t=[];return t.push(n._getProjectName()),n._httpClient.getWorkItemTypeColorAndIcons(t)})},t.prototype._getProjectName=function(){return this.getWebContext().project.name},t}(c.VssService);t.WorkItemService=it;rt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){var u=this,f;n.prototype.initializeConnection.call(this,t);f=i.defer();this._scriptLoadPromise=f.promise;r.using(["TFS/Build/RestClient"],function(n){u._httpClient=t.getHttpClient(n.BuildHttpClient2_2,o.ServiceInstanceTypes.TFS);u._httpClient23=t.getHttpClient(n.BuildHttpClient2_3,o.ServiceInstanceTypes.TFS);u._httpClient3=t.getHttpClient(n.BuildHttpClient3,o.ServiceInstanceTypes.TFS);f.resolve(!0)})},t.prototype.beginGetBuildDefinition=function(n,t,i){var r=this;return this._scriptLoadPromise.then(function(){return r._httpClient.getDefinition(n,t,null,null,i)})},t.prototype.beginGetBuildDefinitions=function(n,t,i){var r=this;return this._scriptLoadPromise.then(function(){return r._httpClient.getDefinitions(n,t,i)})},t.prototype.beginGetBuildDefinitions_2_3=function(n,t,i){var r=this;return this._scriptLoadPromise.then(function(){return r._httpClient23.getDefinitions(n,t,i)})},t.prototype.beginGetBuildDefinitionsWithFilters=function(n,t){var i=this;return this._scriptLoadPromise.then(function(){return i._httpClient3.getDefinitions(n,null,null,null,null,null,null,null,null,null,null,null,null,null,t)})},t.prototype.beginGetBuild=function(n,t){var i=this;return this._scriptLoadPromise.then(function(){return i._httpClient.getBuild(n,t)})},t.prototype.beginGetBuilds=function(n,t,i,r,u,f,e){var o=this;return this._scriptLoadPromise.then(function(){return o._httpClient.getBuilds(n,t,null,null,null,null,null,null,i,null,null,null,null,u,null,null,null,nt.BuildQueryOrder.FinishTimeDescending,e)})},t.prototype.beginGetBuildCommits=function(n,t){var i=this;return this._scriptLoadPromise.then(function(){return i._httpClient.getBuildChanges(n,t)})},t.prototype.beginGetProjectTags=function(n){var t=this;return this._scriptLoadPromise.then(function(){return t._httpClient.getTags(n)})},t.prototype.beginGetBuildsById=function(n,t){var i=this;return this._scriptLoadPromise.then(function(){return i._httpClient3.getBuilds(n,null,null,null,null,null,null,null,null,null,null,null,null,null,null,nt.QueryDeletedOption.ExcludeDeleted,null,null,t)})},t}(c.VssService);t.BuildService=rt;ut=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._branchesCache=null,t}return __extends(t,n),t.prototype.initializeConnection=function(t){var f=this,u;n.prototype.initializeConnection.call(this,t);u=i.defer();this._scriptLoadPromise=u.promise;r.using(["TFS/VersionControl/GitRestClient"],function(n){f._httpClient=t.getHttpClient(n.GitHttpClient,o.ServiceInstanceTypes.TFS);u.resolve(!0)})},t.prototype.getBranchNames=function(n){var t=this;return this._scriptLoadPromise.then(function(){return t._branchesCache=i.defer(),t._httpClient.getRefs(n,null,"heads").then(function(n){n.sort(d.GitHelper.compareRefs);t._branchesCache.resolve(n)}),t._branchesCache.promise})},t.prototype.getMyBranchNames=function(n){var t=this;return this._scriptLoadPromise.then(function(){var r=function(n){return n.name.indexOf("refs/heads/")===0};return t._branchesCache=i.defer(),t._httpClient.getRefs(n,null,null,!1,!1,!0).then(function(n){n=n.filter(r);n.sort(d.GitHelper.compareRefs);t._branchesCache.resolve(n)}),t._branchesCache.promise.then(d.GitHelper.refsToFriendlyNames)})},t}(c.VssService);t.GitService=ut;ft=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){var f=this,u;n.prototype.initializeConnection.call(this,t);u=i.defer();this._scriptLoadPromise=u.promise;r.using(["TFS/Dashboards/RestClient"],function(n){f._dashboardClient=t.getHttpClient(n.DashboardHttpClient2_2,o.ServiceInstanceTypes.TFS);u.resolve(!0)})},t.prototype.getDashboardGroup=function(n,t){var i=this;return this._scriptLoadPromise.then(function(){return i._dashboardClient.getDashboardGroup(n,t)})},t.prototype.createWidget=function(n,t,i,r){var u=this;return this._scriptLoadPromise.then(function(){return u._dashboardClient.createWidget(n,t,i,r)})},t}(c.VssService);t.DashboardService=ft;et=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._vstsAadAuthorizerClient=t.getService(p.VstsAadAuthorizer)},t.prototype.authorize=function(n,t,i,r){return i===void 0&&(i=w.AadLoginPromptOption.FreshLogin),this._vstsAadAuthorizerClient.authorize(n,t,i,u.empty,!1,r)},t}(c.VssService);t.VstsAadAuthorizerService=et;ot=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._httpClient=l.getPageContext().webAccessConfiguration.isHosted?t.getHttpClient(s.SecurityHttpClient,b.ReleaseHttpClient.serviceInstanceId):t.getHttpClient(s.SecurityHttpClient)},t.prototype.hasPermission=function(n,t,i,r){return this._httpClient.hasPermissions(t,i,n,r).then(function(n){return n[0]})},t.prototype.listPermissions=function(n,t,r,u){var f=i.defer(),e,o;return g.ArrayHelper.hasItems(n)?(e=n.map(function(n){return{permissions:r,securityNamespaceId:t,token:n}}),o={alwaysAllowAdministrators:u||!1,evaluations:e},this._httpClient.hasPermissionsBatch(o).then(function(n){var t=n.evaluations.map(function(n){return n.value});f.resolve(t)},function(n){f.reject(n)})):f.resolve([]),f.promise},t}(c.VssService);t.SecurityPermissionsService=ot;st=function(){function n(){}return n.getCollectionTaskAgentClient=function(){if(!n._collectionDistributedTaskClient){var t=new c.VssConnection(l.getDefaultWebContext(),h.ContextHostType.ProjectCollection);n._collectionDistributedTaskClient=t.getHttpClient(v.TaskAgentRestClient,o.ServiceInstanceTypes.TFS)}return n._collectionDistributedTaskClient},n.getCollectionServiceEndpointClient=function(){if(!n._collectionServiceEndpointClient){var t=new c.VssConnection(l.getDefaultWebContext(),h.ContextHostType.ProjectCollection);n._collectionServiceEndpointClient=t.getHttpClient(y.ServiceEndpointHttpClient,o.ServiceInstanceTypes.TFS)}return n._collectionServiceEndpointClient},n.getTaskDefinitionsPromise=function(r){return r===void 0&&(r=!1),!t.initialServiceData||!t.initialServiceData.taskDefinitionsCache||!g.ArrayHelper.hasItems(t.initialServiceData.taskDefinitionsCache)||r||(n._taskDefinitionsPromise=i.resolve(t.initialServiceData.taskDefinitionsCache.filter(function(n){return n.definitionType!=="metaTask"})),f.removeWhere(t.initialServiceData.taskDefinitionsCache,function(n){return n.definitionType!=="metaTask"})),(!n._taskDefinitionsPromise||r)&&(n._taskDefinitionsPromise=n.getCollectionTaskAgentClient().getTaskDefinitions(null,[],null)),n._taskDefinitionsPromise},n}();t.DistributedTaskAgentClient=st;ht=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.beginGetPackage=function(n){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"8ffcd551-079c-493a-9c02-54346299d144",routeValues:{packageType:n}})},t}(e.VssHttpClient);t.AgentPackageClient=ht;ct=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){var f=this,u;n.prototype.initializeConnection.call(this,t);u=i.defer();this._scriptLoadPromise=u.promise;r.using(["TFS/DistributedTask/TaskRestClient"],function(n){f._httpClient=t.getHttpClient(n.TaskHttpClient,b.ReleaseHttpClient.serviceInstanceId);u.resolve(!0)})},t.prototype.beginGetPlanAttachments=function(n,t){var r=this;return u.isEmptyGuid(n)?i.resolve([]):this._scriptLoadPromise.then(function(){var i=l.getDefaultWebContext().project.id;return r._httpClient.getPlanAttachments(i,k.ReleasesHub,n,t)})},t.prototype.getQueuedPlanGroups=function(n,t){var i=this,r=l.getDefaultWebContext().project.id;return this._scriptLoadPromise.then(function(){return i._httpClient.getQueuedPlanGroups(r,k.ReleasesHub,n,t)})},t.prototype.getQueuedPlanGroup=function(n){var t=this,i=l.getDefaultWebContext().project.id;return this._scriptLoadPromise.then(function(){return t._httpClient.getQueuedPlanGroup(i,k.ReleasesHub,n)})},t.prototype.getPlanGroupsQueueMetrics=function(){var n=this,t=l.getDefaultWebContext().project.id;return this._scriptLoadPromise.then(function(){return n._httpClient.getPlanGroupsQueueMetrics(t,k.ReleasesHub)})},t.prototype.beginGetAttachmentContent=function(n,t){var r=this;return u.isEmptyGuid(n)||!t?i.resolve(u.empty):this._scriptLoadPromise.then(function(){var i=l.getDefaultWebContext().project.id;return r._httpClient.getAttachmentContent(i,k.ReleasesHub,n,t.timelineId,t.recordId,t.type,t.name).then(function(n){try{return d.FileEncoding.getStringFromArrayBuffer(n)}catch(t){return"Error Message: "+t}})})},t.prototype.beginGetTimelines=function(n,t){var i=this,r=l.getDefaultWebContext().project.id;return this._scriptLoadPromise.then(function(){return i._httpClient.getTimelines(r,n,t)})},t.prototype.beginGetTimelineRecords=function(n,t,i){var r=this,u=l.getDefaultWebContext().project.id;return this._scriptLoadPromise.then(function(){return r._httpClient.getRecords(u,n,t,i)})},t}(c.VssService);t.DistributedTaskService=ct;lt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t,u,f){var s=this,e;u===void 0&&(u=o.ServiceInstanceTypes.TFS);f===void 0&&(f=k.BuildsHub);n.prototype.initializeConnection.call(this,t);this._hubName=f;e=i.defer();this._scriptLoadPromise=e.promise;r.using(["TFS/DistributedTask/TaskRestClient"],function(n){var i=h.ContextHostType.ProjectCollection;t.getHostType()!==i&&(t=new c.VssConnection(l.getDefaultWebContext(),i));s._httpClient=t.getHttpClient(n.TaskHttpClient,u);e.resolve(!0)})},t.prototype.getQueuedPlanGroups=function(n,t){var i=this;return this._scriptLoadPromise.then(function(){return i._httpClient.getQueuedPlanGroups(null,i._hubName,n,t)})},t}(c.VssService);t.TaskHttpClientService=lt;at=function(){function n(n){this._releaseManagementService=n}return n.prototype.getArtifactTypes=function(){return n._getArtifactTypesPromise||(n._getArtifactTypesPromise=!t.initialServiceData||!t.initialServiceData.artifactTypesCache?this._releaseManagementService.beginGetArtifactTypes():i.resolve(t.initialServiceData.artifactTypesCache)),n._getArtifactTypesPromise},n.prototype.queryInputValues=function(n){return this._releaseManagementService.beginPostInputValuesQuery(n)},n}();t.ArtifactTypesService=at;vt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._httpClient=t.getHttpClient(a.GraphHttpClient,o.ServiceInstanceTypes.SPS)},t.prototype.beginCreateGroup=function(n){return this._httpClient.createGroup({originId:n})},t.prototype.beginCreateUser=function(n){return this._httpClient.createUser({originId:n})},t.prototype.beginGetStorageKey=function(n){return this._httpClient.getStorageKey(n)},t}(c.VssService);t.GraphService=vt;r.tfsModuleLoaded("TFS.ReleaseManagement.WebApiServices",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.TelemetryUtils",["require","exports","VSS/Diag","VSS/Telemetry/Services","VSS/Utils/String"],function(n,t,i,r,u){var f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt;Object.defineProperty(t,"__esModule",{value:!0});t.TelemetryService=t.TaskGroupEvents=t.TaskGroupFeatures=t.InvalidTaskInReleaseDefinitionFeature=t.TaskDefinitionCacheEmptyFeature=t.DefinitionEnvironmentFeatures=t.EnvironmentSummary=t.ReleaseFeatures=t.ReleaseDefinitionFeatures=t.ReleaseDefinitionEventValues=t.ReleaseEventValues=t.EventValues=t.SignalREventTypes=t.SignalRProperties=t.ReleaseProperties=t.EventProperties=t.Events=void 0;f="Release";e=function(){function n(){}return n.cancelClick="Cancel_Click",n.click="Click",n.okClick="Ok_Click",n}();t.Events=e;o=function(){function n(){}return n.templateId="TemplateId",n.templateName="TemplateName",n.artifactSource="ArtifactSource",n.ciEnabled="CIEnabled",n.approval="Approval",n.orinalApproval="OriginalApproval",n.triggerEnabled="TriggerEnabled",n.sourceOfCall="SourceOfCall",n.releaseId="ReleaseId",n.releaseEnvId="ReleaseEnvironmentId",n.releaseDefinitionId="ReleaseDefinitionId",n.releaseDefinitionEnvId="ReleaseDefinitionEnvironmentId",n.action="Action",n}();t.EventProperties=o;s=function(){function n(){}return n.releaseId="ReleaseId",n.hasTests="HasTests",n}();t.ReleaseProperties=s;h=function(){function n(){}return n.eventType="EventType",n.reconnectDelay="ReconnectDelay",n.reconnectCount="ReconnectCount",n.errorMessage="ErrorMessage",n}();t.SignalRProperties=h;c=function(){function n(){}return n.reconnected="Reconnected",n.reconnecting="Reconnecting",n.connectionSlow="ConnectionSlow",n.startConnectionError="StartConnectionError",n.disconnected="Disconnected",n.error="Error",n}();t.SignalREventTypes=c;l=function(){function n(){}return n.manual="Manual",n.automated="Automated",n.explorer="ReleaseExplorer",n.anchorLink="AnchorLink",n.build="Build",n.overview="Overview",n.dashboardLink="DashboardLink",n.releaseSummary="ReleaseSummary",n}();t.EventValues=l;a=function(){function n(){}return n.environmentSummary="EnvironmentSummary",n}();t.ReleaseEventValues=a;v=function(){function n(){}return n.getStarted="GettingStarted",n.guidanceLink="GuidanceLink",n.codeHubSetupReleaseButton="CodeHubSetupReleaseButton",n.noArtifactLinked="None",n}();t.ReleaseDefinitionEventValues=v;y=function(){function n(){}return n.createNew="RD_CreateNew",n.createCompleted="RD_CreateCompleted",n.templateSelect="RD_TemplateSelect",n.settings="RD_Settings",n}();t.ReleaseDefinitionFeatures=y;p=function(){function n(){}return n.openRelease="Release_View",n.navigateToReleaseView="Release_View_Navigation",n.signalR="SignalR",n}();t.ReleaseFeatures=p;w=function(){function n(){}return n.cancelClick="ES_CancelClick",n.openEnvironmentSummary="ES_Open",n}();t.EnvironmentSummary=w;b=function(){function n(){}return n.cloneSettings="DE_CloneSettings",n.cloneCompleted="DE_CloneCompleted",n.templateSelect="DE_AddTemplateSelect",n.addSettings="DE_AddSettings",n.addCompleted="DE_AddCompleted",n}();t.DefinitionEnvironmentFeatures=b;k=function(){function n(){}return n.FeatureName="TaskDefinitionCacheEmpty",n.MessageKey="MessageKey",n.ObjectContentKey="ObjectContent",n}();t.TaskDefinitionCacheEmptyFeature=k;t.InvalidTaskInReleaseDefinitionFeature="InvalidTaskInReleaseDefinition";d=function(){function n(){}return n.refreshTaskList="TG_RefreshList",n.importTaskGroup="TG_Import",n.exportTaskGroup="TG_Export",n.deleteTaskGroup="TG_Delete",n.saveAsDraft="TG_SaveAsDraft",n.publishDraftAsPreview="TG_PublishDraftAsPreview",n.publishDraft="TG_PublishDraft",n.publishPreview="TG_PublishPreview",n}();t.TaskGroupFeatures=d;g=function(){function n(){}return n.success="TG_Success",n.failure="TG_Failure",n}();t.TaskGroupEvents=g;nt=function(){function n(){}return n.prototype.publishEvent=function(n,t,e){i.logVerbose("[TelemetryService.publishEvent]: method called.");i.logVerbose(u.format("[TelemetryService.publishEvent]: feature: {0}",n));try{r.publishEvent(r.TelemetryEventData.fromProperty(f,n,t,e))}catch(o){i.logError(u.format("[TelemetryService.publishEvent]: Error in publishing event to telemetry service. Error: {0}",o.message))}},n.prototype.publishEvents=function(n,t){i.logVerbose("[TelemetryService.publishEvents]: method called.");i.logVerbose(u.format("[TelemetryService.publishEvents]: feature: {0}",n));try{r.publishEvent(new r.TelemetryEventData(f,n,t))}catch(e){i.logError(u.format("[TelemetryService.publishEvents]: Error in publishing events to telemetry service. Error: {0}",e.message))}},n.prototype.publishEventsWithElapsedTime=function(n,t,i,u){r.publishEvent(new r.TelemetryEventData(f,n,t,i,u))},n}();t.TelemetryService=nt});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Legacy.Ajax",["require","exports","VSS/VSS","VSS/Service","VSS/Diag/Services","VSS/Utils/Core","VSS/Utils/String","VSS/Diag","VSS/Resources/VSS.Resources.Common"],function(n,t,i,r,u,f,e,o,s){function nt(n,f,e,s,c){var l,v,p,a;if(o.logTracePoint("Ajax.response-received",c.requestId),r.getLocalService(u.ActivityStatsCollector).actionCompleted(g[c.requestId],e),delete g[ut],c.isComplete=!0,delete y[c.requestId],c.options!==null&&c.options!==undefined&&c.options.wait!==null&&c.options.wait!==undefined&&t.endWait(c),f!=="timeout"&&e&&e.status===203&&(l=e.getResponseHeader("X-Tfs-Location"),l)){if(v=l.indexOf("reply_to="),v!==-1){for(p=l.indexOf("&",v),a=l.substring(0,v),p!==-1&&(a+=l.substring(p));a.charAt(a.length-1)==="&";)a=a.substring(0,a.length-1);l=a+"&reply_to="+encodeURIComponent(window.location.href)}window.location.href=l;return}if(s)try{s(n,f,e)}catch(w){o.logTracePoint("Ajax.callback-exception",w);h(w)}o.logTracePoint("Ajax.callback-complete",c.requestId);c.progressActionId&&i.globalProgressIndicator.actionCompleted(c.progressActionId);c.options&&c.options.tracePoint&&o.logTracePoint(c.options.tracePoint)}function c(n,t){return function(i,r,u){nt(i,r,u,t,n)}}function a(n,i){return function(r,u,e){nt(null,u,r,function(){var n;if(u==="timeout")h(ht(r),i);else if(r.status===0)t.unloadRequested||t.unloading||f.delay(this,2e3,function(){t.unloadRequested||t.unloading||h(ft(r),i)});else if(r.status>=12e3&&r.status<13e3)t.unloadRequested||t.unloading||h(ft(r),i);else{if(t.unloading&&u==="abort")return;try{n=f.parseMSJSON(r.responseText,!1)}catch(o){}n?h(new Error(n.message),i):h(st(r,e||r.statusText||r.status),i)}},n)}}function l(n,f,e){var s,h,c;return s={isComplete:!1,requestId:ut++,options:e},e&&e.wait&&t.startWait(s),h=n+" ("+s.requestId+")",o.logTracePoint("Ajax.request-started",h),c=r.getLocalService(u.ActivityStatsCollector).actionStarted(n),g[s.requestId]=c,e&&e.showGlobalProgressIndicator===!1||(s.progressActionId=i.globalProgressIndicator.actionStarted(h)),y[s.requestId]=s,s}function et(n){var t=n.options.wait;t.entireWindow||(t.element.css("margin-top",-parseInt(t.target.css("padding-top"),10)),t.element.css("margin-left",-parseInt(t.target.css("padding-left"),10)),t.element.height(t.target.outerHeight()),t.element.width(t.target.outerWidth()));t.msgElement&&(t.msgElement.css("top",t.element.position().top+(t.element.height()-t.msgElement.height())/2+parseInt(t.element.css("margin-top"),10)),t.msgElement.css("left",t.element.position().left+(t.element.width()-t.msgElement.width())/2+parseInt(t.element.css("margin-left"),10)))}function tt(n){var t;return typeof n=="string"&&(n=n.replace(/\u2028/g,"\\u2028")),t=f.parseMSJSON(n,!1),t.hasOwnProperty("__wrappedArray")&&(t=t.__wrappedArray),t}function ct(){t.unloadRequested=!0;f.delay(this,2e3,function(){t.unloadRequested=!1})}function lt(n,t,i,r,u){var f=l(n,t,u),e={type:"GET",data:t,success:c(f,i),error:a(f,r),dataType:"json",traditional:!0,timeout:b};return d.allowArrayResult||(e.converters={"text json":tt}),f.xhr=jQuery.ajax(n,$.extend(e,u)),f}function ot(n,t,i,r,u,f){var h,o,e,y,s,p;if(d.byPassAntiForgery||(t=$.extend(t||{},{__RequestVerificationToken:w()}),h=v(),h&&(t=$.extend(t,{__RequestVerificationToken2:h}))),o=l(n,t,u),u&&u.timeout&&(b=u.timeout),e={type:"POST",data:t,success:c(o,i),error:a(o,r),dataType:"json",traditional:!0,timeout:b},d.allowArrayResult||(e.converters={"text json":tt}),f)for(e.contentType=!1,e.processData=!1,e.data=new FormData,y=Object.keys(t),s=0;s<y.length;s++)p=y[s],e.data.append(p,t[p]);try{o.xhr=jQuery.ajax(n,$.extend(e,u))}catch(k){r(k)}return o}function at(n,t,i,r,u){return ot(n,t,i,r,u,!0)}function vt(n,t,i,r,u){var e,f;return t=$.extend(t,{__RequestVerificationToken:w()}),e=v(),e&&(t=$.extend(t,{__RequestVerificationToken2:e})),f=l(n,t,u),f.xhr=jQuery.ajax(n,$.extend({type:"POST",data:t,ajaxHandler:this,success:c(f,i),error:a(f,r),dataType:"html",traditional:!0,cache:!1},u)),f}function yt(n,t,i,r,u){var f=l(n,t,u);return f.xhr=jQuery.ajax(n,$.extend({type:"GET",data:t,success:c(f,i),error:a(f,r),dataType:"html",traditional:!0,cache:!1},u)),f}function pt(n){var t=l(n&&n.url,n&&n.data,n);return t.xhr=jQuery.ajax(n&&n.url,$.extend({type:"GET",dataType:"jsonp",traditional:!0,success:c(t,n&&n.callback)},n)),t}function w(){return it||(it=$("input[name=__RequestVerificationToken]").val()),it}function v(){return rt||(rt=$("input[name=__RequestVerificationToken2]").val()),rt}function wt(){var n,t;return n=$("<input />").attr("type","hidden").attr("name","__RequestVerificationToken").val(w()),t=v(),t&&n.after($("<input />").attr("type","hidden").attr("name","__RequestVerificationToken2").val(v())),n}function bt(n){var t=$(n);if(t.find("input[name=__RequestVerificationToken]").length===0)return t.append(wt())}var it,rt;Object.defineProperty(t,"__esModule",{value:!0});t.setAntiForgeryToken=t.getAntiForgeryTokenValue2=t.getAntiForgeryTokenValue=t.getJSONp=t.getHTML=t.postHTML=t.multipartPostMSJSON=t.postMSJSON=t.getMSJSON=t.msJSONFilter=t.beginRequest=t.wrapErrorCallback=t.wrapSuccessCallback=t.endRequest=t.Exceptions=t.endWait=t.startWait=t.unloadRequested=t.unloading=void 0;t.unloading=!1;t.unloadRequested=!1;var ut=1,b=3e5,h=i.handleError,y,k,d={allowArrayResult:!1,byPassAntiForgery:!1},g={},p;(function(n){n.AjaxException="TFS.Core.Ajax.AjaxException";n.AjaxTimeoutException="TFS.Core.Ajax.AjaxTimeoutException";n.NetworkException="TFS.Core.Ajax.NetworkException"})(p=t.Exceptions||(t.Exceptions={}));y={};var st=function(n,t){var i=new Error(e.format(s.AjaxRequestFailedWithStatus,t));return i.name=p.AjaxException,i.response=n.responseText,i.xhr=n,i},ht=function(n){var t=new Error(s.AjaxRequestTimedOut);return t.name=p.AjaxTimeoutException,t.status=n.status,t.xhr=n,t},ft=function(n){var t=new Error(s.NetworkConnectionUnavailable);return t.name=p.NetworkException,t.status=n.status,t.xhr=n,t};t.endRequest=nt;t.wrapSuccessCallback=c;t.wrapErrorCallback=a;t.beginRequest=l;t.startWait=function(n){var t=n.options.wait;t.end=function(){t.element&&n.isComplete&&!t.timeout&&(t.fade!==!1?(t.element.css("cursor","auto"),t.element.fadeOut("fast",function(){t.element.remove();t.element=null}),t.msgElement&&(t.msgElement.css("cursor","auto"),t.msgElement.fadeOut("fast",function(){t.msgElement.remove();t.msgElement=null}))):(t.element.css("cursor","auto"),t.element.remove(),t.element=null,t.msgElement&&(t.msgElement.css("cursor","auto"),t.msgElement.remove(),t.msgElement=null)),$(window).off("resize."+n.requestId))};t.showDelay||(t.showDelay=250);t.target||(t.entireWindow=!0,t.target=$("body"));t.target.children(".wait-element").hide();t.target.children(".wait-box").hide();t.showDelay!==0?n.showTimer=f.delay(this,t.showDelay,function(){delete n.showTimer;k(n)}):k(n)};t.endWait=function(n){n.options.wait.end();n.showTimer&&(n.showTimer.cancel(),delete n.showTimer)};k=function(n){var i="",r="",t=n.options.wait;t.image&&(i+='<img class="wait-image" src="'+t.image+'" />');t.message&&(i+='<div class="wait-message">'+t.message+"<\/div>");i.length>0&&(t.target.prepend('<div class="wait-box">'+i+"<\/div>"),t.msgElement=t.target.children(".wait-box").first());t.backgroundcolor&&(r+="background-color: "+t.backgroundcolor+";");t.target.prepend('<div class="wait-element" style="'+r+'"><\/div>');t.element=t.target.children(".wait-element").first();et(n);$(window).on("resize."+n.requestId,function(){et(n)});t.minLifetime||(t.minLifetime=100);t.timeout=f.delay(this,t.minLifetime,function(){delete t.timeout;t.end()})};t.msJSONFilter=tt;$(window).on("beforeunload",ct);$(window).on("unload",function(){t.unloading=!0;$.each(y,function(n,t){if(t.xhr)try{t.xhr.abort()}catch(i){}})});t.getMSJSON=lt;t.postMSJSON=ot;t.multipartPostMSJSON=at;t.postHTML=vt;t.getHTML=yt;t.getJSONp=pt;t.getAntiForgeryTokenValue=w;t.getAntiForgeryTokenValue2=v;t.setAntiForgeryToken=bt});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.TfsOM.Common",["require","exports","VSS/VSS","VSS/Diag","VSS/Service","VSS/Context","VSS/Common/Contracts/Platform","ReleasePipeline/Scripts/TFS.ReleaseManagement.Legacy.Ajax","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Array","VSS/Utils/UI","ReleasePipeline/Scripts/TFS.ReleaseManagement.Host.TfsContext"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){function it(n){var t=new Error(h.format("Favorite item '{0}' already exist.",n));return t.name=b.FavoriteItemAlreadyExist,t}function ut(n,t){var i;return i={area:"api"},t=t||n.navigation.topMostLevel,t>=a.NavigationContextLevels.Application&&(t<a.NavigationContextLevels.Team&&(i.ignoreDefaultTeam=!0,i.team=""),t<a.NavigationContextLevels.Project&&(i.project=""),t<a.NavigationContextLevels.Collection&&(i.serviceHost="")),i}var k,y,d,g,nt,et,v,tt,b,p,w,rt,ft;Object.defineProperty(t,"__esModule",{value:!0});t.FavoriteStore=t.FavoriteFolder=t.FavoriteItem=t.WebSettingsService=t.WebSettingsScope=t.LicenseFeatureIds=t.FeatureMode=t.FeatureLicenseService=t.ExtensionManagementService=t.TfsService=t.ProjectCollection=void 0;k=function(){function n(){}return n.getConnection=function(n){var t=n?n.contextData:f.getDefaultWebContext();return u.VssConnection.getConnection(t,e.ContextHostType.ProjectCollection)},n.getDefaultConnection=function(){return u.VssConnection.getConnection(f.getDefaultWebContext(),e.ContextHostType.ProjectCollection)},n}();t.ProjectCollection=k;y=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this.tfsConnection=t},t.prototype.getTfsContext=function(){if(!this._tfsContext){var n=this.getWebContext();this._tfsContext=n===f.getDefaultWebContext()?a.TfsContext.getDefault():new a.TfsContext(n)}return this._tfsContext},t.prototype.getCurrentServiceHost=function(){var n=this.getTfsContext(),t=this.getConnection().getHostType();return t===e.ContextHostType.ProjectCollection?n.navigation.collection:t===e.ContextHostType.Application?n.navigation.applicationServiceHost:n.navigation.serviceHost},t}(u.VssService);t.TfsService=y;d=function(n){function t(){var t=n.call(this)||this;return t._integrations=[{_properties:[{name:"name",value:"Advanced Code Editor"}],end_point:"tfs.source-control.file-viewer",handshake:1,loadBehavior:1,url:"{TfsRootPath}_BuiltInExtensions/_CodeEditor/Edit"},{_properties:[{name:"name",value:"Advanced Code Editor"}],end_point:"tfs.source-control.diff-viewer",handshake:1,loadBehavior:1,url:"{TfsRootPath}_BuiltInExtensions/_CodeEditor/Diff"}],t}return __extends(t,n),t.prototype.beginGetIntegrations=function(n,t){var u=this,i;this._processedRawIntegrations||($.each(this._integrations,function(n,t){t.url!=="undefined"&&(t.url=u._replaceUrlTokens(t.url));t.properties={};t._properties&&$.each(t._properties,function(n,i){i&&i.name&&(t.properties[i.name]=i.value)})}),this._processedRawIntegrations=!0);i=[];$.each(this._integrations,function(t,r){r.end_point===n&&i.push(r)});t.call(this,i)},t.prototype._replaceUrlTokens=function(n){return n?n.replace(t.TFS_ROOT_PATH_TOKEN,this._getTfsRootPath()):n},t.prototype._getTfsRootPath=function(){var n=this.getTfsContext();return n.contextData.account.uri},t.TFS_ROOT_PATH_TOKEN="{TfsRootPath}",t}(y);t.ExtensionManagementService=d;g=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._licenses=s.parseJsonIsland($(document),".feature-licenses",!1),t}return __extends(t,n),t.getDefaultService=function(){return u.getApplicationService(t)},t.isFeatureActive=function(n){return this.getDefaultService(a.TfsContext.getDefault()).getFeatureState(n)>=nt.Trial},t.prototype.getFeatureState=function(n){var t=n.toLowerCase();return this._licenses&&this._licenses.hasOwnProperty(t)&&this._licenses[t]},t}(y);t.FeatureLicenseService=g,function(n){n[n.Off=0]="Off";n[n.Advertising=1]="Advertising";n[n.Trial=2]="Trial";n[n.Licensed=3]="Licensed"}(nt=t.FeatureMode||(t.FeatureMode={})),function(n){n.Admin="65AC9DB3-BB0A-42fe-B584-A690FB0D817B";n.AdvancedBacklogManagement="CEDD6BE8-B717-4a0a-8BFD-C4E9B4CAA071";n.AdvancedHomePage="509B6940-9948-47e6-A392-99E0CA873F65";n.AdvancedPortfolioBacklogManagement="F1026762-C08D-4de3-9C17-7587296F3CFE";n.AgileBoards="181DDF83-AFAF-4982-97D9-870AE96BB8D3";n.BacklogManagement="EC7545A3-E5DB-40E8-B0D0-F64DF7619BBA";n.Build="D8BE799B-2716-4c4b-A939-E97C46A28CAA";n.ChartAuthoring="F01E607A-F55C-4038-8F4B-7956712DEA22";n.ChartViewing="A510D786-5E4B-432F-8C31-F9D7B42CF17E";n.ChatRooms="AE97B526-0D80-401E-9EC5-EA74BA543855";n.Code="2FF0A29B-5679-44f6-8FAD-F5968AE3E32E";n.Feedback="BB000720-4CF7-466A-BA47-1AB40B7A8DFB";n.PortfolioBacklogManagement="68DFF179-850A-4F20-A489-E6BD6E6A17EC";n.ReleaseManagement="321CEBB8-72F6-40E6-836D-47580566CCF4";n.Standard="D91355E2-2A55-4CBE-9636-4D73F70FBA7C";n.TestManagementForBasicUsers="2BAEE8C9-BB36-4DE1-B991-3C1B6B5CB2B5";n.TestManagementForExpressSku="2DD84BB6-7821-4FDE-85BA-A6CC4AB1B7E9";n.TestManagement="8D00EEB7-D5AD-4141-B601-FBB500F264BA";n.ViewMyWorkItems="4F5D9D44-EC3F-4AF1-921A-DEE2147C54DC"}(et=t.LicenseFeatureIds||(t.LicenseFeatureIds={})),function(n){n[n.User=1]="User";n[n.UserAndTeam=3]="UserAndTeam";n[n.Project=4]="Project";n[n.ProjectAndUser=5]="ProjectAndUser";n[n.Collection=6]="Collection";n[n.Root=7]="Root"}(v=t.WebSettingsScope||(t.WebSettingsScope={}));tt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.canAccessTeamSettings=function(){var n=this.getTfsContext();return Boolean(n.currentTeam)},t.prototype.beginWriteSetting=function(n,t,i,r,u,f){var e;return typeof t=="boolean"?e="setBoolean":typeof t=="number"?(t=Math.floor(t),e="setInteger"):(e="setString",typeof t=="undefined"?t=null:t!==null&&typeof t!="string"&&(t=$.param(t))),typeof i=="undefined"&&(i=v.User),o.postMSJSON(this._getApiLocation(e,this._getContext(i)),{path:n,value:t,scope:i},r,u,f)},t.prototype.beginReadSetting=function(n,t,i,r,u){return typeof t=="undefined"&&(t=v.User),o.getMSJSON(this._getApiLocation("readSetting",this._getContext(t)),{path:n,scope:t},i,r,u)},t.prototype.writeLocalSetting=function(n,t,i,u){var f=this._getScopedKey(n,i);if(f)try{window.localStorage.setItem(f,t)}catch(e){if(u)throw e;else r.logWarning("Local storage write failed."),r.logWarning(e)}},t.prototype.readLocalSetting=function(n,t,i){var u=this._getScopedKey(n,t);if(u)try{return window.localStorage.getItem(u)}catch(f){if(i)throw f;else r.logWarning("Local storage read failed."),r.logWarning(f)}return null},t.prototype._getScopedKey=function(n,t){var i=this.getTfsContext(),u=i.currentIdentity?i.currentIdentity.id:null,o=i.currentTeam?i.currentTeam.identity.id:null,e,f;switch(t){case v.User:return u+n;case v.UserAndTeam:return u+"/"+o+n;case v.Project:return f=i.navigation?i.navigation.projectId:null,e=i.navigation?i.navigation.collection.instanceId:null,e+"/"+f+n;case v.ProjectAndUser:return f=i.navigation?i.navigation.projectId:null,f+"/"+u+n;default:return null}},t.prototype._getApiLocation=function(n,t){return this.getTfsContext().getActionUrl(n,"webSettings",{area:"api",team:t.team,project:t.project,serviceHost:this.getCurrentServiceHost()})},t.prototype._getContext=function(n){return n===v.User||n===v.Collection?{team:"",project:""}:{team:this.getTfsContext().currentTeam.identity.id}},t}(y);t.WebSettingsService=tt,function(n){n.FavoriteItemAlreadyExist="VSS.Service.FavoriteItemAlreadyExist"}(b||(b={}));p=function(){function n(n,t){this.favStore=n;t&&(this.id=t.id,this.name=t.name,this.parentId=t.parentId,this.type=t.type,this.data=t.data)}return n.prototype.path=function(n){return l.calculateTreePath.call(this,n,"/","name","root")},n.prototype.beginRename=function(n,t,r){var u=this,f;this.parent&&this.parent.findChildItem(n,this.type,this.data)?i.handleError(it(n),r,this):(f=$.extend({},this),f.name=n,this.favStore.beginUpdateItems([f],function(){u.name=n;$(window).trigger("favorite-item-renamed",u);typeof t=="function"&&t.call(u,u)},r))},n.prototype.beginDelete=function(n,t,i){this.favStore.beginDeleteItems([this],n,t,i)},n.prototype.onDelete=function(n,t){!t&&this.parent&&this.parent.remove(this);delete this.favStore.all[this.id];n&&$(window).trigger("favorite-item-removed",this)},n.FAVITEM_TYPE_WIT_QUERYITEM="Microsoft.TeamFoundation.WorkItemTracking.QueryItem",n.FAVITEM_TYPE_WIT_QUERYCHART="Microsoft.TeamFoundation.WorkItemTracking.QueryChart",n.FAVITEM_TYPE_VC_PATH="Microsoft.TeamFoundation.VersionControl.Path",n.FAVITEM_TYPE_BUILD_DEFINITION="Microsoft.TeamFoundation.Build.Definition",n.FAVITEM_TYPE_TESTMANAGEMENT_CHART="Microsoft.Teamfoundation.TestManagement.Charts",n}();t.FavoriteItem=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.children=[],r}return __extends(t,n),t.prototype.add=function(n,t){this.children.push(n);n.parent=this;t||this.children.sort(function(n,t){return h.localeIgnoreCaseComparer(n.name,t.name)})},t.prototype.remove=function(n){c.remove(this.children,n)},t.prototype.clear=function(){this.children=[]},t.prototype.findByPath=function(n){return l.findTreeNode.call(this,n,"/",h.localeIgnoreCaseComparer,"name")},t.prototype.findByData=function(n){for(var i,t=0,u=this.children.length;t<u;t++)if(i=this.children[t],i.data===n)return i;return null},t.prototype.beginCreateNewFolder=function(n,t,i){this.beginCreateNewItem(n,null,null,t,i)},t.prototype.beginCreateNewItem=function(n,r,u,f,e,o){var s,h=this,c;(o===null||o===undefined)&&(o=!0);this.findChildItem(n,r,u)?i.handleError(it(n),e,this):(c={id:undefined,parentId:this.id,name:n,type:r,data:u},s=r?new p(this.favStore,c):new t(this.favStore,c),this.favStore.beginUpdateItems([s],function(){h.add(s);h.favStore.all[s.id]=s;o&&$(window).trigger("favorite-item-created",s);typeof f=="function"&&f.call(h,s)},e))},t.prototype.onDelete=function(t,i){$.each(this.children,function(n,t){t.onDelete(!1,!0)});n.prototype.onDelete.call(this,t,i)},t.prototype.findChildItem=function(n,t,i){for(var u,f=0,e=this.children.length;f<e;f++)if(u=this.children[f],h.localeIgnoreCaseComparer(n,u.name)===0&&u.type===t&&u.data===i)return u;return null},t}(p);t.FavoriteFolder=w;rt={};ft=function(n){function t(t,i,r,u,f,e){var o=n.call(this,null,{id:f,name:e})||this;return o.root=!0,o.favStore=o,o._tfsContext=t,o._routeData=i,o._identity=r,o._scope=u,o.all={},o}return __extends(t,n),t.computeStoreKey=function(n,t,i,r){return n.getActionUrl("list","favorites",$.extend({},r,{identityId:t,scope:i}))},t.createFavoriteStore=function(n,i,r,u,f){var e,o;return r===null&&(r=undefined),e=ut(n,i),o=t.computeStoreKey(n,r,u,e),new t(n,e,r,u,o,f)},t.beginGetFavoriteStore=function(n,r,u,f,e,o,s,h){var c,l;o?(c=t.createFavoriteStore(n,r,u,f,e),c.beginRefresh(function(){s(c)},h)):(l=t.computeStoreKey(n,u,f,ut(n,r)),i.queueRequest(this,rt,l,s,h,function(i,o){var s=t.createFavoriteStore(n,r,u,f,e);s.beginRefresh(function(){i(s)},o)}))},t.getFavoriteStore=function(n,i,r,u,f){return t.createFavoriteStore(n,i,r,u,f)},t.prototype.beginRefresh=function(n,t){var i,r=this;i=this._tfsContext.getActionUrl("list","favorites",this._routeData);o.getMSJSON(i,{identityId:this._identity,scope:this._scope},function(t){r._populateItems(t);typeof n=="function"&&n.call(r)},t)},t.prototype.beginDeleteItems=function(n,t,i,r){var e=this,u,f;(r===null||r===undefined)&&(r=!0);n&&n.length&&(f=this._tfsContext.getActionUrl("delete","favorites",this._routeData),u=$.map(n,function(n){return n.id}),o.postMSJSON(f,{identityId:this._identity,scope:this._scope,favItemIds:u},function(){$.each(n,function(n,t){t.onDelete(r)});typeof t=="function"&&t.call(e,n)},i))},t.prototype.beginUpdateItems=function(n,t,i){var r=this,u,f;n&&n.length&&(f=this._tfsContext.getActionUrl("update","favorites",this._routeData),u=$.map(n,function(n){return s.stringifyMSJSON({id:n.id,parentId:n.parentId===r.id?undefined:n.parentId,name:n.name,type:n.type,data:n.data})}),o.postMSJSON(f,{identityId:this._identity,scope:this._scope,favItemJsons:u},function(i){$.each(i,function(t,i){n[i.index].id=i.id});typeof t=="function"&&t.call(r,n)},i))},t.prototype._populateItems=function(n){var t={},r,i,u,f=this;this.clear();n&&(n.sort(function(n,t){return h.localeIgnoreCaseComparer(n.name,t.name)}),$.each(n,function(n,i){var r;r=i.type?new p(f,i):new w(f,i);t[r.id]=r}));for(r in t)t.hasOwnProperty(r)&&(i=t[r],u=t[i.parentId],u?u.add(i,!0):this.add(i,!0));this.all=t},t.FAVORITE_STORE_SCOPE_FAVORITE_QUERIES="WorkItemTracking.Queries",t.FAVORITE_STORE_SCOPE_FAVORITE_BUILD_DEFINITIONS="Build.Definitions",t.FAVORITE_STORE_SCOPE_FAVORITE_PATHS="VersionControl.Paths",t}(w);t.FavoriteStore=ft;i.tfsModuleLoaded("TFS.ReleaseManagement.TfsOM.Common",t)});

define("MachineManagement/RestClient",["require","exports","MachineManagement/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u){"use strict";function s(n){return window.VSS&&window.VSS.VssSDKRestVersion&&e[window.VSS.VssSDKRestVersion]?r.getClient(e[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(f,undefined,undefined,undefined,n)}var f,o,e;Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.MachineManagementHttpClient=t.MachineManagementHttpClient3_1=void 0;f=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getMachineConfiguration=function(n,t){return this._beginRequest({httpMethod:"GET",area:"mms",locationId:"50c4e238-51d9-4144-93cc-8a842315f95d",resource:"configuration",routeTemplate:"_apis/{area}/pools/{poolName}/{resource}/{instanceName}",routeValues:{poolName:n,instanceName:t},apiVersion:"3.1-preview.1"})},t.prototype.publishNotification=function(n,t){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"mms",locationId:"b770d7eb-cb9e-4d55-af35-4ce10d01dc1c",resource:"events",routeTemplate:"_apis/{area}/pools/{poolName}/{resource}",requestType:i.TypeInfo.MachinePoolEvent,routeValues:{poolName:t},apiVersion:"3.1-preview.1",data:n})},t.prototype.getPoolFriendlyImageNameList=function(){return this._beginRequest({httpMethod:"GET",area:"mms",locationId:"33e5d203-cc38-478b-a0a0-aad8d7cc04ed",resource:"images",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:"3.1-preview.1"})},t.prototype.registerMachineInstance=function(n,t,r,u,f,e,o){var s={imageName:u,imageVersion:f,provisioning:e,startProvisioning:o};return this._beginRequest({httpMethod:"POST",area:"mms",locationId:"80ed82a1-c9f1-41bf-95b6-8becc1a72b89",resource:"machineregistration",routeTemplate:"_apis/{area}/pools/{poolName}/machines/{instanceName}/{resource}",responseType:i.TypeInfo.MachineRegistrationResponseData,routeValues:{poolName:t,instanceName:r},queryParams:s,apiVersion:"3.1-preview.1",data:n})},t.prototype.updateMachineInstance=function(n,t,r,u,f,e,o,s){var h={state:u,enabled:f,imageName:e,imageVersion:o,provisioned:s};return this._beginRequest({httpMethod:"PATCH",area:"mms",locationId:"a67cc23a-6234-4f05-a75b-f08892603e86",resource:"machines",routeTemplate:"_apis/{area}/pools/{poolName}/{resource}/{instanceName}",responseType:i.TypeInfo.MachineInstance,routeValues:{poolName:t,instanceName:r},queryParams:h,apiVersion:"3.1-preview.1",data:n})},t.prototype.deleteMessage=function(n,t,i,r,u){var f={queueName:i,accessToken:r,messageId:u};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"mms",locationId:"b53c80e3-c3eb-4224-9294-82e773974c5a",resource:"messages",routeTemplate:"_apis/{area}/{poolName}/{instanceName}/{resource}",routeValues:{poolName:n,instanceName:t},queryParams:f,apiVersion:"3.1-preview.1"})},t.prototype.getMessage=function(n,t,i,r,u){var f={queueName:i,accessToken:r,lastMessageId:u};return this._beginRequest({httpMethod:"GET",area:"mms",locationId:"b53c80e3-c3eb-4224-9294-82e773974c5a",resource:"messages",routeTemplate:"_apis/{area}/{poolName}/{instanceName}/{resource}",routeValues:{poolName:n,instanceName:t},queryParams:f,apiVersion:"3.1-preview.1"})},t.prototype.getMachinePool=function(n,t){var i={propertyFilters:t};return this._beginRequest({httpMethod:"GET",area:"mms",locationId:"11ee58b6-3140-4a8d-a6dd-3e5093db23db",resource:"pools",routeTemplate:"_apis/{area}/{resource}/{poolName}",routeValues:{poolName:n},queryParams:i,apiVersion:"3.1-preview.1"})},t.prototype.requestAction=function(n,t,r){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"mms",locationId:"dc8c72f1-74e2-4788-98b0-26117efc38eb",resource:"requestaction",routeTemplate:"_apis/{area}/pools/{poolName}/{resource}/{requestId}",requestType:i.TypeInfo.RequestStateData,routeValues:{poolName:t,requestId:r},apiVersion:"3.1-preview.1",data:n})},t.prototype.queueRequest=function(n){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"mms",locationId:"658f89f4-f19c-464c-85a4-7ea6669d78e5",resource:"requests",routeTemplate:"_apis/{area}/{resource}/{requestId}",requestType:i.TypeInfo.MachineRequest,apiVersion:"3.1-preview.1",data:n})},t.prototype.getResource=function(n,t){return this._beginRequest({httpMethod:"GET",area:"mms",locationId:"37016efb-bdea-4ddf-9684-19098d11ebd4",resource:"resources",routeTemplate:"_apis/{area}/{requestType}/{resource}/{version}",responseType:i.TypeInfo.MachineRequestResource,routeValues:{requestType:n,version:t},apiVersion:"3.1-preview.1"})},t.prototype.getResources=function(n){return this._beginRequest({httpMethod:"GET",area:"mms",locationId:"37016efb-bdea-4ddf-9684-19098d11ebd4",resource:"resources",routeTemplate:"_apis/{area}/{requestType}/{resource}/{version}",responseType:i.TypeInfo.MachineRequestResource,responseIsCollection:!0,routeValues:{requestType:n},apiVersion:"3.1-preview.1"})},t.serviceInstanceId="00000040-0000-8888-8000-000000000000",t}(u.VssHttpClient);t.MachineManagementHttpClient3_1=f;o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(f);t.MachineManagementHttpClient=o;e={"3.1":f};t.getClient=s});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Manager",["require","exports","q","VSS/VSS","VSS/Service","VSS/Context","VSS/Performance","VSS/Contributions/LocalPageData","VSS/Common/Contracts/Platform","VSS/Utils/Array","VSS/Utils/String","VSS/WebApi/Constants","VSS/Events/Services","VSS/Navigation/HubsService","VSS/Authentication/RestClient","VSS/Authentication/Services","VSS/Security/RestClient","VSS/Locations","DistributedTasksCommon/TFS.Tasks.Models","DistributedTasksCommon/ServiceEndpoints/ServiceEndpoint.Common","DistributedTasksCommon/ServiceEndpoints/VstsAadAuthorizer","DistributedTaskControls/Common/Utilities","TFS/DistributedTask/Contracts","TFS/DistributedTask/Contracts","DistributedTaskControls/Clients/TaskAgentRestClient","TFS/Build/Contracts","ReleasePipeline/Scripts/Clients/ReleaseClient","ReleasePipeline/Scripts/TFS.ReleaseManagement.WebApiServices","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleaseManagement/Core/Contracts","ReleaseManagement/Core/RestClient","ReleasePipeline/Scripts/TFS.ReleaseManagement.TelemetryUtils","ReleasePipeline/Scripts/TFS.ReleaseManagement.TfsOM.Common","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleaseManagement/Core/Constants","MachineManagement/RestClient","TFS/Core/RestClient","VSS/ExtensionManagement/RestClient"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt){var gt,dt,ni,ti,ii,ri,ui,fi,ei,oi,si,hi,ci,li,ai,vi,yi,pi,wi,bi,ki,di,gi,nr,tr,ir,rr,ur,fr,er,or,sr,hr,cr;Object.defineProperty(t,"__esModule",{value:!0});t.ProjectManager=t.ExtensionDataManager=t.VariableGroupManager=t.HubLicenseManager=t.MachineGroupManager=t.TaskGroupManager=t.FeaturesManager=t.TelemetryServiceManager=t.QueueManager=t.AgentPoolManager=t.DashboardManager=t.GitManager=t.BuildManager=t.WorkItemsDetailsManager=t.TestResultsManager=t.ArtifactItemsManager=t.BranchesManager=t.ArtifactDefinitionManager=t.ManualInterventionManager=t.ReleaseApprovalManager=t.ArtifactsVersionManager=t.DeploymentsManager=t.ReleaseManager=t.ReleaseDefinitionManager=t.SummaryMailManager=t.TaskHttpClientManager=t.DistributedTasksManager=t.CustomerIntelligence=t.PermissionsManager=t.ReleaseManagementAuthorizationManager=t.TaskDefinitionResolver=t.DeploymentAuthorizationManager=t.BaseManager=t.DefaultClientFactory=void 0;gt=function(){function n(n){this._connection=n}return n.prototype.getReleaseManagementClient=function(){return this._connection.getService(ft.ReleaseManagementService)},n.prototype.getAuthClient=function(){return this._connection.getHttpClient(y.AuthenticationHttpClient,lt.ReleaseHttpClient.serviceInstanceId)},n.prototype.getSecurityPermissionClient=function(){return this._connection.getService(et.SecurityPermissionsService)},n.prototype.getPerformanceScenarioManager=function(){return e.getScenarioManager()},n.prototype.getDistributedTaskService=function(){return this._connection.getService(et.DistributedTaskService)},n.prototype.getTaskHttpClientService=function(){return this._connection.getService(et.TaskHttpClientService)},n.prototype.getCollectionTaskAgentClient=function(){return et.DistributedTaskAgentClient.getCollectionTaskAgentClient()},n.prototype.getCollectionServiceEndpointClient=function(){return et.DistributedTaskAgentClient.getCollectionServiceEndpointClient()},n.prototype.getAtrifactTypeClient=function(){return new et.ArtifactTypesService(dt.releaseManagementClient)},n.prototype.getTestManagementClient=function(){return this._connection.getService(et.TestManagementService)},n.prototype.getWorkItemClient=function(){return this._connection.getService(et.WorkItemService)},n.prototype.getGitClient=function(){return this._connection.getService(et.GitService)},n.prototype.getBuildClient=function(){return this._connection.getService(et.BuildService)},n.prototype.getDashboardClient=function(){return this._connection.getService(et.DashboardService)},n.prototype.getVstsAadAuthorizeClient=function(){return this._connection.getService(g.VstsAadAuthorizer)},n.prototype.getTelemetryClient=function(){return new at.TelemetryService},n.prototype.getTaskDefinitions=function(n){return et.DistributedTaskAgentClient.getTaskDefinitionsPromise(n)},n.prototype.getMachineManagementClient=function(){return this._connection.getHttpClient(wt.MachineManagementHttpClient)},n.prototype.getExtensionManagementClient=function(){return u.getClient(kt.ExtensionManagementHttpClient)},n.prototype.getProjectManagementClient=function(){return this._connection.getHttpClient(bt.CoreHttpClient)},n}();t.DefaultClientFactory=gt;dt=function(){function n(t){n.webContext||(t?(n.webContext=t.webContext||f.getDefaultWebContext(),n.releaseManagementClient=t.releaseManagementClient):n.webContext=f.getDefaultWebContext());n.clientFactory||(n.tfsConnection=new u.VssConnection(n.webContext),n.clientFactory=new gt(n.tfsConnection));n.releaseManagementClient||(n.releaseManagementClient=n.clientFactory.getReleaseManagementClient())}return n}();t.BaseManager=dt;ni=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._distributedTaskClient||(i._distributedTaskClient=dt.clientFactory.getCollectionTaskAgentClient()),i}return __extends(t,n),t.prototype.getVstsAadTenantId=function(){return this._distributedTaskClient.getVstsAadTenantId()},t.prototype.getDeploymentAuthInfo=function(n){var r=this,i=[],t={};return!!n&&ot.ArrayHelper.hasItems(n)&&(n.map(function(n){var i=r.GetTenantIdFromEndpoint(n);!i||(t[i]||(t[i]=[]),t[i].push(n.url))}),Object.keys(t).forEach(function(n){i.push({tenantId:n,resources:t[n],vstsAccessTokenKey:"",authorizationHeaderFor:ct.AuthorizationHeaderFor.OnBehalfOf,completeCallbackPayload:""})})),i},t.prototype.GetTenantIdFromEndpoint=function(n){var i=c.empty,t;return!n||!n.authorization||!n.authorization.parameters||(t=h.first(Object.keys(n.authorization.parameters),function(n){return c.ignoreCaseComparer(n,d.EndpointAuthorizationParameters.TenantId)===0}),!t||(i=n.authorization.parameters[t])),i},t.prototype.authenticateToAad=function(n,t){var f=this,r=i.defer(),u;return!!n&&ot.ArrayHelper.hasItems(n)?(u=[],n.forEach(function(n){u.push(f._authenticate(n,t))}),i.all(u).then(function(n){r.resolve(n)},function(n){r.reject(n)})):r.resolve([]),r.promise},t.prototype.getUniqueSubscriptionNames=function(n){var t=[];return ot.ArrayHelper.hasItems(n)&&n.map(function(n){!n.data||!n.data.subscriptionName||t.push(n.data.subscriptionName)}),t},t.prototype._authenticate=function(n,t){var o=f.getDefaultWebContext(),r=i.defer(),y=o.collection.uri,h=o.project.id,u=y+h+"/_admin/_services/completecallback",l=c.empty,e=tt.AadLoginPromptOption.FreshLogin,a,v;return ot.FeatureFlagUtils.isDistributedTaskRevalidateIdentityFeatureEnabled()&&(e=tt.AadLoginPromptOption.FreshLoginWithMfa),n.authorizationHeaderFor===ct.AuthorizationHeaderFor.RevalidateApproverIdentity&&(a=b.urlHelper.getMvcUrl({serviceInstanceId:lt.ReleaseHttpClient.serviceInstanceId,level:s.NavigationContextLevels.Project,area:"release",action:"AadOauthCallback"}),u="".concat(a,"?tenantId=").concat(n.tenantId,"&projectId=").concat(h,"&authorizationFor=").concat(n.authorizationHeaderFor),ot.FeatureFlagUtils.isCompleteAadOAuthCallbackByAuthCodeFeatureEnabled()&&(l=b.urlHelper.getMvcUrl({serviceInstanceId:lt.ReleaseHttpClient.serviceInstanceId,level:s.NavigationContextLevels.Project,area:"release",action:"GetReleaseApprovalOAuthUrl",queryParams:{tenantId:n.tenantId,redirectUri:u,promptOption:"".concat(e),completeCallbackPayload:t,completeCallbackByAuthCode:"".concat(ot.FeatureFlagUtils.isCompleteAadOAuthCallbackByAuthCodeFeatureEnabled())}}))),v=dt.clientFactory.getVstsAadAuthorizeClient(),v.authorize(n.tenantId,u,e,t,ot.FeatureFlagUtils.isCompleteAadOAuthCallbackByAuthCodeFeatureEnabled(),l).then(function(t){n.vstsAccessTokenKey=t;r.resolve(n)},function(n){r.reject(n)}),r.promise},t.prototype._queryServiceEndpointInUse=function(n,t,i){var r=[],u=t.filter(function(n){return n.enabled});return u.forEach(function(t){var u=n.TryResolveTaskReference(t.taskId),f;!u||(f=u.inputs.filter(function(n){return c.caseInsensitiveContains(n.type,"connectedservice:")}).map(function(n){return n.name}),f.forEach(function(n){var f=t.inputs[n],u,e,o;!f||(u=c.empty,e=nt.DtcUtils.getProcParamNameFromProcessParameter(f),u=i&&e?nt.DtcUtils.resolveProcessParameterEndpoint(i,e):f,u&&(o=h.first(r,function(n){return c.ignoreCaseComparer(n,u)===0}),o||r.push(u)))}))}),r},t.prototype._getTaskDefinitions=function(){return dt.clientFactory.getTaskDefinitions(!1)},t}(dt);t.DeploymentAuthorizationManager=ni;ti=function(){function n(n){var t=this;this._taskMap={};n.forEach(function(n){t._taskMap[n.id]||(t._taskMap[n.id]=[]);t._taskMap[n.id].push(n)})}return n.prototype.TryResolveTaskReference=function(n){return this._taskMap[n]&&this._taskMap[n].length>0?this._taskMap[n][0]:null},n}();t.TaskDefinitionResolver=ti;ii=function(n){function t(i){var r=__construct(this,n,[i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._isHosted=f.getPageContext().webAccessConfiguration.isHosted,r._isHosted&&(r._authTokenManager=p.getAuthTokenManager(t._liveLogsTokenProviderKey)),r}return __extends(t,n),t.prototype.getLiveLogsAuthToken=function(){var n=i.defer();return this._isHosted?this._authTokenManager.getAuthToken(!1,f.getDefaultWebContext()).then(function(t){n.resolve(t.token)},function(t){n.reject(t)}):n.resolve(""),n.promise},t._liveLogsTokenProviderKey="RM.LiveLogs.2",t}(dt);t.ReleaseManagementAuthorizationManager=ii;ri=function(n){function t(i){var r=__construct(this,n,[i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return t.securityPermissionClient||(t.securityPermissionClient=dt.clientFactory.getSecurityPermissionClient()),r._permissionSet=st.SecurityOptions.getOptions().permissionSet,r}return __extends(t,n),t.prototype.getPermissionSet=function(){return this._permissionSet},t.prototype.getPermissionsBatch=function(n){var r;if(!n||!n.evaluations||n.evaluations.length===0)return i.resolve([]);if(r=f.getPageContext().webAccessConfiguration.isHosted,!r)return t._getPermissionsBatch(n,t._getSecurityClient(l.ServiceInstanceTypes.TFS));var u=t._extractPermissionsBatch(n,function(n){if(t._isRMPermissionEvaluation(n))return n}),e=t._extractPermissionsBatch(n,function(n){if(!t._isRMPermissionEvaluation(n))return n}),o=t._getPermissionsBatch(u,t._getSecurityClient(ht.CommonSecurityConstants.ReleaseManagementServiceInstanceId)),s=t._getPermissionsBatch(e,t._getSecurityClient(l.ServiceInstanceTypes.TFS));return i.spread([o,s],function(n,t){return n.concat(t)})},t.prototype.hasUIPermission=function(n){var s=f.getPageContext().webAccessConfiguration.isHosted,r=ht.CommonSecurityConstants.ReleaseManagementUISecurityNamespaceId,u=ht.CommonSecurityConstants.ReleaseManagementUIPermissionToken,e=t._getPermissionsFromSharedData(r,u),o;return e!==undefined?i.resolve((e&n)!=0):(o=s?t._getSecurityClient(ht.CommonSecurityConstants.ReleaseManagementServiceInstanceId):t._getSecurityClient(l.ServiceInstanceTypes.TFS),o.hasPermissions(r,n,u).then(function(n){return n&&n.length>0?n[0]:!1}))},t.prototype.hasPermission=function(n,r){var o,u,f,s,e;return this._permissionSet?(t._readInitialPageData(),o=dt.webContext.project.id,n&&(o+="/"+n),u=t._getTokenKey(n,o,r),t._cachedPermissions.hasOwnProperty(u)?i.resolve(t._cachedPermissions[u]):(f=i.defer(),t._tokenToListPromisesMap.hasOwnProperty(u))?(s=t._tokenToListPromisesMap[u],s.then(function(){t._cachedPermissions.hasOwnProperty(u)&&f.resolve(t._cachedPermissions[u])}),f.promise):(t._tokenToPromisesMap.hasOwnProperty(u)?e=t._tokenToPromisesMap[u]:(e=t.securityPermissionClient.hasPermission(o,this._permissionSet,r),t._tokenToPromisesMap[u]=e),e?e.then(function(n){t._cachedPermissions[u]=n;f.resolve(n)},function(n){f.reject(n)}):f.resolve(!1),f.promise)):i.resolve(!0)},t.prototype.listPermissions=function(n,r){var f,s;if(!this._permissionSet)return i.resolve($.map(n,function(){return!0}));t._readInitialPageData();var h={},e=[],u=[],o=dt.webContext.project.id;return n.forEach(function(n,i){var f=t._getTokenKey(n,o,r);t._cachedPermissions.hasOwnProperty(f)||(u.push(n),h[n]=i)}),ot.ArrayHelper.hasItems(u)?(s=u.map(function(n){return o+"/"+n}),f=t.securityPermissionClient.listPermissions(s,this._permissionSet,r)):f=i.resolve([]),f=f.then(function(i){return n.forEach(function(n,f){var s=t._getTokenKey(n,o,r);t._cachedPermissions.hasOwnProperty(s)?e[f]=t._cachedPermissions[s]:(e[f]=i[u.indexOf(n)],t._cachedPermissions[s]=e[f])}),e}),ot.ArrayHelper.hasItems(u)&&u.forEach(function(n){var i=t._getTokenKey(n,o,r);t._tokenToListPromisesMap[i]=f}),f},t._constructBatchTokenString=function(n){var i="";return n.forEach(function(n,r){r>0&&(i+=t._defaultDelimiter);i+=n}),i},t._getTokenKey=function(n,t,i){return c.format("{0}/{1}",n?n.toLowerCase():t.toLowerCase(),i.toString().toLowerCase())},t._readInitialPageData=function(){if(!!et.initialServiceData&&!!et.initialServiceData.releasePermissionsCache)for(var n in et.initialServiceData.releasePermissionsCache)t._cachedPermissions[n]=et.initialServiceData.releasePermissionsCache[n]},t._getSecurityClient=function(n){var t=f.getDefaultWebContext(),i=new u.VssConnection(t);return i.getHttpClient(w.SecurityHttpClient,n)},t._getPermissionsBatch=function(n,t){return n&&n.evaluations&&n.evaluations.length>0?t.hasPermissionsBatch(n).then(function(n){return n.evaluations}):i.resolve([])},t._extractPermissionsBatch=function(n,t){if(!n||!n.evaluations||n.evaluations.length===0)return null;var i=n.evaluations.filter(t);return!i||i.length===0?null:{alwaysAllowAdministrators:!0,evaluations:i}},t._isRMPermissionEvaluation=function(n){return c.ignoreCaseComparer(n.securityNamespaceId,ht.CommonSecurityConstants.ReleaseManagementSecurityNamespaceId)==0||c.ignoreCaseComparer(n.securityNamespaceId,ht.CommonSecurityConstants.ReleaseManagementUISecurityNamespaceId)==0},t._getPermissionsFromSharedData=function(n,t){var r=o.getSharedData("_permissions"),i;return!r||!n?undefined:(n=n.toLowerCase(),i=r[n],!i)?undefined:i[t]},t._defaultDelimiter=",",t._cachedPermissions={},t._tokenToListPromisesMap={},t._tokenToPromisesMap={},t}(dt);t.PermissionsManager=ri;ui=function(n){function t(){var i=n.call(this)||this;return t._scenarioManager||(t._scenarioManager=dt.clientFactory.getPerformanceScenarioManager(),a.getService().attachEvent(v.HubEventNames.PostXHRNavigate,function(){t._isPageInteractiveScenarioStarted=!1;t._extraNavSplits=[];t._isXhrHubSwitch=!0})),i}return __extends(t,n),t.prototype.startScenario=function(n,i){var r=t._scenarioManager.getScenarios(ht.PerfScenariosConstants.Area,n);return r&&r.length>0&&this.abortScenario(n),t._scenarioManager.startScenario(ht.PerfScenariosConstants.Area,n,i)},t.prototype.startScenarioFromNavigation=function(n){return t._scenarioManager.startScenarioFromNavigation(ht.PerfScenariosConstants.Area,n)},t.prototype.startPageInteractiveScenarioFromNavigation=function(n){return t._isPageInteractiveScenarioStarted?null:(t._isPageInteractiveScenarioStarted=!0,t._scenarioManager.startScenarioFromNavigation(ht.PerfScenariosConstants.Area,n,!0))},t.prototype.endScenario=function(n){var s=t._scenarioManager.getScenarios(ht.PerfScenariosConstants.Area,n),i=h.first(s,function(n){return n.isPageInteractive()}),r,e,u,o;!i||(f.getPageContext().diagnostics.bundlingEnabled&&window&&window.performance&&window.performance.getEntriesByType&&(r=[],e=window.performance.getEntriesByType("resource"),e.forEach(function(n){var i=t._doesResourceNameContainEmailId(n.name);!i&&n.duration>t._resourceDurationLimit&&r.push({name:n.name,startTime:n.startTime,requestEnd:n.responseStart,responseEnd:n.responseEnd,duration:n.duration})}),ot.ArrayHelper.hasItems(r)&&i.addData({resourceTimings:JSON.stringify(r),isXHR:t._isXhrHubSwitch})),ot.ArrayHelper.hasItems(t._extraNavSplits)&&(u=i.getSplitTimings(),o=i.getStartTime(),u.unshift.apply(u,t._extraNavSplits.map(function(n){return n.timestamp-=o,n}))));t._scenarioManager.endScenario(ht.PerfScenariosConstants.Area,n)},t.prototype.abortScenario=function(n){t._scenarioManager.abortScenario(ht.PerfScenariosConstants.Area,n)},t.prototype.split=function(n){return t._scenarioManager.split(n)},t.recordNavigationSplit=function(n){if(t._scenarioManager&&t._isPageInteractiveScenarioStarted)t._scenarioManager.split(n);else{var i=Date.now();t._extraNavSplits.push({name:n,timestamp:i})}},t.blockInteractiveScenarios=function(){t._isPageInteractiveScenarioStarted=!0},t._doesResourceNameContainEmailId=function(n){return n&&/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(n)?!0:!1},t._isXhrHubSwitch=!1,t._extraNavSplits=[],t._resourceDurationLimit=200,t._isPageInteractiveScenarioStarted=!1,t}(dt);t.CustomerIntelligence=ui;fi=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.getTaskDefinitions=function(n){return dt.clientFactory.getTaskDefinitions(n)},t.prototype.getCollectionTaskAgentClient=function(){return dt.clientFactory.getCollectionTaskAgentClient()},t.prototype.getQueuedPlanGroups=function(n,t){return dt.clientFactory.getDistributedTaskService().getQueuedPlanGroups(n,t)},t.prototype.getQueuedPlanGroup=function(n){return dt.clientFactory.getDistributedTaskService().getQueuedPlanGroup(n)},t.prototype.getPlanGroupsQueueMetrics=function(){return dt.clientFactory.getDistributedTaskService().getPlanGroupsQueueMetrics()},t.prototype.getTimelines=function(n,t){return dt.clientFactory.getDistributedTaskService().beginGetTimelines(n,t)},t.prototype.getTimelineRecords=function(n,t,i){return dt.clientFactory.getDistributedTaskService().beginGetTimelineRecords(n,t,i)},t}(dt);t.DistributedTasksManager=fi;ei=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.getQueuedPlanGroups=function(n,t){return dt.clientFactory.getTaskHttpClientService().getQueuedPlanGroups(n,t)},t}(dt);t.TaskHttpClientManager=ei;oi=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.getSummaryMailSections=function(n){var t=i.defer(),r=dt.releaseManagementClient.beginGetSummaryMailSections(n);return r.then(function(n){ot.ArrayHelper.hasItems(n)&&n.sort(function(n,t){return n.rank-t.rank});t.resolve(n)},function(n){t.reject(n)}),t.promise},t.prototype.sendSummaryMail=function(n,t){return dt.releaseManagementClient.beginSendSummaryMail(n,t)},t}(dt);t.SummaryMailManager=oi;si=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return!t||(i.distributedTaskClient=t.distributedTaskClient),i.distributedTaskClient=dt.clientFactory.getCollectionTaskAgentClient(),i}return __extends(t,n),t.prototype.getTaskDefinitions=function(n){return n===void 0&&(n=!1),(!this._taskDefinitionsPromise||n)&&this._initializeTaskDefinitionPromise(n),this._taskDefinitionsPromise},t.prototype.getTaskDefinition=function(n,t,i){var r=this,u;return i===void 0&&(i=!1),(!this._taskDefinitionMapPromise||i)&&(u=this.getTaskDefinitions(i),this._taskDefinitionMapPromise=u.then(function(n){var t={};return $.each(n,function(n,i){var e=r._getTaskDefinitionKey(i.id,k.getVersionSpec(i.version)),u,f;t[e]=i;i.version.isTest||(u=r._getTaskDefinitionKey(i.id,i.version.major+".*"),t[u]=i,f=r._getTaskDefinitionKey(i.id,k.LatestVersionSpec),t[f]=i)}),t})),this._taskDefinitionMapPromise.then(function(i){var u=r._getTaskDefinitionKey(n,t||k.LatestVersionSpec);return i[u]})},t.prototype._initializeTaskDefinitionPromise=function(n){n===void 0&&(n=!1);this._taskDefinitionsPromise=dt.clientFactory.getTaskDefinitions(n)},t.prototype._getTaskDefinitionKey=function(n,t){return n.toLowerCase()+":"+t},t.prototype.getReleaseDefinitions=function(n,t,r){var u,f;return!!et.initialServiceData&&!!et.initialServiceData.releaseDefinitionsCache?(et.initialServiceData.releaseDefinitionsCache.forEach(function(n){st.EnvironmentDefinitionHelper.sortEnvironmentsByRank(n.environments)}),u=i.resolve(et.initialServiceData.releaseDefinitionsCache),et.initialServiceData.releaseDefinitionsCache=null,u):(f=dt.releaseManagementClient.beginGetReleaseDefinitions(null,n,null,null,null,st.PropertySelectorUtils.convertToQueryParam(t),r),f.then(function(n){return n.definitions}))},t.prototype.getReleaseDefinitionsForArtifactSource=function(n,t,i,r){var u;return u=r?dt.releaseManagementClient.beginGetReleaseDefinitionsForArtifactSource(n,t,i,r):dt.releaseManagementClient.beginGetReleaseDefinitionsForArtifactSource(n,t,i),u.then(function(n){return n.forEach(function(n){st.EnvironmentDefinitionHelper.sortEnvironmentsByRank(n.environments)}),n})},t.prototype.getProjects=function(n,t){return dt.releaseManagementClient.beginGetProjects(n,t)},t.prototype.create=function(n){return dt.releaseManagementClient.beginCreateReleaseDefinition(n)},t.prototype.save=function(n){return dt.releaseManagementClient.beginSaveReleaseDefinition(n)},t.prototype.deleteReleaseDefinition=function(n,t,i){return dt.releaseManagementClient.beginDeleteReleaseDefinition(n,t,i)},t.prototype.listEnvironmentTemplates=function(){return dt.releaseManagementClient.beginListEnvironmentTemplates()},t.prototype.getEnvironmentTemplate=function(n){return dt.releaseManagementClient.beginGetEnvironmentTemplate(n)},t.prototype.saveEnvironmentTemplate=function(n){return dt.releaseManagementClient.beginSaveEnvironmentTemplate(n)},t.prototype.deleteEnvironmentTemplate=function(n){return dt.releaseManagementClient.beginDeleteEnvironmentTemplate(n)},t.prototype.getReleaseDefinition=function(n,t){return t?dt.releaseManagementClient.beginGetReleaseDefinition(n,t):dt.releaseManagementClient.beginGetReleaseDefinition(n)},t.prototype.getReleaseDefinitionHistory=function(n){return dt.releaseManagementClient.beginGetReleaseDefinitionHistory(n)},t.prototype.getReleaseDefinitionRevision=function(n,t){return dt.releaseManagementClient.beginGetReleaseDefinitionRevision(n,t)},t.prototype.getReleaseDefinitionSummary=function(n,t,i,r){return i===void 0&&(i=!1),r===void 0&&(r=null),dt.releaseManagementClient.beginGetReleaseDefinitionSummary(n,t,i,r)},t.prototype.getTaskAgentPool=function(n){return n===void 0&&(n=!1),(!this._agentPoolViewModel||n)&&(this._agentPoolViewModel=this.distributedTaskClient.getAgentPools()),this._agentPoolViewModel},t.prototype.beginGetReleaseSettings=function(){return this._releaseSettingsPromise||(this._releaseSettingsPromise=dt.releaseManagementClient.beginGetReleaseSettings()),this._releaseSettingsPromise},t.prototype.beginUpdateReleaseSettings=function(n){return dt.releaseManagementClient.beginUpdateReleaseSettings(n)},t.prototype.beginGetDefinitionEnvironments=function(n){return dt.releaseManagementClient.beginGetDefinitionEnvironments(n)},t}(dt);t.ReleaseDefinitionManager=si;hi=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetReleasesWithContinuationToken=function(n,t,r,u,f,e,o,s,c,l,a,v,y,p,w){var b,k;if(!!et.initialServiceData&&!!et.initialServiceData.releasesCache)if(b=h.first(et.initialServiceData.releasesCache,function(t){return n!==t.releaseDefinition.id}),b&&n!==ht.AllReleaseDefinitionId)et.initialServiceData.releasesCache=null,et.initialServiceData.cachedContinuationToken=null;else return k=i.resolve({releases:et.initialServiceData.releasesCache,continuationToken:et.initialServiceData.cachedContinuationToken}),et.initialServiceData.releasesCache=null,et.initialServiceData.cachedContinuationToken=null,k;return dt.releaseManagementClient.beginGetReleasesWithContinuationToken(n,t,r,u,f,e,o,s,c,l,a,v,st.PropertySelectorUtils.convertToQueryParam(y),p,w)},t.prototype.create=function(n,t){return t?dt.releaseManagementClient.beginCreateRelease(n,t):dt.releaseManagementClient.beginCreateRelease(n)},t.prototype.getReleaseHistory=function(n){return dt.releaseManagementClient.beginGetReleaseHistory(n)},t.prototype.getReleaseRevision=function(n,t){return dt.releaseManagementClient.beginGetReleaseRevision(n,t)},t.prototype.beginGetRelease=function(n,t){var r,u,f;return(t===void 0&&(t=!1),!!et.initialServiceData&&!!et.initialServiceData.releaseSummaryCache&&et.initialServiceData.releaseSummaryCache.id===n)?(r=i.resolve(et.initialServiceData.releaseSummaryCache),et.initialServiceData.releaseSummaryCache=null,r):(u=t?ct.ApprovalFilters.All:ct.ApprovalFilters.ManualApprovals|ct.ApprovalFilters.AutomatedApprovals,f=["DownloadBuildArtifactsUsingTask, ReleaseCreationSource"],dt.releaseManagementClient.beginGetRelease(n,u,f))},t.prototype.beginGetReleaseEnvironment=function(n,t){return dt.releaseManagementClient.beginGetReleaseEnvironment(n,t)},t.prototype.beginCancelReleaseEnvironment=function(n,t,i){return dt.releaseManagementClient.beginPatchReleaseEnvironment(n,t,ct.EnvironmentStatus.Canceled,i)},t.prototype.beginRetryReleaseEnvironment=function(n,t,i){return dt.releaseManagementClient.beginPatchReleaseEnvironment(n,t,ct.EnvironmentStatus.InProgress,i)},t.prototype.beginDeployReleaseEnvironment=function(n,t,i){return dt.releaseManagementClient.beginPatchReleaseEnvironment(n,t,ct.EnvironmentStatus.InProgress,i)},t.prototype.getReleasesForArtifact=function(n,t,i,r){return dt.releaseManagementClient.beginGetReleasesForArtifact(n,t,i,r)},t.prototype.getIssues=function(n,t,i){return dt.releaseManagementClient.beginGetIssues(n,t,i)},t.prototype.getAutoTriggerIssues=function(n,t,i,r){return dt.releaseManagementClient.beginGetAutoTriggerIssues(n,t,i,r)},t.prototype.beginSetReleaseEnvironmentScheduledDeploymentTime=function(n,t,i){return dt.releaseManagementClient.beginPatchReleaseEnvironmentScheduledDeploymentTime(n,t,i)},t.prototype.beginGetReleaseWorkItems=function(n,t,i){return dt.releaseManagementClient.beginGetReleaseWorkItems(n,t,i)},t.prototype.beginGetReleaseChangesForCurrentRelease=function(n,t){return dt.releaseManagementClient.beginGetReleaseChanges(n,0,t)},t.prototype.beginGetReleaseChanges=function(n,t,i){return dt.releaseManagementClient.beginGetReleaseChanges(n,t,i)},t.prototype.beginUpdateRelease=function(n){return dt.releaseManagementClient.beginUpdateRelease(n)},t.prototype.beginPatchRelease=function(n,t){var r=i.defer();return dt.releaseManagementClient.beginPatchRelease(n,t,function(n){r.resolve(n)},function(n){r.reject(n)}),r.promise},t.prototype.getReleaseTasks=function(n,t,i){return dt.releaseManagementClient.beginGetTasks(n,t,i)},t.prototype.getReleaseTasks2=function(n,t,i,r){return dt.releaseManagementClient.beginGetTasks2(n,t,i,r)},t.prototype.deleteRelease=function(n,t){return dt.releaseManagementClient.beginDeleteRelease(n,t)},t.prototype.undeleteRelease=function(n,t){return dt.releaseManagementClient.beginUndeleteRelease(n,t)},t.prototype.downloadLog=function(n){return ot.FeatureFlagUtils.enableNewRouteForLogApis()?this.downloadLogNew(n):this.downloadLogOld(n)},t.prototype.downloadLogOld=function(n){var i=t._extractIdsFromLink(n);return dt.releaseManagementClient.beginDownloadLog(parseInt(i[0]),parseInt(i[1]),parseInt(i[2]),parseInt(i[3]))},t.prototype.downloadLogNew=function(n){var i=n.split("/");return dt.releaseManagementClient.beginDownloadLog2(t._extractInt(i,"releases"),t._extractInt(i,"environments"),t._extractInt(i,"attempts"),t._extractString(i,"timelines"),t._extractInt(i,"tasks"))},t.prototype.getTasks=function(n){return ot.FeatureFlagUtils.enableNewRouteForLogApis()?this.getTasksNew(n):this.getTasksOld(n)},t.prototype.getTasksOld=function(n){var i=t._extractIdsFromLink(n);return dt.releaseManagementClient.beginGetTasks(parseInt(i[0]),parseInt(i[1]),parseInt(i[2]))},t.prototype.getTasksNew=function(n){var i=n.split("/");return dt.releaseManagementClient.beginGetTasks2(t._extractInt(i,"releases"),t._extractInt(i,"environments"),t._extractInt(i,"attempts"),t._extractString(i,"timelines"))},t.prototype.beginGetSourceBranches=function(n){return dt.releaseManagementClient.beginGetSourceBranches(n)},t._extractInt=function(n,t){var i=n.findIndex(function(n){return t.toLowerCase()===n.toLowerCase()})+1;return parseInt(n[i])},t._extractIdsFromLink=function(n){var t=n.match(/(releases\/\d+\/environments\/\d+\/deployPhases\/\d+\/tasks\/\d+\/logs)/gi)[0];return t.match(/\d+/g)},t._extractString=function(n,t){var i=n.findIndex(function(n){return t.toLowerCase()===n.toLowerCase()})+1;return n[i]},t.prototype._getTaskDefinitionPromise=function(n){return n===void 0&&(n=!1),dt.clientFactory.getTaskDefinitions(n)},t}(dt);t.ReleaseManager=hi;ci=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.beginDeploymentsOnEnvironments=function(n){return dt.releaseManagementClient.beginDeploymentsOnEnvironments(n)},t.prototype.beginGetDeploymentsWithContinuationToken=function(n,t,r,u,f,e,o,s){var c,l;if(!!et.initialServiceData&&!!et.initialServiceData.deploymentsCache)if(c=h.first(et.initialServiceData.deploymentsCache,function(t){return n!==t.releaseDefinition.id}),c&&n!==ht.AllReleaseDefinitionId)et.initialServiceData.deploymentsCache=null,et.initialServiceData.cachedDeploymentsContinuationToken=null;else return l=i.resolve({deployments:et.initialServiceData.deploymentsCache,continuationToken:et.initialServiceData.cachedDeploymentsContinuationToken}),et.initialServiceData.deploymentsCache=null,et.initialServiceData.cachedDeploymentsContinuationToken=null,l;return dt.releaseManagementClient.beginGetDeploymentsWithContinuationToken(n,t,r,u,f,e,o,s)},t}(dt);t.DeploymentsManager=ci;li=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.getDefinitionArtifactVersions=function(n){return dt.releaseManagementClient.beginGetDefinitionArtifactsVersion(n)},t.prototype.getArtifactVersions=function(n){return dt.releaseManagementClient.beginGetArtifactsVersion(n)},t.prototype.getArtifactVersionDetails=function(n){var r=i.defer(),t={},u,f;for(u in n.definitionReference)t[u]=n.definitionReference[u].id;return n.definitionReference[pt.ArtifactDefinitionConstants.ProjectId]||(t[pt.ArtifactDefinitionConstants.ProjectId]=dt.webContext.project.id),t[ht.ArtifactDefaultVersionConstants.DefaultVersionType]=ht.ArtifactDefaultVersionConstants.SpecificVersion,f={currentValues:t,inputValues:[{inputId:ht.ArtifactDefaultVersionConstants.DefaultVersionSpecific}],resource:n.type},dt.releaseManagementClient.beginPostInputValuesQuery(f).then(function(n){var i={},u,t;!!n&&ot.ArrayHelper.hasItems(n.inputValues)&&(u=n.inputValues[0],!!u&&ot.ArrayHelper.hasItems(u.possibleValues)&&(t=u.possibleValues[0],!t||!t.data||(i.sourceBranch=t.data[pt.BuildVersionConstants.SourceBranchKey],i.sourceVersion=t.data[pt.BuildVersionConstants.SourceVersionKey],i.sourceRepositoryId=t.data[pt.BuildVersionConstants.RepositoryIdKey],i.sourceRepositoryType=t.data[pt.BuildVersionConstants.RepositoryTypeKey])));r.resolve(i)},function(n){r.reject(n)}),r.promise},t}(dt);t.ArtifactsVersionManager=li;ai=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.beginPatchApproval=function(n,t){return dt.releaseManagementClient.beginPatchApproval(n,t)},t.prototype.beginPatchApprovals=function(n){return dt.releaseManagementClient.beginPatchApprovals(n)},t.prototype.beginGetReleaseApprovals=function(n,t,i){return dt.releaseManagementClient.beginGetReleaseApprovals(n,t,i)},t.prototype.beginGetReleaseApproval=function(n,t){return dt.releaseManagementClient.beginGetReleaseApproval(n,t)},t}(dt);t.ReleaseApprovalManager=ai;vi=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.beginGetManualIntervention=function(n,t){return dt.releaseManagementClient.beginGetManualIntervention(n,t)},t.prototype.beginGetManualInterventions=function(n){return dt.releaseManagementClient.beginGetManualInterventions(n)},t.prototype.beginUpdateManualIntervention=function(n,t,i){return dt.releaseManagementClient.beginUpdateManualIntervention(n,i,t)},t}(dt);t.ManualInterventionManager=vi;yi=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.beginGetArtifactTypes=function(){return dt.clientFactory.getAtrifactTypeClient().getArtifactTypes()},t.prototype.beginGetArtifactsVersions=function(n){return dt.releaseManagementClient.beginGetDefinitionArtifactsVersion(n)},t}(dt);t.ArtifactDefinitionManager=yi;pi=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.beginGetBranches=function(n,t,i){var r={},u;return r[pt.ArtifactDefinitionConstants.ProjectId]=n,r[ht.ArtifactDefaultVersionConstants.DefaultVersionType]=ht.ArtifactDefaultVersionConstants.LatestFromBranch,r[pt.ArtifactDefinitionConstants.DefinitionId]=t,u={currentValues:r,inputValues:[{inputId:ht.ArtifactDefaultVersionConstants.DefaultVersionBranch}],resource:i},dt.releaseManagementClient.beginPostInputValuesQuery(u)},t}(dt);t.BranchesManager=pi;wi=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._artifactsModel||(i._artifactsModel=dt.clientFactory.getAtrifactTypeClient()),i}return __extends(t,n),t.prototype.beginGetBuildArtifacts=function(n,t,i,r,u,f){var e={},o;return e[pt.ArtifactDefinitionConstants.ProjectId]=f,e[pt.ArtifactDefinitionConstants.ConnectionId]=u,e[pt.ArtifactDefinitionConstants.DefinitionId]=n,e[pt.ArtifactDefinitionConstants.MultipleDefinitionsId]=t,e[pt.ArtifactDefinitionConstants.IsMultiDefinitionType]=r,o={currentValues:e,inputValues:[{inputId:pt.ArtifactDefinitionConstants.ArtifactId}],resource:i},this._artifactsModel.queryInputValues(o)},t.prototype.beginGetCustomArtifacts=function(n,t,i){var r=!i?{}:i,u;return r[pt.ArtifactDefinitionConstants.ItemPath]=t,u={currentValues:r,inputValues:[{inputId:pt.ArtifactDefinitionConstants.ArtifactId}],resource:n},this._artifactsModel.queryInputValues(u)},t.prototype.beginGetCustomArtifactItems=function(n,t,i){var r=!i?{}:i,u;return r[pt.ArtifactDefinitionConstants.ItemPath]=t,u={currentValues:r,inputValues:[{inputId:pt.ArtifactDefinitionConstants.ArtifactItems}],resource:n},this._artifactsModel.queryInputValues(u)},t.prototype.beginGetCustomArtifactItemContent=function(n,t,i){var r=!i?{}:i,u;return r[pt.ArtifactDefinitionConstants.ItemPath]=t,u={currentValues:r,inputValues:[{inputId:pt.ArtifactDefinitionConstants.ArtifactItemContent}],resource:n},this._artifactsModel.queryInputValues(u)},t.prototype.beginGetArtifactItems=function(n,t,i,r,u,f,e){var o={},s;return o[pt.ArtifactDefinitionConstants.DefinitionId]=n,o[pt.ArtifactDefinitionConstants.ItemPath]=r,o[pt.ArtifactDefinitionConstants.ConnectionId]=f,o[pt.ArtifactDefinitionConstants.ProjectId]=e,o[pt.ArtifactDefinitionConstants.MultipleDefinitionsId]=t,o[pt.ArtifactDefinitionConstants.IsMultiDefinitionType]=i,s={currentValues:o,inputValues:[{inputId:pt.ArtifactDefinitionConstants.ArtifactItems}],resource:u},this._artifactsModel.queryInputValues(s)},t}(dt);t.ArtifactItemsManager=wi;bi=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._testManagementClient||(i._testManagementClient=dt.clientFactory.getTestManagementClient()),i}return __extends(t,n),t.prototype.getTestResultDetailsForRelease=function(n,t,i,r,u){return this._testManagementClient.getTestResultDetailsForRelease(n,t,i,r,u)},t.prototype.queryTestResultsSummaryForReleases=function(n){return this._testManagementClient.queryTestResultsSummaryForReleases(n)},t}(dt);t.TestResultsManager=bi;ki=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._workItemsClient||(i._workItemsClient=dt.clientFactory.getWorkItemClient()),i}return __extends(t,n),t.prototype.beginGetWorkItemsDetails=function(n,t){return this._workItemsClient.beginGetWorkItems(n,t)},t.prototype.beginGetWorkItemIconsAndColors=function(){return this._workItemsClient.beginGetWorkItemIcons()},t}(dt);t.WorkItemsDetailsManager=ki;di=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._buildClient||(i._buildClient=dt.clientFactory.getBuildClient()),i}return __extends(t,n),t.prototype.beginGetBuildDefinition=function(n,t,i){return this._buildClient.beginGetBuildDefinition(n,t,i)},t.prototype.beginGetBuildDefinitions=function(n,t,i){return this._buildClient.beginGetBuildDefinitions(n,t,i)},t.prototype.beginGetBuildDefinitions_2_3=function(n,t,i){return this._buildClient.beginGetBuildDefinitions_2_3(n,t,i)},t.prototype.beginGetBuildDefinitionsWithFilters=function(n,t){return this._buildClient.beginGetBuildDefinitionsWithFilters(n,t)},t.prototype.beginGetBuild=function(n,t){return this._buildClient.beginGetBuild(n,t)},t.prototype.beginGetBuilds=function(n,t,i,r,u,f,e){return this._buildClient.beginGetBuilds(n,t,i,ut.DefinitionType.Build,u,f,e)},t.prototype.beginGetBuildCommits=function(n,t){return this._buildClient.beginGetBuildCommits(n,t)},t.prototype.beginGetProjectTags=function(n){return this._buildClient.beginGetProjectTags(n)},t.prototype.beginGetBuildsById=function(n,t){return this._buildClient.beginGetBuildsById(n,t)},t}(dt);t.BuildManager=di;gi=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._gitClient||(i._gitClient=dt.clientFactory.getGitClient()),i}return __extends(t,n),t.prototype.getBranchNames=function(n){return this._gitClient.getBranchNames(n)},t.prototype.getMyBranchNames=function(n){return this._gitClient.getMyBranchNames(n)},t}(dt);t.GitManager=gi;nr=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._dashboardClient||(i._dashboardClient=dt.clientFactory.getDashboardClient()),i}return __extends(t,n),t.prototype.beginGetDashboardGroup=function(n,t){return this._dashboardClient.getDashboardGroup(n,t)},t.prototype.createWidget=function(n,t,i,r){return this._dashboardClient.createWidget(n,t,i,r)},t}(dt);t.DashboardManager=nr;tr=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._distributedTaskClient||(i._distributedTaskClient=dt.clientFactory.getCollectionTaskAgentClient(),i._poolDistributedTaskClient=f.getPageContext().webAccessConfiguration.isHosted?i._distributedTaskClient:u.getApplicationClient(rt.TaskAgentRestClient)),i}return __extends(t,n),t.prototype.beginGetAgentPool=function(n,t){var u=this,r;return t===void 0&&(t=it.TaskAgentPoolType.Automation),r=i.defer(),this.beginGetAgentPools(!1,t).then(function(i){var f=u._getPoolDetailsIfPresent(n,i);f?r.resolve(f):u.beginGetAgentPools(!0,t).then(function(t){var i=u._getPoolDetailsIfPresent(n,t);i?r.resolve(i):r.reject(c.localeFormat(yt.NoAgentPoolFound,n))})},function(n){r.reject(n)}),r.promise},t.prototype.beginGetDeploymentPool=function(n){return this._distributedTaskClient.getAgentPool(n)},t.prototype.beginGetDeploymentPools=function(){return this._distributedTaskClient.getAgentPools(null,null,it.TaskAgentPoolType.Deployment)},t.prototype.beginDeleteAgentPool=function(n){var r=this,t=i.defer();return this._poolDistributedTaskClient.deleteAgentPool(n).then(function(){r.invalidateCache();t.resolve(undefined)},function(n){t.reject(n)}),t.promise},t.prototype.beginGetAgentPools=function(n,t){return n===void 0&&(n=!1),t===void 0&&(t=it.TaskAgentPoolType.Automation),this._agentPoolsPromise&&this._isCacheValid&&!n||(this._agentPoolsPromise=this._distributedTaskClient.getAgentPools(null,null,t),this._isCacheValid=!0),this._agentPoolsPromise},t.prototype.beginGetDeploymentAgentPoolsWithActionFilter=function(n,t){return this._distributedTaskClient.getAgentPools(t,null,it.TaskAgentPoolType.Deployment,n)},t.prototype.beginGetAgentRequestsForAgent=function(n,t,i){return this._distributedTaskClient.getAgentRequestsForAgent(n,t,i)},t.prototype.invalidateCache=function(){this._isCacheValid=!1},t.prototype.beginGetAgents=function(n,t,i,r,u,f,e){return this._distributedTaskClient.getAgents(n,t,i,r,u,f,e)},t.prototype.beginGetAgent=function(n,t,i,r,u,f){return this._distributedTaskClient.getAgent(n,t,i,r,u,f)},t.prototype.beginGetAgentRequestsForAgents=function(n,t,i){return this._distributedTaskClient.getAgentRequestsForAgents(n,t,i)},t.prototype.beginAddAgentPool=function(n){return this._distributedTaskClient.addAgentPool(n)},t.prototype.beginCreatePersonalAccessTokenForDeploymentPool=function(n){return this._distributedTaskClient.generateDeploymentPoolAccessToken(n)},t.prototype.beginGetDeploymentPoolSummary=function(n,t){return t===void 0&&(t=it.DeploymentPoolSummaryExpands.None),this._distributedTaskClient.getDeploymentPoolsSummary(n,t)},t.prototype.beginUpdateAgentPool=function(n){return this._distributedTaskClient.updateAgentPool(n,n.id)},t.prototype.beginUpgradeAgents=function(n){return this._distributedTaskClient.refreshAgents(n)},t.prototype.beginDeleteAgent=function(n,t){return this._distributedTaskClient.deleteAgent(n,t)},t.prototype.beginUpdateAgent=function(n,t,i){return this._distributedTaskClient.updateAgent(n,t,i)},t.prototype._getPoolDetailsIfPresent=function(n,t){return ot.ArrayHelper.hasItems(t)?h.first(t,function(t){return t.id===n}):null},t}(dt);t.AgentPoolManager=tr;ir=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._distributedTaskClient||(i._distributedTaskClient=dt.clientFactory.getCollectionTaskAgentClient()),i._machineManagementClient||(i._machineManagementClient=dt.clientFactory.getMachineManagementClient()),i}return __extends(t,n),t.prototype.beginGetQueue=function(n){var t=i.defer(),r;return r=this._getQueueDetailsIfPresent(n,this._cachedQueuesDataWithUsageFilter),r?t.resolve(r):this._tryGetQueueFromAllQueuesCache(n,t),t.promise},t.prototype.beginCreateQueue=function(n){return this._distributedTaskClient.addAgentQueue(n)},t.prototype.beginGetQueues=function(n,t){var r=this,i;return n===void 0&&(n=null),t===void 0&&(t=!1),this._agentQueuesPromiseWithUsageFilter&&this._isUsageFilteredDataCacheValid&&!t||(i=n?n:dt.webContext.project.id,this._agentQueuesPromiseWithUsageFilter=this._distributedTaskClient.getAgentQueues(i,null,it.TaskAgentQueueActionFilter.Use),this._agentQueuesPromiseWithUsageFilter.then(function(n){r._cachedQueuesDataWithUsageFilter=n}),this._isUsageFilteredDataCacheValid=!0),this._agentQueuesPromiseWithUsageFilter},t.prototype.beginGetAgents=function(n,t,i,r,u,f,e){return this._agentsPromise=this._distributedTaskClient.getAgents(n,t,i,r,u,f,e),this._agentsPromise},t.prototype.beginDeleteQueue=function(n){return this._distributedTaskClient.deleteAgentQueue(n)},t.prototype.invalidateCache=function(){this._isUsageFilteredDataCacheValid=!1;this._isAllAgentQueuesDataCacheValid=!1;this._cachedQueuesDataWithUsageFilter=null},t.prototype.getHostedImageNames=function(){return ot.FeatureFlagUtils.isHostedImageSelectionEnabled()?this._machineManagementClient.getPoolFriendlyImageNameList():i.resolve([])},t.prototype._fetchAllQueues=function(n){return n===void 0&&(n=!1),this._agentQueuesPromise&&this._isAllAgentQueuesDataCacheValid&&!n||(this._agentQueuesPromise=this._distributedTaskClient.getAgentQueues(dt.webContext.project.id),this._isAllAgentQueuesDataCacheValid=!0),this._agentQueuesPromise},t.prototype._getQueueDetailsIfPresent=function(n,t){return ot.ArrayHelper.hasItems(t)?h.first(t,function(t){return t.id===n}):null},t.prototype._tryGetQueueFromAllQueuesCache=function(n,t){var i=this;this._fetchAllQueues().then(function(r){var u=i._getQueueDetailsIfPresent(n,r);u?t.resolve(u):i._fetchAllQueues(!0).then(function(r){u=i._getQueueDetailsIfPresent(n,r);u?t.resolve(u):t.reject(c.localeFormat(yt.NoAgentQueueFound,n))})},function(n){t.reject(n)})},t}(dt);t.QueueManager=ir;rr=function(n){function t(i){var r=__construct(this,n,[i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return t._telemetryService||(t._telemetryService=dt.clientFactory.getTelemetryClient()),r}return __extends(t,n),t.prototype.publishEvent=function(n,i,r){t._telemetryService.publishEvent(n,i,r)},t.prototype.publishEvents=function(n,i){t._telemetryService.publishEvents(n,i)},t}(dt);t.TelemetryServiceManager=rr;ur=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.areBasicLicenseReleaseManagementFeaturesEnabled=function(){return t._getAvailabilityofFeature(vt.LicenseFeatureIds.ReleaseManagement)},t.isBuildFeatureEnabled=function(){return vt.FeatureLicenseService.isFeatureActive(vt.LicenseFeatureIds.Build)},t._getAvailabilityofFeature=function(n){return vt.FeatureLicenseService.isFeatureActive(n)},t}(dt);t.FeaturesManager=ur;fr=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._distributedTaskClient=dt.clientFactory.getCollectionTaskAgentClient(),i}return __extends(t,n),t.prototype.beginGetTaskGroups=function(n,t){var r,u;return(t===void 0&&(t=!0),t&&!n&&!!et.initialServiceData&&!!et.initialServiceData.taskDefinitionsCache&&ot.ArrayHelper.hasItems(et.initialServiceData.taskDefinitionsCache))?(r=i.resolve(et.initialServiceData.taskDefinitionsCache.filter(function(n){return n.definitionType==="metaTask"})),h.removeWhere(et.initialServiceData.taskDefinitionsCache,function(n){return n.definitionType==="metaTask"}),r):(u=dt.webContext.project.id,this._distributedTaskClient.getTaskGroups(u,null,null,n))},t.prototype.beginGetTaskGroup=function(n,t){t===void 0&&(t=!1);var r=i.defer(),u=dt.webContext.project.id;return this._distributedTaskClient.getTaskGroups(u,n,t).then(function(n){r.resolve(n[0])},function(n){r.reject(n)}),r.promise},t.prototype.beginAddTaskGroup=function(n){var t=dt.webContext.project.id,i=st.TaskGroupHelper.ToTaskGroupCreateParameter(n);return this._distributedTaskClient.addTaskGroup(i,t)},t.prototype.beginUpdateTaskGroup=function(n){var i=dt.webContext.project.id,t=st.TaskGroupHelper.ToTaskGroupUpdateParameter(n);return this._distributedTaskClient.updateTaskGroup(t,i,t.id)},t.prototype.beginPublishTaskGroup=function(n,t){var i=dt.webContext.project.id;return this._distributedTaskClient.publishTaskGroup(n,i,t)},t.prototype.beginPublishPreviewTaskGroup=function(n,t,i){var r=dt.webContext.project.id,u=st.TaskGroupHelper.ToTaskGroupPublishPreviewParameter(n,i);return this._distributedTaskClient.updateTaskGroupProperties(u,r,t)},t.prototype.beginDeleteTaskGroup=function(n){var t=dt.webContext.project.id;return this._distributedTaskClient.deleteTaskGroup(t,n)},t.prototype.beginGetTaskGroupHistory=function(n){var t=dt.webContext.project.id;return this._distributedTaskClient.getTaskGroupHistory(t,n)},t.prototype.beginGetTaskGroupRevision=function(n,t){var i=dt.webContext.project.id;return this._distributedTaskClient.getTaskGroupRevision(i,n,t)},t}(dt);t.TaskGroupManager=fr;er=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._distributedTaskClient||(i._distributedTaskClient=dt.clientFactory.getCollectionTaskAgentClient()),i}return __extends(t,n),t.prototype.beginGetDeploymentTargets=function(n,t,i,r,u,f,e,o,s,h){var c=dt.webContext.project.id;return this._distributedTaskClient.getDeploymentTargetsWithContinuationToken(c,n,t,i,r,u,f,e,o,s,h)},t.prototype.beginGetDeploymentTarget=function(n,t,i){var r=dt.webContext.project.id;return this._distributedTaskClient.getDeploymentTarget(r,n,t,i)},t.prototype.beginUpdateTargets=function(n,t){var i=dt.webContext.project.id;return this._distributedTaskClient.updateDeploymentTargets(t,i,n)},t.prototype.beginGetDeploymentGroups=function(n,t,i,r,u,f){var e=dt.webContext.project.id;return this._distributedTaskClient.getDeploymentGroupsWithContinuationToken(e,n,t,i,r,u,f)},t.prototype.beginGetAllDeploymentGroups=function(){return this._machineGroupsPromise(!0,[])},t.prototype.beginGetMachineGroups=function(n,t){var i=dt.webContext.project.id;return this._distributedTaskClient.getDeploymentGroups(i,n,it.DeploymentGroupActionFilter.None,t)},t.prototype.beginGetDeploymentGroupsMetrics=function(n,t,i){var r=dt.webContext.project.id;return this._distributedTaskClient.getDeploymentGroupsMetricsWithContinuationToken(r,n,t,i)},t.prototype.beginGetMachineGroup=function(n,t,i){var r=dt.webContext.project.id;return this._distributedTaskClient.getDeploymentGroup(r,n,t,i)},t.prototype.beginAddMachineGroup=function(n,t){var i=!t?dt.webContext.project.id:t;return this._distributedTaskClient.addDeploymentGroup(n,i)},t.prototype.beginUpdateMachineGroup=function(n,t){var i=dt.webContext.project.id;return this._distributedTaskClient.updateDeploymentGroup(t,i,n)},t.prototype.beginDeleteMachineGroup=function(n,t){var i=!t?dt.webContext.project.id:t;return this._distributedTaskClient.deleteDeploymentGroup(i,n)},t.prototype.beginGetAgentRequestsForDeploymentTarget=function(n,t,i){var r=dt.webContext.project.id;return this._distributedTaskClient.getAgentRequestsForDeploymentTarget(r,n,t,i)},t.prototype.beginUpgradeMachines=function(n){var t=i.defer(),r=dt.webContext.project.id;return this._distributedTaskClient.refreshDeploymentMachines(r,n).then(function(){t.resolve(undefined)},function(n){t.reject(n)}),t.promise},t.prototype.beginUpgradeTargets=function(n){var t=i.defer(),r=dt.webContext.project.id;return this._distributedTaskClient.refreshDeploymentTargets(r,n).then(function(){t.resolve(undefined)},function(n){t.reject(n)}),t.promise},t.prototype.beginDeleteTarget=function(n,t){var i=dt.webContext.project.id;return this._distributedTaskClient.deleteDeploymentTarget(i,n,t)},t.prototype.beginCreatePersonalAccessTokenForMachineGroup=function(n){var t=dt.webContext.project.id;return this._distributedTaskClient.generateDeploymentGroupAccessToken(t,n)},t.prototype._machineGroupsPromise=function(n,t,r){var f=this,u;return!n&&!r?i.resolve(t):(u=this.beginGetDeploymentGroups(null,null,it.DeploymentGroupExpands.None,r),u.then(function(n){return t.push.apply(t,n.deploymentGroups),f._machineGroupsPromise(!1,t,n.continuationToken)}))},t}(dt);t.MachineGroupManager=er;or=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._distributedTaskClient=dt.clientFactory.getCollectionTaskAgentClient(),i}return __extends(t,n),t.prototype.beginGetHubLicenseDetails=function(){return this._licenseDetailsPromise||(this._licenseDetailsPromise=this._distributedTaskClient.getTaskHubLicenseDetails(ht.WebApiConstants.Area)),this._licenseDetailsPromise},t.prototype.beginUpdateHubLicenseDetails=function(n){return this._licenseDetailsPromise=null,this._distributedTaskClient.updateTaskHubLicenseDetails(n,ht.WebApiConstants.Area)},t}(dt);t.HubLicenseManager=or;sr=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetVariableGroups=function(n,t,i){return dt.clientFactory.getCollectionTaskAgentClient().getVariableGroups(n,t,i)},t.prototype.beginGetVariableGroupsByIds=function(n,t){return dt.clientFactory.getCollectionTaskAgentClient().getVariableGroupsById(n,t)},t}(dt);t.VariableGroupManager=sr;hr=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._extnDataPromises={},t}return __extends(t,n),t.prototype.beginGetExtensionData=function(n,t){var i=c.format("{0}.{1}",n.toLowerCase(),t.toLowerCase());return this._extnDataPromises.hasOwnProperty(i)||(this._extnDataPromises[i]=dt.clientFactory.getExtensionManagementClient().getInstalledExtensionByName(n,t)),this._extnDataPromises[i]},t}(dt);t.ExtensionDataManager=hr;cr=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getProjects=function(n,t,i,r){return dt.clientFactory.getProjectManagementClient().getProjects(n,t,i,r)},t}(dt);t.ProjectManager=cr;r.tfsModuleLoaded("TFS.ReleaseManagement.Manager",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Context",["require","exports","VSS/VSS","VSS/Context","ReleasePipeline/Scripts/TFS.ReleaseManagement.Manager"],function(n,t,i,r,u){var f,e;Object.defineProperty(t,"__esModule",{value:!0});t.tabSelectionNotifier=t.serviceContext=t.TabSelectionNotifier=t.ServiceContext=void 0;f=function(){function n(){}return n.prototype.webContext=function(){return this._webContext||(this._webContext=r.getDefaultWebContext()),this._webContext},n.prototype.releaseDefinitionManager=function(){return this._releaseDefinitionManager||(this._releaseDefinitionManager=new u.ReleaseDefinitionManager),this._releaseDefinitionManager},n.prototype.releaseManager=function(){return this._releaseManager||(this._releaseManager=new u.ReleaseManager),this._releaseManager},n.prototype.releaseApprovalManager=function(){return this._releaseApprovalManager||(this._releaseApprovalManager=new u.ReleaseApprovalManager),this._releaseApprovalManager},n.prototype.manualInterventionManager=function(){return this._manualInterventionManager||(this._manualInterventionManager=new u.ManualInterventionManager),this._manualInterventionManager},n.prototype.artifactsVersionManager=function(){return this._artifactsVersionManager||(this._artifactsVersionManager=new u.ArtifactsVersionManager),this._artifactsVersionManager},n.prototype.artifactsDefinitionManager=function(){return this._artifactsDefinitionManager||(this._artifactsDefinitionManager=new u.ArtifactDefinitionManager),this._artifactsDefinitionManager},n.prototype.testPlanManager=function(){return this._testPlanManager||(this._testPlanManager=new u.TestResultsManager),this._testPlanManager},n.prototype.workItemsManager=function(){return this._workItemsManager||(this._workItemsManager=new u.WorkItemsDetailsManager),this._workItemsManager},n.prototype.buildManager=function(){return this._buildManager||(this._buildManager=new u.BuildManager),this._buildManager},n.prototype.dashboardManager=function(){return this._dashboardManager||(this._dashboardManager=new u.DashboardManager),this._dashboardManager},n.prototype.permissionManager=function(){return this._permisionManager||(this._permisionManager=new u.PermissionsManager),this._permisionManager},n.prototype.customerIntelligence=function(){return this._customerIntelligence||(this._customerIntelligence=new u.CustomerIntelligence),this._customerIntelligence},n.prototype.queueManager=function(){return this._queueManager||(this._queueManager=new u.QueueManager),this._queueManager},n.prototype.agentPoolManager=function(){return this._agentPoolManager||(this._agentPoolManager=new u.AgentPoolManager),this._agentPoolManager},n.prototype.artifactItemsManager=function(){return this._artifactItemsManager||(this._artifactItemsManager=new u.ArtifactItemsManager),this._artifactItemsManager},n.prototype.branchesManager=function(){return this._branchesManager||(this._branchesManager=new u.BranchesManager),this._branchesManager},n.prototype.telemetryServiceManager=function(){return this._telemetryServiceManager||(this._telemetryServiceManager=new u.TelemetryServiceManager),this._telemetryServiceManager},n.prototype.authorizationManager=function(){return this._authorizationManager||(this._authorizationManager=new u.ReleaseManagementAuthorizationManager),this._authorizationManager},n.prototype.summaryMailManager=function(){return this._summaryMailManager||(this._summaryMailManager=new u.SummaryMailManager),this._summaryMailManager},n.prototype.taskGroupManager=function(){return this._taskGroupManager||(this._taskGroupManager=new u.TaskGroupManager),this._taskGroupManager},n.prototype.gitManager=function(){return this._gitManager||(this._gitManager=new u.GitManager),this._gitManager},n.prototype.deploymentManager=function(){return this._deploymentManager||(this._deploymentManager=new u.DeploymentsManager),this._deploymentManager},n.prototype.deploymentAuthorizationManager=function(){return this._deploymentAuthorizationManager||(this._deploymentAuthorizationManager=new u.DeploymentAuthorizationManager),this._deploymentAuthorizationManager},n.prototype.distributedTasksManager=function(){return this._distributedTaskManager||(this._distributedTaskManager=new u.DistributedTasksManager),this._distributedTaskManager},n.prototype.taskHttpClientManager=function(){return this._taskHttpClientManager||(this._taskHttpClientManager=new u.TaskHttpClientManager),this._taskHttpClientManager},n.prototype.hubLicenseManager=function(){return this._hubLicenseManager||(this._hubLicenseManager=new u.HubLicenseManager),this._hubLicenseManager},n.prototype.machineGroupManager=function(){return this._machineGroupManager||(this._machineGroupManager=new u.MachineGroupManager),this._machineGroupManager},n.prototype.variableGroupManager=function(){return this._variableGroupManager||(this._variableGroupManager=new u.VariableGroupManager),this._variableGroupManager},n.prototype.extensionDataManager=function(){return this._extensionDataManager||(this._extensionDataManager=new u.ExtensionDataManager),this._extensionDataManager},n.prototype.projectManager=function(){return this._projectManager||(this._projectManager=new u.ProjectManager),this._projectManager},n}();t.ServiceContext=f;e=function(){function n(){this._tabIdToTabContentMap={}}return n.prototype.registerForTabSelection=function(n,t){this._tabIdToTabContentMap[n]||(this._tabIdToTabContentMap[n]=[]);this._tabIdToTabContentMap[n].push(t)},n.prototype.selectTab=function(n){var t=this._tabIdToTabContentMap[n];t&&t.forEach(function(n){n.onTabSelected.valueHasMutated()})},n}();t.TabSelectionNotifier=e;t.serviceContext=new f;t.tabSelectionNotifier=new e;i.tfsModuleLoaded("TFS.ReleaseManagement.Context",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.DemandsValidator",["require","exports","q","VSS/Utils/Array","VSS/Utils/String","TFS/DistributedTask/Contracts","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Context"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});t.DemandsValidator=void 0;var c=function(){function n(t,i){this._distributedTaskClient=t;this._taskDefinitionsPromise=i;n._queueManager||(n._queueManager=h.serviceContext.queueManager())}return n.prototype.validate=function(t){var o=this,i="",f=[];return t.forEach(function(n){f.push(o.validateEnvironment(n))}),Promise.all(f).then(function(t){if(t){var f=r.first(t,function(n){return n!==u.empty});f&&(i=e.IssueWithReleaseProblem+n._lineSeparator,t.forEach(function(t){t&&(i+=t+n._lineSeparator)}),i+=e.ContinueWithReleasePrompt)}return i=u.htmlEncode(i)},function(t){throw new Error(e.IssueWithReleaseProblem+n._lineSeparator+t);})},n.prototype.validateEnvironment=function(t,r,c){var a=this,v=i.defer(),y=[],p=s.DeployPhaseHelper.getAgentBasedDeployPhases(t.deployPhases),l;return!p||(p.forEach(function(t){var l=i.defer(),v=i.defer(),p=r||s.DeployPhaseHelper.getQueueIdOfAgentBasedDeployPhases([t]),w=n._queueManager.beginGetQueue(p).then(function(n){return n?(v.resolve(n.pool.id),n.name):(l.reject(u.localeFormat(e.QueueCannotBeFound,t.name)),"")},function(n){return l.reject(o.ErrorHelper.getErrorMessage(n)),""});i.all([a._taskDefinitionsPromise,v,w]).spread(function(n,i,r){var o=c,s;o||(o=a._getDemands(t,n));o=a._removeVaraibleDemand(o);o?(s=h.serviceContext.agentPoolManager().beginGetAgentPool(i),s.then(function(n){var s=a._distributedTaskClient.getAgents(i,null,!1,!1,!1,null,o);s.then(function(i){i.length>0?i.some(function(t){return n.isHosted||t.status===f.TaskAgentStatus.Online&&t.enabled?!0:!1})?l.resolve(""):l.reject(u.localeFormat(e.AgentOfflineOrDisabled,t.name)):l.reject(u.localeFormat(e.DemandsNotMetForDeployPhase,t.name,r,o.join(", ")))},function(){l.resolve("")})},function(){l.resolve("")})):l.resolve("")},function(){l.resolve("")});y.push(l.promise)}),l=new u.StringBuilder(""),i.allSettled(y).then(function(i){var r=u.empty;i.forEach(function(n){n.state==="rejected"&&(l.append(n.reason),l.appendNewLine())});l.toLocaleString()!==u.empty&&(r=n.generateWarningMessageForEnvironment(t.name,l.toLocaleString()));v.resolve(r)})),v.promise},n.prototype._getDemands=function(n,t){var e=this;this._taskIdToTaskDefinitionMap||(this._taskIdToTaskDefinitionMap=this._buildTaskDefinitionMap(t));var u=s.WorkFlowHelper.getTasks(n.workflowTasks),i=r.clone(s.DeployPhaseHelper.getDemandsOfAgentBasedDeployPhases([n])),f=[];return u&&(u.forEach(function(n){var t,u;n.enabled&&(t=e._taskIdToTaskDefinitionMap[n.task.id],t&&(t.demands&&t.demands.length>0&&(u=t.demands.filter(function(n){return!r.contains(f,n.toLowerCase())}),r.addRange(i,u)),t.satisfies&&t.satisfies.length>0&&r.addRange(f,t.satisfies.map(function(n){return n.toLowerCase()}))))}),i=r.unique(i)),i},n.prototype._buildTaskDefinitionMap=function(n){var t={};return n.forEach(function(n){t[n.id]=n}),t},n.prototype._removeVaraibleDemand=function(t){var i=r.clone(t);return i?i.filter(function(t){return!n.containsVaraible(t)}):i},n.containsVaraible=function(n){var t=new RegExp("\\$\\(.*?\\)");return t.test(n)},n.generateWarningMessageForEnvironment=function(n,t){return u.localeFormat(e.DemandsNotMetForEnvironment,n)+u.newLine+t},n.getDemandsValidator=function(){if(n._queueManager||(n._queueManager=h.serviceContext.queueManager()),!n._singleton){var t=h.serviceContext.distributedTasksManager().getTaskDefinitions(!1),i=h.serviceContext.distributedTasksManager().getCollectionTaskAgentClient();n._singleton=new n(i,t)}return n._singleton},n._lineSeparator="\n\n",n}();t.DemandsValidator=c});

define("VSSPreview/Flux/Components/LWP",["require","exports","react","VSS/LWP"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.LWPComponent=void 0;var u=r.getLWPModule("VSS/Platform/Layout"),f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n,t,f;return u&&u.WrappedComponent&&u.ReactRootComponent?(n=r.getLWPModule("VSS/Legacy/Legacy"),n||console&&console.warn("`LWPComponent` requires the `VSS/Legacy/Legacy` module"),t=n.getLWPComponentProps(),f=this.props.pageContext,f&&(t.pageContext=f),i.createElement(u.ReactRootComponent,__assign({},t),i.createElement(u.WrappedComponent,__assign({},this.props)))):(console&&console.warn("`LWPComponent` requires the `VSS/Platform/Layout` module"),null)},t}(i.Component);t.LWPComponent=f});

define("ReleasePipeline/Scripts/Common/Components/ResourceSecurityPanel",["require","exports","react","react-dom","VSSPreview/Flux/Components/LWP","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core"],function(n,t,i,r,u,f){function s(n){r.render(i.createElement(e,__assign({},n)),document.createElement("div"))}var o,e;Object.defineProperty(t,"__esModule",{value:!0});t.ResourceSecurityPanel=t.renderResourceSecurityPanelUX=void 0;o="Release";t.renderResourceSecurityPanelUX=s;e=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._onSecurityPanelCancel=function(){r.setState({viewResourceSecurity:!1})},r.state={viewResourceSecurity:!0},r}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",null,this.state.viewResourceSecurity&&i.createElement(u.LWPComponent,{dependencies:["ms.vss-admin-web.security-view-common-content"],wrappedType:"ms.vss-admin-web.security-panel-component",onCancel:this._onSecurityPanelCancel,securityViewTitle:this.props.tokenDisplayValue,permissionSetId:this.props.permissionSet,permissionSetToken:this.props.token,allowAADSearchInHosted:f.FeatureFlagUtils.showAADIdentitiesOnSearchInSecurityDialog(),resourceId:this.props.token,resourceType:o}))},t}(i.Component);t.ResourceSecurityPanel=e});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.SecurityDialog",["require","exports","VSS/VSS","VSS/Utils/String","VSS/SDK/Shim","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Context","ReleasePipeline/Scripts/TFS.ReleaseManagement.MessageArea","ReleasePipeline/Scripts/Common/Components/ResourceSecurityPanel","jQueryUI/button","VSS/SDK/VSS.SDK"],function(n,t,i,r,u,f,e,o,s,h,c){var l,a;Object.defineProperty(t,"__esModule",{value:!0});t.SecurityHelper=t.ExternalSecurityDialog=void 0;l=function(){function n(){}return n.showDialog=function(n){u.VSS.getService("ms.vss-web.dialog-service").then(function(t){var i={width:800,height:650,title:n.title,resizable:!0,modal:!0,cssClass:"admin-dialog external-admin-dialog external-dialog",cancelText:f.Cancel},r=$.extend({style:"minControl",allowAADSearchInHosted:e.FeatureFlagUtils.showAADIdentitiesOnSearchInSecurityDialog()},n.params);t.openDialog("ms.vss-admin-web.security-control",i,r)})},n}();t.ExternalSecurityDialog=l;a=function(){function n(){}return n.CreateSecurityMenuItem=function(t){return{id:o.MenuCommands.PROJECT_SECURITY,text:f.SecurityToolBarMenu,setTitleOnlyOnOverflow:!0,disabled:t.disabled,icon:"bowtie-icon bowtie-security",showText:!0,action:function(){n.showSecurityDialog(t)}}},n.showSecurityDialog=function(t){if(!!t.releaseDefinitionId&&t.releaseDefinitionId>0&&!!t.addFolderPathToToken){var i=s.serviceContext.releaseDefinitionManager().getReleaseDefinition(t.releaseDefinitionId,t.projectId);i.then(function(i){var r=n.createFolderPathSecurityToken(i.path),u=t.projectId+(r?"/"+r:"");n.launchSecurityDialog(u,t)},function(n){h.currentContext.logError(n)})}else n.launchSecurityDialog(t.projectId,t)},n.launchSecurityDialog=function(n,t){var u=n+(t.token?"/"+t.token:""),i={useApiUrl:!0,permissionSet:t.permissionSet,token:u,tokenDisplayValue:t.resource};e.FeatureFlagUtils.EnableResourceSecurityPanel()?(i.tokenDisplayValue=r.localeFormat(f.PermissionsForText,t.resourceName),c.renderResourceSecurityPanelUX(i)):l.showDialog({params:i,title:r.localeFormat(f.PermissionsForText,t.resourceName)})},n.CreateDefinitionSecurityToken=function(t,i){return n.isRootPath(t)?i.toString():n.createFolderPathSecurityToken(t)+n._securityTokenSeparator+i},n.CreateEnvironmentSecurityToken=function(t,i,u){return r.format(n._environmentSecurityTokenFormat,n.CreateDefinitionSecurityToken(t,i),u)},n.createFolderPathSecurityToken=function(t){if(n.isRootPath(t))return r.empty;var i=r.startsWith(t,n._pathSeparator,r.ignoreCaseComparer)?t.substring(1):t;return i.split(n._pathSeparator).join(n._securityTokenSeparator)},n.isRootPath=function(t){return t?r.equals(t,n._pathSeparator,!0)?!0:!1:!0},n._pathSeparator="\\",n._securityTokenSeparator="/",n._environmentSecurityTokenFormat="{0}/Environment/{1}",n}();t.SecurityHelper=a;i.tfsModuleLoaded("TFS.ReleaseManagement.SecurityDialog",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Model",["require","exports","q","VSS/VSS","VSS/Utils/String","VSS/Utils/Date","VSS/Utils/Array","VSS/Service","VSS/Context","ReleaseManagement/Core/Contracts","ReleasePipeline/Scripts/Clients/ReleaseClient","ReleasePipeline/Scripts/TFS.ReleaseManagement.Context","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Host.TfsContext","ReleasePipeline/Scripts/TFS.ReleaseManagement.SecurityDialog","ReleasePipeline/Scripts/TFS.ReleaseManagement.Manager"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){function ri(){st.resolve(!0)}var nt,it,ht,ct,g,lt,at,vt,et,rt,yt,pt,d,kt,ot,dt,gt,st;Object.defineProperty(t,"__esModule",{value:!0});t.resolveSignalRPromise=t.signalRPromise=t.BaseSnapshot=t.AgentPool=t.CreateReleaseParameters=t.DeploymentMachine=t.ReleaseEnvironmentLog=t.ReleaseLogBase=t.ReleaseTask=t.ReleaseApprovalHistory=t.ReleaseApproval=t.ReleaseEnvironmentBase=t.DeploymentsModel=t.Deployment=t.ReleasesModel=t.Release=t.ContinuousDeploymentTriggerIssue=t.ReleaseDefinitionsModel=t.DeploymentModelBase=t.ReleaseManagementModelBase=void 0;nt=function(){function n(n){this._releaseManagementService=n?n:k.BaseManager.releaseManagementClient||o.getCollectionService(c.ReleaseManagementService)}return n.prototype._getReleaseManagementService=function(){return this._releaseManagementService},n}();t.ReleaseManagementModelBase=nt;it=function(){function n(n){this._releaseManagementService=n?n:o.getCollectionService(c.ReleaseManagementService)}return n.prototype._getReleaseManagementService=function(){return this._releaseManagementService},n}();t.DeploymentModelBase=it;ht=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetAllReleaseDefinitions=function(){return n.prototype._getReleaseManagementService.call(this).beginGetReleaseDefinitions().then(function(n){return n.definitions})},t.prototype.beginGetReleaseDefinition=function(n){return this._getReleaseManagementService().beginGetReleaseDefinition(n)},t.prototype.beginGetReleaseDefinitionSummary=function(n,t,r,u){u===void 0&&(u=null);var f=i.defer(),e=this._getReleaseManagementService(),o=e.beginGetReleaseDefinitionSummary(n,t,r,u);return o.then(function(n){var t=[],i=[];y.ArrayHelper.hasItems(n.releases)?(n.releases.forEach(function(n){var r=g.create(n,e);!r||(r.environments.forEach(function(n){p.ApprovalsHelper.setCanApproveForCurrentUser(n.preDeployApprovals,i);p.ApprovalsHelper.setCanApproveForCurrentUser(n.postDeployApprovals,i)}),t.push(r))}),n.releases=t,f.resolve(n)):f.resolve(n)},function(n){f.reject(n)}),f.promise},t}(nt);t.ReleaseDefinitionsModel=ht;ct=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t}(nt);t.ContinuousDeploymentTriggerIssue=ct;g=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.create=function(n,i,r){if(r===void 0&&(r=!0),!n)throw new Error("releaseData for Release creation should not be null or undefined");var u=new t(i);return u._updateReleaseData(n),u},t.prototype.getReleaseData=function(){return{id:this.id,status:this.status,name:this.name,description:this.description,createdOn:this.createdOn,createdBy:this.createdBy,createdFor:this.createdFor,modifiedOn:this.modifiedOn,modifiedBy:this.modifiedBy,environments:this.environments,releaseDefinition:this.releaseDefinition,releaseDefinitionRevision:this.releaseDefinitionRevision,artifacts:this.artifacts,poolName:this.poolName,variables:this.variables,variableGroups:this.variableGroups,projectReference:this.projectReference,reason:this.reason,releaseNameFormat:this.releaseNameFormat,keepForever:this.keepForever,url:this.url,_links:this._links,logsContainerUrl:this.logsContainerUrl,definitionSnapshotRevision:this.definitionSnapshotRevision,comment:this.comment,properties:this.properties,tags:this.tags,triggeringArtifactAlias:""}},t.prototype.beginStart=function(n,t){this._beginSetReleaseStatus(h.ReleaseStatus.Active,null,n,t)},t.prototype.beginAbandon=function(n,t,i){this._beginSetReleaseStatus(h.ReleaseStatus.Abandoned,n,t,i)},t.prototype.beginSetReleaseRetention=function(n){return this._beginSetReleaseRetention(n)},t.prototype.beginCreateRelease=function(t){return n.prototype._getReleaseManagementService.call(this).beginCreateRelease(t)},t.prototype.getEnvironmentById=function(n){for(var t=0;t<this.environments.length;t++)if(this.environments[t].id===n)return this.environments[t];return null},t.getApisEndPoint=function(){var n=s.getDefaultWebContext(),t=p.ReleaseManagementEndpointHelper.getReleaseEndPoint();return u.format("{0}{1}/{2}/",t,w.TfsContext.getDefault().getActionUrl("",v.ReleasePipelineAreas.APIS,{project:n.project.id,team:""}),v.WebApiConstants.Area)},t.getDownloadAllLogsLink=function(n){return u.format("{0}releases/{1}/logs",t.getApisEndPoint(),n.toString())},t.prototype._beginSetReleaseStatus=function(t,i,r,u){var e=this;l.serviceContext.customerIntelligence().startScenario(v.PerfScenariosConstants.UpdateReleaseStatusScenario);n.prototype._getReleaseManagementService.call(this).beginPatchRelease(this.id,{status:t,requestTime:f.shiftToUTC(new Date),keepForever:null,manualEnvironments:null,comment:i,name:null},function(n){e._updateReleaseData(n);r&&(r(e),l.serviceContext.customerIntelligence().endScenario(v.PerfScenariosConstants.UpdateReleaseStatusScenario))},function(n){u(n);l.serviceContext.customerIntelligence().abortScenario(v.PerfScenariosConstants.UpdateReleaseStatusScenario)})},t.prototype._beginSetReleaseRetention=function(n){var r=this;l.serviceContext.customerIntelligence().startScenario(v.PerfScenariosConstants.UpdateReleaseRetentionScenario);var t=i.defer(),u={status:h.ReleaseStatus.Undefined,requestTime:f.shiftToUTC(new Date),keepForever:n,manualEnvironments:null,comment:null,name:null},e=l.serviceContext.releaseManager().beginPatchRelease(this.id,u);return e.then(function(n){r._updateReleaseData(n);t.resolve(n);l.serviceContext.customerIntelligence().endScenario(v.PerfScenariosConstants.UpdateReleaseRetentionScenario)},function(n){t.reject(n);l.serviceContext.customerIntelligence().abortScenario(v.PerfScenariosConstants.UpdateReleaseRetentionScenario)}),t.promise},t.prototype._updateReleaseData=function(n){var i=this,t,r;n&&(this.id=n.id,this.name=n.name,this.description=n.description||u.empty,this.createdOn=n.createdOn||new Date,this.modifiedOn=n.modifiedOn||new Date,this.createdBy=n.createdBy,this.modifiedBy=n.modifiedBy,this.releaseDefinition=n.releaseDefinition,this.artifacts=n.artifacts||[],this.definitionName=!n.releaseDefinition?u.empty:n.releaseDefinition.name,this.status=n.status,this.reason=n.reason,this.releaseNameFormat=n.releaseNameFormat,this.keepForever=n.keepForever,this.definitionSnapshotRevision=n.definitionSnapshotRevision,this.tags=n.tags||[],this.variables=n.variables,this.properties=n.properties,t=this.variables&&Object.getOwnPropertyNames(this.variables)||[],y.ArrayHelper.hasItems(t)&&t.forEach(function(n){i.variables[n].isSecret&&(i.variables[n].value="********")}),this.environments=[],y.ArrayHelper.hasItems(n.environments)&&(r=$.map(n.environments,function(n){return et.create(n)}),this.environments=r.sort(function(n,t){return n.rank-t.rank})))},t}(nt);t.Release=g;lt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.createReleaseModel=function(n){return g.create(n,this._getReleaseManagementService())},t.prototype.beginGetRelease=function(n,t){var u=this;t===void 0&&(t=!1);var r=i.defer(),f=this._getReleaseManagementService(),e=t?h.ApprovalFilters.All:h.ApprovalFilters.ManualApprovals|h.ApprovalFilters.AutomatedApprovals,o=f.beginGetRelease(n,e,["DownloadBuildArtifactsUsingTask, ReleaseCreationSource"]);return o.then(function(n){var t=u.updateReleaseApprovals(n);t.then(function(n){r.resolve(n)},function(n){r.reject(n)})},function(n){r.reject(n)}),r.promise},t.prototype.beginCreateRelease=function(n){return this._getReleaseManagementService().beginCreateRelease(n)},t.prototype.beginGetReleasesWithContinuationToken=function(n,t,r,u,f,e,o,s,h,c,a,v,p,w){var k=this,b=i.defer(),d=l.serviceContext.releaseManager().beginGetReleasesWithContinuationToken(n,t,r,u,f,e,o,s,h,c,a,v,p,w);return d.then(function(t){if(k._continuationToken=t.continuationToken,l.serviceContext.customerIntelligence().split("GetReleasesResponseReceived"),y.ArrayHelper.hasItems(t.releases)){var i=[],r=[];t.releases.forEach(function(n){i.push(k._updateReleaseApprovalsWithCanApproveState(r,n))});t.releases=i;t.queryDefinitionId=n;b.resolve(t)}else t.queryDefinitionId=n,b.resolve(t)},function(n){b.reject(n)}),b.promise},t.prototype.getContinuationToken=function(){return this._continuationToken},t.prototype.beginCreateDraftRelease=function(n){var t=i.defer(),r=l.serviceContext.releaseDefinitionManager().getReleaseDefinition(n);return r.then(function(){var i=new ot(n,null,null),r;i.isDraft=!0;l.serviceContext.customerIntelligence().split("VSO.RM.GetReleaseDefinition");r=l.serviceContext.releaseManager().create(i);r.then(function(n){t.resolve(n)},function(n){t.reject(n)})},function(n){t.reject(n)}),t.promise},t.prototype.updateReleaseApprovals=function(n){var e=this,r=i.defer(),o=s.getDefaultWebContext().user.id,c=h.ApprovalStatus.Pending,u,f;return p.ReleaseStatusHelper.getComputedReleaseStatus(n)===v.ComputedReleaseStatus.InProgress?(u=t._hasAnyPendingApprovalsOnAGroup(n,this._getReleaseManagementService())?l.serviceContext.releaseApprovalManager().beginGetReleaseApprovals(o,c,[n.id]):i.resolve(t._getPendingApprovalsOnCurrentUser(n,this._getReleaseManagementService())),f=this._getManageDeploymentPermissionsPromise(n),i.all([u,f]).spread(function(i,u){var f=e._updateReleaseApprovalsWithCanApproveState(i,n);t._updateReleaseManageDeploymentPermissions(u,f);r.resolve(f)},function(n){r.reject(n)})):r.resolve(this._updateReleaseApprovalsWithCanApproveState([],n)),r.promise},t.prototype.getSourceBranches=function(n){return l.serviceContext.releaseManager().beginGetSourceBranches(n)},t._hasAnyPendingApprovalsOnAGroup=function(n,t){var i,r;return n&&(r=g.create(n,t),i=e.first(r.environments,function(n){var t=p.ReleaseEnvironmentHelper.getMaxAttemptNumberFromDeploySteps(n.deploySteps);return n.hasPendingApprovalByAnyGroup(v.ApprovalType.PreApproval,t)||n.hasPendingApprovalByAnyGroup(v.ApprovalType.PostApproval,t)})),!!i},t._getPendingApprovalsOnCurrentUser=function(n,t){var i=[],r;return n&&(r=g.create(n,t),r.environments.forEach(function(n){n.getPendingApprovalsOnCurrentUser(v.ApprovalType.PreApproval).forEach(function(n){i.push(n)});n.getPendingApprovalsOnCurrentUser(v.ApprovalType.PostApproval).forEach(function(n){i.push(n)})})),i},t._updateReleaseManageDeploymentPermissions=function(n,t){t.environments.forEach(function(t){t.setManageDeploymentPermission(n[t.id])})},t.prototype._getManageDeploymentPermissionsPromise=function(n){var t=[],r={};return n.environments.forEach(function(n){var u=b.SecurityHelper.CreateEnvironmentSecurityToken(n.releaseDefinition.path,n.releaseDefinition.id,n.definitionEnvironmentId),f=l.serviceContext.permissionManager().hasPermission(u,v.ReleaseManagementSecurityPermissions.ManageDeployments).then(function(t){r[n.id]=t;i.resolve("")});t.push(f)}),i.allSettled(t).then(function(){return r})},t.prototype._updateReleaseApprovalsWithCanApproveState=function(n,t){var i=g.create(t,this._getReleaseManagementService());return i.environments.forEach(function(t){p.ApprovalsHelper.setCanApproveForCurrentUser(t.preDeployApprovals,n);p.ApprovalsHelper.setCanApproveForCurrentUser(t.postDeployApprovals,n)}),i},t}(nt);t.ReleasesModel=lt;at=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getDeploymentData=function(){return{attempt:this.attempt,conditions:this.conditions,definitionEnvironmentId:this.definitionEnvironmentId,deploymentStatus:this.deploymentStatus,id:this.id,projectReference:this.projectReference,lastModifiedBy:this.lastModifiedBy,lastModifiedOn:this.lastModifiedOn,operationStatus:this.operationStatus,postDeployApprovals:this.postDeployApprovals,preDeployApprovals:this.preDeployApprovals,queuedOn:this.queuedOn,reason:this.reason,release:this.release,releaseDefinition:this.releaseDefinition,releaseEnvironment:this.releaseEnvironment,requestedBy:this.requestedBy,requestedFor:this.requestedFor,scheduledDeploymentTime:this.scheduledDeploymentTime,startedOn:this.startedOn,_links:this._links,completedOn:this.completedOn}},t}(it);t.Deployment=at;vt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetDeploymentsWithContinuationToken=function(n,t,r,u,f,e,o,s,h){var a=this,c=i.defer(),v=l.serviceContext.deploymentManager().beginGetDeploymentsWithContinuationToken(n,t,r,u,f,o,s,h);return v.then(function(n){a._continuationToken=n.continuationToken;l.serviceContext.customerIntelligence().split("GetDeploymentsResponseReceived");c.resolve(n)},function(n){c.reject(n)}),c.promise},t.prototype.getContinuationToken=function(){return this._continuationToken},t}(it);t.DeploymentsModel=vt;et=function(){function n(){this._logs=null;this._hasManageDeploymentPermission=!1}return n.create=function(t){var i,o,s,u,r,h,f,c,e,l,a,v;if(!t)throw new Error("sourceDate for environment creation should not be null or undefined");if(i=new n,i.id=t.id,i.releaseId=t.releaseId,i.name=t.name,i.rank=t.rank||t.id,i.status=t.status,i.definitionEnvironmentId=t.definitionEnvironmentId,i.variables=t.variables,i.variableGroups=t.variableGroups,i.environmentOptions=t.environmentOptions,i.conditions=t.conditions,i.deploySteps=t.deploySteps,i.deployPhasesSnapshot=t.deployPhasesSnapshot,i.scheduledDeploymentTime=t.scheduledDeploymentTime,i.schedules=t.schedules,i.nextScheduledUtcTime=t.nextScheduledUtcTime,i.releaseDefinition=t.releaseDefinition,i.processParameters=t.processParameters,i.preApprovalsSnapshot=t.preApprovalsSnapshot,i.postApprovalsSnapshot=t.postApprovalsSnapshot,o=p.ReleaseEnvironmentHelper.getMaxAttemptNumber(t.preDeployApprovals,i.deploySteps),s=$.map(t.preDeployApprovals,function(n){return rt.create(n)}),i.preDeployApprovals=p.ReleaseEnvironmentHelper.getSortedApprovalsForAllAttempts(s,o),s=$.map(t.postDeployApprovals,function(n){return rt.create(n)}),i.postDeployApprovals=p.ReleaseEnvironmentHelper.getSortedApprovalsForAllAttempts(s,o),y.ArrayHelper.hasItems(t.deploySteps))for(u=t.deploySteps.sort(function(n,t){return n.attempt-t.attempt}),i.deploySteps=u,r=0;r<u.length;r++){if(u[r].releaseDeployPhases)for(h=u[r].releaseDeployPhases.sort(function(n,t){return n.rank-t.rank}),i.deploySteps[r].releaseDeployPhases=h,f=0;f<h.length;f++)for(c=h[f].deploymentJobs.sort(n._orderJobs),i.deploySteps[r].releaseDeployPhases[f].deploymentJobs=c,e=0;e<c.length;e++)l=c[e].tasks.sort(n._orderRecord),i.deploySteps[r].releaseDeployPhases[f].deploymentJobs[e].tasks=l;a=p.ReleaseEnvironmentHelper.sortGatesBasedOnRank(u[r].preDeploymentGates);u[r].preDeploymentGates=a;v=p.ReleaseEnvironmentHelper.sortGatesBasedOnRank(u[r].postDeploymentGates);u[r].postDeploymentGates=v}return i.maxAttemptNumber=o,i.preDeploymentGatesSnapshot=t.preDeploymentGatesSnapshot,i.postDeploymentGatesSnapshot=t.postDeploymentGatesSnapshot,i},n.prototype.getDeferredDeploymentTime=function(){return this.hasDeferredDeployment()?this.scheduledDeploymentTime:null},n.prototype.hasDeferredDeployment=function(){return!!this.scheduledDeploymentTime&&y.DateHelper.isGivenTimeInFuture(this.scheduledDeploymentTime)},n.prototype.getLogs=function(){var i,t,r,f,n;if(!y.ArrayHelper.hasItems(this._logs)){for(this._logs=[],this._logs.push(ft.create(this,this.maxAttemptNumber)),i=this.maxAttemptNumber>0&&this.deploySteps.length>0&&this.deploySteps[this.maxAttemptNumber-1].reason===h.DeploymentReason.RedeployTrigger,i&&(t=ft.create(this),t.name=a.ReleaseLogsAutoRedeployTriggerHeader,t.logProperties.releaseLogType=v.ReleaseLogTypes.RetryHeading,this._logs.push(t)),r=this._pushLogsForAttempt(this.maxAttemptNumber),i&&(t.childLogCount=r),n=1;n<=this.maxAttemptNumber-1;n++){n===1&&(f=this._insertEnvironmentLogForRetriesHeader(u.localeFormat(a.ReleaseLogsRetriesHeaderNewText,this.maxAttemptNumber-1),v.ReleaseLogTypes.RetryHeading));var e=this._getDeployAttemptStatus(n),o=this.deploySteps[n-1].reason,s=o===h.DeploymentReason.RedeployTrigger?u.localeFormat(a.ReleaseLogsAutoTriggerRetriesAttemptHeader,n):u.localeFormat(a.ReleaseLogsRetriesAttemptHeader,n),c=this._insertEnvironmentLogForRetriesHeader(s,v.ReleaseLogTypes.RetryAttemptHeading,n,e),l=this._pushLogsForAttempt(n);c.childLogCount=l;n===this.maxAttemptNumber-1&&(f.childLogCount=this._logs.length-(r+2+(i?1:0)))}this._logs[0].childLogCount=this._logs.length-1}return this._logs},n.prototype.hasManualIntervention=function(){var n=p.ReleaseEnvironmentHelper.getManualInterventionsForEnvironment(this);return!!n&&y.ArrayHelper.hasItems(n)?!0:!1},n.prototype.hasManualPreApproval=function(){var n=null;return!!this.preApprovalsSnapshot&&y.ArrayHelper.hasItems(this.preApprovalsSnapshot.approvals)&&(n=e.first(this.preApprovalsSnapshot.approvals,function(n){return!n.isAutomated})),!!n},n.prototype.hasPendingApproval=function(n,t){return!!this._getAnyPendingApproval(n,!0,!1,!1,!1,t)},n.prototype.hasPendingApprovalByAnyGroup=function(n,t){return!!this._getAnyPendingApproval(n,!1,!1,!0,!1,t)},n.prototype.hasPendingApprovalByAnyUser=function(n,t){return!!this._getAnyPendingApproval(n,!1,!0,!1,!1,t)},n.prototype.hasPendingApprovalByCurrentUser=function(n,t){return!!this._getAnyPendingApproval(n,!1,!1,!1,!0,t)},n.prototype.getPendingApprovalsOnCurrentUser=function(t,i){var u=t===v.ApprovalType.PreApproval?this.preDeployApprovals:this.postDeployApprovals,f=t===v.ApprovalType.PostApproval?this._areTasksCompleted(i):!0,r;return this._isEnvironmentNeedApproval(t)&&f&&y.ArrayHelper.hasItems(u)&&(r=this._getFilteredApprovalsByAttempt(u,i),r.forEach(function(t){n._checkCriteriaOnApproval(t,!1,!1,!1,!0)&&r.push(t)})),[]},n.prototype.canBeDeployed=function(){var n=p.ReleaseEnvironmentStatusHelper.getComputedReleaseEnvironmentStatus(this);return n===v.ComputedReleaseEnvironmentStatus.NotStarted||n===v.ComputedReleaseEnvironmentStatus.Scheduled},n.prototype.canBeCancelled=function(){var n=p.ReleaseEnvironmentStatusHelper.getComputedReleaseEnvironmentStatus(this);switch(n){case v.ComputedReleaseEnvironmentStatus.Queued:case v.ComputedReleaseEnvironmentStatus.Deferred:case v.ComputedReleaseEnvironmentStatus.InProgress:case v.ComputedReleaseEnvironmentStatus.Pending:case v.ComputedReleaseEnvironmentStatus.PreApprovalPending:case v.ComputedReleaseEnvironmentStatus.QueuedForAgent:case v.ComputedReleaseEnvironmentStatus.Scheduled:case v.ComputedReleaseEnvironmentStatus.QueuedForPipeline:case v.ComputedReleaseEnvironmentStatus.GatesInProgress:case v.ComputedReleaseEnvironmentStatus.GatesStabilizing:return!0}return!1},n.prototype.canBeRedeployed=function(){var n=p.ReleaseEnvironmentStatusHelper.getComputedReleaseEnvironmentStatus(this);switch(n){case v.ComputedReleaseEnvironmentStatus.Canceled:case v.ComputedReleaseEnvironmentStatus.Rejected:case v.ComputedReleaseEnvironmentStatus.Failed:case v.ComputedReleaseEnvironmentStatus.PreApprovalRejected:case v.ComputedReleaseEnvironmentStatus.PartiallySucceeded:case v.ComputedReleaseEnvironmentStatus.Succeeded:case v.ComputedReleaseEnvironmentStatus.GatesFailed:return!0}return!1},n._orderDates=function(n,t){return n&&t?f.defaultComparer(n,t):n?-1:t?1:0},n._orderRecord=function(t,i){if(!t||!i)return 0;var r=t.rank,u=i.rank;return!r||!u||r==u?n._orderDates(t.startTime,i.startTime):r-u},n._orderJobs=function(t,i){return!t.job||!i.job?0:n._orderRecord(t.job,i.job)},n.prototype._getDeployAttemptStatus=function(n){var t=v.ReleaseLogStates.Undefined,i=null;return y.ArrayHelper.hasItems(this.postDeployApprovals)&&(t=this._getApprovalsState(this.postDeployApprovals,n,v.ApprovalType.PostApproval),t!==v.ReleaseLogStates.Undefined)?t===v.ReleaseLogStates.Succeeded&&y.ArrayHelper.hasItems(this.deploySteps)&&(i=e.first(this.deploySteps,function(t){return t.attempt===n}),!!i&&i.status===h.DeploymentStatus.PartiallySucceeded)?v.ReleaseLogStates.PartiallySucceeded:t:y.ArrayHelper.hasItems(this.deploySteps)&&(i=e.first(this.deploySteps,function(t){return t.attempt===n}),!!i&&i.status===h.DeploymentStatus.Failed&&i.operationStatus===h.DeploymentOperationStatus.Canceled)?v.ReleaseLogStates.Canceled:y.ArrayHelper.hasItems(this.preDeployApprovals)&&(t=this._getApprovalsState(this.preDeployApprovals,n),t!==v.ReleaseLogStates.Undefined)?t:v.ReleaseLogStates.Failed},n.prototype._getApprovalsState=function(n,t,i){i===void 0&&(i=v.ApprovalType.PreApproval);var r=this._getFilteredApprovalsByAttempt(n,t);if(y.ArrayHelper.hasItems(r)){if(r.some(function(n){return n.status===h.ApprovalStatus.Rejected}))return v.ReleaseLogStates.Rejected;if(r.some(function(n){return n.status===h.ApprovalStatus.Canceled}))return v.ReleaseLogStates.Canceled;if(i===v.ApprovalType.PostApproval&&r.some(function(n){return n.status===h.ApprovalStatus.Approved}))return v.ReleaseLogStates.Succeeded}return v.ReleaseLogStates.Undefined},n.prototype.getManageDeploymentPermission=function(){return this._hasManageDeploymentPermission},n.prototype.setManageDeploymentPermission=function(n){this._hasManageDeploymentPermission=n},n.prototype._getAnyPendingApproval=function(t,i,r,u,f,o){var s=null,h=t===v.ApprovalType.PreApproval?this.preDeployApprovals:this.postDeployApprovals,l=t===v.ApprovalType.PostApproval?this._areTasksCompleted(o):!0,c;return this._isEnvironmentNeedApproval(t)&&l&&y.ArrayHelper.hasItems(h)&&(c=this._getFilteredApprovalsByAttempt(h,o),s=e.first(c,function(t){return n._checkCriteriaOnApproval(t,i,r,u,f)})),s},n._checkCriteriaOnApproval=function(n,t,i,r,u){if(n.status===h.ApprovalStatus.Pending){if(t)return!0;if(!n.isAutomated)return i?!0:r?n.isAssignedToGroup():u&&n.isApproverCurrentUser()}return!1},n.prototype._getFilteredApprovalsByAttempt=function(n,t){return t?n.filter(function(n){return n.attempt===t}):n},n.prototype._areTasksCompleted=function(n){var t=null,i=p.ReleaseEnvironmentHelper.getTasksForAttempt(this,n);return t=e.first(i,function(n){return!p.ReleaseHelper.isTaskSuccessful(n.status)}),!t},n.prototype._insertEnvironmentLogForRetriesHeader=function(n,t,i,r){r===void 0&&(r=null);var u=ft.create(this,i);return u.status=r,u.duration=null,u.dateStarted=null,u.name=n,u.logProperties.releaseLogType=t,this._logs.push(u),u},n.prototype._pushApprovalLogs=function(n,t){var i=0,r;return y.ArrayHelper.hasItems(n)&&(r=n[n.length-1],this._logs.push(ii.create(r,t)),i++),i},n.prototype._pushGatesLogs=function(n,t,i,r,f){var p=this,s=0,c,o,h,l,a,v;if(n){if((c=ti.create(n,r,f,t,i),this._logs.push(c),s++,!y.ArrayHelper.hasItems(n.deploymentJobs))||(o=n.deploymentJobs[0].tasks,n.deploymentJobs.length>1&&(h=n.deploymentJobs[1].tasks,y.ArrayHelper.hasItems(o)?o.length!=h.length&&(l=e.subtract(h,o,function(n,t){return u.localeIgnoreCaseComparer(n.name,t.name)}),a=l.concat(o),o=a):o=h),!y.ArrayHelper.hasItems(o)))return s;v=o.sort(function(n,t){return u.localeIgnoreCaseComparer(n.name,t.name)});v.forEach(function(u){p._logs.push(ni.create(r,f,t,u,i,n.stabilizationCompletedOn));s++});c.childLogCount=o.length}return s},n.prototype._areGatesBeforeApprovals=function(n,t){if(y.ArrayHelper.hasItems(n)&&t&&y.ArrayHelper.hasItems(t.deploymentJobs)){n.sort(function(n,t){return f.defaultComparer(n.createdOn,t.createdOn)});var i=n[0].createdOn,r=t.deploymentJobs[0].job.startTime;return f.defaultComparer(i,r)<0?!1:!0}return t&&y.ArrayHelper.hasItems(t.deploymentJobs)?!0:!1},n.prototype._isApprovalExeuctionOrderBeforeGates=function(n,t,i,r){if(i===this.maxAttemptNumber){var u=r===v.ApprovalType.PreApproval?this.preApprovalsSnapshot:this.postApprovalsSnapshot;if(u&&u.approvalOptions)return!u.approvalOptions.executionOrder||u.approvalOptions.executionOrder===h.ApprovalExecutionOrder.BeforeGates}return!this._areGatesBeforeApprovals(n,t)},n.prototype._pushLogsForApprovalsAndGates=function(n,t,i,r){var u=[],e=t===v.ApprovalType.PreApproval?this.preDeployApprovals:this.postDeployApprovals,f,o;return y.ArrayHelper.hasItems(e)&&(u=this._getFilteredApprovalsByAttempt(e,n)),f=p.ReleaseEnvironmentHelper.getReleaseGatesForSpecificAttempt(this,i,n),o=this._isApprovalExeuctionOrderBeforeGates(u,f,n,t),o?(r=r+this._pushApprovalLogs(u,t,n),r=r+this._pushGatesLogs(f,i,n,this.releaseId,this.id)):(r=r+this._pushGatesLogs(f,i,n,this.releaseId,this.id),r=r+this._pushApprovalLogs(u,t,n)),r},n.prototype._pushLogsForAttempt=function(t){var i=this,r=0,f=null,o;return t<=this.maxAttemptNumber&&(r=this._pushLogsForApprovalsAndGates(t,v.ApprovalType.PreApproval,v.ApprovalType.PreGates,r),o=p.ReleaseEnvironmentHelper.getDeployPhasesForSpecificAttempt(this,t),o.forEach(function(o){var d=e.first(i.deployPhasesSnapshot,function(n){return o.rank===n.rank}),s=!d?o.name:d.name,w,g,c,l,nt,k,b,it;if(s||(s=a.DeployNodeText),w=o.phaseType===h.DeployPhaseTypes.AgentBasedDeployment||o.phaseType===h.DeployPhaseTypes.RunOnServer?!0:!1,w&&(y.ArrayHelper.hasItems(o.deploymentJobs)&&(o.deploymentJobs.length!==1||o.deploymentJobs[0].job&&o.deploymentJobs[0].job.name&&!u.equals(o.deploymentJobs[0].job.name.trim(),"Release"))||(w=!1)),o.phaseType!==h.DeployPhaseTypes.MachineGroupBasedDeployment)if(w)g=s,c=bt.create(i,o,t,g),r++,l=o.deploymentJobs.length,i._logs.push(c),y.ArrayHelper.hasItems(o.deploymentJobs)&&o.deploymentJobs.forEach(function(r){var u,f;!r.job.name||(u=ut.create(i.releaseId,i.id,o.id,o.phaseType,r.job,t,r.job.name,o.runPlanId),c.status===v.ReleaseLogStates.Cancelling&&(u.status=c.status),i._logs.push(u),f=r.tasks,f.forEach(function(r){var u=n._tryGetManualInterventionForTask(r,o.manualInterventions);u?i._logs.push(wt.create(i.releaseId,i.id,o.id,o.phaseType,r,t,u,o.runPlanId)):i._logs.push(tt.create(i.releaseId,i.id,o.id,o.phaseType,r,t,o.runPlanId))}),l=l+f.length,u.childLogCount=f.length)}),c.childLogCount=l,r=r+l;else{if(o.status==h.DeployPhaseStatus.Skipped){nt={agentName:null,dateEnded:null,dateStarted:null,finishTime:null,id:0,issues:[],lineCount:0,logUrl:null,name:s,rank:1,startTime:null,status:h.TaskStatus.Skipped,task:null,timelineRecordId:null,percentComplete:100,resultCode:null};f=ut.create(i.releaseId,i.id,o.id,o.phaseType,nt,t,s,o.runPlanId);i._logs.push(f);r++;return}if(!y.ArrayHelper.hasItems(o.deploymentJobs)||!o.deploymentJobs[0].job.name)return;k=p.EnumTranslator.convertDeploymentPhaseStatusToReleaseLogState(o.status);f=ut.create(i.releaseId,i.id,o.id,o.phaseType,o.deploymentJobs[0].job,t,s,o.runPlanId);k===v.ReleaseLogStates.Cancelling&&(f.status=k);i._logs.push(f);r++;b=o.deploymentJobs[0].tasks;b.forEach(function(r){var u=n._tryGetManualInterventionForTask(r,o.manualInterventions);u?i._logs.push(wt.create(i.releaseId,i.id,o.id,o.phaseType,r,t,u,o.runPlanId)):i._logs.push(tt.create(i.releaseId,i.id,o.id,o.phaseType,r,t,o.runPlanId))});r=r+b.length;f.childLogCount=b.length}else it=i._pushLogsForMachineGroupBasedDeployPhase(o,s,t),r=r+it}),r=this._pushLogsForApprovalsAndGates(t,v.ApprovalType.PostApproval,v.ApprovalType.PostGates,r)),r},n.prototype._pushLogsForMachineGroupBasedDeployPhase=function(n,t,i){var r=this,u=0,f=null,e=bt.create(this,n,i,t),o;return this._logs.push(e),u++,o=p.ReleaseEnvironmentHelper.getDeployJobsForDeploymentPhase(n),!o||(o.forEach(function(t){if(!!t.job&&!!t.job.agentName&&t.job.agentName.length>0){f=ut.create(r.releaseId,r.id,n.id,n.phaseType,t.job,i,t.job.agentName,n.runPlanId);e.status===v.ReleaseLogStates.Cancelling&&(f.status=e.status);r._logs.push(f);u++;var o=t.tasks;o.forEach(function(t){r._logs.push(tt.create(r.releaseId,r.id,n.id,n.phaseType,t,i,n.runPlanId))});u=u+o.length;!f||(f.childLogCount=o.length)}}),e.childLogCount=u-1),u},n.prototype._isEnvironmentNeedApproval=function(){return this.status===h.EnvironmentStatus.InProgress},n._tryGetManualInterventionForTask=function(n,t){return e.first(t,function(t){return t.taskInstanceId===n.timelineRecordId})},n}();t.ReleaseEnvironmentBase=et;rt=function(){function n(){}return n.create=function(t){if(!t)throw new Error("sourceData for release appproval creation should not be null or undefined");var i=new n;return i.updateData(t),i},n.prototype.getApproverProfileImageSource=function(){return!this._approverProfileImageSource&&this.approver&&(this._approverProfileImageSource=y.TfsActionUrlProvider.getImageUrl(this.approver.id)),this._approverProfileImageSource},n.prototype.isAssignedToGroup=function(){return this.approver.isContainer},n.prototype.isApproverCurrentUser=function(){return this.canApprove!==undefined?this.canApprove:!this.isAutomated&&this.status===h.ApprovalStatus.Pending&&u.localeIgnoreCaseComparer(s.getDefaultWebContext().user.id,this.approver.id)===0},n.prototype.isActionable=function(){switch(this.status){case h.ApprovalStatus.Canceled:return!1}return!0},n.prototype.updateData=function(n){this.id=n.id;this.release=n.release;this.releaseDefinition=n.releaseDefinition;this.releaseEnvironment=n.releaseEnvironment;this.comments=n.comments;this.isAutomated=n.isAutomated;this.isNotificationOn=n.isNotificationOn;this.createdOn=n.createdOn||new Date;this.modifiedOn=n.modifiedOn||new Date;this.approver=n.approver;this.approvedBy=n.approvedBy;this.status=n.status===undefined?h.ApprovalStatus.Pending:n.status;this.attempt=n.attempt===undefined?1:n.attempt;this.trialNumber=this.attempt;this.revision=n.revision;this.rank=n.rank;this.history=n.history},n}();t.ReleaseApproval=rt;yt=function(){function n(){}return n.create=function(t){if(!t)throw new Error("sourceData for release appproval creation should not be null or undefined");var i=new n;return i.updateData(t),i},n.prototype.getApproverProfileImageSource=function(){return!this._approverProfileImageSource&&this.approver&&(this._approverProfileImageSource=y.TfsActionUrlProvider.getImageUrl(this.approver.id)),this._approverProfileImageSource},n.prototype.updateData=function(n){this.approver=n.approver;this.changedBy=n.approvedBy;this.comments=n.comments;this.createdOn=n.createdOn||new Date;this.modifiedOn=n.modifiedOn||new Date;this.revision=n.revision;this._approverProfileImageSource=n.getApproverProfileImageSource()},n}();t.ReleaseApprovalHistory=yt;pt=function(){function n(){this.recordType=n.TaskRecordType.Task}return n.create=function(t){if(!t)throw new Error("sourceData for ReleaseTask creation should not be null or undefined");var i=new n;return i.id=t.id,i.name=t.name,i.startTime=t.startTime,i.finishTime=t.finishTime,i.status=t.status,i.issues=t.issues,i.rank=t.rank||t.id,i.percentComplete=t.percentComplete,i.agentName=t.agentName,i.task=t.task,i.timelineRecordId=t.timelineRecordId,i.logUrl=t.logUrl,i.resultCode=t.resultCode,i},n._hasTaskStarted=function(n){var t=!0;switch(n){case h.TaskStatus.Pending:case h.TaskStatus.Unknown:t=!1}return t},n.TaskRecordType={Job:"Job",Task:"Task"},n}();t.ReleaseTask=pt;d=function(){function n(){}return n}();t.ReleaseLogBase=d;var tt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.create=function(n,i,r,u,f,e,o,s){if(s===void 0&&(s=!0),!f)throw new Error("sourceData for ReleaseTaskLog creation should not be null or undefined");var h=new t;return h.id=f.id,h.name=f.name,h.dateStarted=f.startTime,h.duration=h._getDuration(f),h.details=f.name,h.status=p.EnumTranslator.convertTaskStatusToReleaseLogState(f.status),h.logProperties={releaseLogType:v.ReleaseLogTypes.Task,environmentId:i,releaseDeployPhaseId:r,deploymentPhaseType:u,timelineRecordId:f.timelineRecordId,agentName:f.agentName,percentComplete:f.percentComplete,attempt:e},!!f.logUrl&&s&&(h.logProperties.downloadLink=f.logUrl),h.childLogCount=0,h},t.prototype._getDuration=function(n){return this._hasTaskCompleted(n.status)?y.DurationHelper.diff(n.finishTime,n.startTime):""},t.prototype._hasTaskCompleted=function(n){var t=!0;switch(n){case h.TaskStatus.InProgress:case h.TaskStatus.Pending:case h.TaskStatus.Unknown:t=!1}return t},t}(d),ni=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.create=function(n,i,r,e,o,s){if(!e)throw new Error("sourceData for ReleaseTaskLog creation should not be null or undefined");var h=new t;return h.id=e.id,h.name=e.name,h.dateStarted=e.startTime,h.duration=h._getDuration(e),h.details=e.name,h.status=p.EnumTranslator.convertTaskStatusToReleaseLogState(e.status),h.logProperties={releaseLogType:v.ReleaseLogTypes.GateTask,environmentId:i,timelineRecordId:e.timelineRecordId,percentComplete:e.percentComplete,attempt:o,approvalType:r},(!s||e.dateEnded&&f.defaultComparer(e.dateEnded,s)<0)&&(h.logProperties.iconCss=u.format("status {0}",p.ReleaseLogStates.DisplayOutlineIconMap[h.status])),h.childLogCount=0,h},t.prototype._getDuration=function(n){return this._hasTaskCompleted(n.status)?y.DurationHelper.diff(n.finishTime,n.startTime):""},t.prototype._hasTaskCompleted=function(n){var t=!0;switch(n){case h.TaskStatus.InProgress:case h.TaskStatus.Pending:case h.TaskStatus.Unknown:t=!1}return t},t}(d),wt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.create=function(n,t,i,r,u,f,e,o){if(!u)throw new Error("sourceData for ReleaseManualInterventionLog creation should not be null or undefined");var s=tt.create(n,t,i,r,u,f,o,!1);return s.logProperties.releaseLogType=v.ReleaseLogTypes.ManualIntervention,s.logProperties.manualIntervention=e,s},t}(d),ut=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.create=function(n,t,i,r,u,f,e,o){var s=tt.create(n,t,i,r,u,f,o);return s.name=e,s.logProperties.releaseLogType=v.ReleaseLogTypes.Job,s.logProperties.agentName=u.agentName,s.logProperties.attempt=f,s},t}(d),bt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.create=function(n,i,r,u){if(!i)throw new Error("sourceData for ReleaseDeploymentPhaseLog creation should not be null or undefined");var f=new t;return f.id=i.rank,f.name=u,f.dateStarted=f._getDateStarted(i),f.status=p.EnumTranslator.convertDeploymentPhaseStatusToReleaseLogState(i.status),f.duration=f._getDuration(i),f.logProperties={releaseLogType:v.ReleaseLogTypes.DeployPhase,environmentId:n.id},f.logProperties.downloadLink=null,f.logProperties.attempt=r,f.logProperties.releaseDeployPhaseId=i.id,f.logProperties.deploymentPhaseType=i.phaseType,f},t.prototype._getDateStarted=function(n){var t=null;return y.ArrayHelper.hasItems(n.deploymentJobs)&&!!n.deploymentJobs[0].job.startTime&&(t=n.deploymentJobs[0].job.startTime),t},t.prototype._getDuration=function(n){var i=this._getDateStarted(n);if(!i)return"";var t=null,r=p.ReleaseEnvironmentHelper.getJobsForDeploymentPhase(n),u=r.sort(function(n,t){return y.DurationHelper.getDurationMs(n.finishTime,t.finishTime)});return t=u[0].finishTime,!t?"":y.DurationHelper.diff(t,i)},t}(d),ti=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.create=function(n,i,r,u,f){var e,o,s;if(!n)throw new Error("sourceData for ReleaseDeploymentGateLog creation should not be null or undefined");return e=new t,e.name=u===v.ApprovalType.PreGates?a.PreDeploymentGates:a.PostDeploymentGates,e.status=p.EnumTranslator.convertDeploymentGateStatusToReleaseLogStatus(n.status),o=e._getDateStarted(n),e.dateStarted=o,e.duration=e._getDuration(n,o),s=e._getLatestRunningJobTimelineRecordId(n),e.logProperties={releaseLogType:v.ReleaseLogTypes.Gates,environmentId:r,attempt:f,approvalType:u,timelineRecordId:s},e.childLogCount=0,e},t.prototype._getDateStarted=function(n){var i=null,t;return y.ArrayHelper.hasItems(n.deploymentJobs)&&(t=n.deploymentJobs.length,n.deploymentJobs[t-1].job.startTime&&(i=n.deploymentJobs[t-1].job.startTime)),i},t.prototype._getLatestRunningJobTimelineRecordId=function(n){var t=p.ReleaseEnvironmentHelper.getLatestRunningGateDeploymentJob(n);return t&&t.job&&t.job.timelineRecordId?t.job.timelineRecordId:u.empty},t.prototype._getDuration=function(n,t){if(!t)return"";var i=null,r=p.ReleaseEnvironmentHelper.getJobsForDeploymentGates(n),u=r.sort(function(n,t){return y.DurationHelper.getDurationMs(n.finishTime,t.finishTime)});return i=u[0].finishTime,i?y.DurationHelper.diff(i,t):""},t}(d),ii=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.create=function(n,i){if(!n)throw new Error("sourceData for ReleaseApprovalLog creation should not be null or undefined");var r=new t;return r.id=n.id,r.name=i===v.ApprovalType.PreApproval?a.PreDeploymentApproval:a.PostDeploymentApproval,r.dateStarted=n.createdOn,r.duration=y.DurationHelper.diff(n.modifiedOn,n.createdOn),r.details=n.comments,r.status=n.isAutomated?v.ReleaseLogStates.AutomatedApproval:r._getLogStatus(n.status),r.logProperties={releaseLogType:v.ReleaseLogTypes.Approval,environmentId:n.releaseEnvironment.id,approvalType:i,attempt:n.attempt},r.childLogCount=0,r},t.prototype._getLogStatus=function(n){switch(n){case h.ApprovalStatus.Undefined:return v.ReleaseLogStates.Undefined;case h.ApprovalStatus.Pending:return v.ReleaseLogStates.Pending;case h.ApprovalStatus.Approved:return v.ReleaseLogStates.Approved;case h.ApprovalStatus.Rejected:return v.ReleaseLogStates.Rejected;case h.ApprovalStatus.Reassigned:return v.ReleaseLogStates.Reassigned;case h.ApprovalStatus.Canceled:return v.ReleaseLogStates.Canceled;case h.ApprovalStatus.Skipped:return v.ReleaseLogStates.Approved}return v.ReleaseLogStates.Undefined},t}(d),ft=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.create=function(n,i){var r,e,f;if(!n)throw new Error("sourceData for ReleaseEnvironmentLog creation should not be null or undefined");r=new t;r.id=n.id;r.name=n.name;r.dateStarted=r._getDateStarted(n);e=p.ReleaseEnvironmentStatusHelper.getComputedReleaseEnvironmentStatus(n);r.status=p.EnumTranslator.covnertEnvironmentStatusToReleaseLogState(e);r.logProperties={releaseLogType:v.ReleaseLogTypes.Environment,environmentId:n.id,computedEnvironmentStatus:e,hasAtleastOneDeployment:y.ArrayHelper.hasItems(n.deploySteps)};r.logProperties.attempt=i?i:p.ReleaseEnvironmentHelper.getMaxAttemptNumberFromDeploySteps(n.deploySteps);f=u.empty;switch(r.status){case v.ReleaseLogStates.NotStarted:f=r._getConditionText(n.conditions);break;case v.ReleaseLogStates.Queued:f=u.localeFormat(a.QueuedEnvironmentLogText,u.newLine);break;case v.ReleaseLogStates.Deferred:f=u.localeFormat(a.DeferredEnvironmentLogText,y.DateHelper.getDateTimeInLocaleFormat(n.scheduledDeploymentTime));break;case v.ReleaseLogStates.Scheduled:f=a.ScheduledEnvironmentLogText;k.FeaturesManager.areBasicLicenseReleaseManagementFeaturesEnabled()&&(f=u.localeFormat("{0}{1}",f,u.localeFormat(a.ScheduledEnvironmentLogBasicUserText,u.newLine)))}return r.logProperties.logText=f,r},t.prototype._getConditionText=function(n){var t=a.NotDeployedManualConditionEnvironmentLogText,i,r,f;if(k.FeaturesManager.areBasicLicenseReleaseManagementFeaturesEnabled()&&(t=u.localeFormat("{0}{1}",t,u.localeFormat(a.NotDeployedManualConditionEnvironmentLogBasicUserText,u.newLine))),y.ArrayHelper.hasItems(n)){i=n[0];switch(i.conditionType){case h.ConditionType.EnvironmentState:r=n.map(function(n){return n.name}).join(", ");f=i.value===h.EnvironmentStatus.Succeeded.toString()?a.NotDeployedOtherEnvironmentConditionEnvironmentLogText:a.NotDeployedPartiallySucceededOtherEnvironmentConditionEnvironmentLogText;t=u.localeFormat(f,r);k.FeaturesManager.areBasicLicenseReleaseManagementFeaturesEnabled()&&(t=u.localeFormat("{0}{1}",t,u.localeFormat(a.EnvironmentAdditionalLogForBasicUserText,u.newLine)));break;case h.ConditionType.Event:t=u.empty}}return t},t.prototype._getDateStarted=function(n){var t=null;return y.ArrayHelper.hasItems(n.preDeployApprovals)?t=n.preDeployApprovals[0].createdOn:y.ArrayHelper.hasItems(n.deploySteps)&&y.ArrayHelper.hasItems(n.deploySteps[0].releaseDeployPhases)&&y.ArrayHelper.hasItems(n.deploySteps[0].releaseDeployPhases[0].deploymentJobs)&&y.ArrayHelper.hasItems(n.deploySteps[0].releaseDeployPhases[0].deploymentJobs[0].tasks)?t=n.deploySteps[0].releaseDeployPhases[0].deploymentJobs[0].tasks[0].startTime:y.ArrayHelper.hasItems(n.postDeployApprovals)&&(t=n.postDeployApprovals[0].createdOn),t},t}(d);t.ReleaseEnvironmentLog=ft;kt=function(){function n(){}return n.create=function(t,i,r){if(!t)throw new Error("sourceData for ReleaseApprovalLog creation should not be null or undefined");var u=new n;return u.name=t.agentName,u.dateFinished=t.finishTime,u.dateStarted=t.startTime,u.duration=u._getDuration(t),u.deploymentStatus=p.EnumTranslator.convertTaskStatusToReleaseLogState(t.status),u.manageLink=y.UrlHelper.getMachineAdminPageUrl(i,r),u},n.createFromMachine=function(t,i){if(!t)throw new Error("sourceData for ReleaseApprovalLog creation should not be null or undefined");var r=new n;return r.name=t.agent.name,r.deploymentStatus=p.EnumTranslator.convertTaskStatusToReleaseLogState(h.TaskStatus.Pending),r.duration="",r.manageLink=y.UrlHelper.getMachineAdminPageUrl(i,t.id),r},n.prototype._getDuration=function(n){return!n.finishTime?y.DurationHelper.diff(new Date,n.startTime):y.DurationHelper.diff(n.finishTime,n.startTime)},n}();t.DeploymentMachine=kt;ot=function(){function n(n,t,i,r){this.definitionId=n;this.description=i;this.artifacts=t;this.isDraft=!1;this.properties=r}return n}();t.CreateReleaseParameters=ot;dt=function(){function n(n){this.id=n.id;this.name=n.name;this.isHosted=!1}return n}();t.AgentPool=dt;gt=function(){function n(){}return n.prototype.createSnapshot=function(){return this._throwNotImplementedError("createSnaphot"),null},n.prototype.getFromSnapshot=function(){return this._throwNotImplementedError("getFromSnapshot"),null},n.prototype.save=function(){return this._throwNotImplementedError("save"),null},n.prototype.delete=function(){return this._throwNotImplementedError("delete"),null},n.prototype._throwNotImplementedError=function(n){throw new Error(u.localeFormat("{0} should be implemented in the derived class",n));},n}();t.BaseSnapshot=gt;st=i.defer();t.signalRPromise=st.promise;t.resolveSignalRPromise=ri;r.tfsModuleLoaded("TFS.ReleaseManagement.Model",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.EditorModels",["require","exports","q","VSS/VSS","VSS/Utils/String","VSS/Context","ReleaseManagement/Core/Constants","ReleaseManagement/Core/Contracts","ReleasePipeline/Scripts/TFS.ReleaseManagement.Context","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleaseManagement/Core/Constants"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var b,p,y,w,k,d;Object.defineProperty(t,"__esModule",{value:!0});t.DeployedArtifact=t.WorkItemsHelper=t.ReleaseWorkItemChangesHelper=t.Artifact=t.EnvironmentDefinition=t.ReleaseDefinitionModel=void 0;b=function(){function n(n,t){this.id=0;this.name=n;this.description=null;this.source=o.ReleaseDefinitionSource.UserInterface;this.comment=null;this.createdOn=new Date;this.createdBy=null;this.modifiedBy=null;this.modifiedOn=new Date;this.environments=[t||new p];this.environments[0].name=u.localeFormat(h.EnvironmentDefaultNameText,"1");this.artifacts=[];this.variables={};this.variableGroups=[];this.triggers=[];this.lastRelease=null;this.tags=[];this.projectReference=null}return n}();t.ReleaseDefinitionModel=b;p=function(){function n(){this.id=0;this.name="";this.rank=1;this.owner=null;this.currentRelease=null;this.conditions=[];this.variables={};this.variableGroups=[];this.deployPhases=[];this.environmentOptions={emailNotificationType:v.RunOptionsConstants.EnvironmentOwnerEmailNotificationTypeDefaultValue,emailRecipients:v.RunOptionsConstants.EnvironmentOwner+";"+v.RunOptionsConstants.ReleaseCreator,skipArtifactsDownload:!1,timeoutInMinutes:0,enableAccessToken:!1,publishDeploymentStatus:!0,badgeEnabled:!1,autoLinkWorkItems:!1,pullRequestDeploymentEnabled:!1};this.environmentTriggers=[];this.executionPolicy=null;this.preDeployApprovals=n.getDefaultApprovals();this.postDeployApprovals=n.getDefaultApprovals();this.schedules=[];this.retentionPolicy=null;this.processParameters=null;this.properties={};this.preDeploymentGates=null;this.postDeploymentGates=null}return n.getDefaultApprovals=function(){return{approvals:[{id:0,approver:null,isAutomated:!0,isNotificationOn:!1,rank:0}],approvalOptions:null}},n}();t.EnvironmentDefinition=p;y=function(){function n(){}return n.create=function(t){var i=new n;return t&&(i.type=t.type,t.definitionReference&&(i.definitionReference=t.definitionReference),i.alias=t.alias,i.isPrimary=t.isPrimary,i.isRetained=t.isRetained),i},n.createArtifact=function(n,t,i,r){var u={};switch(t.id){case c.ArtifactTypes.Build:u[e.ArtifactDefinitionConstants.ProjectId]=r?{id:r.id,name:r.name}:{id:f.getDefaultWebContext().project.id,name:f.getDefaultWebContext().project.name};u[c.ArtifactDefaultVersionConstants.DefaultVersionType]={id:c.ArtifactDefaultVersionConstants.Latest,name:h.DefaultArtifactLatestText};break;case c.ArtifactTypes.JenkinsId:!i||(u[e.ArtifactDefinitionConstants.ConnectionId]={id:i.id,name:i.name})}return u[e.ArtifactDefinitionConstants.DefinitionId]={id:n.id,name:n.name},{id:0,definitionReference:u,alias:a.ArtifactHelper.getSanitizedAliasName(n.name),type:t.id,artifactTypeName:t.name,sourceId:"",isPrimary:!1,isRetained:!1}},n.areSameTypeArtifacts=function(t,i){if(!t||!i)return!1;var u=n.create(t),r=n.create(i),f=u.getArtifactType();switch(f){case c.ArtifactTypes.Build:if(f!==r.getArtifactType()||u.getProjectId()!==r.getProjectId()||u.getDefinitionId()!==r.getDefinitionId()||u.getBranchId()!==r.getBranchId())return!1;case c.ArtifactTypes.JenkinsId:if(f!==r.getArtifactType()||u.getDefinitionId()!==r.getDefinitionId())return!1}return!0},n.getVersionDifference=function(t,i){var r=n.create(t),u=n.create(i);return r.getVersionRank()-u.getVersionRank()},n.isSupportedArtifactTypeId=function(n){return u.localeIgnoreCaseComparer(c.ArtifactTypes.Build,n)===0},n.isSupportedArtifactTypeIdForCommits=function(n){return u.localeIgnoreCaseComparer(c.ArtifactTypes.Build,n)===0||u.localeIgnoreCaseComparer(c.ArtifactTypes.JenkinsId,n)===0},n.isSupportedArtifactTypeIdForWorkItems=function(n){return u.localeIgnoreCaseComparer(c.ArtifactTypes.Build,n)===0||u.localeIgnoreCaseComparer(c.ArtifactTypes.JenkinsId,n)===0&&l.FeatureFlagUtils.isBuildArtifactTasksEnabled()},n.isArtifactConfiguredWithExternalWorkItemService=function(n){return u.localeIgnoreCaseComparer(c.ArtifactTypes.JenkinsId,n)===0&&l.FeatureFlagUtils.isBuildArtifactTasksEnabled()},n.isPrimaryArtifactSupportedType=function(t){var i=a.ArtifactsHelper.getPrimaryArtifact(t.artifacts),r=!i?null:n.create(i);return!!r&&n.isSupportedArtifactTypeId(r.getArtifactType())},n.getPrimaryArtifactTypeId=function(t){var i=!!t&&l.ArrayHelper.hasItems(t.artifacts)?a.ArtifactsHelper.getPrimaryArtifact(t.artifacts):null,r=!i?null:n.create(i);return!r?u.empty:r.getArtifactType()},n.prototype.getSourceName=function(){return this._getPropertyDisplayValue(e.ArtifactDefinitionConstants.DefinitionId)},n.prototype.getProjectId=function(){return this._getPropertyValue(e.ArtifactDefinitionConstants.ProjectId)},n.prototype.getBranchId=function(){return this._getPropertyValue(e.ArtifactDefinitionConstants.BranchId)},n.prototype.getAlias=function(){return this.alias},n.prototype.getDefinitionId=function(){return this._getPropertyValue(e.ArtifactDefinitionConstants.DefinitionId)},n.prototype.getVersion=function(){return this._getPropertyDisplayValue(e.ArtifactDefinitionConstants.Version)},n.prototype.getVersionRankAsString=function(){return this._getPropertyValue(e.ArtifactDefinitionConstants.Version)},n.prototype.getVersionRank=function(){return this._getPropertyValueNumber(e.ArtifactDefinitionConstants.Version)},n.prototype.getArtifactType=function(){return this.type?this.type:u.empty},n.prototype.getServicesId=function(){return this.definitionReference.hasOwnProperty(e.ArtifactDefinitionConstants.ConnectionId)?this.definitionReference[e.ArtifactDefinitionConstants.ConnectionId].id:u.empty},n.prototype.setVersion=function(n){this._setValue(e.ArtifactDefinitionConstants.Version,n)},n.prototype._setValue=function(n,t){this.definitionReference&&(this.definitionReference[n]={id:t.value,name:t.displayValue})},n.prototype._getPropertyDisplayValue=function(n){return this.definitionReference&&this.definitionReference.hasOwnProperty(n)&&this.definitionReference[n]?this.definitionReference[n].name:u.empty},n.prototype._getPropertyValue=function(n){return this.definitionReference&&this.definitionReference.hasOwnProperty(n)&&this.definitionReference[n]?this.definitionReference[n].id:u.empty},n.prototype._getPropertyValueNumber=function(n){return this.definitionReference&&this.definitionReference.hasOwnProperty(n)&&this.definitionReference[n]&&this.definitionReference[n].id?parseInt(this.definitionReference[n].id):undefined},n}();t.Artifact=y;w=function(){function n(){}return n.getLastReleasePromise=function(t){var r=i.defer(),u=o.ReleaseExpands.Artifacts;return n._getLastNReleases(t.id,t.releaseDefinition.id,2,u,null,t.status).then(function(n){var t=null;!n||!n.releases||n.releases.length!==1?!!n&&!!n.releases&&n.releases.length>=2&&(t=n.releases[1]):t=n.releases[0];r.resolve(t)},function(n){r.reject(n)}),r.promise},n.getLastNReleasePromise=function(t){var r=i.defer(),u=o.ReleaseExpands.Artifacts|o.ReleaseExpands.Environments,f=o.ReleaseStatus.Active|o.ReleaseStatus.Abandoned;return n._getLastNReleases(t.id,t.releaseDefinition.id,n.defaultWICommitsDropDownReleasesCount,u,f,t.status).then(function(n){r.resolve(n.releases)},function(n){r.reject(n)}),r.promise},n.getLastReleaseOnEnvironment=function(n){return function(t){var r=i.defer(),u=!1;return n.then(function(n){var i=t;!n||(i=n,u=!0);r.resolve({lastRelease:i,hasLastReleaseDeployed:u})},function(n){r.reject(n)}),r.promise}},n.getReleaseDefinitionSummaryPromise=function(t){var r=i.defer();return n._getReleaesDefinitionSummary(t).then(function(n){r.resolve(n)},function(n){r.reject(n)}),r.promise},n.getReleaseDefintionSummary=function(n){var t;return s.serviceContext.releaseDefinitionManager().getReleaseDefinitionSummary(n,1,!1).then(function(n){t=n}),t},n.getReleaseNamesWithEnvironmentStatus=function(n,t,i){var f=[],r={};return!i||!i.environments||i.environments.forEach(function(t){if(!!t.lastReleases&&l.ArrayHelper.hasItems(t.lastReleases)&&t.lastReleases[0].id!==n.id){var f=t.lastReleases[0].id;i.releases.forEach(function(n){n.id===f&&n.environments.forEach(function(n){n.definitionEnvironmentId===t.id&&(r[f]=r[f]?u.format("{0}, {1}",r[f],n.name):n.name)})})}}),t.forEach(function(t){if(t.id!==n.id){var i=t.name,e=r[t.id];e?(i=u.format("{0} ({1} {2})",i,h.NowOnText,e),f.push(i)):f.push(i)}}),f},n.clearLastReleasesCache=function(){n._releaseIdToLastNReleasesPromiseMap={}},n._getReleaesDefinitionSummary=function(n){return s.serviceContext.releaseDefinitionManager().getReleaseDefinitionSummary(n,1,!1)},n._getLastNReleases=function(t,i,r,u,f,e){if(n._releaseIdToLastNReleasesPromiseMap[t])return n._releaseIdToLastNReleasesPromiseMap[t];var h=s.serviceContext.releaseManager().beginGetReleasesWithContinuationToken(i,0,null,f,null,null,null,o.ReleaseQueryOrder.Descending,r,t,u,null);return e!==o.ReleaseStatus.Draft&&(n._releaseIdToLastNReleasesPromiseMap[t]=h),h},n.defaultMaxItems=250,n.defaultWICommitsDropDownReleasesCount=11,n._releaseIdToLastNReleasesPromiseMap={},n}();t.ReleaseWorkItemChangesHelper=w;k=function(){function n(){}return n.getWorkItemsListPromise=function(t,r,f,e){var a=this;if(f===void 0&&(f=c.ArtifactTypes.Build),e===void 0&&(e=w.defaultMaxItems),t===r&&(r=0),!!t&&t<=0)return i.resolve([]);var o=i.defer(),h=s.serviceContext,v=h.releaseManager().beginGetReleaseWorkItems(t,r,e);return v.then(function(t){var i,r,s;l.ArrayHelper.hasItems(t)?!!f&&y.isSupportedArtifactTypeIdForWorkItems(f)&&u.localeIgnoreCaseComparer(c.ArtifactTypes.Build,f)!==0?o.resolve(a._getWorkItemsDetailsFromReleaseWorkItem(t)):(i=[],t.forEach(function(n){i.push({id:n.id,url:n.url})}),i=!!e&&e>0?i.length>e?i.slice(0,e):i:i,r=["System.AssignedTo","System.State","System.Title","System.WorkItemType"],s=h.workItemsManager().beginGetWorkItemsDetails(i,r),s.then(function(t){o.resolve(n._getWorkItemsWithDetails(t))},function(n){o.reject(n)})):o.resolve([])},function(n){o.reject(n)}),o.promise},n._getWorkItemsWithDetails=function(n){var t=[];return l.ArrayHelper.hasItems(n)&&$.each(n,function(n,i){var r={};r.url=i.url;r.id=i.id?i.id.toString():null;$.each(i.fields,function(n,t){switch(n){case"System.AssignedTo":r.assignedTo=t?t.displayName||t.uniqueName||u.empty:null;break;case"System.State":r.state=t;break;case"System.Title":r.title=t;break;case"System.WorkItemType":r.workItemType=t}});t.push(r)}),t},n._getWorkItemsDetailsFromReleaseWorkItem=function(n){var t=[];return l.ArrayHelper.hasItems(n)&&n.forEach(function(n){var i={};i.url=n.url;i.id=n.id;i.assignedTo=n.assignee;i.state=n.state;i.title=n.title;i.workItemType=n.type;t.push(i)}),t},n}();t.WorkItemsHelper=k;d=function(){function n(){}return n.GetArtifactDeploymentType=function(n,t){var i,r,u;return!n||!t?c.ArtifactDeployment.None:n.id===t.id?c.ArtifactDeployment.SameRelease:(i=a.ArtifactsHelper.getPrimaryArtifact(n.artifacts),r=a.ArtifactsHelper.getPrimaryArtifact(t.artifacts),!y.areSameTypeArtifacts(i,r))?c.ArtifactDeployment.None:(u=y.getVersionDifference(i,r),u===0)?c.ArtifactDeployment.SameArtifact:u<0?c.ArtifactDeployment.Rollback:c.ArtifactDeployment.None},n}();t.DeployedArtifact=d;r.tfsModuleLoaded("TFS.ReleaseManagement.EditorModels",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.EditorSnapshots",["require","exports","q","VSS/VSS","VSS/Utils/String","ReleaseManagement/Core/Contracts","ReleasePipeline/Scripts/TFS.ReleaseManagement.Context","ReleasePipeline/Scripts/TFS.ReleaseManagement.Model","ReleasePipeline/Scripts/TFS.ReleaseManagement.EditorModels","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleaseManagement/Core/Constants"],function(n,t,i,r,u,f,e,o,s,h,c){var l,a,v;Object.defineProperty(t,"__esModule",{value:!0});t.DefinitionSnapshot=t.ReleaseSnapshot=t.EnvironmentSnapshot=void 0;l=function(){function n(){this.id=0;this.name="";this.rank=1;this.owner=null;this.conditions=[];this.deployPhases=[];this.variables={};this.variableGroups=[];this.environmentOptions={emailNotificationType:c.RunOptionsConstants.EnvironmentOwnerEmailNotificationTypeDefaultValue,emailRecipients:c.RunOptionsConstants.EnvironmentOwner+";"+c.RunOptionsConstants.ReleaseCreator,skipArtifactsDownload:!1,timeoutInMinutes:0,enableAccessToken:!1,publishDeploymentStatus:!1,badgeEnabled:!1,autoLinkWorkItems:!1,pullRequestDeploymentEnabled:!1};this.environmentTriggers=[];this.executionPolicy=null;this.releaseId=0;this.definitionEnvironmentId=0;this.preDeployApprovals=s.EnvironmentDefinition.getDefaultApprovals();this.postDeployApprovals=s.EnvironmentDefinition.getDefaultApprovals();this.schedules=[];this.retentionPolicy=null;this.processParameters=null;this.properties={};this.preDeploymentGates=null;this.postDeploymentGates=null}return n.createFromReleaseEnvironment=function(t){var i=new n;return t&&(i.id=t.id,i.name=t.name,i.rank=t.rank,i.conditions=this.getConditions(t.conditions),i.variables=t.variables,i.variableGroups=t.variableGroups,i.environmentOptions=t.environmentOptions,i.releaseId=t.releaseId,i.executionPolicy=null,i.deployStep={id:0,tasks:[]},i.deployPhases=t.deployPhasesSnapshot,i.definitionEnvironmentId=t.definitionEnvironmentId,i.preDeployApprovals=t.preApprovalsSnapshot,i.postDeployApprovals=t.postApprovalsSnapshot,i.owner=t.owner,i.schedules=t.schedules,i.processParameters=t.processParameters,i.properties=null,i.preDeploymentGates=t.preDeploymentGatesSnapshot,i.postDeploymentGates=t.postDeploymentGatesSnapshot),i},n.createFromEnvironmentDefinition=function(t){var i=new n;return t&&(i.id=t.id,i.name=t.name,i.rank=t.rank,i.conditions=this.getConditions(t.conditions),i.variables=t.variables,i.variableGroups=this._convertToVariableGroups(t.variableGroups),i.environmentOptions=t.environmentOptions,i.environmentTriggers=t.environmentTriggers,i.executionPolicy=!t.executionPolicy?null:t.executionPolicy,i.schedules=t.schedules,i.owner=t.owner,i.deployStep=t.deployStep,i.deployPhases=t.deployPhases,i.preDeployApprovals=t.preDeployApprovals,i.postDeployApprovals=t.postDeployApprovals,i.releaseId=null,i.definitionEnvironmentId=null,i.retentionPolicy=t.retentionPolicy,i.processParameters=t.processParameters,i.properties=t.properties,i.preDeploymentGates=t.preDeploymentGates,i.postDeploymentGates=t.postDeploymentGates),i},n.getReleaseEnvironment=function(n){var t=new o.ReleaseEnvironmentBase;return n&&(t.id=n.id,t.name=n.name,t.rank=n.rank,t.conditions=this.getConditions(n.conditions),t.variables=n.variables,t.variableGroups=n.variableGroups,t.environmentOptions=n.environmentOptions,t.releaseId=n.releaseId,t.definitionEnvironmentId=n.definitionEnvironmentId,t.preApprovalsSnapshot=n.preDeployApprovals,t.postApprovalsSnapshot=n.postDeployApprovals,t.deployPhasesSnapshot=n.deployPhases,t.schedules=n.schedules,t.processParameters=n.processParameters,t.preDeploymentGatesSnapshot=n.preDeploymentGates,t.postDeploymentGatesSnapshot=n.postDeploymentGates),t},n.getEnvironmentDefinition=function(n){var t=new s.EnvironmentDefinition;return n&&(t.id=n.id,t.name=n.name,t.rank=n.rank,t.conditions=n.conditions,t.variables=n.variables,t.variableGroups=this._getVariableGroupIds(n.variableGroups),t.environmentOptions=n.environmentOptions,t.environmentTriggers=n.environmentTriggers,t.executionPolicy=!n.executionPolicy?null:n.executionPolicy,t.schedules=n.schedules,t.preDeployApprovals=n.preDeployApprovals,t.postDeployApprovals=n.postDeployApprovals,t.owner=n.owner,t.deployStep=n.deployStep,t.deployPhases=n.deployPhases,t.retentionPolicy=n.retentionPolicy,t.properties=n.properties,t.processParameters=n.processParameters,t.preDeploymentGates=n.preDeploymentGates,t.postDeploymentGates=n.postDeploymentGates),t},n.getConditions=function(n){var t=this;return h.ArrayHelper.hasItems(n)?$.map(n,function(n){return{conditionType:n.conditionType,name:n.name,value:t.getConditionValue(n.conditionType,n.value),result:null}}):[]},n.getConditionValue=function(n,t){return n===f.ConditionType.Artifact?t:isNaN(parseInt(t))?u.ignoreCaseComparer(f.EnvironmentStatus[f.EnvironmentStatus.Succeeded],t)===0?f.EnvironmentStatus.Succeeded.toString():u.empty:t},n._convertToVariableGroups=function(n){var t=[];return h.ValidateParameters.isNullOrEmpty(n)||n.forEach(function(n){t.push({id:n,type:"VSTS",createdBy:null,createdOn:null,description:null,providerData:null,modifiedBy:null,modifiedOn:null,name:null,isShared:undefined,variables:null,variableGroupProjectReferences:[]})}),t},n._getVariableGroupIds=function(n){return n.map(function(n){return n.id})},n}();t.EnvironmentSnapshot=l;a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.createSnapshot=function(n){var t=new o.BaseSnapshot;return n&&(t.id=n.id,t.name=n.name,t.comment=n.comment,t.description=n.description,t.releaseNameFormat=n.releaseNameFormat,t.createdOn=n.createdOn,t.createdBy=n.createdBy,t.modifiedOn=n.modifiedOn,t.modifiedBy=n.modifiedBy,t.environments=this._getEnvironmentSnapshots(n.environments),t.artifacts=n.artifacts,t.variables=n.variables,t.variableGroups=n.variableGroups,t.keepForever=n.keepForever,t.triggers=[],t.modifiedBy=null,t.properties=n.properties,t.definitionSnapshotRevision=n.definitionSnapshotRevision),t},t.prototype.getFromSnapshot=function(n){var t=new o.Release;return t.id=n.id,t.name=n.name,t.description=n.description,t.comment=n.comment,t.createdOn=n.createdOn,t.createdBy=n.createdBy,t.modifiedOn=n.modifiedOn,t.modifiedBy=n.modifiedBy,t.environments=this._getReleaseEnvironments(n.id,n.environments),t.artifacts=n.artifacts,t.variables=n.variables,t.variableGroups=n.variableGroups,t.releaseNameFormat=n.releaseNameFormat,t.keepForever=n.keepForever,t.properties=n.properties,t.definitionSnapshotRevision=n.definitionSnapshotRevision,t.getReleaseData()},t.prototype.save=function(n){var t=i.defer(),r=this.getFromSnapshot(n),u=e.serviceContext.releaseManager,f=u().beginUpdateRelease(r);return f.then(function(n){t.resolve(n)},function(n){t.reject(n)}),t.promise},t.prototype.delete=function(n,t){return e.serviceContext.releaseManager().deleteRelease(n,t)},t.prototype.getRelease=function(){return this._release},t.prototype.updateRelease=function(n){this._release=n},t.prototype._getEnvironmentDefinitions=function(n){return $.map(n,function(n){return l.getEnvironmentDefinition(n)})},t.prototype._getReleaseEnvironments=function(n,t){return $.map(t,function(n){return l.getReleaseEnvironment(n)})},t.prototype._getEnvironmentSnapshots=function(n){return $.map(n,function(n){return l.createFromReleaseEnvironment(n)})},t}(o.BaseSnapshot);t.ReleaseSnapshot=a;v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.createSnapshot=function(n){var t=new o.BaseSnapshot;return n&&(t.id=n.id,t.revision=n.revision,t.name=n.name,t.releaseNameFormat=n.releaseNameFormat,t.createdOn=n.createdOn,t.createdBy=n.createdBy,t.modifiedOn=n.modifiedOn,t.modifiedBy=n.modifiedBy,t.environments=this._getEnvironmentSnapshots(n.environments),t.artifacts=n.artifacts,t.variables=n.variables,t.variableGroups=this._convertToVariableGroups(n.variableGroups),t.triggers=n.triggers),t},t.prototype.getFromSnapshot=function(n){var t=new s.ReleaseDefinitionModel(n.name);return n&&(t.id=n.id,t.revision=n.revision,t.releaseNameFormat=n.releaseNameFormat,t.createdOn=n.createdOn,t.createdBy=n.createdBy,t.modifiedOn=n.modifiedOn,t.modifiedBy=n.modifiedBy,t.environments=this._getEnvironmentDefinitions(n.environments),t.artifacts=n.artifacts,t.variables=n.variables,t.variableGroups=this._getVariableGroupIds(n.variableGroups),t.triggers=n.triggers,t.comment=n.comment),t},t.prototype.save=function(n){var r=i.defer(),t=this.getFromSnapshot(n),u=null;return t.id>0?u=e.serviceContext.releaseDefinitionManager().save(t):(t.source=f.ReleaseDefinitionSource.UserInterface,u=e.serviceContext.releaseDefinitionManager().create(t)),u.then(function(n){r.resolve(n)},function(n){r.reject(n)}),r.promise},t.prototype.delete=function(n){return e.serviceContext.releaseDefinitionManager().deleteReleaseDefinition(n)},t.prototype._getEnvironmentDefinitions=function(n){return $.map(n,function(n){return l.getEnvironmentDefinition(n)})},t.prototype._getEnvironmentSnapshots=function(n){return $.map(n,function(n){return l.createFromEnvironmentDefinition(n)})},t.prototype._convertToVariableGroups=function(n){var t=[];return h.ValidateParameters.isNullOrEmpty(n)||n.forEach(function(n){t.push({id:n,type:"VSTS",createdBy:null,createdOn:null,description:null,providerData:null,modifiedBy:null,modifiedOn:null,name:null,isShared:undefined,variables:null,variableGroupProjectReferences:[]})}),t},t.prototype._getVariableGroupIds=function(n){return n.map(function(n){return n.id})},t}(o.BaseSnapshot);t.DefinitionSnapshot=v;r.tfsModuleLoaded("TFS.ReleaseManagement.EditorSnapshots",t)});

/*! knockout-secure-binding - v1.0.9 - 2022-05-18
 *  https://github.com/brianmhunt/knockout-secure-binding
 *  Copyright (c) 2013 - 2017 Brian M Hunt; License: MIT */
;(function(factory) {
    //AMD
    if (typeof define === "function" && define.amd) {
        define("knockoutSecureBinding",["knockout", "exports"], factory);
        //normal script tag
    } else {
        factory(ko);
    }
}(function(ko, exports, undefined) {
function value_of(e){return e instanceof Identifier||e instanceof Expression?e.get_value():e}function _object_map(e,t){if(!e)return e;var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r],r,e));return n}function _virtualNodeBindingValue(e){var t=(commentNodesHaveTextProperty?e.text:e.nodeValue).match(startCommentRegex);return t?t[1]:null}function is_identifier_char(e){return e>="A"&&e<="Z"||e>="a"&&e<="z"||e>="0"&&e<=9||"_"===e||"$"===e}function secureBindingsProvider(e){new ko.bindingProvider;e=e||{},this.attribute=e.attribute||"data-sbind",this.noVirtualElements=e.noVirtualElements||!1,this.globals=e.globals||{},this.bindings=e.bindings||ko.bindingHandlers}function registerBindings(e){ko.utils.extend(this.bindings,e)}function nodeHasBindings(e){var t;return e.nodeType===e.ELEMENT_NODE?e.getAttribute(this.attribute)||ko.components&&ko.components.getComponentNameForNode(e):e.nodeType===e.COMMENT_NODE?!this.noVirtualElements&&(t=(""+e.nodeValue||e.text).trim(),0===t.indexOf("ko ")):void 0}function getBindingsString(e){switch(e.nodeType){case e.ELEMENT_NODE:return e.getAttribute(this.attribute);case e.COMMENT_NODE:return _virtualNodeBindingValue(e);default:return null}}function nodeParamsToObject(e,t){var n=t.parse(e.getAttribute("params"));if(!n||0===Object.keys(n).length)return{$raw:{}};var r=_object_map(n,function(t,n){return ko.computed(t,null,{disposeWhenNodeIsRemoved:e})}),i=_object_map(r,function(t,n){var r=t.peek();return t.isActive()?ko.computed({read:function(){return ko.utils.unwrapObservable(t())},write:ko.isWriteableObservable(r)&&function(e){t()(e)},disposeWhenNodeIsRemoved:e}):r});return i.hasOwnProperty("$raw")||(i.$raw=r),i}function getBindings(e,t){var n,r={},i=new Parser(e,t,this.globals),o=this.getBindingsString(e);if(e.nodeType===e.ELEMENT_NODE&&ko.components&&(n=ko.components.getComponentNameForNode(e)),o&&(r=i.parse(o||"")),n){if(r.component)throw new Error("Cannot use a component binding on custom elements");var s={name:n,params:nodeParamsToObject(e,i)};r.component=function(){return s}}return r}var Identifier,Expression,Parser,Node,originalBindingProviderInstance=new ko.bindingProvider,commentNodesHaveTextProperty=document&&"<!--test-->"===document.createComment("test").text,startCommentRegex=commentNodesHaveTextProperty?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/;Identifier=function(){function e(e,t,n){this.token=t,this.dereferences=n,this.parser=e}return e.prototype.lookup_value=function(e){var t=this.token,n=this.parser,r=n.context,i=r.$data||{},o=n.globals||{};if(e)return value_of(e)[t];switch(t){case"$element":return n.node;case"$context":return r;case"$data":return i}return i[t]||r[t]||o[t]},e.prototype.dereference=function(e){var t,n,r,i,o=this.dereferences||[],s=this.parser,h=s.context||{},a=h.$data||{},u={$context:h,$data:a,globals:s.globals||{},$element:s.node};for(r=0,i=o.length;r<i;++r)t=o[r],t instanceof Array?e&&e.call&&(e=e.apply(n||a||u,this.convert_args(t)),n=e):(n=e,e&&(e=e[value_of(t)]));return e},e.prototype.convert_args=function(t){var n,r=[];if(!t||0===t.length)return r;for(n=0;n<t.length;n++)t[n]instanceof e||t[n]instanceof Expression?r.push(t[n].get_value()):r.push(t[n]);return r},e.prototype.get_value=function(e){return this.dereference(this.lookup_value(e))},e.prototype.set_value=function(e){var t,n,r,i=this.parser,o=i.context,s=o.$data||{},h=i.globals||{},a=this.dereferences||[],u=this.token;if(Object.hasOwnProperty.call(s,u))r=s;else if(Object.hasOwnProperty.call(o,u))r=o;else{if(!Object.hasOwnProperty.call(h,u))throw new Error("Identifier::set_value -- The property '"+u+"' does not exist on the $data, $context, or globals.");r=h}for(n=a.length,0===n&&(r[u]=e),r=r[u],t=0;t<n-1;++t)u=a[t],r=u===!0?r():r[value_of(u)];if(a[t]===!0)throw new Error("Cannot assign a value to a function.");r[value_of(a[t])]=e},e}(),Node=function(){function e(e,t,n){this.lhs=e,this.op=t,this.rhs=n}var t={"!":function(e,t){return!t},"!!":function(e,t){return!!t},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e==t},"!=":function(e,t){return e!=t},"===":function(e,t){return e===t},"!==":function(e,t){return e!==t},"&":function(e,t){return e&t},"^":function(e,t){return e^t},"|":function(e,t){return e|t},"&&":function(e,t){return e&&t},"||":function(e,t){return e||t},"?":function(e,t){return e||t},"-:":function(e,t){return e?t:null},":-":function(e,t){return e?null:t}};return t["!"].precedence=4,t["!!"].precedence=4,t["*"].precedence=5,t["/"].precedence=5,t["%"].precedence=5,t["+"].precedence=6,t["-"].precedence=6,t["<"].precedence=8,t["<="].precedence=8,t[">"].precedence=8,t[">="].precedence=8,t["=="].precedence=9,t["!="].precedence=9,t["==="].precedence=9,t["!=="].precedence=9,t["&"].precedence=10,t["^"].precedence=11,t["|"].precedence=12,t["&&"].precedence=13,t["||"].precedence=14,e.operators=t,e.prototype.get_leaf_value=function(t,n){if("function"==typeof t)return ko.utils.unwrapObservable(t());if("object"!=typeof t)return n?n[t]:t;if(t instanceof Identifier||t instanceof Expression)return ko.utils.unwrapObservable(t.get_value(n));if(t instanceof e)return t.get_node_value(n);throw new Error("Invalid type of leaf node: "+t)},e.prototype.get_node_value=function(){return this.op(this.get_leaf_value(this.lhs),this.get_leaf_value(this.rhs))},e}(),Expression=function(){function e(e){this.nodes=e,this.root=this.build_tree(e)}return e.operators=Node.operators,e.Node=Node,e.prototype.build_tree=function(e){var t,n,r,i;for(n=t=new Node(e.shift(),e.shift(),e.shift());e&&(r=e.shift(),i=e.shift(),r);)r.precedence>=t.op.precedence?(t=new Node(t,r,i),n=t):(n.rhs=new Node(n.rhs,r,i),n=n.rhs);return t},e.prototype.get_value=function(){return this.root||(this.root=this.build_tree(this.nodes)),this.root.get_node_value()},e}(),Parser=function(){function e(e,t,n){this.node=e,this.context=t,this.globals=n||{}}var t={"'":"'",'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},n=Expression.operators;return e.Expression=Expression,e.Identifier=Identifier,e.Node=Node,e.prototype.white=function(){for(var e=this.ch;e&&e<=" ";)e=this.next();return e},e.prototype.next=function(e){return e&&e!==this.ch&&this.error("Expected '"+e+"' but got '"+this.ch+"'"),this.ch=this.text.charAt(this.at),this.at+=1,this.ch},e.prototype.error=function(e){throw{name:"SyntaxError",message:e,at:this.at,text:this.text}},e.prototype.name=function(){var e="";this.white();for(var t=this.ch;t;){if(":"===t||t<=" "||","===t)return e;e+=t,t=this.next()}return e},e.prototype.number=function(){var e,t="",n=this.ch;for("-"===n&&(t="-",n=this.next("-"));n>="0"&&n<="9";)t+=n,n=this.next();if("."===n)for(t+=".",n=this.next();n&&n>="0"&&n<="9";)t+=n,n=this.next();if("e"===n||"E"===n)for(t+=n,n=this.next(),"-"!==n&&"+"!==n||(t+=n,n=this.next());n>="0"&&n<="9";)t+=n,n=this.next();return e=+t,isFinite(e)?e:void error("Bad number")},e.prototype.object_add_value=function(e,t,n){n instanceof Identifier||n instanceof Expression?Object.defineProperty(e,t,{get:function(){return n.get_value()},enumerable:!0}):e[t]=n},e.prototype.object=function(){var e,t={},n=this.ch;if("{"===n){if(this.next("{"),n=this.white(),"}"===n)return n=this.next("}"),t;for(;n;){if(e='"'===n||"'"===n?this.string():this.name(),this.white(),n=this.next(":"),Object.hasOwnProperty.call(t,e)&&this.error('Duplicate key "'+e+'"'),this.object_add_value(t,e,this.expression()),n=this.white(),"}"===n)return n=this.next("}"),t;this.next(","),n=this.white()}}this.error("Bad object")},e.prototype.read_string=function(e){for(var n,r,i,o="",s=this.next();s;){if(s===e)return s=this.next(),o;if("\\"===s)if(s=this.next(),"u"===s){for(i=0,r=0;r<4&&(n=parseInt(s=this.next(),16),isFinite(n));r+=1)i=16*i+n;o+=String.fromCharCode(i)}else{if("string"!=typeof t[s])break;o+=t[s]}else o+=s;s=this.next()}this.error("Bad string")},e.prototype.string=function(){var e=this.ch;return'"'===e?this.read_string('"'):"'"===e?this.read_string("'"):void this.error("Bad string")},e.prototype.array=function(){var e=[],t=this.ch;if("["===t){if(t=this.next("["),this.white(),"]"===t)return t=this.next("]"),e;for(;t;){if(e.push(this.expression()),t=this.white(),"]"===t)return t=this.next("]"),e;this.next(","),t=this.white()}}this.error("Bad array")},e.prototype.value=function(){var e;switch(this.white(),e=this.ch){case"{":return this.object();case"[":return this.array();case'"':case"'":return this.string();case"-":return this.number();default:return e>="0"&&e<="9"?this.number():this.identifier()}},e.prototype.operator=function(){for(var e,t="",r=this.white();r&&!(is_identifier_char(r)||r<=" "||""===r||'"'===r||"'"===r||"{"===r||"["===r||"("===r);)t+=r,r=this.next();return""!==t&&(e=n[t],e||this.error("Bad operator: '"+t+"'.")),e},e.prototype.condExpression=function(e){var t,n,r,i;return this.white(),this.next("?"),this.white(),t=this.expression(),r=new Expression([e,Expression.operators["-:"],t]),this.white(),this.next(":"),this.white(),n=this.expression(),i=new Expression([e,Expression.operators[":-"],n]),new Expression([r,Expression.operators["?"],i])},e.prototype.expression=function(){for(var e,t=[],n=this.white();n&&(op=this.operator(),op&&(t.push(void 0),t.push(op)),n=this.ch,"("===n?(this.next(),t.push(this.expression()),this.next(")")):(e=this.value(),t.push(e)),n=this.white(),":"!==n&&"}"!==n&&","!==n&&"]"!==n&&")"!==n&&""!==n);){if("?"===n&&1===t.length)return this.condExpression(t[0]);op=this.operator(),op&&t.push(op),n=this.white()}if(0!==t.length)return 1===t.length?t[0]:new Expression(t)},e.prototype.dereference=function(){for(var e,t=this.white();t;){if("("===t){this.next("("),t=this.white();for(var n=[];t;){if(")"===t){this.next(")"),this.white();break}","===t&&(this.next(","),t=this.white()),n.push(this.expression()),t=this.white()}return n}if("["===t)return this.next("["),e=this.expression(),this.white(),this.next("]"),e;if("."===t){for(e="",this.next("."),t=this.white();t&&is_identifier_char(t);)e+=t,t=this.next();return e}break}},e.prototype.identifier=function(){var e,t,n="",r=[];for(e=this.white();e&&is_identifier_char(e);)n+=e,e=this.next();switch(n){case"true":return!0;case"false":return!1;case"null":return null;case"undefined":return}for(;e&&(t=this.dereference(),void 0!==t);)r.push(t);return new Identifier(this,n,r)},e.prototype.bindings=function(){var e,t,n={},r=!1;this.white(),"{"===this.ch&&(this.next("{"),this.white(),r=!0);for(var i=this.ch;i;)e=this.name(),t=this.white(),t&&","!==t?(i=this.next(":"),n[e]=this.expression(),this.white(),"}"===this.ch?r?(this.next("}"),i=this.white()):this.error("Unexpected char '}' found"):i=this.ch?this.next(","):""):(i=t?this.next(","):"",n[e]=null);return n},e.prototype.convert_to_accessors=function(e){var t={};return ko.utils.objectForEach(e,function(n,r){r instanceof Identifier?(e[n]=r.get_value(),ko.expressionRewriting._twoWayBindings[n]&&(t[n]=function(e){r.set_value(e)})):r instanceof Expression?e[n]=r.get_value():"function"!=typeof r&&(e[n]=r)}),Object.keys(t).length>0&&(e._ko_property_writers=function(){return t}),e},e.prototype.parse=function(e){if(this.text=(e||"").trim(),this.at=0,this.ch=" ",!this.text)return null;var t=this.bindings();return this.white(),this.ch&&this.error("Syntax Error"),this.convert_to_accessors(t)},e}(),ko.utils.objectForEach=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])},ko.expressionRewriting._twoWayBindings={},ko.expressionRewriting._twoWayBindings.checked=!0,ko.expressionRewriting._twoWayBindings.hasfocus=!0,ko.expressionRewriting._twoWayBindings.hasFocus=!0,ko.expressionRewriting._twoWayBindings.selectedOptions=!0,ko.expressionRewriting._twoWayBindings.textInput=!0,ko.expressionRewriting._twoWayBindings.value=!0,ko.utils.extend(secureBindingsProvider.prototype,{registerBindings:registerBindings,nodeHasBindings:nodeHasBindings,getBindings:getBindings,getBindingsString:getBindingsString,nodeParamsToObject:nodeParamsToObject,Parser:Parser});    
    ko.secureBindingsProvider = secureBindingsProvider;
    
    return secureBindingsProvider;
}));

// Copyright (C) Microsoft Corporation. All rights reserved.
define("DistributedTasksCommon/TFS.Knockout.Secure",["require","exports","knockout","knockoutSecureBinding","VSS/FeatureAvailability/Services"],function(n,t,i,r,u){function o(){if(!e){if(!u.FeatureAvailabilityService.isFeatureEnabled(f,!1)){console.log("Please enable FF ".concat(f," to register knockout secure binding."));return}var n={attribute:"data-bind",globals:window,bindings:i.bindingHandlers,noVirtualElements:!1};i.bindingProvider.instance=new r(n);e=!0}}Object.defineProperty(t,"__esModule",{value:!0});t.registerSecureBinding=void 0;var f="Webaccess.DistributedTask.KSB",e=!1;t.registerSecureBinding=o});

define("DistributedTasksCommon/TFS.Knockout.Tree.TreeView",["require","exports","knockout","VSS/Controls/TreeView"],function(n,t,i,r){var u,f,e;Object.defineProperty(t,"__esModule",{value:!0});t.TreeView=t.KnockoutTreeNode=void 0;u="tfs-knockout-tree-view-tree-node-holder";f=function(n){function t(t,i,r,u){var f=n.call(this,i,{css:r},u,t)||this;return f.templateName="",f.ariaLabel="",f}return __extends(t,n),t.prototype.getContributionContext=function(){return n.prototype.getContributionContext.call(this)},t}(r.TreeNode);t.KnockoutTreeNode=f;e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onMenuItemClick=function(n){if(t._options.menuOptions.onMenuItemClick){var i=n.get_commandName(),r=n.get_commandArgument().node;t._options.menuOptions.onMenuItemClick(i,r)}},t}return __extends(t,n),t.prototype.setNodes=function(n){n&&n.length>0&&(this.rootNode.clear(),this.rootNode.addRange(n),this._draw(),this._initializeNode())},t.prototype.initializeOptions=function(t){var r="tfs-knockout-tree ",i;t&&t.className&&(r+=t.className);i=__assign({className:r,useBowtieStyle:!0,useArrowKeysForNavigation:!0,setTitleOnlyOnOverflow:!0},t);t.menuOptions&&(i.contextMenu={executeAction:this._onMenuItemClick,arguments:function(n){return{node:n.item}}});n.prototype.initializeOptions.call(this,i)},t.prototype.initialize=function(){var t=this;n.prototype.initialize.call(this);this._element.on("selectionchanged",function(n){t._onSelectionChanged(n)});this._initializeNode()},t.prototype.onShowPopupMenu=function(t,i){var r=this._options.menuOptions.getMenuOptions(t);n.prototype.onShowPopupMenu.call(this,t,__assign(__assign({},i),r))},t.prototype._updateNode=function(t,r,f){var o=n.prototype._updateNode.call(this,t,r,f),e;r.ariaLabel&&o.attr("aria-label",r.ariaLabel);r.templateName&&(e=t.find("."+u),e.length==0&&(e=$("<div />").addClass(u),e.attr("data-bind",'template: { name: "'.concat(r.templateName,'" }')),t.append(e)),i.cleanNode(e[0]),i.applyBindings(r.tag,e[0]))},t.prototype._initializeNode=function(){if(this._options.selectFirstNodeByDefault&&this._options.nodes&&this._options.nodes[0]){var n=this._options.nodes[0];this.setSelectedNode(n);n.hasChildren()&&!n.expanded&&this._toggle(this._options.nodes[0],this._getNodeElement(n))}},t.prototype._onSelectionChanged=function(n){var t=this.getSelectedNode();if(typeof this._options.onClick=="function")this._options.onClick(t,n)},t}(r.TreeViewO);t.TreeView=e});

define("DistributedTasksCommon/TFS.Tasks.Controls",["require","exports","VSS/Controls/Combos","VSS/VSS","VSS/Controls","VSS/Identities/Picker/Controls","VSS/Utils/UI"],function(n,t,i,r,u,f,e){var o,s,h;Object.defineProperty(t,"__esModule",{value:!0});t.MultiSelectIdentityPickerControl=t.FetchingCombo=void 0;o=e.KeyCode;s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.toggleDropDown=function(){var i=this,t=this._options.refreshData();t?t.then(function(){n.prototype.toggleDropDown.call(i)}):n.prototype.toggleDropDown.call(this)},t.prototype.showDropPopup=function(){var i=this,t=this._options.refreshData();t?t.then(function(){n.prototype.showDropPopup.call(i)}):n.prototype.showDropPopup.call(this)},t.prototype._onInputKeyDown=function(t){var r=this,i;if(!t.altKey||t.keyCode!==o.DOWN||(i=this._options.refreshData(),!i))return n.prototype._onInputKeyDown.call(this,t);i.then(function(){return n.prototype._onInputKeyDown.call(r,t)})},t}(i.ComboO);t.FetchingCombo=s;h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){var r=this,i;n.prototype.initialize.call(this);i=this.getElement();i.addClass(t.CONTROL_ROOT);this._identityPickerControl=u.create(f.IdentityPickerSearchControl,i,{items:[],identityType:{User:!0,Group:!0},multiIdentitySearch:!0,operationScope:{IMS:!0},showMru:!1,consumerId:t._distributedCommonPickerConsumerId,showContactCard:!0,callbacks:{onItemSelect:function(){r._fireChange()}}});this._bind(f.IdentityPickerSearchControl.RESOLVED_INPUT_REMOVED_EVENT,function(){r._fireChange()})},t.prototype.setValue=function(n){try{var t=JSON.parse(n);Array.isArray(t)&&this._identityPickerControl.setEntities(null,t)}catch(i){}},t.prototype.getSelectedIdentities=function(){var n=this._identityPickerControl.getIdentitySearchResult().resolvedEntities,t=[],i=[];return n&&n.length>0&&n.forEach(function(n){n.localId?t.push(n.localId):n.originId&&i.push(n.originId)}),{existingUsers:t,newUsers:[],unresolvedEntityIds:i}},t.prototype.setEnable=function(n){n?(this._identityPickerControl.disableReadOnlyMode(),this._element.find(".identity-picker-input").removeClass("identity-picker-element-hide")):(this._identityPickerControl.enableReadOnlyMode(),this._element.find(".identity-picker-input").addClass("identity-picker-element-hide"))},t.prototype.getSelectedEntities=function(){return this._identityPickerControl.getIdentitySearchResult().resolvedEntities||[]},t.prototype.dispose=function(){this._unbind(f.IdentityPickerSearchControl.RESOLVED_INPUT_REMOVED_EVENT);this._identityPickerControl.dispose();n.prototype.dispose.call(this)},t.CONTROL_ROOT="task-editor-identity-picker",t._distributedCommonPickerConsumerId="33553f9f-9d2b-4d6a-9a6c-209371d5ef99",t}(u.BaseControl);t.MultiSelectIdentityPickerControl=h;r.tfsModuleLoaded("TFS.Tasks.Controls",t)});

define("DistributedTasksCommon/TFS.Knockout.CustomHandlers",["require","exports","knockout","VSS/Adapters/Knockout","DistributedTasksCommon/TFS.Knockout.Secure","DistributedTasksCommon/TFS.Knockout.Tree.TreeView","DistributedTasksCommon/TFS.Tasks.Controls","VSS/Controls/PopupContent","VSS/Utils/String","VSS/Utils/String","DistributedTasksCommon/TFS.Tasks.Utils","VSS/Utils/UI","VSS/Utils/Html","VSS/Controls","VSS/Controls/Combos","VSS/Controls/Splitter","VSS/VSS","DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){function nt(n){n===void 0&&(n=!0);n&&u.registerSecureBinding();i.bindingHandlers.applyTemplate={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t,u,f,e){var s=$(n),o=t(),l,c,h;o&&(l=r.TemplateControl.applyRegisteredBinding(o.templateName,s,o.viewModel),l||(s.removeAttr("data-bind"),c=i.utils.unwrapObservable(o.templateName),c&&s.attr("data-bind","template: { name: '"+c+"' }"),o.cssClass&&s.addClass(o.cssClass),h=o.viewModel,o.parentIndex&&(h.$vmparent=e.$parents[parseInt(o.parentIndex)]),o.customData&&(h.$vmcustom=o.customData),h.$vmroot=e.$root,i.cleanNode(s[0]),i.applyBindings(h,s[0]),o.fadeIn&&s.hide().fadeIn("slow")))}};i.bindingHandlers.showTooltip={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t){var f=$(n),v="TaskEditorToolTipKey",k=4,r=t(),g,o,it,l,y,p;if(r&&r.text){if(f.data(v))return;if(g=r.rootCssClass||"taskeditor-inputs-grid-table",o=r.text,i.isObservable(o)||(o=i.observable(r.text)),!o())return;l=$(h.format('<span class="{0}"><\/span>',r.className?r.className:"help bowtie-icon bowtie-status-info-outline")).attr({tabindex:"0",role:"tooltip"});y=$(h.format('<span class="close bowtie-icon bowtie-navigate-close" aria-label="{0}"><\/span>',s.htmlEncode(b.CloseTooltipText))).attr({tabindex:"0",role:"button"});y.on("keydown",function(n){return c.AccessibilityHelper.triggerClickOnEnterOrSpaceKeyPress(n)});p=$("<div />").addClass("content").html(a.HtmlNormalizer.normalize(o()));p.length>0&&p[0].outerText&&l.attr("aria-label",p[0].outerText);r.labelledby&&l.attr("aria-labelledby",r.labelledby);var u=$("<div />").addClass("taskeditor-help-tooltip").append(y).append(p),ut=$(document).data(v),w=function(){$(document).off("click.TaskEditorToolTipKey");$(document).on("click.TaskEditorToolTipKey",it=function(){w()});var n=$(document).data(v);n&&n.length>0&&n.hide("fast")},nt,e=null,rt=function(){nt=setTimeout(function(){var h,c,l,s,y,p;w();var nt=f.parents("."+g),b=$(n),i=[],t=-1;r.pivotSiblingCssClass&&(e=b.parent().find("."+r.pivotSiblingCssClass),e.length>0&&(i=e.prevAll().toArray(),t=e.width()));i.length!==0||r.unsetDefaultLeftOffset||(i=f.prevAll().toArray());t===-1&&(h=i.splice(0,1),t=h&&h.length>0?h[0].clientWidth:300);r.minWidth&&r.minWidth>t&&(t=r.minWidth);r.pinToPivot&&e.length>0?r.pinPosition===d.Right?u.css("right",e[0].clientLeft+e[0].clientWidth):u.css("left",e[0].clientLeft):r.leftOffset?(u.css("left",r.leftOffset+"px"),u.css("width",t+"px")):(c=0,$.each(i,function(n,t){c+=t.clientWidth}),l=f.prevAll().find("textarea"),l.length>0&&(k=l[0].clientHeight-15),s=parseInt(f.css("padding").replace("px",""))||0,s===0&&(y=f.outerWidth(),p=f.width(),p&&y&&(s=(y-p)/2)),u.css("left",c+s+"px"),u.css("width",t-2*s+"px"));u.css("margin-top",k+"px");u.show("fast");u.find(".content").html(a.HtmlNormalizer.normalize(o()));$(document).data(v,u)},450)},tt=function(){return clearTimeout(nt),w(),l.focus(),!1};y.click(function(){tt()});l.click(function(){rt()});l.keydown(function(n){return c.AccessibilityHelper.triggerClickOnEnterOrSpaceKeyPress(n)});y.blur(function(){tt()});f.append(l).append(u);f.data(v,{text:o});i.utils.domNodeDisposal.addDisposeCallback(f[0],function(){$(document).off("click.TaskEditorToolTipKey")})}}};i.bindingHandlers.showRichContentTooltip={init:function(){return},update:function(n,t){var e=$(n),r=t(),u,f;r&&r.text&&(u=r.text,i.isObservable(u)&&(u=u()),f=__assign({popupTag:!1},r),r.showTooltipIfOverflowOnly&&(f=__assign({onlyShowWhenOverflows:e},f)),g.bindTooltip(e,u,f))}};i.bindingHandlers.dtcCombo={init:function(n,t){var i=v.Control.create(y.Combo,$(n),t());$(n).data("dtcComboControl",i)},update:function(n,t){var i=t(),r=$(n).data("dtcComboControl");r&&i&&(r.setSource(i.source),i.value&&r.setInputText(i.value,!1),r.setEnabled(i.enabled))}};i.bindingHandlers.dtcFetchingCombo={init:function(n,t){var i=v.Control.create(e.FetchingCombo,$(n),t());$(n).data("dtcFetchingComboControl",i)},update:function(n,t){var i=t(),r=$(n).data("dtcFetchingComboControl");r&&i&&(r.setSource(i.source),i.value!==undefined&&i.value!==null&&r.setInputText(i.value,!1),r.setEnabled(i.enabled))}};i.bindingHandlers.taskEditorGroup={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t,r,u,f){var e=$(n),c="TaskEditorGroupKey",l=t(),o,s,h;if(l){if(o=l.viewModel,e.data(c))return;s=e.find(".taskeditor-inputs-grid-table");o.isExpanded.peek()||s.toggle();e.find(".fieldset").find("legend").click(function(n){var t=o.isExpanded,i;s.toggle();t(!t.peek());!t()||(i=$(n.target).closest(".taskeditor-group").find(":focusable")[0],!i||i.focus())});e.data(c,{});h=o;h.$parent=f.$parent;h.$parents=f.$parents;i.applyBindingsToDescendants(o,e[0])}}};i.bindingHandlers.expandGroupOnKeyBoardEvent={init:function(n){n=$(n);n.keydown(function(n){var t=n.which,i=$(n.target).find(".fieldset").find("legend");i.length!=0&&(t===l.KeyCode.ENTER||t===l.KeyCode.SPACE)&&i.click()})},update:function(){}};i.bindingHandlers.tfsSplitter={init:function(n,t){var i=t(),r={};i&&i.options&&(r=i.options);v.Enhancement.enhance(p.Splitter,n,r)}};i.bindingHandlers.hover={init:function(n,t){var i=$(n),r=t();i.on("mouseenter",function(){i.addClass(r.hoverClass)}).on("mouseleave",function(){i.removeClass(r.hoverClass)})}};i.bindingHandlers.renderTreeView={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t,r,u){var f=this,e=$(n),o=t();w.using(["DistributedTasksCommon/TFS.Knockout.Tree.TreeView"],function(){var s="KnockoutTreeViewControl",o="KnockoutTreeViewSubscription",r=$(n),e=t();w.using(["DistributedTasksCommon/TFS.Knockout.Tree.TreeView"],function(n){var h=k(i.utils.unwrapObservable(e.treeNodes)),l=__assign({nodes:h,onClick:function(n,t){e.onNodeClick.call(u,n.tag,t)},onItemToggle:function(n){var t=n.tag,r,u;typeof t.onItemToggle=="function"&&(r=t.onItemToggle.call(f),r&&(u=k(i.utils.unwrapObservable(t.nodes)),n.children=u))}},e),t=r.data(s),c;t||(t=v.create(n.TreeView,r,l),r.data(s,t));e.focusFirstNode&&h&&h.length>0&&t.focusOnNode(h[0]);c=r.data(o);c||(c=e.treeNodes.subscribe(function(n){t&&t.setNodes(k(n))}),r.data(o,c));i.utils.domNodeDisposal.addDisposeCallback(r[0],function(){var n=r.data(o);n&&n.dispose();t.dispose()})})})}}}function k(n){return(n||[]).map(function(n,t){var e=n.text.peek(),r=n.id?n.id.peek():"",i,u;return r=r||"treeNode"+t+e.replace(/[\.\: ]/g,"_"),i=new f.KnockoutTreeNode(r,e,n.cssClass.peek()),i.expanded=n.expanded.peek(),i.selected=n.selected.peek(),i.noTreeIcon=!n.showIcon.peek(),i.icon=n.nodeIconCssClass.peek(),i.tag=n,i.templateName=n.templateName?n.templateName.peek():"",i.ariaLabel=n.ariaLabel?n.ariaLabel.peek():"",n.getContributionContext&&(i.getContributionContext=n.getContributionContext),u=n.nodes.peek(),u.length>0&&i.addRange(k(u)),i})}var d,g;Object.defineProperty(t,"__esModule",{value:!0});t.RmTooltipHost=t.getTreeViewNodes=t.initKnockoutHandlers=t.PinPosition=void 0;d=function(){function n(){}return n.Left=1,n.Right=2,n}();t.PinPosition=d;t.initKnockoutHandlers=nt;t.getTreeViewNodes=k;g=function(){function n(){}return n.bindTooltip=function(t,i,r){if(t){t.on("mouseover focusin",function(t){n._onMouseOver($(t.currentTarget),i,r)});t.on("mouseout focusout",function(t){n._onMouseOut($(t.currentTarget))})}},n._onMouseOver=function(n,t,i){var r=t;r&&n.removeAttr("title").data("tooltipText",r);n.length>0&&(this._tooltip&&this._tooltip.dispose(),this._tooltip=o.RichContentTooltip.add(r,n,__assign({},i)),this._tooltip.showDelayed())},n._onMouseOut=function(){this._tooltip&&this._tooltip.disable()},n}();t.RmTooltipHost=g;w.tfsModuleLoaded("TFS.Knockout.CustomHandlers",t)});

define("ReleasePipeline/Scripts/CommonControls/RM.Tags.QueryFilter",["require","exports","VSS/Diag","VSS/Events/Handlers","VSS/Utils/Array","VSS/Utils/String","VSS/VSS"],function(n,t,i,r,u,f,e){var o,s;Object.defineProperty(t,"__esModule",{value:!0});t.TagFilterProvider=t.FilterManager=void 0;o=function(){function n(n){n===void 0&&(n=[]);this._filterProviders={};this._workItems=[];this._originalWorkItemIds=[];this._originalWorkItemIds=n;this._workItems=this._originalWorkItemIds.slice(0)}return n.prototype.getFilterProvider=function(n){return this._filterProviders[n]},n.prototype.registerFilterProvider=function(n,t){this._filterProviders[n]=t},n.prototype.unregisterFilterProvider=function(n){delete this._filterProviders[n]},n.prototype.addFilter=function(t,r){i.logTracePoint("FilterManager.addFilter.start");var u=this.getFilterProvider(t),f=this._workItems;u&&(u.addFilter(r),this._workItems=u.getMatchingWorkItems(this._workItems),this._fireEvent(n.EVENT_FILTER_CHANGED))},n.prototype.removeFilter=function(t,r){i.logTracePoint("FilterManager.removeFilter.start");var u=this.getFilterProvider(t);u&&(u.removeFilter(r),this.rebuildMatchingWorkItems(),this._areProvidersFiltering()?this._fireEvent(n.EVENT_FILTER_CHANGED):this._fireEvent(n.EVENT_FILTER_CLEARED))},n.prototype.clearFilters=function(t,i){t?this._filterProviders[t].clearFilters():$.each(this._filterProviders,function(n,t){t.clearFilters()});this.rebuildMatchingWorkItems();this._areProvidersFiltering()?this._fireEvent(n.EVENT_FILTER_CHANGED):i||this._fireEvent(n.EVENT_FILTER_CLEARED)},n.prototype.rebuildMatchingWorkItems=function(){var n=this;this._workItems=this._originalWorkItemIds.slice(0);$.each(this._filterProviders,function(t,i){n._workItems=u.intersectPrimitives(n._workItems,i.getMatchingWorkItems(n._workItems))})},n.prototype.getMatchingWorkItems=function(){return this._workItems},n.prototype.isFiltered=function(){return this._areProvidersFiltering()},n.prototype._areProvidersFiltering=function(){var n=!1;return $.each(this._filterProviders,function(t,i){if(i.isFiltering())return n=!0,!1}),n},n.prototype.fire=function(n,t,i){return this._fireEvent(n,t,i)},n.prototype._fireEvent=function(n,t,i){if(this._events){var r;if(this._events.invokeHandlers(n,t,i,function(n){if(n===!1)return r=!0,!0}),r)return!1}},n.prototype.attachEvent=function(n,t){this._events||(this._events=new r.NamedEventCollection);this._events.subscribe(n,t)},n.prototype.detachEvent=function(n,t){this._events&&this._events.unsubscribe(n,t)},n.prototype.updateWorkItemId=function(n,t){var r;r=$.inArray(n,this._originalWorkItemIds);r>=0&&(this._originalWorkItemIds[r]=t);r=$.inArray(n,this._workItems);r>=0&&(this._workItems[r]=t);$.each(this._filterProviders,function(i,r){r.updateWorkItemId(n,t)})},n.prototype.setOriginalWorkItems=function(n){var t=this;this._originalWorkItemIds=n;this._workItems=n;$.each(this._filterProviders,function(n,i){t._workItems=i.getMatchingWorkItems(t._workItems)})},n.EVENT_FILTER_CHANGED="filter-changed",n.EVENT_FILTER_CLEARED="filter-cleared",n.EVENT_WORK_ITEM_UPDATED="work-item-updated",n.EVENT_FILTER_ACTIVATED="filter-activated",n.EVENT_FILTER_DEACTIVATED="filter-deactivated",n.EVENT_TAG_FILTER_CHANGED="tag-filter-changed",n}();t.FilterManager=o;e.initClassPrototype(o,{_filterProviders:null,_originalWorkItems:null,_workItems:null});s=function(){function n(n){n===void 0&&(n={});this._tagsDictionary={};this._activeFilterTags=[];this._isActive=!n.deactivatedOnCreate;n&&n.filterManager&&(this._filterManager=n.filterManager)}return n.prototype.getTagsDictionary=function(){return this._tagsDictionary},n.prototype.getFilterManager=function(){return this._filterManager},n.prototype.addFilter=function(n){u.contains(this._activeFilterTags,n,f.localeIgnoreCaseComparer)||this._tagsDictionary.hasOwnProperty(n)&&(this._activeFilterTags.push(n),this._fireTagFilterChangedEvent(),this.invalidateTagCountCache())},n.prototype.removeFilter=function(n){var t=$.inArray(n,this._activeFilterTags);t>=0&&(this._activeFilterTags.splice(t,1),this._fireTagFilterChangedEvent(),this.invalidateTagCountCache())},n.prototype.clearFilters=function(){this._activeFilterTags.length>0&&(this._activeFilterTags=[],this._fireTagFilterChangedEvent(),this.invalidateTagCountCache())},n.prototype.getMatchingWorkItems=function(n){var i=this,r,t=n;return $.each(this._activeFilterTags,function(n,f){if(i._tagsDictionary.hasOwnProperty(f))r=i._tagsDictionary[f],t=u.intersectPrimitives(t,r);else return t=[],!1}),t},n.prototype.invalidateTagCountCache=function(){this._tagCountCache=null},n.prototype.setTags=function(n){if(this.isActive()){var t=this._activeFilterTags.slice(0);this._validateDictionary(n);this._tagsDictionary=$.extend(!0,{},n);this._repopulateFilterTags(t);this.invalidateTagCountCache();this._filterManager.fire(o.EVENT_WORK_ITEM_UPDATED,this,{})}},n.prototype._fireTagFilterChangedEvent=function(){this._filterManager.fire(o.EVENT_TAG_FILTER_CHANGED,this,{})},n.prototype._unsetTags=function(){this._tagsDictionary={};this._activeFilterTags=[];this.invalidateTagCountCache()},n.prototype.updateWorkItemId=function(n,t){var r,u,f;if(this.isActive())for(u in this._tagsDictionary)this._tagsDictionary.hasOwnProperty(u)&&(f=this._tagsDictionary[u],r=$.inArray(n,f),r>=0&&(f[r]=t))},n.prototype.updateWorkItem=function(n,t,r){if(this.isActive()){var e,s,f,h=this._activeFilterTags.slice(0);for(f in this._tagsDictionary)this._tagsDictionary.hasOwnProperty(f)&&(e=$.inArray(n,this._tagsDictionary[f]),e>=0&&!u.contains(t,f)&&(this._tagsDictionary[f].splice(e,1),this._tagsDictionary[f].length===0&&delete this._tagsDictionary[f]));for(e=0,s=t.length;e<s;e++)f=t[e],this._tagsDictionary.hasOwnProperty(f)?u.contains(this._tagsDictionary[f],n)||this._tagsDictionary[f].push(n):this._tagsDictionary[f]=[n];this._repopulateFilterTags(h);this.invalidateTagCountCache();r||this._filterManager.fire(o.EVENT_WORK_ITEM_UPDATED,this,{})}},n.prototype.getActiveFilterTags=function(){return this._activeFilterTags.slice(0)},n.prototype.getAvailableFilterTags=function(){var t=[];for(var n in this._tagsDictionary)this._tagsDictionary.hasOwnProperty(n)&&$.inArray(n,this._activeFilterTags)===-1&&this.getTagItemCount(n)>0&&t.push(n);return t},n.prototype.getAllFilterTags=function(){var n=[];for(var t in this._tagsDictionary)this._tagsDictionary.hasOwnProperty(t)&&n.push(t);return n},n.prototype.getTagItemCount=function(n){return this._tagCountCache||this._recalculateTagCounts(),this._tagCountCache.hasOwnProperty(n)?this._tagCountCache[n]:0},n.prototype._recalculateTagCounts=function(){var n;this._tagCountCache={};for(n in this._tagsDictionary)this._tagsDictionary.hasOwnProperty(n)&&this.recalculateTagCount(n)},n.prototype.recalculateTagCount=function(n){var t=this._tagsDictionary[n];this._filterManager.isFiltered()&&(t=u.intersectPrimitives(t,this._filterManager.getMatchingWorkItems()));this._tagCountCache[n]=t.length},n.prototype.isActive=function(){return this._isActive},n.prototype.toggleFilterActivation=function(){this.isActive()?this.deactivateFilter():(i.logTracePoint("TagFilterProvider.activating"),this.activateFilter())},n.prototype.deactivateFilter=function(t){var i=this.isFiltering();this._isActive&&(this._isActive=!1,this._activeFilterTags=[],this._filterManager.fire(o.EVENT_FILTER_DEACTIVATED,this,{}),this._unsetTags(),this._filterManager.clearFilters(n.PROVIDER_TYPE,t),t&&this._filterManager.fire(o.EVENT_WORK_ITEM_UPDATED,this,{}),i&&this._filterManager.fire(o.EVENT_TAG_FILTER_CHANGED,this,{}))},n.prototype.activateFilter=function(){this._isActive||(this._isActive=!0,this._filterManager.fire(o.EVENT_FILTER_ACTIVATED,this,{}))},n.prototype._validateDictionary=function(n){var t,r,u;if(i.getDebugMode())for(t in n)if(n.hasOwnProperty(t))for(r=0,u=n[t].length;r<u;r++);},n.prototype._repopulateFilterTags=function(n){var t=this;this._activeFilterTags=[];$.each(n,function(n,i){t.addFilter(i)})},n.prototype.isFiltering=function(){return this._activeFilterTags.length!==0},n.PROVIDER_TYPE="tag",n}();t.TagFilterProvider=s;e.initClassPrototype(s,{_isActive:null,_tagsDictionary:null,_activeFilterTags:null})});

define("ReleasePipeline/Scripts/CommonControls/RM.Tags",["require","exports","VSS/VSS","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Array","VSS/Diag","VSS/Utils/UI","VSS/Controls","ReleasePipeline/Scripts/CommonControls/RM.Tags.QueryFilter","VSS/Controls/PopupContent","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","jQueryUI/autocomplete"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){var y,v,b,p,k,w;Object.defineProperty(t,"__esModule",{value:!0});t.TagUtilities=t.TagFilterControl=t.TagControl=t.TagChangeType=void 0;y=r.delegate;v=o.domElem,function(n){n[n.Add=0]="Add";n[n.Delete=1]="Delete"}(b=t.TagChangeType||(t.TagChangeType={}));p=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.shouldKeydownTriggerClick=function(n){return n.keyCode===o.KeyCode.ENTER||n.keyCode===o.KeyCode.SPACE},t.prototype.initializeOptions=function(i){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:t.coreCssClass,tags:[],readOnly:!1},i))},t.prototype.initialize=function(){n.prototype.initialize.call(this);var i=this.getElement(),t;this._selectedIndex=0;this._visibleTagsCount=-1;this._options.tagLabel&&$(v("span","tags-label")).attr("id","tags-label").text(this._options.tagLabel).appendTo($(v("div","r-tags-label-container")).appendTo(i));this._$tagsList=$(v("ul"));this._options.readOnly||this._initializeInputElements();t=$(v("div","r-tags-items-container")).attr("role","toolbar");this._options.tagLabel?t.attr("aria-labelledby","tags-label"):t.attr("aria-label",a.Tags);this._$tagsList.appendTo(t);t.appendTo(i);this._options.tags&&this.setItems(this._options.tags)},t.prototype.addTag=function(n){var t;n&&(t=n.trim(),t&&!f.contains(this._tags,t,u.localeIgnoreCaseComparer)&&(this._selectedIndex===this._tags.length&&this._selectedIndex++,this._tags.push(t),this._renderItems(),this._fireChange({type:b.Add,name:t})))},t.prototype.removeTag=function(n){this._removeTag(n,!0,!1)},t.prototype.setItems=function(n,t){this._selectedIndex=t?this._selectedIndex:0;this._tags=n;this._options.unsorted||this._tags.sort(this._options.tagSort||u.localeIgnoreCaseComparer);this._renderItems(t)},t.prototype.clearItems=function(){this.flush();this._tags=[];this._renderItems()},t.prototype.setTagCount=function(n){this._options.getTagCount=n},t.prototype.setMaxWidth=function(n){this._options.maxWidth=n},t.prototype.getWidth=function(){return this._width},t.prototype.focusAddButton=function(){this._selectedIndex=this._getLastIndex();this._renderItems(!0)},t.prototype._setupOverflowEvents=function(n){var i=this;n.click(function(){i._selectedIndex=i._visibleTagsCount;i._overflowClick(n)});n.keydown(function(r){i._updateSelectedIndex(r);t.shouldKeydownTriggerClick(r)&&n.click()})},t.prototype._tagKeyDown=function(n){this._updateSelectedIndex(n);typeof this._options.tagKeyDown=="function"?this._options.tagKeyDown(n):(t.shouldKeydownTriggerClick(n)&&$(n.target).click(),this._removeTagAndSetFocus(n))},t.prototype._updateSelectedIndex=function(n){var t=0,i,s,r,u,f,e;if(n.keyCode===o.KeyCode.RIGHT)t=1;else if(n.keyCode===o.KeyCode.LEFT)t=-1;else return;i=this._getLastIndex();s=this._selectedIndex;this._selectedIndex+=t;this._selectedIndex<0?this._selectedIndex=i:this._selectedIndex>i&&(this._selectedIndex=0);r=this.getElement().find(".r-tag-container[index='"+s+"']");u=r.find(".r-tag-delete");u.length>0?u.attr("tabindex",-1):r.attr("tabindex",-1);f=this.getElement().find(".r-tag-container[index='"+this._selectedIndex+"']");e=f.find(".r-tag-delete");e.length>0?e.attr("tabindex",0).focus():f.attr("tabindex",0).focus()},t.prototype._getLastIndex=function(){var n=this._visibleTagsCount>=0?this._visibleTagsCount:this._tags.length-1;return this._options.readOnly||n++,n},t.prototype._tagClick=function(n,t){n.preventDefault();n.stopPropagation();var i=Number($(n.target).parent().attr("index"));isNaN(i)||(this._selectedIndex=i,this._renderItems(!0));typeof this._options.tagClick=="function"&&(n.data={tagName:t},this._options.tagClick(n))},t.prototype._normalizeName=function(n,i){var r=n;return n.length>i&&(r=n.substring(0,i-4)+t.ELLIPSIS),r},t.prototype._renderOverflowElement=function(n,i){var r=$(v("li","tag-item tags-overflow")),u=w.generateTagContainer(i,!1,this._visibleTagsCount,this._visibleTagsCount===this._selectedIndex);return u.children(".r-tag-box").text(t.ELLIPSIS),u.prependTo(r),r.appendTo(n),r},t.prototype._splitAndAddTags=function(n){var t,r,i;for(i=this._splitAndTrimTags(n),t=0,r=i.length;t<r;t++)this.addTag(i[t])},t.prototype._splitAndTrimTags=function(n){var f,i,t,r,e,u;if(!n)return[];for(f=n.split(/,|;/),i=[],t=0,r=f;t<r.length;t++)e=r[t],u=e.trim(),u&&i.push(u);return i},t.prototype._showInputControl=function(){this._$addButtonContainer.hide();this._$tagInput.val("");this._$tagInput.data("ui-autocomplete")||this._$tagInput.autocomplete();this._$tagInput.autocomplete("enable");this._$tagInput.css("display","inline-block");this._$tagInput.focus();this._$tagInput.closest("li.r-tag-item-delete-experience").attr("aria-hidden","false")},t.prototype._hideInputControl=function(n){this._$tagInput.val("");this._$tagInput.is(":visible")&&(this._$tagInput.css("display","none"),this._$tagInput.autocomplete("close"),this._$tagInput.autocomplete("disable"),this._$addButtonContainer.show());n&&this.focusAddButton();this._$tagInput.closest("li.r-tag-item-delete-experience").attr("aria-hidden","true")},t.prototype._renderTagsInContainer=function(n,i){for(var u,f,o,r=this._tags.length-1;r>=0;r--)u=this._renderTag(this._tags[r],this._normalizeName(this._tags[r],t.TAG_CHARACTER_LIMIT),r),u.prependTo(n),i&&r===this._selectedIndex&&(f=u.find(".r-tag-container"),o=f.find(".r-tag-delete"),o.length>0?o.focus():f.focus());return n.find(".tag-item").not(".tags-overflow")},t.prototype._renderTagsWithMaxWidth=function(n,i,r,u){var y,f,l,s,h,a,o,v;if(y=this,h=[],i){for(o=0,s=0,a=r.width();n[o]&&i-s>$(n[o]).outerWidth(!0);)s=s+$(n[o]).outerWidth(!0),o++;if(o!==n.length)while(n[o-1]&&i-s<a)s=s-$(n[o-1]).outerWidth(!0),o--;this._visibleTagsCount=o}for(f=0;f<this._visibleTagsCount;f++)$(n[f]).appendTo(this._$tagsList),u&&f===this._selectedIndex&&$(n[f]).find(".r-tag-container")[0].focus();for(f=this._visibleTagsCount,l=n.length;f<l;f++)h.push(this._tags[f]);h.length>0?(this._options.type==="grid"||this._options.type==="single.line"?(v=h.join(t.TAG_FORMATTING_SEPARATOR),c.RichContentTooltip.add(v,r)):this._setupOverflowEvents(r),r.appendTo(this._$tagsList),this._selectedIndex==this._visibleTagsCount&&r.find(".r-tag-container")[0].focus()):(r.remove(),this._visibleTagsCount=-1)},t.prototype._render=function(n){$("li.tag-item",this._$tagsList).remove();this._renderTagsInContainer(this._$tagsList,n)},t.prototype._renderTagsInContainerWithMaxTags=function(n){for(var r,u=this._options.maxTags,f=this._tags.length>u?u-1:this._tags.length-1,e=this._options.tagCharacterLimit||t.TAG_CHARACTER_LIMIT,i=f;i>=0;i--)r=this._renderTag(this._tags[i],this._normalizeName(this._tags[i],e),i),r.prependTo(n);this._tags.length>this._options.maxTags&&this._renderOverflowInContainer(n)},t.prototype._renderForCard=function(){$("li.tag-item",this._$tagsList).remove();this._renderTagsInContainerWithMaxTags(this._$tagsList)},t.prototype._renderOverflowInContainer=function(n){var t=this._getOverFlowElement(),i=this._getOverflowTooltipContent();c.RichContentTooltip.add(i,t);t.appendTo(n)},t.prototype._getOverflowTooltipContent=function(){for(var r=[],n=this._options.maxTags,i=this._tags.length;n<i;n++)r.push(this._tags[n]);return r.join(t.TAG_FORMATTING_SEPARATOR)},t.prototype._getOverFlowElement=function(){var i=w.generateTagContainer(),n;return i.children(".r-tag-box").text(t.ELLIPSIS),n=$(v("li","tag-item tags-overflow")),n.append(i),n},t.prototype._renderForSingleLine=function(){var r,u;$("li.tag-item",this._$tagsList).remove();var n=$(this.getElement().parent()).clone(),i=$(v("div","r-tags-items-container off-screen")),t=$(v("ul","tags-unused-host"));t.appendTo(i);i.appendTo(n);n.appendTo(document.body);r=this._renderOverflowElement(t,!1);u=this._renderTagsInContainer(t);this._renderTagsWithMaxWidth(u,this._options.maxWidth,r);n.remove()},t.prototype._renderForGrid=function(){var r,u,f,i,t,n;n=$(this.getElement().parent(".grid-cell")).clone();i=$(v("div","r-tags-items-container off-screen"));t=$(v("ul","tags-unused-host"));t.appendTo(i);i.appendTo(n);n.appendTo(document.body);f=this._renderOverflowElement(t,!1);r=this._renderTagsInContainer(t);u=n.width();this._renderTagsWithMaxWidth(r,u,f);n.remove()},t.prototype._renderFilterAvailable=function(n){var f,r,u,t,i;$("li.tag-item",this._$tagsList).remove();i=$(this.getElement().parent(".r-tfs-tags-filter")).clone();u=$(v("div","r-tags-items-container off-screen"));t=$(v("ul","tags-unused-host"));t.appendTo(u);u.appendTo(i);i.appendTo(document.body);r=this._renderOverflowElement(t,this._options.selectable);c.RichContentTooltip.add(l.TagFilterDropdownTooltip,r);f=this._renderTagsInContainer(t);this._renderTagsWithMaxWidth(f,this._options.maxWidth,r,n);i.remove()},t.prototype._renderFilterApplied=function(n){var r=this._options.maxTags,l,a,e,s,u,i,y,o,f,h,p=[],b;if($("li.tag-item",this._$tagsList).remove(),e=$(this.getElement().parent(".r-tfs-tags-filter")).clone(),s=$(v("div","r-tags-items-container off-screen")),u=$(v("ul","tags-unused-host")),u.appendTo(s),s.appendTo(e),e.appendTo(document.body),!this._tags){this._width=0;return}for(l=this._tags.length>r?r-1:this._tags.length-1,i=l;i>=0;i--)a=this._renderTag(this._tags[i],this._normalizeName(this._tags[i],t.TAG_CHARACTER_LIMIT),i),a.prependTo(u);if(this._tags.length>r){for(this._visibleTagsCount=r,h=w.generateTagContainer(!0,!1,this._visibleTagsCount,this._visibleTagsCount===this._selectedIndex),h.children(".r-tag-box").text(t.ELLIPSIS),f=$(v("li","tag-item tags-overflow")),f.append(h),i=r,y=this._tags.length;i<y;i++)p.push(this._tags[i]);b=p.join(t.TAG_FORMATTING_SEPARATOR);c.RichContentTooltip.add(b,f);f.appendTo(u);this._setupOverflowEvents(f)}else this._visibleTagsCount=-1;o=0;$.map(u.children(),function(t){o=o+$(t).outerWidth(!0);this._$tagsList.append(t);var i=$(t).find(".r-tag-container"),r=Number(i.attr("index"));n&&r===this._selectedIndex&&i.focus()});this._width=o;e.remove()},t.prototype._initializeFilterDropdown=function(){var n=this,r;this._isAutoCompleteVisible=!1;var f=function(){n._$tagInput.show();n._$tagInput.autocomplete("enable");$(".tags-filter-overflow-text").toggleClass("pressed",!0)},t=function(){n._$tagInput.hide();n._$tagInput.val("");n._$tagInput.autocomplete("disable");$(".tags-filter-overflow-text").toggleClass("pressed",!1)},i=function(t){$.inArray(t,n._tags)>=0&&n._options.availableDropdownSelect(t&&typeof n._options.availableDropdownSelect=="function")};this._$tagInput=$(v("input","r-tags-input r-tags-filter-dropdown-input r-tag-box")).attr("type","text").attr("placeholder","").hide();this._$tagInput.closest("li.r-tag-item-delete-experience").attr("aria-hidden","true");this._$tagInput.autocomplete({delay:0,minLength:0,position:{my:"left top",at:"left bottom",offset:"0 -1"},source:function(t,i){var r=n._getMatchesForPrefix(t.term,n._tags.sort(u.localeIgnoreCaseComparer),!0);i(r)},open:function(){n._isAutoCompleteVisible=!0},select:function(n,r){i(r.item.value);t()},change:function(){i(n._$tagInput.val());t()},close:function(){n._isAutoCompleteVisible=!1;n._$tagInput.is(":focus")||(n._$tagInput.val()&&i(n._$tagInput.val()),t())}});this._$tagInput.blur(function(){this._isAutoCompleteVisible||t()});this._$tagInput.focus(function(){this._$tagInput.is(":visible")&&this._$tagInput.autocomplete("search")});this._$tagInput.keydown(function(i){i.keyCode===o.KeyCode.ESCAPE?(n._$tagInput.autocomplete("close"),t()):i.keyCode===o.KeyCode.ENTER&&$.inArray(n._$tagInput.val(),n._tags)>=0&&(typeof n._options.availableDropdownSelect=="function"&&n._options.availableDropdownSelect(n._$tagInput.val()),n._$tagInput.autocomplete("close"),t())});this._$tagInput.data("ui-autocomplete").menu.element.addClass("r-tags-autocomplete-menu");r=this._getNextZIndex();this._$tagInput.data("ui-autocomplete").menu.element.css("cssText","z-index: "+r+"! important;");this._$tagInput.data("ui-autocomplete")._renderItem=function(n,t){var r=t.label,i;return i=$(v("a")).text(r),c.RichContentTooltip.addIfOverflow(t.value,i),$(v("li")).data("ui-autocomplete-item",t).append(i).appendTo(n)};$(window).resize(function(){n._$tagInput.autocomplete("close")});$(document.body).append(this._$tagInput)},t.prototype._getNextZIndex=function(){var t,n,i=0;return $("div.ui-dialog").each(function(){t=$(this).css("z-index");!isNaN(t)&&t>i&&(i=t)}),i<100022?n=100023:(n=i+2,n%2!=0&&n++),n},t.prototype._overflowClick=function(n){n.children().first().addClass("tags-filter-overflow-text");this._$tagInput||this._initializeFilterDropdown();this._$tagInput.show();this._$tagInput.autocomplete("enable");$(".tags-filter-overflow-text").toggleClass("pressed",!0);this._$tagInput.position({my:"right top",at:"right bottom",of:n.children().first()});this._$tagInput.autocomplete("search");this._$tagInput.focus()},t.prototype._renderItems=function(n){this._$tagInput&&this._$tagInput.data("ui-autocomplete")&&this._$tagInput.autocomplete("close");this._options.type?this._options.type==="grid"?this._renderForGrid():this._options.type==="filter.available"?this._renderFilterAvailable(n):this._options.type==="filter.applied"?this._renderFilterApplied(n):this._options.type==="card"?this._renderForCard():this._options.type==="single.line"&&this._renderForSingleLine():this._render(n);this._renderAddButton(n)},t.prototype._renderTag=function(n,i,r){var h=this,f,o,y,s,p;return i||(i=n),o=$(v("li","tag-item")),this._options.useDeleteExperience&&o.addClass("r-tag-item-delete-experience"),y=r===this._selectedIndex,f=w.generateTagContainer(this._options.selectable,this._options.useDeleteExperience,r,y),n!==i&&(c.RichContentTooltip.add(n,f),o.data(t.FullTagNameKey,n)),this._options.selectable&&(f.click(function(t){return h._tagClick(t,n)}),f.keydown({tagName:n},function(n){return h._tagKeyDown(n)}),f.appendTo(o)),typeof this._options.tagRenderer=="function"?this._options.tagRenderer(f,n,i):f.children(".r-tag-box").text(i),f.appendTo(o),Boolean(this._options.useDeleteExperience)&&(s=$("<span/>").addClass("r-tag-delete r-tag-box-delete-experience").attr("role","button").attr("aria-label",u.format(a.TagsDeleteButton_AriaLabel,n)).attr("tabindex",y?0:-1).attr("dir","ltr").appendTo(f),c.RichContentTooltip.add(l.DeleteText,s),p=$("<span/>").addClass("bowtie-icon bowtie-math-multiply-light").appendTo(s),s.click(function(n){h._removeTagAndSetFocus(n,!0)})),o},t.prototype._removeTagAndSetFocus=function(n,i){var r=this,u,f=n.keyCode===o.KeyCode.DELETE,e=n.keyCode===o.KeyCode.BACKSPACE,s=function(n){var i,u;n[0]&&(r._selectedIndex=Number(n.find(".r-tag-container").attr("index")),i=r._getLastIndex(),r._selectedIndex>i&&(r._selectedIndex=i));u=n.data(t.FullTagNameKey)||n.text();r._removeTag(u,!0,!0)};(i||f||e||t.shouldKeydownTriggerClick(n))&&(n.preventDefault(),n.stopPropagation(),u=$(n.target).closest(".tag-item"),s(u),u.remove())},t.prototype._removeTag=function(n,t,i){if(n&&f.contains(this._tags,n,u.localeIgnoreCaseComparer)){this._tags.splice($.inArray(n,this._tags),1);var r=this._getLastIndex();this._selectedIndex>r&&this._selectedIndex==r;t?this._renderItems(i):this._renderAddButton(i);this._fireChange({type:b.Delete,name:n})}},t.prototype._getMatchesForPrefix=function(n,i,r){var o,s,h,c;if(s=t.AUTOCOMPLETE_MATCHES_LIMIT+1,n){if(h=$.ui.autocomplete.escapeRegex(n),c=new RegExp("^"+h,"i"),o=$.grep(i||[],function(n){return s>0&&(c.test(n)?s-->0:!1)}),s<=0)return[]}else if(i.length<s)o=i;else return[];return Boolean(r)||(o=f.subtract(o,this._tags,u.localeIgnoreCaseComparer)),o},t.prototype.gettingSuggestedTagNamesForPrefix=function(n){var t=this;return this._getSuggestedValues().then(function(i){e.logTracePoint("TagControl.getAutoCompleteMatches.start");var r=t._getMatchesForPrefix(n,i,!1);return e.logTracePoint("TagControl.getAutoCompleteMatches.completed"),r})},t.prototype._initializeSuggestedValues=function(){var n=this,t;this._$tagInput.autocomplete({delay:0,minLength:0,position:{my:"left top",at:"left bottom",collision:"none",offset:"0 -1"},source:function(t,i){n.gettingSuggestedTagNamesForPrefix(t.term).done(function(n){i(n)}).fail(function(){i([])})},select:function(t,i){n.addTag(i.item.value);n._hideInputControl(!0)},change:function(){n.flush()},close:function(){n._$tagInput.is(":focus")||(n._$tagInput.val()&&n.flush(),n._hideInputControl())}});this._$tagInput.data("ui-autocomplete").menu.element.addClass("r-tags-autocomplete-menu");t=this._getNextZIndex();this._$tagInput.data("ui-autocomplete").menu.element.css("cssText","z-index: "+t+"! important;");this._$tagInput.data("ui-autocomplete")._renderItem=function(n,t){var r=t.label,i;return i=$(v("a")).text(r),c.RichContentTooltip.addIfOverflow(t.value,i),$(v("li")).data("ui-autocomplete-item",t).append(i).appendTo(n)}},t.prototype._getSuggestedValues=function(){if(this._options.refreshSuggestedTags||!this._gettingSuggestedValues){var n=jQuery.Deferred();typeof this._options.beginGetSuggestedValues=="function"?this._options.beginGetSuggestedValues(function(t){n.resolve(t)}):n.resolve([]);this._gettingSuggestedValues=n.promise()}return this._gettingSuggestedValues},t.prototype.resetSuggestedValues=function(){this._gettingSuggestedValues=null},t.prototype._renderAddButton=function(n){var t,i;this._$addButtonContainer&&(this._options.addTagTextOnChange&&(t=this._$addButtonContainer.find(".r-tag-box"),this._tags.length===0?(t.removeClass("bowtie-icon bowtie-math-plus-light"),t.text(this._options.addButtonText||l.TagAddButtonText)):(t.text(""),t.append($(v("span","bowtie-icon bowtie-math-plus-light"))),c.RichContentTooltip.add(this._options.addButtonText||l.TagAddButtonText,this._$addButtonContainer.find(".r-tag-container"))),t.closest(".r-tag-container").attr("aria-label",this._options.addButtonText||l.TagAddButtonText)),i=this._$addButtonContainer.find(".r-tag-container"),i.attr("index",this._getLastIndex()),this._selectedIndex===this._getLastIndex()?(i.attr("tabIndex",0),n&&i.focus()):i.attr("tabIndex",-1))},t.prototype._initializeInputElements=function(){var n=this,u=this,i,r;this._$addButtonContainer=$(v("li","r-tags-add-button"));Boolean(this._options.useDeleteExperience)&&this._$addButtonContainer.addClass("r-tag-item-delete-experience");i=w.generateTagContainer(!0,!1,0,!0);i.children(".r-tag-box").text(this._options.addButtonText||l.TagAddButtonText);i.attr({role:"button","aria-label":l.AddTag});i.click(function(){u._showInputControl()});i.keydown(function(r){n._updateSelectedIndex(r);t.shouldKeydownTriggerClick(r)?i.click():r.keyCode===o.KeyCode.BACKSPACE&&(r.preventDefault(),r.stopPropagation())});c.RichContentTooltip.add(this._options.addButtonText||l.TagAddButtonText,i);r=$(v("li"));Boolean(this._options.useDeleteExperience)&&r.addClass("r-tag-item-delete-experience");this._$tagInput=$(v("input","r-tags-input r-tag-box")).attr({type:"text",placeholder:""}).hide();this._$tagInput.change(function(n){n.stopPropagation();n.preventDefault()});typeof u._options.beginGetSuggestedValues=="function"&&this._initializeSuggestedValues();this._$tagInput.focus(function(){n._$tagInput.autocomplete("search")});this._$tagInput.blur(function(){n._$tagInput.data("ui-autocomplete").menu.element.is(":visible")||n._$tagInput.val()||n._hideInputControl()});this._$tagInput.keydown(function(t){var i,r;(t.keyCode!==o.KeyCode.ENTER||o.KeyUtils.isModifierKey(t))&&t.keyCode!==o.KeyCode.TAB?t.keyCode===o.KeyCode.ESCAPE&&(t.stopPropagation(),n._hideInputControl(!0)):(i=$(t.target).val(),n._splitAndAddTags(i),r=i.replace(/,|;/g,""),t.keyCode===o.KeyCode.TAB&&r.length===0?(n._hideInputControl(!0),t.shiftKey&&t.preventDefault()):($(t.target).val(""),t.preventDefault(),t.stopPropagation(),typeof n._options.beginGetSuggestedValues=="function"&&n._$tagInput.autocomplete("search")),n._selectedIndex=n._tags.length)});i.appendTo(this._$addButtonContainer);this._$addButtonContainer.appendTo(this._$tagsList);this._$tagInput.appendTo(r);r.appendTo(this._$tagsList)},t.prototype.flush=function(){var n;n=this._$tagInput.val();n&&this._splitAndAddTags(n);this._hideInputControl()},t.enhancementTypeName="tfs.ui.tagcontrol",t.TAG_CHARACTER_LIMIT=30,t.AUTOCOMPLETE_CHARACTER_LIMIT=15,t.AUTOCOMPLETE_MATCHES_LIMIT=200,t.FILTER_DROPDOWN_WIDTH=150,t.ELLIPSIS="...",t.coreCssClass="r-tfs-tags",t.FullTagNameKey="fullTagName",t.TAG_FORMATTING_SEPARATOR="; ",t.TAG_SPLITTING_SEPARATOR=/[,;]/,t}(s.BaseControl);t.TagControl=p;i.initClassPrototype(p,{_tags:null,_$tagsList:null,_$tagInput:null,_$addButtonContainer:null,_gettingSuggestedValues:null,_width:null});k=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._refreshDelegate=y(i,i._refresh),i._suppressDuplicateRenders=!1,i}return __extends(t,n),t.prototype.initializeOptions=function(i){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:t.coreCssClass},i))},t.prototype.initialize=function(){this._addStaticElements();this._appliedFiltersTagControl=s.BaseControl.createIn(p,this.getElement(),{readOnly:!0,selectable:!0,cssClass:"r-tag-filter-applied-tags",tagClick:y(this,this._onAppliedTagClick),tagKeyDown:y(this,this._onAppliedTagKeyDown),unsorted:!0,maxTags:t.APPLIED_TAGS_LIMIT,type:"filter.applied",availableDropdownSelect:y(this,this._onAppliedDropdownSelect)});this._availableFiltersTagControl=s.BaseControl.createIn(p,this.getElement(),{readOnly:!0,selectable:!0,cssClass:"r-tag-filter-available-tags",tagClick:y(this,this._onAvailableTagClick),tagKeyDown:y(this,this._onAvailableTagKeyDown),tagSort:y(this,this._tagSortByCount),tagRenderer:y(this,this._renderTagWithCounts),availableDropdownSelect:y(this,this._onAvailableDropdownSelect),type:"filter.available"});this._bindEvents()},t.prototype.bindFilterManager=function(n){this._filterManager&&this._detachFilterManagerEvents();this._filterManager=n;this._tagFilterProvider=this._filterManager.getFilterProvider(h.TagFilterProvider.PROVIDER_TYPE);this._attachFilterManagerEvents();this._availableFiltersTagControl.setTagCount(y(this,this._tagFilterProvider.getTagItemCount));this._refresh()},t.prototype.bindToData=function(n){this._tagFilterProvider.setTags(n)},t.prototype.clear=function(){this._setInnerTagControls([],[])},t.prototype._bindEvents=function(){var n=this,t=-1;$(window).on("resize",function(){var i=n.getElement().width();t!=i&&(t=i,n._refresh())})},t.prototype._getAvailableWidth=function(){var i,n;return n=this._appliedFiltersTagControl.getWidth(),n=n+this._showAllButton.outerWidth(!0),n=n+this._tagsLabel.outerWidth(!0),n=n+t.APPLIED_AVAILABLE_SPACER,i=this.getElement().parent().outerWidth(!0),Math.floor(i-n)},t.prototype._addStaticElements=function(){var n,i=this.getElement();this._tagsLabel=$(v("div","r-tag-filter-control-label")).text(l.TagFilterLabel);i.append(this._tagsLabel);n=$(v("div","r-tag-filter-control-show-all-container"));this._showAllButton=w.generateTagContainer(!0,!1,0,!0).attr("id",t.SHOW_ALL_ATTR_ID).addClass("r-tag-filter-control-show-all").click(function(n){n.preventDefault();n.stopPropagation();$(this).focus()}).click(y(this,this._onShowAllClick)).keydown(function(n){p.shouldKeydownTriggerClick(n)&&$(this).click()});c.RichContentTooltip.add(l.TagFilterShowAllButtonTooltip,this._showAllButton);this._showAllButton.children(".r-tag-box").text(l.TagFilterShowAllButtonText);n.append(this._showAllButton);i.append(n)},t.prototype._attachFilterManagerEvents=function(){this._filterManager.attachEvent(h.FilterManager.EVENT_FILTER_CHANGED,this._refreshDelegate);this._filterManager.attachEvent(h.FilterManager.EVENT_FILTER_CLEARED,this._refreshDelegate);this._filterManager.attachEvent(h.FilterManager.EVENT_WORK_ITEM_UPDATED,this._refreshDelegate)},t.prototype._detachFilterManagerEvents=function(){this._filterManager.detachEvent(h.FilterManager.EVENT_FILTER_CHANGED,this._refreshDelegate);this._filterManager.detachEvent(h.FilterManager.EVENT_FILTER_CLEARED,this._refreshDelegate);this._filterManager.detachEvent(h.FilterManager.EVENT_WORK_ITEM_UPDATED,this._refreshDelegate)},t.prototype._refresh=function(){this._tagFilterProvider.isActive()&&(this._tagFilterProvider&&this._tagFilterProvider.invalidateTagCountCache(),this._setInnerTagControls(this._tagFilterProvider.getActiveFilterTags(),this._tagFilterProvider.getAvailableFilterTags()))},t.prototype._setInnerTagControls=function(n,t){this._suppressDuplicateRenders||(this._suppressDuplicateRenders=!0,this._appliedFiltersTagControl.setItems(n),this._availableFiltersTagControl.setMaxWidth(this._getAvailableWidth()),this._availableFiltersTagControl.setItems(t),this._suppressDuplicateRenders=!1,e.logTracePoint("TagFilterControl.renderComplete"))},t.prototype._onAppliedDropdownSelect=function(n){this._filterManager.removeFilter(h.TagFilterProvider.PROVIDER_TYPE,n);this._appliedFiltersTagControl.getElement().find(".tag-item .r-tag-container[tabIndex='0']").first().focus()},t.prototype._onAvailableDropdownSelect=function(n){this._filterManager.addFilter(h.TagFilterProvider.PROVIDER_TYPE,n)},t.prototype._onAvailableTagClick=function(n){var t=n.data.tagName;e.logTracePoint("TagFilterControl.AvailableTag.Clicked");this._filterManager.addFilter(h.TagFilterProvider.PROVIDER_TYPE,t)},t.prototype._onAvailableTagKeyDown=function(n){this._commonTagKeyDownBehavior(!1,n)},t.prototype._onAppliedTagClick=function(n){var t=n.data.tagName;e.logTracePoint("TagFilterControl.AppliedTag.Clicked");this._filterManager.removeFilter(h.TagFilterProvider.PROVIDER_TYPE,t)},t.prototype._onAppliedTagKeyDown=function(n){this._commonTagKeyDownBehavior(!0,n)},t.prototype._commonTagKeyDownBehavior=function(n,t){var i;p.shouldKeydownTriggerClick(t)&&(t.preventDefault(),t.stopPropagation(),n?this._onAppliedTagClick(t):this._onAvailableTagClick(t),i=n?this._appliedFiltersTagControl.getElement().find(".tag-item .r-tag-container").last():this._availableFiltersTagControl.getElement().find(".tag-item .r-tag-container").first(),i.length===0&&(i=this._showAllButton),i.focus())},t.prototype._onShowAllClick=function(){this._filterManager&&this._filterManager.clearFilters(h.TagFilterProvider.PROVIDER_TYPE)},t.prototype._renderTagWithCounts=function(n,t,i){var r;n.children(".r-tag-box").text(i);r=$(v("span","tag-item-count")).text(this._tagFilterProvider.getTagItemCount(t).toString());n.children(".r-tag-box").append(r)},t.prototype._tagSortByCount=function(n,t){var i,r=this._tagFilterProvider.getTagItemCount(n),f=this._tagFilterProvider.getTagItemCount(t);return(i=f-r,i)?i:u.localeIgnoreCaseComparer(n,t)},t.enhancementTypeName="tfs.ui.tagfiltercontrol",t.coreCssClass="r-tfs-tags-filter",t.APPLIED_TAGS_LIMIT=5,t.APPLIED_AVAILABLE_SPACER=100,t.SHOW_ALL_ATTR_ID="id-tag-filter-show-all-btn",t}(s.BaseControl);t.TagFilterControl=k;i.initClassPrototype(k,{_tagsLabel:null,_filterManager:null,_tagFilterProvider:null,_availableFiltersTagControl:null,_appliedFiltersTagControl:null,_showAllButton:null,_refreshDelegate:null});w=function(){function n(){}return n.renderTagCellContents=function(n,t,i,r){var u,o,h,f;return o=i.getColumnValue.call(n,t,i.index,r),u=o?o.split(p.TAG_SPLITTING_SEPARATOR):[],$.each(u,function(n,t){u[n]=t.trim()}),f=$(v("div","grid-cell")),f.width(i.width||20),u&&u.length>0?(s.BaseControl.createIn(p,f,{tags:u,readOnly:!0,type:"grid"}),h=u.join("     "),i.maxLength=Math.max(i.maxLength||0,h.length)):f.html("&nbsp;"),f},n.generateTagContainer=function(n,t,i,r){var u=$(v("span","r-tag-container")).attr("index",i),f=$(v("span","r-tag-box"));return n&&(r&&!t?u.attr("tabindex",0):t||u.attr("tabindex",-1),t?(f.addClass("r-tag-box-delete-experience"),u.addClass("r-tag-container-delete-experience")):(u.attr("role","button"),u.addClass("r-tag-container-selectable"),f.addClass("r-tag-box-selectable"))),f.attr("dir","ltr"),u.attr("dir","ltr"),u.append(f),u},n.enhancementTypeName="tfs.ui.tagutilities",n}();t.TagUtilities=w;i.tfsModuleLoaded("RM.Tags",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.Tags",["require","exports","knockout","q","VSS/Context","VSS/Adapters/Knockout","VSS/Controls","VSS/VSS","ReleasePipeline/Scripts/TFS.ReleaseManagement.Context","ReleasePipeline/Scripts/CommonControls/RM.Tags","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var y,p;Object.defineProperty(t,"__esModule",{value:!0});t.TagsControl=t.TagsViewModel=void 0;y=function(n){function t(t,r){var u=__construct(this,n,[]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u.tags=i.observableArray([]),u.originalTags=[],u.suggestedTags=[],u.projectId=i.observable(null),u.options=t,u.dirty=i.computed(function(){return u.computeDirty()}),!r||u.projectId(r),u._changeTracker=new c.ChangeTracker(u),u._changeTracker.addDisposable(u.dirty),u}return __extends(t,n),t.prototype.isDirty=function(){return!l.arrayEquals(this.originalTags,this.tags(),function(n,t){return v.localeIgnoreCaseComparer(n,t)===0},!0)},t.prototype.computeDirty=function(){return this.isDirty()},t.prototype.dispose=function(){this._changeTracker.dispose()},t.prototype.getSuggestedTags=function(){if(this.options&&this.options.doNotShowBuildTags===!0)return r.resolve(this.suggestedTags);if(!this._suggestedTagsPromise){var n=!this.projectId()||v.localeIgnoreCaseComparer(this.projectId(),v.empty)===0,t=n?u.getDefaultWebContext().project.id:this.projectId();this._suggestedTagsPromise=s.serviceContext.buildManager().beginGetProjectTags(t)}return this._suggestedTagsPromise},t}(f.TemplateViewModel);t.TagsViewModel=y;p=function(n){function t(t){var i=n.call(this,t,t.options)||this;return i._branchDisposalManager=new a.DisposalManager,i._branchDisposalManager.addDisposable(i.getViewModel().projectId.subscribe(function(){i.initializeOptions(i.getViewModel().options)})),i}return __extends(t,n),t.prototype.initializeOptions=function(t){var i=this;n.prototype.initializeOptions.call(this,$.extend({useDeleteExperience:!0,beginGetSuggestedValues:function(n){i.getViewModel().getSuggestedTags().then(function(t){n(t)},function(){n([])})}},t))},t.prototype.setTags=function(n){this.getViewModel().tags(n)},t.prototype.dispose=function(){n.prototype.dispose.call(this);this._branchDisposalManager.dispose()},t.prototype.initialize=function(){var t=this,i=$("<div />").appendTo(this.getElement()),n=this.getViewModel();this._options.tags=n.tags();this._options.selectable=!0;this._tagsControl=e.BaseControl.createIn(h.TagControl,i,this._options);this.subscribe(n.tags,function(i){t._tagsControl.setItems(i,n.focusLastSelected)});this._tagsControl._bind("change",function(i,r){n.tags.valueHasMutated();r.type===h.TagChangeType.Add?t._fire("add",r.name):r.type===h.TagChangeType.Delete&&t._fire("delete",r.name)})},t}(f.TemplateControl);t.TagsControl=p;f.TemplateControl.registerBinding("rm_tags",p,function(){return new y});o.tfsModuleLoaded("TFS.ReleaseManagement.Controls.Tags",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.Branch",["require","exports","knockout","VSS/VSS","VSS/Adapters/Knockout","VSS/Utils/Core","VSS/Utils/UI","VSS/Utils/String","TFS/VersionControl/Controls","ReleasePipeline/Scripts/TFS.ReleaseManagement.Manager","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types"],function(n,t,i,r,u,f,e,o,s,h,c,l){var y,a,v;Object.defineProperty(t,"__esModule",{value:!0});t.BranchViewModel=t.BranchControl=void 0;y=e.domElem;a=function(n){function t(t){var i=n.call(this,t,t.options)||this;return i._branchDisposalManager=new f.DisposalManager,i._branchDisposalManager.addDisposable(i.getViewModel().repositoryId.subscribe(function(n){!i._gitVersionMenuExt||!n||i.getViewModel().artifactType===l.ArtifactTypes.GitHubId||i._gitVersionMenuExt.setRepositoryId(n)})),i._branchDisposalManager.addDisposable(i.getViewModel().selectedArtifactSourceBranch.subscribe(function(n){!i._gitVersionMenuExt||!n||i.getViewModel().artifactType===l.ArtifactTypes.GitHubId||i._gitVersionMenuExt.setSelectedVersion({branchName:n})})),i}return __extends(t,n),t.prototype.initializeOptions=function(t){var i=this;n.prototype.initializeOptions.call(this,$.extend({allowUnmatchedSelection:!0,disableTags:!0,onItemChanged:function(n){n.branchName&&i.getViewModel()&&(i.getViewModel().originalArtifactSourceBranch=i.getViewModel().selectedArtifactSourceBranch(),i.getViewModel().selectedArtifactSourceBranch(n.branchName))}},t))},t.prototype.dispose=function(){n.prototype.dispose.call(this);this._branchDisposalManager.dispose()},t.prototype.initialize=function(){var n=this,i=$("<div />").appendTo(this.getElement()),t=$(y("div","extension-git-version-selector")).css("display","inline-block");i.append(t);this.getViewModel().artifactType!==l.ArtifactTypes.GitHubId&&s.GitVersionSelector.create(t,this._options).then(function(t){n._gitVersionMenuExt=t;!n.getViewModel().repositoryId()||n._gitVersionMenuExt.setRepositoryId(n.getViewModel().repositoryId());!n.getViewModel().selectedArtifactSourceBranch()||n._gitVersionMenuExt.setSelectedVersion({branchName:n.getViewModel().selectedArtifactSourceBranch()})})},t}(u.TemplateControl);t.BranchControl=a;v=function(n){function t(t,r){var u=__construct(this,n,[]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u.selectedArtifactSourceBranch=i.observable(null),u.repositoryId=i.observable(null),u.computedBranchNames=i.observableArray([]),u.options=t,!r||u.repositoryId(r),u.isInvalid=u.computed(function(){return!u._isValidBranch()}),u._changeTracker=new c.ChangeTracker(u),u._changeTracker.addDisposable(u.dirty),u._artifactsModel=h.BaseManager.clientFactory.getAtrifactTypeClient(),u}return __extends(t,n),t.prototype.isDirty=function(){return this.isInvalid()?!1:o.localeComparer(this.selectedArtifactSourceBranch(),this.originalArtifactSourceBranch)!==0},t.prototype.computeDirty=function(){return this.isDirty()},t.prototype._queryBranches=function(){var u=this,n,t,i;this.artifactType===l.ArtifactTypes.GitHubId&&(n={},n.connection=this.connectionId,n.definition=this.repositoryId(),t=[],t.push({inputId:"branch"}),i={currentValues:n,inputValues:t,resource:this.artifactType.toString()},this._artifactsModel.queryInputValues(i).then(function(n){var t=[];$.each(n.inputValues,function(n,i){i.error&&i.error.message?console.log(i.error.message):($.each(i.possibleValues,function(n,i){t.push(i.displayValue)}),u.computedBranchNames(t))})},function(n){r.handleError(n)}))},t.prototype._isValidBranch=function(){var r=!0,t=this.selectedArtifactSourceBranch(),i,n;return!t||(i=t.length,n=t.indexOf("*"),n>=0&&(r=n===0&&i===1||n===i-1)),r},t}(u.TemplateViewModel);t.BranchViewModel=v;u.TemplateControl.registerBinding("rm_branch",a,function(){return new v});r.tfsModuleLoaded("TFS.ReleaseManagement.Controls.Branch",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.KnockoutExtensions",["require","exports","knockout","knockoutSecureBinding","VSS/Controls","VSS/Controls/Combos","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Model","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary","DistributedTasksCommon/TFS.Knockout.CustomHandlers","ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.Tags","ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.Branch"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){function g(){var n=i,t;n.hasDefaultBindingsBeenOverridden||(n.hasDefaultBindingsBeenOverridden=!0,t={attribute:"data-bind",globals:window,bindings:i.bindingHandlers,noVirtualElements:!1},i.bindingProvider.instance=new r(t))}function tt(){i.bindingHandlers.combo={init:function(n,t){var r=t(),i=u.BaseControl.createIn(f.Combo,$(n),{mode:r.mode||"drop",allowEdit:r.allowEdit||!1,change:function(){i.getValue()===e.empty?i.setInvalid(!0):i.setInvalid(!1);var n=i.getText();r.selectedValue(n)},invalidCss:r.invalidCss});i.setInvalid(!1);$(n).data("comboControl",i)},update:function(n,t){var i=$(n).data("comboControl"),r=t(),u=r.possibleValues();i.setSource(u);!r.defaultValue()||r.defaultValue()===e.empty?i.setInvalid(!0):(i.setText(r.defaultValue(),!1),i.setInvalid(!1))}}}function b(n,t){if(!!n){var i=$(n.target);return i.closest(t).index()}return-1}function k(n,t,i){if(!!n){var r=$(n.target);return r.closest(t).find(i).index(r.closest(i))}return-1}function d(n,t,i,r,u){var f,e;return!!n&&(f=$(n.target),!!f.closest(t)&&(e=f.closest(t).parent(),!!$(e).find(t).eq(r)))?$(e).find(t).eq(r).find(i).eq(u):null}function nt(n,t){var i=t()||{},r=i.navigatableCellSelector||"td",u=i.navigatableRowSelector||"tr";return!n||($(n).find(r).attr("tabindex","-1"),$(n).find("a").attr("tabindex","-1"),!i||!i.tabInSelector||$(n).find(u).has(i.tabInSelector).first().find(i.tabInSelector).first().attr("tabindex","0")),null}Object.defineProperty(t,"__esModule",{value:!0});t.initKnockoutHandlers=t.overrideDefaultBindings=void 0;t.overrideDefaultBindings=g;g();y.initKnockoutHandlers();t.initKnockoutHandlers=tt;i.bindingHandlers.createBranchEnhancement={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t,i,r){n=$(n);u.BaseControl.createIn(w.BranchControl,n,r)}};i.bindingHandlers.customTableNavigation={init:function(n,t,i,r){var u=t()||{},s=r||{},f=u.navigatableRowSelector||"tr",e=u.navigatableCellSelector||"td";if(!!n){$(n).on("DOMNodeInserted",function(){nt(n,t)});$(n).keydown(function(n){var i,r,t;if(!n)return!0;switch(n.keyCode){case o.KeyCode.ENTER:return!!u&&!!u.onEnterPress&&typeof u.onEnterPress=="function"?u.onEnterPress(s,n):!0;case o.KeyCode.DOWN:if(!!u&&!!u.customDownKeyHandler&&typeof u.customDownKeyHandler=="function")return u.customDownKeyHandler(n);var i=b(n,f),r=k(n,f,e),t=d(n,f,e,i+1,r);return!t||t.focus(),!1;case o.KeyCode.UP:return!!u&&!!u.customUpKeyHandler&&typeof u.customUpKeyHandler=="function"?u.customUpKeyHandler(n):(i=b(n,f),r=k(n,f,e),i>0&&(t=d(n,f,e,i-1,r),!t||t.focus()),!1);case o.KeyCode.RIGHT:var i=b(n,f),r=k(n,f,e),t=d(n,f,e,i,r+1);return!t||t.focus(),!1;case o.KeyCode.LEFT:return i=b(n,f),r=k(n,f,e),r>0&&(t=d(n,f,e,i,r-1),!t||t.focus()),!1;case o.KeyCode.TAB:return!!u&&!!u.tabOutSelector&&!n.shiftKey?($(n.target).parents().has(u.tabOutSelector).first().find(u.tabOutSelector).first().focus(),!1):!0}return!0})}},update:function(n,t){nt(n,t)}};i.bindingHandlers.createTagEnhancement={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t){var i=t(),r,e;if(n=$(n),r="EnhancedControlKey",i){var o=p.TagsControl,s=n.data(r),f=s;if(!f){f=u.BaseControl.createIn(o,n,i.viewModel);n.data(r,f);try{e=i.eventHandlers;e&&$.each(e,function(t,i){n.bind(i.type,i.eventHandler)})}catch(h){console.log(h)}}}}};i.bindingHandlers.metaTaskCreateTaskEditor={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t){var f=$(n),r=t();r&&s.using(["DistributedTasksCommon/TFS.Tasks.TasksEditor.Internal","DistributedTasksCommon/TFS.Tasks.Utils"],function(t,e){var h,c,o,s;f.removeAttr("data-bind");f.removeAttr("data-bind");h="taskeditor_view";c=i.observable(r.viewModel);f=e.loadHtmlTemplate(h,"tasks-editor-content").appendTo(n);o=new t.TaskGroupListEditorViewModel(c,null,!1,{addTasksLabel:a.AddTasksLabel,defaultTaskCategoryName:r.viewModel.defaultCategory,disableAddTasks:!1,tasksVisibilityFilter:[],metaTaskManager:r.viewModel.metaTaskManager,variableProvider:r.viewModel.variableProvider});r.viewModel.taskEditorViewModel(o);i.applyBindings(o,f[0]);s=u.BaseControl.enhance(t.TaskGroupListEditorControl,f,o);i.applyBindings(o,s.getElement()[0]);s.initialize()})}};i.bindingHandlers.accessibility={init:function(n,t){var i=$(n),r=t();if(r)h.AccessibilityHelper.onEnterPress(i)}};i.RMUtils={getRMResource:function(n){if(n in a)return a[n];throw"The resource with resource id: ".concat(n," not found. Please check the spelling and whether the resource actually exists in the resx or not");},getDTResource:function(n){if(n in v)return v[n];throw"The resource with resource id: ".concat(n," not found. Please check the spelling and whether the resource actually exists in the resx or not");},getRDWidgetEnvironmentTileToolTip:function(n,t,i){var r=l.ReleaseEnvironmentBase.create(n),u=c.ReleaseEnvironmentStatusHelper.getComputedReleaseEnvironmentStatus(l.ReleaseEnvironmentBase.create(r)),f=c.ReleaseEnvironmentHelper.getStatusToolTipText(r,u);return e.localeFormat(a.RDWidgetEnvironmentTileTooltip,n.name,f,t,i)},getHtmlDecodedResource:function(n){return h.HtmlHelper.htmlDecode(n)}};s.tfsModuleLoaded("TFS.ReleaseManagement.KnockoutExtensions",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.CreateRelease",["require","exports","knockout","q","VSS/Controls","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Array","VSS/VSS","VSS/Utils/UI","VSS/Adapters/Knockout","ReleaseManagement/Core/Constants","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleaseManagement/Core/Contracts","ReleasePipeline/Scripts/TFS.ReleaseManagement.MessageArea","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Context","ReleasePipeline/Scripts/TFS.ReleaseManagement.DemandsValidator","ReleasePipeline/Scripts/TFS.ReleaseManagement.Model","ReleasePipeline/Scripts/TFS.ReleaseManagement.EditorSnapshots","ReleasePipeline/Scripts/TFS.ReleaseManagement.KnockoutExtensions","ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.UserDialog","DistributedTaskControls/Common/JQueryWrapper"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt){function st(){var t=$(document).find(".create-rel-automated-deployment-grid-table td.deployment-trigger div.select-input-box input"),i,n,r,u;if(!!t)for(n=0,r=t.length;n<r;n++)i=$(t[n]).closest("tr.automatedEnvironment").find("td.environment-name span"),!i||(u=i.attr("id"),$(t[n]).attr("aria-labelledby",u))}function ht(){var t=$(document).find(".create-release-view-artifacts-section td.release-artifact-source-versions div.select-input-box input"),i,n,r,u;if(!!t)for(n=0,r=t.length;n<r;n++)i=$(t[n]).closest("tr.release-artifact-source-data").find("td span"),!i||(u=i.attr("id"),$(t[n]).attr("aria-labelledby",u))}var ut,lt,at,et,ot;Object.defineProperty(t,"__esModule",{value:!0});t.setLabelForArtifactInputElements=t.setLabelForEnvironmentInputElements=t.ReleaseArtifactViewModel=t.AutomatedDeploymentViewModel=t.StartReleaseViewModel=t.CreateReleaseViewModel=t.BaseReleaseActionViewModel=t.CreateReleaseView=void 0;var ft=h.domElem,ct=f.delegate,vt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._createReleaseViewModel=t.viewModel,i}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);tt.initKnockoutHandlers();this._createView();this._applyBindings();this._element.addClass("create-release-view")},t.prototype.getViewModel=function(){return this._createReleaseViewModel},t.prototype._createView=function(){var i=$(ft("div")).addClass("create-release-container-message-area"),n,r;u.Enhancement.enhance(p.MessageAreaView,i,{viewModel:this._createReleaseViewModel.getMessageViewModel()});i.appendTo(this._element);n=t.templateHtml;n+=t._linkedArtifactsTemplateHtml;n+=t._automatedDeploymentsTemplateHtml;n+=t._manualDeploymentsTemplateHtml;w.HtmlHelper.renderTemplateIfNeeded(t.templateId,n);r=w.loadHtmlTemplate(t.templateId,"create-release-view-container");r.appendTo(this._element);this._createReleaseViewModel.viewAttached()},t.prototype._applyBindings=function(){i.applyBindings(this._createReleaseViewModel,this._element.find(".create-release-view-container")[0])},t.templateId="create_new_release_template",t.templateHtml="\n               <div class='release-project-selection' data-bind='visible: enableReleaseDefinitionSelect'>\n                   <label class='select-project-label' for='select_release_project' data-bind='html: ko.RMUtils.getRMResource(\"SelectReleaseProject\")'><\/label>\n                   <div class='select-release-project-container'>\n                       <select id='select_release_project' class='select-release-project' data-bind='options: linkedReleaseProjects, value: selectedReleaseProject, optionsText: \"name\"'><\/select>\n                   <\/div>\n               <\/div>\n\n               <div class='release-definition-selection' data-bind='visible: enableReleaseDefinitionSelect'>\n                   <label class='select-definition-label' for='select_release_definition' data-bind='html: ko.RMUtils.getRMResource(\"SelectReleaseDefinition\")'><\/label>\n                   <div class='select-release-definition-container'>\n                       <select id='select_release_definition' class='select-release-definition' data-bind='options: linkedReleaseDefinitions, value: selectedReleaseDefinition, optionsText: \"name\"'><\/select>\n                   <\/div>\n               <\/div>\n\n               <div class='release-basic-input-container'>\n                   <table class='release-basic-input-table filter'>\n                       <tr class='release-description-input-row'>\n                           <td class='release-input-label'><label for='release_description_textarea' data-bind='html: ko.RMUtils.getRMResource(\"DescriptionLabel\")'><\/label><\/td>\n                           <td colspan='5'><textarea id='release_description_textarea' class='release-description-textarea' rows='2' data-bind='value: description, valueUpdate: \"afterkeydown\"'><\/textarea><\/td>\n                       <\/tr>\n                   <\/table>\n               <\/div>",t._linkedArtifactsTemplateHtml="\n               <div data-bind='if: (artifacts().length > 0)' class = 'create-release-view-artifacts-section'>\n               <div class='create-release-artifacts-section-name' data-bind='html: ko.RMUtils.getRMResource(\"Artifacts\")'>  <\/div>\n                   <div class = 'horizontal-line splitter horizontal create-release-view-splitter'><\/div>\n                   <table class='create-release-artifacts-table linked-artifact-table'>\n                       <tr>\n                           <td colspan='5' class='create-release-artifacts-grid-table-container'>\n                               <table class='create-release-artifacts-grid-table'>\n                                   <thead>\n                                       <tr>\n                                           <th data-bind='html: ko.RMUtils.getRMResource(\"SourceColumnHeader\")'><\/th>\n                                           <th class='version-header'>\n                                                <span data-bind='html: ko.RMUtils.getRMResource(\"VersionColumnHeader\")'><\/span>\n                                                <span tabindex='0' class=\"bowtie-icon bowtie-status-info-outline\" data-bind='showRichContentTooltip: { text: createReleaseSelectArtifactVersionHelpText, setAriaDescribedBy: true }'><\/span>\n                                           <\/th>\n                                       <\/tr>\n                                   <\/thead>\n                                   <tbody data-bind='foreach: artifacts' class='create-release-linked-artifacts-table-body'>\n                                       <tr class='release-artifact-source-data'>\n                                           <td><span data-bind='text: sourceNameAndType, attr: { title: sourceNameAndType, \"id\":\"start-release-dialog-input-for-\" + alias().split(\" \").join(\"-\") + \"-\" + definitionId().split(\" \").join(\"-\") }'><\/span><\/td>\n                                           <td class='release-artifact-source-versions' data-bind=\"attr:{ 'title': versionsDetails }\">\n                                               <!-- ko if: $data.sourceTypeId() === '".concat(v.ArtifactTypes.TeamBuildExternalId,"' -->\n                                                   <input class='text-input-box' data-bind='value: selectedVersion'>\n                                               <!-- /ko -->\n                                               <!-- ko if: $data.sourceTypeId() !== '").concat(v.ArtifactTypes.TeamBuildExternalId,"' -->\n                                                   <div class='select-input-box' data-bind=\"combo: { possibleValues: versions, selectedValue: selectedVersion, defaultValue: selectedVersion, allowEdit: true, invalidCss: 'invalid-indicator' }\"><\/div>\n                                               <!-- /ko -->\n                                           <\/td>\n                                       <\/tr>\n                                   <\/tbody>\n                               <\/table>\n                           <\/td>\n                       <\/tr>\n                   <\/table>\n               <\/div>"),t._automatedDeploymentsTemplateHtml="\n               <div class = 'create-release-view-automated-deployments-section'>\n                   <div class='create-release-automated-deployments-section-name' data-bind='html: ko.RMUtils.getRMResource(\"AutomatedDeploymentsSection\")'> <\/div>\n                   <div class = 'horizontal-line splitter horizontal create-release-view-splitter'><\/div>\n               \n                   <!-- ko if: automatedEnvironments().length > 0 -->\n                       <div class='create-release-deployments-message' data-bind='html: ko.RMUtils.getRMResource(\"AutomatedDeploymentsMessage\")'><\/div>\n\n                       <table class='create-rel-automated-deployment-grid-table'>\n                            <thead>\n                                <tr>\n                                    <th class='automatedDeploymentTrigger' data-bind='html: ko.RMUtils.getRMResource(\"EnvironmentColumnHeaderInRelease\")'><\/th>\n                                    <th class='deploymentTrigger-header' data-bind='html: ko.RMUtils.getRMResource(\"DeploymentTriggerColumnHeaderInRelease\")'><\/th>\n                                <\/tr>\n                            <\/thead>\n                            <tbody data-bind='foreach: automatedEnvironments'>\n                                    <tr class='automatedEnvironment'>\n                                        <td class='environment-name'><span data-bind='text: environmentName, attr: {\"id\": \"start-release-dialog-input-for-\" + environmentName().split(\" \").join(\"-\") }'><\/span><\/td>\n                                        <td class='deployment-trigger'>\n                                        <div class='select-input-box' data-bind=\"combo: { possibleValues: possibleConditions, selectedValue: selectedCondition, defaultValue: selectedCondition }\"><\/div>\n                                        <\/td>\n                                    <\/tr>\n                            <\/tbody>\n                       <\/table>\n                   <!-- /ko -->\n\n                   <!-- ko ifnot: automatedEnvironments().length > 0 -->\n                       <div class='automated-deployments-missing-warning'>\n                          <span class='bowtie-icon bowtie-status-warning' ><\/span>\n                          <span data-bind='html: ko.RMUtils.getRMResource(\"AutomatedDeploymentsMissingMessage\")'><\/span>\n                       <\/div>\n                       <br />\n                   <!-- /ko -->\n              <\/div>",t._manualDeploymentsTemplateHtml="\n               <div class = 'create-release-view-manual-deployments-section' data-bind='if: (manualEnvironments().length > 0)'>\n                   <div class='create-release-manual-deployments-section-name' data-bind='html: ko.RMUtils.getRMResource(\"ManualDeploymentsSection\")'> <\/div>\n                   <div class='horizontal-line splitter horizontal create-release-view-splitter'><\/div>\n                   <div class='create-release-deployments-message' data-bind='html: ko.RMUtils.getRMResource(\"ManualDeploymentsMessage\")'><\/div>\n                   <br />\n                   <div class='create-release-deployments-message' data-bind=\"text: manualEnvironments().join(', ')\"><\/div>\n                   <br />\n               <\/div>",t}(u.Control);t.CreateReleaseView=vt;ut=function(n){function t(t,u){var f=__construct(this,n,[]);for(var e in f)f.hasOwnProperty(e)&&(this[e]=f[e]);return f.title=i.observable(""),f.description=i.observable(""),f.linkedReleaseProjects=i.observableArray([]),f.linkedReleaseDefinitions=i.observableArray([]),f.enableReleaseDefinitionSelect=i.observable(!1),f.enableReleaseProjectSelect=i.observable(!1),f.environmentsList=i.observableArray([]),f.artifacts=i.observableArray([]),f.selectedReleaseDefinition=i.observable(null),f.selectedReleaseProject=i.observable(null),f.linkedProjectName=i.observable(null),f.createReleaseSelectArtifactVersionHelpText=a.CreateReleaseSelectArtifactVersionHelpText,f._viewAttached=r.defer(),f._id=t,f._actionHandler=u,f._areAgentPoolDetailsPresent=!1,f._areQueueDetailsPresent=!1,f._initializationInProgress=!0,f.canPerform=f.computed(function(){return f._canPerform()}),f._addDisposable(f.canPerform),f.subscribe(f.linkedReleaseDefinitions,function(n){f.enableReleaseDefinitionSelect(w.ArrayHelper.hasItems(n))}),f.subscribe(f.linkedReleaseProjects,function(n){f.enableReleaseProjectSelect(w.ArrayHelper.hasItems(n))}),f.manualEnvironments=i.computed(function(){return f.environmentsList().filter(function(n){return!w.ArrayHelper.hasItems(n.conditions)}).map(function(n){return n.name})}),f.automatedEnvironments=i.computed(function(){var n=[];return f.environmentsList().forEach(function(t){w.ArrayHelper.hasItems(t.conditions)&&n.push(f._createAutomatedEnvironmentDropdown(t.name,t.conditions,t.schedules))}),n}),f.computed(i.computed({read:function(){var n=f.artifacts(),t;w.ArrayHelper.hasItems(n)&&(t=o.first(n,function(n){if(!n.selectedVersion())return!0}),t||f._clearArtifactVersionNotSelectedWarning())}})),f}return __extends(t,n),t.prototype._createAutomatedEnvironmentDropdown=function(n,t,i){var f=w.ArrayHelper.hasItems(i),r=[],u;switch(t[0].conditionType){case y.ConditionType.Event:u=a.AutomatedDeploymentOnReleaseCreationToolTipText;f&&(u=a.ScheduledDeploymentOnReleaseCreationToolTipText);r.push(u);break;case y.ConditionType.EnvironmentState:var s=t.map(function(n){return n.name}).join(", "),o=t[0].value===y.EnvironmentStatus.Succeeded.toString(),u=o?a.AutomatedDeploymentAfterSuccessfulDeploymentToolTipText:a.AutomatedDeploymentAfterPartialSuccessfulDeploymentToolTipText;f&&(u=o?a.ScheduledDeploymentAfterSuccessfulDeploymentToolTipText:a.ScheduledDeploymentAfterPartialSuccessfulDeploymentToolTipText);r.push(e.format("{0} {1}",u,s))}return r.push(a.ManualDeploymentToolTipText),new et(n,r[0],r)},t.prototype.logError=function(n){var t=this.getMessageViewModel();this._viewAttached.promise.then(function(){t.logError(n)})},t.prototype.logWarning=function(n){var t=this.getMessageViewModel();this._viewAttached.promise.then(function(){t.logWarning(n)})},t.prototype.logErrorWithLink=function(n){var t=this.getMessageViewModel();this._viewAttached.promise.then(function(){t.logErrorWithLink(n)})},t.prototype.viewAttached=function(){this._viewAttached.resolve(!0)},t.prototype.getMessageViewModel=function(){return this._messageViewModel||(this._messageViewModel=new p.MessageAreaViewModel),this._messageViewModel},t.prototype.checkForEnvironmentsWithoutQueueIds=function(n){var i=this,r=this._getEnvironmentSnapshots(n),t=!0,u=$.map(r,function(n){return i._areAllQueuesValid(n.deployPhases)?null:(t=!1,n.name)});return this._areQueueDetailsPresent=t,this.canPerform.notifySubscribers(this._canPerform()),u},t.prototype.releaseDataRefreshed=function(n,t){var i=this.checkForEnvironmentsWithoutQueueIds(n);w.ArrayHelper.hasItems(i)&&this.logErrorWithLink(this._getAgentPoolErrorMessage(i,a.QueuesNotFoundErrorMessage,t))},t.prototype.dispose=function(){this.artifacts().forEach(function(n){n.dispose()});n.prototype.dispose.call(this)},t.prototype.getArtifactsVersionsPromise=function(n){var n=$.map(n,function(n){return n});return k.serviceContext.artifactsVersionManager().getArtifactVersions(n)},t.prototype._validateDemands=function(n,t){var i=r.defer(),u=d.DemandsValidator.getDemandsValidator().validate(n);u.then(function(n){k.serviceContext.customerIntelligence().endScenario(v.PerfScenariosConstants.ValidateAgentsScenario);n?it.DialogUtils.confirm(n,function(n){i.resolve(n);t(i.promise)},a.ValidateDemandsConfirmationTitle):(i.resolve(!0),t(i.promise))}).fail(function(n){n&&(it.DialogUtils.alert(n),i.reject(n),k.serviceContext.customerIntelligence().abortScenario(v.PerfScenariosConstants.ValidateAgentsScenario))})},t.prototype._populateEnvironments=function(n){this.environmentsList(n)},t.prototype._populateArtifacts=function(n){var t=this;n&&(this.artifacts([]),n.forEach(function(n){var i=new ot(n);t.artifacts.push(i)}))},t.prototype._getEnvironmentSnapshots=function(){return null},t.prototype._getEnvironmentSnapshotsWithConditions=function(n){var i=this._getEnvironmentSnapshots(n),t;return i?(t=[],$.each(i,function(n,i){w.ArrayHelper.hasItems(i.conditions)&&t.push(i)}),t):null},t.prototype._canPerform=function(){return this._isValid()&&!this._initializationInProgress},t.prototype.areReleaseParametersValid=function(){var n,i,r;return this._areSelectedArtifactVersionsValid()?(n=this._findBuildArtifactWithInvalidVersion(),!!n)?(i=e.localeFormat(a.InvalidIdForBuildArtifactErrorMessage,n.alias.peek(),t._invalidBuildIdGuidanceLink),r=$(ft("div")).append(i),this.logErrorWithLink(r),!1):!0:(this.logError(a.NoVersionSelectedForOneOrMoreSourcesErrorMessage),!1)},t.prototype._getEnvironmentsSwitchedFromAutomatedToManual=function(){var n=[];return this.automatedEnvironments().forEach(function(t){e.ignoreCaseComparer(t.selectedCondition(),a.ManualDeploymentToolTipText)===0&&n.push(t.environmentName())}),n},t.prototype._getArtifactVersionDetails=function(){var u=this,t=r.defer(),n=[],i;return this._artifactVersions?(i=[],this.artifacts().forEach(function(t){var c=r.defer(),f,h,y,s,a,p;i.push(c.promise);f={alias:null,instanceReference:null};h=t.selectedVersion();f.alias=t.downloadLocation();t.sourceTypeId()===v.ArtifactTypes.TeamBuildExternalId?(f.instanceReference={commitMessage:"",name:h,id:h,isMultiDefinitionType:!1,definitionId:"",definitionName:"",sourceBranch:"",sourceVersion:"",sourceRepositoryId:"",sourceRepositoryType:"",sourcePullRequestVersion:null},n.push(f),c.resolve(null)):(y=o.first(u._artifactVersions,function(n){return e.ignoreCaseComparer(n.alias,t.alias())===0}).versions,s=o.first(y,function(n){return e.localeIgnoreCaseComparer(h,n.name)===0}),s?(f.instanceReference={commitMessage:"",name:s.name,id:s.id,isMultiDefinitionType:s.isMultiDefinitionType,definitionId:s.definitionId,definitionName:s.definitionName,sourceBranch:s.sourceBranch,sourceVersion:s.sourceVersion,sourceRepositoryId:s.sourceRepositoryId,sourceRepositoryType:s.sourceRepositoryType,sourcePullRequestVersion:s.sourcePullRequestVersion},n.push(f),c.resolve(null)):(f.instanceReference={commitMessage:"",name:h,id:h,isMultiDefinitionType:!1,definitionId:"",definitionName:"",sourceBranch:"",sourceVersion:"",sourceRepositoryId:"",sourceRepositoryType:"",sourcePullRequestVersion:null},e.localeIgnoreCaseComparer(t.sourceTypeId(),v.ArtifactTypes.Build)===0?(a=rt.JQueryWrapper.extendDeep({},t.originalArtifactSource),a.definitionReference[l.ArtifactDefinitionConstants.DefaultVersionSpecificId]={id:h,name:h},p=k.serviceContext.artifactsVersionManager().getArtifactVersionDetails(a),p.then(function(t){!t||(f.instanceReference.sourceBranch=t.sourceBranch,f.instanceReference.sourceRepositoryId=t.sourceRepositoryId,f.instanceReference.sourceRepositoryType=t.sourceRepositoryType,f.instanceReference.sourceVersion=t.sourceVersion);n.push(f);c.resolve(null)},function(){n.push(f);c.resolve(null)})):(n.push(f),c.resolve(null))))}),w.ArrayHelper.hasItems(i)?r.allSettled(i).then(function(){t.resolve(n)}):t.resolve(n)):t.resolve(n),t.promise},t.prototype._populateArtifactVersions=function(n){var t=this;n.artifactVersions&&(this._artifactVersions=n.artifactVersions,this.artifacts().forEach(function(i){var u,f=b.ArtifactsVersionQueryHelper.getVersions(n,i.alias()),s=$.map(f,function(n){return!u&&t._isSelectedArtifactVersion(i.sourceTypeId.peek(),i.definitionId.peek(),n.id)&&(u=t._getDisplayVersionName(i.sourceTypeId.peek(),n)),t._getDisplayVersionName(i.sourceTypeId.peek(),n)}),r,h;i.versions(s);r=b.ArtifactsVersionQueryHelper.getDefaultVersions(n,i.alias());w.ValidateParameters.isNullOrEmpty(i.selectedVersion())&&!!r&&!!r.name&&b.ArtifactsVersionQueryHelper.isDefaultVersionValid(f,r)&&i.selectedVersion(t._getDisplayVersionName(i.sourceTypeId.peek(),r));u?i.selectedVersion(u):s.length<=0&&n.artifactVersions&&(h=o.first(n.artifactVersions,function(n){return e.ignoreCaseComparer(n.alias,i.alias())===0}).errorMessage,i.error(h))}));this._validateDefaultArtifactVersions();this._validateArtifactVersions()},t.prototype._getDisplayVersionName=function(n,t){return!t?e.empty:t.name},t.prototype._isSelectedArtifactVersion=function(){return!1},t.prototype._initializeFetchingAgentQueuesAndPools=function(){var n=this.selectedReleaseProject()?this.selectedReleaseProject().id:k.serviceContext.webContext().project.id;n!==k.serviceContext.webContext().project.id?(k.serviceContext.queueManager().beginGetQueues(n,!0),k.serviceContext.queueManager().invalidateCache()):k.serviceContext.queueManager().beginGetQueues(n);k.serviceContext.agentPoolManager().beginGetAgentPools()},t.prototype._areSelectedArtifactVersionsValid=function(){var n=!0;return w.ArrayHelper.hasItems(this.artifacts())&&this.artifacts().forEach(function(t){n=t.isValid()&&n}),n},t.prototype._findBuildArtifactWithInvalidVersion=function(){var n,t=this.artifacts.peek();return w.ArrayHelper.hasItems(t)&&(n=o.first(t,function(n){if(n.sourceTypeId()===v.ArtifactTypes.Build&&w.ArrayHelper.hasItems(n.versions.peek())&&n.versions.peek().indexOf(n.selectedVersion.peek())<0){var t=parseInt(n.selectedVersion.peek());if(isNaN(t)||t.toString()!==n.selectedVersion.peek())return!0}return!1})),n},t.prototype._getAgentPoolErrorMessage=function(n,t,i){var u="<span class='create-release-error-clickable-link'>"+i+"<\/span>",f=e.format(t,u,n.join(", ")),r=$(ft("div","create-release-agentpool-not-found-message")).append(f);if(this._actionHandler)r.find(".create-release-error-clickable-link").attr("tabindex",0).on("click",ct(this._actionHandler,this._actionHandler.onAgentPoolErrorLinkClick)).on("keydown",ct(this,w.AccessibilityHelper.onEnterPress));return r},t.prototype._validateArtifactVersions=function(){var n=o.first(this.artifacts(),function(n){return!n.hasVersions()});!n||this.logWarning(a.ArtifactSourceVersionIsEmpty);this._initializationInProgress=!1;this.title.valueHasMutated()},t.prototype._validateDefaultArtifactVersions=function(){var n=!1;this.artifacts().forEach(function(t){(!t.selectedVersion()||w.ValidateParameters.isNullOrEmpty(t.selectedVersion()))&&(n=!0)});n&&this.logWarning(a.ArtifactDefaultVersionIsInvalid);this._initializationInProgress=!1;this.title.valueHasMutated()},t.prototype._isValid=function(){return!w.ValidateParameters.isNullOrEmpty(this.title())&&this._areQueueDetailsPresent},t.prototype._areAllQueuesValid=function(n){for(var r,u,t=0,i=n;t<i.length;t++)if(r=i[t],r.phaseType===y.DeployPhaseTypes.AgentBasedDeployment&&(u=r.deploymentInput.queueId,!u||u<=0))return!1;return!0},t.prototype._clearArtifactVersionNotSelectedWarning=function(){var n=this.getMessageViewModel();this._viewAttached.promise.then(function(){e.localeComparer(n.logWarning.peek(),a.ArtifactDefaultVersionIsInvalid)===0&&n.clear()})},t._invalidBuildIdGuidanceLink="http://go.microsoft.com/fwlink/?LinkId=761060",t}(c.TemplateViewModel);t.BaseReleaseActionViewModel=ut;lt=function(n){function t(t,i,r,u,f,o,s,h,c){var l=__construct(this,n,[i,r]);for(var a in l)l.hasOwnProperty(a)&&(this[a]=l[a]);return l._releaseCreationSource=e.empty,l._releaseDefinitionManager=k.serviceContext.releaseDefinitionManager(),l._releaseManager=k.serviceContext.releaseManager(),l._cachedReleaseDefinitions={},l._cachedArtifactVersions={},l.linkedReleaseProjects(u),l.linkedReleaseDefinitions(f),l._customCreateReleaseCallBack=h||null,l._releaseCreationSource=c||v.ReleaseCreationSource.Other,l.selectedReleaseProject&&l.subscribe(l.selectedReleaseProject,function(n){!n||l._selectReleaseProject(n)}),i!==-1?l._fetchReleaseDefinition(i):(l._selectedBuildDefinitionId=o,l._selectedBuildId=s,l.subscribe(l.selectedReleaseDefinition,function(n){var t=l.selectedReleaseProject()?l.selectedReleaseProject().id:k.serviceContext.webContext().project.id;l._selectReleaseDefinition(t,n.id)})),l}return __extends(t,n),t.prototype.beginPerformAction=function(){var n=this,t=r.defer(),i;return this.areReleaseParametersValid()?(i=this._getEnvironmentSnapshotsWithConditions(this._currentReleaseDefinition.environments),this._validateDemands(i,function(i){i.then(function(i){if(i){k.serviceContext.customerIntelligence().startScenario(v.PerfScenariosConstants.StartReleaseScenario);var e=n._getEnvironmentsSwitchedFromAutomatedToManual(),f=r.defer(),u=null;n._getArtifactVersionDetails().then(function(t){var i=b.ReleaseHelper.createReleasePropertiesList(n._releaseCreationSource);u=new g.CreateReleaseParameters(n._currentReleaseDefinition.id,t,n.description().trim(),i);u.manualEnvironments=e;f.resolve(null)});f.promise.then(function(){if(!n._customCreateReleaseCallBack){var i;i=n.selectedReleaseProject()!==null?n._releaseManager.create(u,n.selectedReleaseProject().name):n._releaseManager.create(u);i.then(function(n){t.resolve({forceEndAction:!1,release:n})},function(n){t.reject(n)})}else n._customCreateReleaseCallBack(u),t.resolve({forceEndAction:!0,release:null})}),function(n){t.reject(n)}}else t.resolve(null)})}),t.promise):(t.resolve(null),t.promise)},t.prototype._getEnvironmentSnapshots=function(n){return $.map(n,function(n){return nt.EnvironmentSnapshot.createFromEnvironmentDefinition(n)})},t.prototype._isSelectedArtifactVersion=function(n,t,i){return this._selectedBuildDefinitionId&&n===v.ArtifactTypes.Build&&t===this._selectedBuildDefinitionId&&i===this._selectedBuildId},t.prototype._getLinkedReleaseDefinitions=function(n,t){var i=e.format("{0}:{1}",k.serviceContext.webContext().project.id,t.toString());return this._releaseDefinitionManager.getReleaseDefinitionsForArtifactSource(v.ArtifactTypes.Build,i,null,n)},t.prototype._selectReleaseProject=function(n){var t=this;this._getLinkedReleaseDefinitions(n.name,this._selectedBuildDefinitionId).then(function(n){w.ArrayHelper.hasItems(n)&&n.sort(function(n,t){return n.name.localeCompare(t.name)});t.linkedReleaseDefinitions(n)},function(n){t.logError(n)})},t.prototype._selectReleaseDefinition=function(n,t){var i=this._cachedReleaseDefinitions[n.concat(":",String(t))];i?this._onReleaseDefinitionReady(i):this._fetchReleaseDefinition(t)},t.prototype._fetchReleaseDefinition=function(n){var t=this,i;i=this.selectedReleaseProject()!==null?this._releaseDefinitionManager.getReleaseDefinition(n,this.selectedReleaseProject().name):this._releaseDefinitionManager.getReleaseDefinition(n);this._initializationInProgress=!0;this.canPerform.notifySubscribers(this._canPerform());i.then(function(n){var i=t.selectedReleaseProject()?t.selectedReleaseProject().id:k.serviceContext.webContext().project.id;t._cachedReleaseDefinitions[i.concat(":",String(n.id))]=n;t._onReleaseDefinitionReady(n)},function(n){k.serviceContext.customerIntelligence().abortScenario(v.PerfScenariosConstants.OpenCreateReleaseDialogScenario);k.serviceContext.customerIntelligence().abortScenario(v.PerfScenariosConstants.OpenCreateReleaseDialogFromBuildScenario);t.logError(n)})},t.prototype._onReleaseDefinitionReady=function(n){var t=this,i,r;this._setDefaultReleaseTitle(n);i=this._getArtifactVersions(n);i.then(function(n){t._populateArtifactVersions(n);t._initializationInProgress=!1;k.serviceContext.customerIntelligence().endScenario(v.PerfScenariosConstants.OpenCreateReleaseDialogFromBuildScenario);k.serviceContext.customerIntelligence().endScenario(v.PerfScenariosConstants.OpenCreateReleaseDialogScenario);t._initializeFetchingAgentQueuesAndPools()},function(n){k.serviceContext.customerIntelligence().abortScenario(v.PerfScenariosConstants.OpenCreateReleaseDialogScenario);k.serviceContext.customerIntelligence().abortScenario(v.PerfScenariosConstants.OpenCreateReleaseDialogFromBuildScenario);t.logError(e.localeFormat(a.ErrorWhileFetchingArtifactVersions,w.ErrorHelper.getErrorMessage(n)))});this.canPerform.notifySubscribers(this._canPerform());r=this._getEnvironmentSnapshots(n.environments);this._populateEnvironments(r);this._populateArtifacts(n.artifacts);this._currentReleaseDefinition=n;this.releaseDataRefreshed(n.environments,n.name);st();ht()},t.prototype._getArtifactVersions=function(n){var e=this,t=r.defer(),o=this.selectedReleaseProject()?this.selectedReleaseProject().id:k.serviceContext.webContext().project.id,i=o.concat(":",String(n.id)),u=this._cachedArtifactVersions[i],f;return u?t.resolve(u):(f=this.getArtifactsVersionsPromise(n.artifacts),f.then(function(n){e._cachedArtifactVersions[i]=n;t.resolve(n)},function(n){t.reject(n)})),t.promise},t.prototype._setDefaultReleaseTitle=function(n){var t=b.ReleaseHelper.getDefaultReleaseName(n);this.title(t)},t}(ut);t.CreateReleaseViewModel=lt;at=function(n){function t(t,i,r){var u=__construct(this,n,[t,r]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u._releaseId=t,u._releaseManager=k.serviceContext.releaseManager(),u.title(i),u._initialize(),u}return __extends(t,n),t.prototype.beginPerformAction=function(){var n=this,t=r.defer(),i;return this.areReleaseParametersValid()?(i=this._getEnvironmentSnapshotsWithConditions(this._currentRelease.environments),this._validateDemands(i,function(i){i.then(function(i){k.serviceContext.customerIntelligence().split("VSO.RM.Split.StartDraftRelease");i?(k.serviceContext.customerIntelligence().startScenario(v.PerfScenariosConstants.StartReleaseScenario),n._dropApprovals(n._currentRelease),n._updateRelease(n._currentRelease).then(function(){var i=n._releaseManager.beginUpdateRelease(n._currentRelease);i.then(function(i){var r=n._getEnvironmentsSwitchedFromAutomatedToManual(),u={status:y.ReleaseStatus.Active,manualEnvironments:r,comment:i.description},f=n._releaseManager.beginPatchRelease(i.id,u);f.then(function(n){t.resolve({forceEndAction:!1,release:n})},function(n){t.reject(n)})},function(n){t.reject(n)})},function(n){t.reject(n)})):t.resolve(null)})}),t.promise):(t.resolve(null),t.promise)},t.prototype._getEnvironmentSnapshots=function(n){return $.map(n,function(n){return nt.EnvironmentSnapshot.createFromReleaseEnvironment(n)})},t.prototype._updateRelease=function(n){var t=this,i=r.defer();return this._getArtifactVersionDetails().then(function(r){$.each(n.artifacts,function(n,i){var u,f;i.alias&&(u=i.alias,i.definitionReference[l.ArtifactDefinitionConstants.Version].id=t._getArtifactMetadata(u,r).instanceReference.id,i.definitionReference[l.ArtifactDefinitionConstants.Version].name=t._getArtifactMetadata(u,r).instanceReference.name,f=t._getArtifactMetadata(u,r).instanceReference.sourceBranch,i.definitionReference[l.ArtifactDefinitionConstants.BranchId]={id:f,name:f})});n.name=t.title();n.description=t.description();i.resolve(null)},function(n){i.reject(n)}),i.promise},t.prototype._getArtifactMetadata=function(n,t){var i={alias:n,instanceReference:{commitMessage:"",id:"",isMultiDefinitionType:!1,name:"",definitionId:"",definitionName:"",sourceBranch:"",sourceVersion:"",sourceRepositoryId:"",sourceRepositoryType:"",sourcePullRequestVersion:null}};return $.each(t,function(t,r){if(n===r.alias)return i=r,!1}),i},t.prototype._initialize=function(){var n=this,t=this._releaseManager.beginGetRelease(this._releaseId,!0);t.then(function(t){var i=n.getArtifactsVersionsPromise(t.artifacts);i.then(function(t){n._populateArtifactVersions(t);k.serviceContext.customerIntelligence().endScenario(v.PerfScenariosConstants.OpenCreateReleaseDialogScenario);n._initializeFetchingAgentQueuesAndPools()},function(t){k.serviceContext.customerIntelligence().abortScenario(v.PerfScenariosConstants.OpenCreateReleaseDialogScenario);n.logError(e.localeFormat(a.ErrorWhileFetchingArtifactVersions,w.ErrorHelper.getErrorMessage(t)))});n.canPerform.notifySubscribers(n._canPerform());n._populateEnvironments(n._getEnvironmentSnapshots(t.environments));n._populateArtifacts(t.artifacts);st();ht();n._currentRelease=t;n.releaseDataRefreshed(t.environments,t.releaseDefinition.name)},function(t){k.serviceContext.customerIntelligence().abortScenario(v.PerfScenariosConstants.OpenCreateReleaseDialogScenario);n.logError(t)})},t.prototype._dropApprovals=function(n){n.environments.forEach(function(n){n.preDeployApprovals=[];n.postDeployApprovals=[]})},t}(ut);t.StartReleaseViewModel=at;et=function(){function n(n,t,r){this.selectedCondition=i.observable("");this.environmentName=i.observable("");this.possibleConditions=i.observableArray([]);this.selectedCondition(t);this.environmentName(n);this.possibleConditions(r)}return n}();t.AutomatedDeploymentViewModel=et;ot=function(){function n(n){var t=this;this.alias=i.observable("");this.definitionId=i.observable("");this.sourceType=i.observable("");this.artifactTypeDisplayName=i.observable("");this.sourceTypeId=i.observable("");this.versions=i.observableArray([]);this.error=i.observable("");this.selectedVersion=i.observable("");this.downloadLocation=i.observable("");this.artifactNames=i.observable("");this.originalArtifactSource=null;this._disposalManager=new f.DisposalManager;n&&this._populateArtifactDetails(n);this.hasVersions=this._disposalManager.addDisposable(i.computed(function(){return t.versions().length>0||t.sourceTypeId()===v.ArtifactTypes.TeamBuildExternalId}));this.versionsDetails=this._disposalManager.addDisposable(i.computed(function(){return t.hasVersions()&&!t.selectedVersion().trim()?a.NoVersionHasBeenSelectedToolTip:t.hasVersions()?t.selectedVersion():t.error()}));this.isValid=this._disposalManager.addDisposable(i.computed(function(){return!!t.selectedVersion().trim()}))}return n.prototype.dispose=function(){this._disposalManager.dispose()},n.prototype._populateArtifactDetails=function(n){var t=this,r,u,f;n&&(this.originalArtifactSource=n,this.alias(n.alias),r=n.definitionReference[l.ArtifactDefinitionConstants.DefinitionId],r&&r.id&&this.definitionId(r.id),this.downloadLocation(n.alias),u=n.definitionReference[l.ArtifactDefinitionConstants.Version],u&&u.id!==""&&u.name!==""&&(f=n.definitionReference[l.ArtifactDefinitionConstants.Version].name,this.selectedVersion(f),this.versions.push(f)),this.sourceType(n.type),this.sourceTypeId(n.type),k.serviceContext.artifactsDefinitionManager().beginGetArtifactTypes().then(function(n){t.artifactTypeDisplayName(b.ReleaseArtifactsHelper.getArtifactDisplayName(t.sourceType(),n))}),this.sourceNameAndType=i.computed(function(){return e.format("{0} ({1})",t.alias(),t.artifactTypeDisplayName())}))},n}();t.ReleaseArtifactViewModel=ot;t.setLabelForEnvironmentInputElements=st;t.setLabelForArtifactInputElements=ht;s.tfsModuleLoaded("TFS.ReleaseManagement.CreateRelease",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.CreateRelease.Controls",["require","exports","VSS/VSS","VSS/Controls","VSS/Utils/Core","VSS/Utils/Html","VSS/Utils/String","VSS/Utils/UI","VSS/Controls/Dialogs","VSS/Navigation/Services","VSS/Contributions/Controls","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.CreateRelease","ReleasePipeline/Scripts/TFS.ReleaseManagement.Context","ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.UserDialog","jQueryUI/button"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){Object.defineProperty(t,"__esModule",{value:!0});t.ReleasePipelineDialogs=void 0;var k=o.domElem,d=u.delegate,g=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._disposalManager=new u.DisposalManager,i._buildAbsoluteReleaseUrl=!1,i._currentId=t.id,i._name=t.name,i._messageCallBack=t.messageCallBack,i._errorCallBack=t.errorCallBack,i._buildAbsoluteReleaseUrl=t.buildAbsoluteReleaseUrl,i}return __extends(t,n),t.prototype.initializeOptions=function(i){var r={};r.Ok={id:t.OK_BUTTON,text:i.okButtonText,click:d(this,this._onOk),disabled:!0};r.Cancel={id:t.CANCEL_BUTTON,text:l.CancelButtonText,click:d(this,this._onCancel)};n.prototype.initializeOptions.call(this,$.extend({defaultButton:"Ok",buttons:r},i))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._viewModel=this._getViewModel();this._createView();this._applyBindings()},t.prototype.dispose=function(){n.prototype.dispose.call(this);this._disposalManager.dispose();this._viewModel.dispose()},t.prototype._getViewModel=function(){throw new Error("_getViewModel should be implemented in the derived class");},t.prototype._closeDialog=function(){this.dispose();n.prototype.close.call(this)},t.prototype._createView=function(){var n=$(k("div"));this._createReleaseView=r.create(p.CreateReleaseView,n,{viewModel:this._viewModel});n.appendTo(this._element)},t.prototype._onOk=function(){var n=this,i;this._updateButtonStatus(t.OK_BUTTON,!1);this._updateButtonStatus(t.CANCEL_BUTTON,!1);w.serviceContext.customerIntelligence().startScenario(a.PerfScenariosConstants.ValidateAgentsScenario);i=this._viewModel.beginPerformAction();i.then(d(this,this._onActionPerformed),function(i){n._logError(i);n._updateButtonStatus(t.OK_BUTTON,!0);n._updateButtonStatus(t.CANCEL_BUTTON,!0);w.serviceContext.customerIntelligence().abortScenario(a.PerfScenariosConstants.StartReleaseScenario)})},t.prototype._onActionPerformed=function(n){var i,r;n?(i=n.release,!i||(this._messageCallBack&&(r=tt.getReleaseQueuedMessageControl(i.id,i.name,i.releaseDefinition.id,this._buildAbsoluteReleaseUrl),this._messageCallBack(r,i.releaseDefinition.id)),this._disposed||this._closeDialog()),n.forceEndAction&&this._closeDialog()):(this._updateButtonStatus(t.OK_BUTTON,!0),this._updateButtonStatus(t.CANCEL_BUTTON,!0));w.serviceContext.customerIntelligence().endScenario(a.PerfScenariosConstants.StartReleaseScenario)},t.prototype._onCancel=function(){n.prototype.onCancelClick.call(this)},t.prototype._logError=function(n){this._viewModel.logError(n)},t.prototype._applyBindings=function(){var n=this;this._disposalManager.addDisposable(this._viewModel.canPerform.subscribe(function(i){n._updateButtonStatus(t.OK_BUTTON,i)}))},t.prototype._updateButtonStatus=function(n,t){this._element.trigger(s.ModalDialog.EVENT_BUTTON_STATUS_CHANGE,{button:n,enabled:t})},t.OK_BUTTON="ok",t.CANCEL_BUTTON="cancel",t}(s.ModalDialogO),it=function(n){function t(t){var i=this,r;$.extend(t,{okButtonText:l.StartButtonText});i=__construct(this,n,[t]);for(r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._releaseId=t.id,i._releaseName=t.name,i}return __extends(t,n),t.prototype.onAgentPoolErrorLinkClick=function(){var n=this;b.DialogUtils.confirm(l.CreateReleaseDialogClosing,function(t){t&&(n._closeDialog(),h.getHistoryService().addHistoryPoint(a.ReleaseEditorAction.environmentsEditorAction,{releaseId:n._releaseId}))},l.CreateReleaseDialogClosingConfirmationTitle)},t.prototype._getViewModel=function(){return new p.StartReleaseViewModel(this._releaseId,this._releaseName,this)},t}(g),nt=function(n){function t(t){var i=this,r;$.extend(t,{width:670,okButtonText:l.CreateButtonText});i=__construct(this,n,[t]);for(r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._releaseDefinitionId=t.id,i}return __extends(t,n),t.prototype.onAgentPoolErrorLinkClick=function(){var n=this;b.DialogUtils.confirm(l.CreateReleaseDialogClosing,function(t){t&&(n._closeDialog(),y.ReleaseDefinitionActions.editReleaseDefinition(n._releaseDefinitionId))},l.CreateReleaseDialogClosingConfirmationTitle)},t.prototype._getViewModel=function(){return new p.CreateReleaseViewModel(this._releaseProjectName,this._releaseDefinitionId,this,this._options.linkedProjectDefinitions,this._options.linkedReleaseDefinitions,this._options.buildDefinitionId,this._options.buildId,this._options.customCreateReleaseCallBack,this._options.releaseCreationSource)},t}(g),tt=function(){function n(){}return n.CreateRelease=function(t,i,r,u,f){if(w.serviceContext.customerIntelligence().startScenario(a.PerfScenariosConstants.OpenCreateReleaseDialogScenario),n._showNewCreateReleasePanel())n._openNewCreateReleasePanel(t,-1,!1,r,!1);else{var o={cssClass:"create-new-release",minWidth:600,minHeight:420,resizable:!0,id:t,name:i,messageCallBack:r,errorCallBack:u,customCreateReleaseCallBack:f,title:e.format(l.CreateNewReleaseForDefinition,i),releaseCreationSource:a.ReleaseCreationSource.ReleaseHub};return s.show(nt,o)}},n.createReleaseFromBuild=function(t,i,r,u,f,e,o,h){if(n._showNewCreateReleasePanel())return n._openNewCreateReleasePanel(-1,-1,!1,u,!0,t,r.toString(),o,h);var c={cssClass:"create-new-release",minWidth:600,minHeight:420,resizable:!0,id:-1,linkedProjectDefinitions:t,messageCallBack:u,errorCallBack:f,buildId:i.toString(),buildDefinitionId:r.toString(),title:l.CreateNewRelease,buildAbsoluteReleaseUrl:!0,releaseCreationSource:a.ReleaseCreationSource.BuildSummary};return s.show(nt,c)},n.StartRelease=function(t,i,r,u){if(w.serviceContext.customerIntelligence().startScenario(a.PerfScenariosConstants.OpenCreateReleaseDialogScenario),n._showNewCreateReleasePanel())n._openNewCreateReleasePanel(-1,t,!0,r,!1);else{var f={cssClass:"create-new-release",width:800,minWidth:600,minHeight:420,resizable:!0,id:t,name:i,messageCallBack:r,errorCallBack:u,title:e.format(l.StartReleasePopupDialogTitle,i)};return s.show(it,f)}},n._openNewCreateReleasePanel=function(t,i,r,u,f,o,s,h,l){o===void 0&&(o=null);s===void 0&&(s=e.empty);h===void 0&&(h=e.empty);l===void 0&&(l=null);var a={definitionId:t,releaseId:i,startReleaseMode:!!r,linkedProjects:o,buildDefinitionId:s,buildName:h,endPerfScenario:l,onQueueRelease:function(t,i){var r=n.getReleaseQueuedMessageControl(t.id,t.name,t.releaseDefinition.id,f,i);u(r)}};c.createContributedControl($("<div/>"),"ms.vss-releaseManagement-web.cd-create-release",a)},n.getReleaseQueuedMessageControl=function(n,t,i,r,u){var a=$(k("div")),s,o,c,h;return o=v.CDReleaseProgressViewHelper.getCDReleaseViewUrl(n,u),s=$(k("a","new-release-created-message-release-name")).addClass("text-wrap").addClass("bolt-link").text(t).attr("href",o).appendTo(a).attr("tabindex",0).attr("title",t),r&&(o=v.CDReleaseProgressViewHelper.getCDReleaseViewUrl(n,u),s.attr("href",o),s.attr("target","_blank"),s.attr("rel","noopener noreferrer")),c=$(k("div")),h=e.localeFormat(l.ReleaseHasBeenQueued,a.html()),h=f.HtmlNormalizer.sanitize(h),c.append("<span> "+h+"<\/span>"),c},n._showNewCreateReleasePanel=function(){return v.FeatureFlagUtils.isNewCreateReleaseWorkflowIntegartionEnabled()},n}();t.ReleasePipelineDialogs=tt;i.tfsModuleLoaded("TFS.ReleaseManagement.CreateRelease.Controls",t)});

define("DistributedTasksCommon/TFS.Tasks.Categories",["require","exports","DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary"],function(n,t,i){function r(n){var r=i.Task_MiscCategoryText;return n?(n=n.charAt(0).toUpperCase()+n.slice(1),t.TaskDefinitionStepExistingCategories[n]||r):r}Object.defineProperty(t,"__esModule",{value:!0});t.getTaskCategoryDisplayName=t.TaskDefinitionStepExistingCategories=void 0;t.TaskDefinitionStepExistingCategories={Build:i.Task_BuildCategoryText,Utility:i.Task_UtilityCategoryText,Test:i.Task_TestCategoryText,Package:i.Task_PackageCategoryText,Deploy:i.Task_DeployCategoryText,Tool:i.Task_ToolCategoryText};t.getTaskCategoryDisplayName=r});

define("DistributedTasksCommon/TFS.Tasks.Common.Dialogs",["require","exports","knockout","VSS/VSS","VSS/Controls","VSS/Controls/Dialogs","VSS/Controls/Splitter","VSS/Service","VSS/Context","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Array","VSS/Resources/VSS.Resources.Platform","VSS/Events/Action","DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary","DistributedTasksCommon/TFS.Tasks.Categories","VSS/Contributions/RestClient","DistributedTasksCommon/TFS.Tasks.Utils","DistributedTasksCommon/TFS.Tasks.Models","DistributedTasksCommon/TFS.Tasks.Types","DistributedTasksCommon/TFS.Tasks.Types","DistributedTasksCommon/TFS.Knockout.Tree","VSS/Telemetry/Services","jQueryUI/dialog"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt){var it,ot,st,ht,ct,lt,at,vt,rt,ut,ft,yt,pt,et;Object.defineProperty(t,"__esModule",{value:!0});t.MetaTaskDialogControl=t.CreateMetaTaskDialog=t.CreateMetaTaskDialogViewModel=t.MetaTaskPropertiesBaseViewModel=t.TaskInputDefinitionViewModel=t.MetaTaskPropertiesModel=t.TaskDefinitionCache=t.WizardDialog=t.WizardDialogModel=t.AddTasksDialog=t.AddTasksDialogModel=t.RenameTaskDialog=t.RenameTaskDialogModel=void 0;it=h.delegate;ot=function(){function n(n,t,i,r,u){this.displayName=n;this.instanceName=t;this.displayNameComputed=i;this.isDisplayNameSet=r;this.okCallback=u}return n}();t.RenameTaskDialogModel=ot;st=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._model=t,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({title:y.Task_RenameTaskLabel,resizable:!0,buttons:{ok:{id:"ok",text:a.ModalDialogOkButton,click:it(this,this.onOkClick)},cancel:{id:"cancel",text:a.ModalDialogCancelButton,click:it(this,this.onCancelClick)}},cssClass:"rename-task-dialog",contentMargin:!1},t))},t.prototype.initialize=function(){var t=this,i;n.prototype.initialize.call(this);i="task-name";this._initialValue=this._model.displayNameComputed;$("<label />").attr("for",i).text(y.Task_NameLabel).appendTo(this.getElement());this._$nameInput=$("<input />").attr("id",i).attr("type","text").attr("placeholder","Enter a name").addClass("taskeditor-tab rename-task-dialog-input").keyup(function(n){t._validateInput(n)}).appendTo(this.getElement());$("<br/>").appendTo(this.getElement());this._generateLink=$("<a />").attr("href","#").text(y.GenerateLinkText).attr("title",y.GenerateLinkTooltip).addClass("link-style").appendTo(this.getElement());this._generateLink.click(function(n){n.preventDefault();t._$nameInput.val(t._model.instanceName);t._validateInput()});this._resetLink=$("<a />").attr("href","#").text(y.Task_ResetText).addClass("link-style").appendTo(this.getElement());this._resetLink.click(function(n){n.preventDefault();t._$nameInput.val(t._initialValue);t._validateInput()});this._$nameInput.val(this._initialValue)},t.prototype.dispose=function(){n.prototype.dispose.call(this)},t.prototype.onOkClick=function(t){var i=this._$nameInput.val().trim();c.localeComparer(i,this._model.instanceName)!==0?this._model.isDisplayNameSet(!0):c.localeComparer(i,this._initialValue)!==0?this._model.isDisplayNameSet(!0):c.localeComparer(i,this._model.displayNameComputed)===0&&this._model.isDisplayNameSet(!1);this.setDialogResult(this._$nameInput.val());n.prototype.onOkClick.call(this,t)},t.prototype._validateInput=function(){var n=this._$nameInput.val().trim().length>0;this.onButtonStatusChange(undefined,{button:"ok",enabled:n});n?this._$nameInput.removeClass("invalid"):this._$nameInput.addClass("invalid")},t}(f.ModalDialog);t.RenameTaskDialog=st;ht=function(){function n(n,t,r,u,f){var e=this;this.dialogTemplate="add_tasks_dialog";this.taskDefinitions=i.observableArray([]);this.numTasksToUpdate=i.observable(0);this.taskTypeDescription=i.observable("");this.errorMessage=i.observable("");this.taskTypeDescriptioHelpUrl=i.observable(y.TaskTypeDescriptioHelpUrl);this.tasksInitialized=i.observable(!1);this._allTaskDefinitions=[];this._taskDefinitionsByCategory={};this._currentCategories=[];this._allCategoriesNodeValue="all_categories";this._subscriptions=[];this._defaultCategoryOtherThanAllValue="";this._taskCategories=i.observableArray([]);this._visibilityFilter=[];this._galleryServerKey=i.observable("");this.taskListOwner=n;this.okCallback=u;this._allCategoriesNode=new k.TaskCategoryTreeNode(this._allCategoriesNodeValue,y.Task_AllCategoriesText);this._defaultCategoryNode=this._allCategoriesNode;this._defaultCategoryOtherThanAllValue=t;this.taskCategoriesTree=new nt.TreeViewModel(this._taskCategories);this._visibilityFilter=r;this.taskTypeDescription(this._getTaskTypeDescription(n.taskList.type));k.TaskDefinitionCache.metaTaskManager=f;k.TaskDefinitionCache.getTaskDefinitionCache().refresh(this._visibilityFilter).then(function(n){var i=n.tasks,t;e.numTasksToUpdate(n.numTasksToUpdate);t=new k.TaskDefinitionCollection(i).getLatestVersionArray();$.each(t,function(n,t){var i,r;!t.disabled&&e.taskListOwner.taskList.isSupported(t)&&(i=e._taskDefinitionsByCategory[t.category],i||(i=[],e._taskDefinitionsByCategory[t.category]=i),r=new k.TaskDefinitionViewModel(t,function(){e._addTaskToDefinition(t)}),i.push(r),e._allTaskDefinitions.push(r))});e._sortDefinitions(e._allTaskDefinitions);e.taskDefinitions(e._allTaskDefinitions);$.each(e._taskDefinitionsByCategory,function(n,t){e._currentCategories.push(n);e._sortDefinitions(t)});e._taskCategories(e._getOrderedCategoryNodes());e.taskCategoriesTree.selectedNode(e._defaultCategoryNode);e._defaultCategoryOtherThanAllValue!==e._allCategoriesNodeValue&&(e.taskDefinitions(e._taskDefinitionsByCategory[e._defaultCategoryOtherThanAllValue]),e.tasksInitialized(!e.tasksInitialized.peek()));e._subscriptions.push(e.taskCategoriesTree.selectedNode.subscribe(function(n){n.selected(!0);var t=n.value();t===e._allCategoriesNodeValue?e.taskDefinitions(e._allTaskDefinitions):e.taskDefinitions(e._taskDefinitionsByCategory[t]);e.tasksInitialized(!e.tasksInitialized.peek())}))});s.getPageContext().webAccessConfiguration.isHosted||this._beginGetMarketPlaceData().then(function(n){e._galleryServerKey(n)})}return n.prototype._getTaskTypeDescription=function(n){return n===d.TaskGroupType.RunOnServer?y.RunOnServerTaskTypeDescription:""},n.prototype._addTaskToDefinition=function(n){this.errorMessage("");try{this.taskListOwner.taskList.addTask(n)}catch(t){this.errorMessage(t)}},n.prototype.onMarketplaceLinkClick=function(n,t){t.preventDefault();tt.publishEvent(new tt.TelemetryEventData(k.CustomerIntelligenceInfo.Area,k.CustomerIntelligenceInfo.FeatureTask,{ExtensionMarketPlaceClicked:1}));v.getService().performAction(v.CommonActions.ACTION_WINDOW_OPEN,{url:this.getMarketplaceLink()})},n.prototype.getMarketplaceLink=function(){var n="https://go.microsoft.com/fwlink/?LinkId=797831";return!s.getPageContext().webAccessConfiguration.isHosted&&this._galleryServerKey()&&(n=n+"&serverKey="+encodeURIComponent(this._galleryServerKey())),n},n.prototype._beginGetMarketPlaceData=function(){var n=o.VssConnection.getConnection().getHttpClient(w.ContributionsHttpClient);return n.queryDataProviders({context:{properties:{}},contributionIds:["ms.vss-tfs.marketplace-data-provider"]}).then(function(n){var t=n.data["ms.vss-tfs.marketplace-data-provider"]||{};return t&&t.serverKey})},n.prototype._getOrderedCategoryNodes=function(){var n=this,t=[this._allCategoriesNode];return Object.keys(p.TaskDefinitionStepExistingCategories).forEach(function(i){if($.inArray(i,n._currentCategories)!=-1){var r=new k.TaskCategoryTreeNode(i,p.getTaskCategoryDisplayName(i));i===n._defaultCategoryOtherThanAllValue&&(n._defaultCategoryNode=r);t.push(r)}}),t},n.prototype._sortDefinitions=function(n){n.sort(function(n,t){return c.localeIgnoreCaseComparer(n.friendlyName(),t.friendlyName())})},n}();t.AddTasksDialogModel=ht;ct=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._disposables=[],i._model=t,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({resizable:!1,draggable:!0,height:600,width:650,buttons:{ok:{id:"ok",text:t&&t.okText||a.CloseButtonLabelText,click:it(this,this.onOkClick),disabled:"disabled"}},contentMargin:!1,coreCssClass:"add-tasks-dialog-content"},t))},t.prototype.initialize=function(){var r=this;n.prototype.initialize.call(this);b.HtmlHelper.renderTemplateIfNeeded("task_category_tree_node",t._taskEditorNodeHtmlTemplate);b.HtmlHelper.renderTemplateIfNeeded(this._model.dialogTemplate,t._dialogHtmlTemplate);this._$template=b.loadHtmlTemplate(this._model.dialogTemplate,"add-tasks-dialog-tasksexplorer");this._element.append(this._$template);i.applyBindings(this._model,this._$template[0]);this._splitter=u.Enhancement.enhance(e.Splitter,this.getElement().find(".splitter"));this._splitter.leftPane.css("width","20%");this._splitter.rightPane.css("left","20%");this._splitter.handleBar.css("left","20%");this.updateOkButton(!0);this._disposables.push(this._model.numTasksToUpdate.subscribe(function(n){r.getFooterText(n)}));this._disposables.push(this._model.tasksInitialized.subscribe(function(){var n=r._element.find(".taskeditor-add-tasks-dialog").find(".task-definition").get(0);n&&$(n).find(".task-definition-add").find("button").focus()}));this._model.taskTypeDescription.peek()?this.getElement().find(".taskeditor-add-tasks").addClass("taskeditor-add-tasks-withdescription"):this.getElement().find(".taskeditor-add-tasks").addClass("taskeditor-add-tasks-withoutdescription")},t.prototype.getTitle=function(){return y.Task_AddTasksDialogTitle},t.prototype.getFooterText=function(n){n>0&&$(".ui-dialog-buttonpane").append(c.format(y.Task_NumTasksUpdateInProgress,n))},t.prototype.onOkClick=function(){this.close();typeof this._model.okCallback=="function"&&this._model.okCallback()},t.prototype.dispose=function(){this._disposables.forEach(function(n){n.dispose()});n.prototype.dispose.call(this)},t._taskEditorNodeHtmlTemplate="\n    <li class='taskeditor-node' data-bind=\"css: { 'dirty': dirty, 'expanded': expanded(), 'collapsed': !expanded(), 'no-children': !showIcon(), 'hover': hovering, 'selected': selected }, attr: {'title': text}\">\n        <div tabindex='0' class='node-content' data-bind=\"event: { contextmenu: _onContextMenuClick, mouseover: _onMouseover, mouseout: _onMouseout, click: _onClick, keydown: _onKeyDown }\">\n            <div class='icon tree-icon' data-bind=\"css: { 'invisibleIcon': !isFolder() }, click: _onTreeIconClick\"><\/div>\n            <div data-bind='css: cssClass'><label data-bind=\"text: text, css: { 'dirty': dirty }\"><\/label><\/div>\n        <\/div>\n        <ul class='tree-children' data-bind=\"template: { name: 'task_category_tree_node', foreach: nodes }, visible: expanded() && nodes().length !== 0\"><\/ul>\n    <\/li>",t._dialogHtmlTemplate="\n    <div class='splitter vertical taskeditor-tasks-explorer'>\n        <div class='task-editor-error' data-bind='visible: errorMessage()'>\n            <div class='task-editor-typedescription-message' >\n                <span class=\"alert-message\">\n                    <i class=\"bowtie-icon bowtie-status-warning warning_col\"><\/i>\n                    <span data-bind='text: taskTypeDescription'><\/span> ".concat(c.localeFormat(y.TaskTypeDescriptionHelpText,y.TaskTypeDescriptioHelpUrl)," \n                    <a data-bind='href: taskTypeDescriptioHelpUrl' target=\"_blank\"><span class=\"bowtie-icon bowtie-navigate-external\"><\/span><\/a>\n                <\/span>\n            <\/div>\n        <\/div>\n        <div class='task-editor-typedescription' data-bind='visible: (!!taskTypeDescription() && !errorMessage())'>\n            <div class='task-editor-typedescription-message' >\n                <span class=\"alert-message\">\n                    <i class=\"bowtie-icon bowtie-status-info success_blue\"><\/i>\n                    <span data-bind='text: taskTypeDescription'><\/span> ").concat(c.localeFormat(y.TaskTypeDescriptionHelpText,y.TaskTypeDescriptioHelpUrl),"                    \n                <\/span>\n            <\/div>\n        <\/div>\n        <div class='splitter horizontal taskeditor-add-tasks'>\n            <div class='leftPane'>\n                <div class='taskeditor-tree taskeditor-tree-task-category'>\n                    <ul class='tree-children' data-bind=\"template: { name: 'task_category_tree_node', foreach: taskCategoriesTree.nodes }\"><\/ul>\n                <\/div>\n            <\/div>\n            <div class='handleBar'><\/div>\n            <div class='rightPane splitter vertical'>\n                <div class='taskeditor-add-tasks-dialog' data-bind='foreach: taskDefinitions'>\n                    <div class='task-definition'>\n                        <div class='task-definition-details'>\n                            <!-- ko if: hasIcon -->\n                            <div class='icon task-definition-details-icon'><img data-bind='attr: { src: iconUrl }' /><\/div>\n                            <!-- /ko -->\n                            <!-- ko ifnot: hasIcon -->\n                            <div class='icon task-definition-details-icon'><\/div>\n                            <!-- /ko -->\n                            <div class='taskeditor-dialog-item-title task-definition-details-title' data-bind='text: friendlyName'><\/div>\n                        <\/div>\n                        <div class='task-definition-description' data-bind='text: description'><\/div>\n                        <div class='task-definition-add'>\n                            <button data-bind='click: addCommand, event: {keydown: onAddButtonKeyDown}' value='Add'>").concat(y.Task_AddLabelText,"<\/button>\n                        <\/div>\n                    <\/div>\n                <\/div>\n                <div class='extensions-external' data-bind=\"click: onMarketplaceLinkClick\">\n                    <a data-bind=\"attr: { 'href': getMarketplaceLink() }\"><span class='bowtie-icon bowtie-status-info-outline'><\/span>&nbsp;").concat(y.Tasks_MarketPlaceText,"<span class='bowtie-icon bowtie-navigate-external'><\/span><\/a>\n                <\/div>\n            <\/div>\n        <\/div>\n    <\/div>"),t}(f.ModalDialog);t.AddTasksDialog=ct;lt=function(){function n(t){var r=this;this.dialogTemplate="wizard_dialog";this.wizardPages=i.observableArray([]);this.currentWizardPage=i.observable(null);this.loaded=i.observable(!1);this.dialogCssClass="wizard-dialog";this.errorMessage=i.observable("");this.lastPageNextIcon=i.observable("icon-save");this.lastPageNextText=i.observable(y.WizardSave);this.chevronNextButtonIcon="bowtie-icon bowtie-chevron-right";this.chevronPrevButtonIcon="bowtie-icon bowtie-chevron-left";this.standardButtonCssClass="button-standard";this.jqeryUIClass="ui-icon";this.rootDialogCssClass="root-wizard-dialog";this.brandColorCssClass="cta";this.nextButtonId="next";this.prevButtonId="prev";this.closeButtonId="close";t&&(this.dialogCssClass=t);b.HtmlHelper.renderTemplateIfNeeded(this.dialogTemplate,n._wizardDialogHtmlTemplate);this.wizardPages.subscribe(function(n){if(n&&n.length>0){var t=r.currentWizardPage.peek();t||r.currentWizardPage(n[0])}})}return n.prototype.getPreviousPage=function(){var t=this.wizardPages.peek(),i=this.currentWizardPage.peek(),n=i.order;return n-1>=0?t[n-1]:null},n.prototype.getNextPage=function(){var n=this.wizardPages.peek(),i=this.currentWizardPage.peek(),t=i.order;return t+1<n.length?n[t+1]:null},n.prototype.insertAfterCurrentPage=function(n){var t=this.wizardPages.peek(),i=this.currentWizardPage.peek(),r=i.order;t.splice(r+1,0,n);this.wizardPages(t)},n._wizardDialogHtmlTemplate="\n    <!-- ko if: errorMessage -->\n    <div class='input-error-tip' data-bind=\"text: errorMessage, attr: { title: errorMessage }\"><\/div>\n    <!-- /ko -->\n    <div class='status-indicator' data-bind='visible: !loaded()'>\n            <div class='status'>\n                <table>\n                    <tr>\n                        <td>\n                            <span class='icon big-status-progress'><\/span>\n                        <\/td>\n                    <\/tr>\n                <\/table>\n            <\/div>\n     <\/div>\n    <div data-bind='visible: loaded, css: dialogCssClass'>\n        <!-- ko with: currentWizardPage -->\n        <div class='wizard-container'  data-bind='css: cssClass'>\n            <span class='page-heading' data-bind=\"text: title, visible: title\"><\/span>\n            <div class='page-content custom-input' data-bind=\"applyTemplate: { templateName: templateName, viewModel: viewModel, fadeIn: 'true' }\"><\/div>\n        <\/div>\n        <!-- /ko -->\n    <\/div>",n}();t.WizardDialogModel=lt;at=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._disposables=[],i._pixelsForTransition=0,i._nextButtonPrevIconClass="",i._model=t,i}return __extends(t,n),t.prototype.initialize=function(){var t=this,r;n.prototype.initialize.call(this);r=b.loadHtmlTemplate(this._model.dialogTemplate);this._element.append(r);i.applyBindings(this._model,r[0]);this._disposables.push(i.computed(function(){var i=t._model.currentWizardPage(),n,u,r,f;i&&(n=i.order,u=n===t._model.wizardPages.peek().length-1,u?(t._nextButtonPrevIconClass=t._model.chevronNextButtonIcon,n>0&&t.addPreviousButton(),t._updateNextButton(t._model.lastPageNextText.peek(),t._model.lastPageNextIcon.peek(),!0)):n===0?(t.removePreviousButton(),t._resetNextButton()):(t._resetNextButton(),t.addPreviousButton()),r=i.viewModel(),r&&(f=!r.isInvalid()&&t._model.loaded(),t.changeNextButtonStatus(f)))}));this._element.closest(".ui-dialog").addClass(this._model.rootDialogCssClass)},t.prototype._resetNextButton=function(){this.changeNextButtonStatus(this._model.loaded.peek());this._updateNextButton(y.WizardNext,this._model.chevronNextButtonIcon,!0)},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({resizable:!1,draggable:!0,height:600,width:600,coreCssClass:t.dialogCssClass,buttons:{next:{id:t.nextButtonId,text:y.WizardNext,click:it(this,this.onNextClick),icon:t.chevronNextButtonIcon,iconPosition:"end"},close:{id:t.closeButtonId,text:a.ModalDialogCancelButton,click:it(this,this._close)}},noAutoCta:!0,useBowtieStyle:!0,contentMargin:!1},t))},t.prototype.addDisposable=function(n){this._disposables.push(n)},t.prototype.onPrevClick=function(){var n=this._model.getPreviousPage();n&&(this._model.loaded(!1),this._model.errorMessage(""),this._model.currentWizardPage(n),this._model.loaded(!0))},t.prototype.changeNextButtonStatus=function(n){this.onButtonStatusChange(undefined,{button:this._model.nextButtonId,enabled:n})},t.prototype.addPreviousButton=function(){var t=this._getExistingButtonsDictionary(),i,n;t[this._model.prevButtonId]||(i={icons:{primary:this._model.chevronPrevButtonIcon},id:this._model.prevButtonId,text:y.WizardPrevious,click:it(this,this.onPrevClick)},n={},n[this._model.prevButtonId]=i,$.extend(n,t),this.getElement().dialog("option","buttons",n),this._addStandardClass())},t.prototype.removePreviousButton=function(){var n=this._getExistingButtonsDictionary();n[this._model.prevButtonId]&&(delete n[this._model.prevButtonId],this.getElement().dialog("option","buttons",n),this._addStandardClass())},t.prototype.onNextClick=function(){this._model.errorMessage("");var n=this._model.getNextPage();n?(this._model.loaded(!1),this._model.currentWizardPage(n),this._model.loaded(!0)):this._model.currentWizardPage(null)},t.prototype.onOkClick=function(){this._close()},t.prototype.dispose=function(){n.prototype.dispose.call(this);$.each(this._disposables,function(n,t){t.dispose()})},t.prototype.getViewModel=function(){return this._model},t.prototype._addStandardClass=function(){this._addOrRemoveButtonsClass(!0,{css:this._model.standardButtonCssClass,add:!0})},t.prototype._getExistingButtonsDictionary=function(){return this.getElement().dialog("option","buttons")},t.prototype._close=function(){this.close();this.dispose()},t.prototype._addOrRemoveButtonsClass=function(n,t){var r=this.getElement().siblings(".ui-dialog-buttonpane"),i;n&&r.find(".ui-button-icon").removeClass(this._model.jqeryUIClass);t&&(i=r.find(".ui-button"),t.add?i.addClass(t.css):i.removeClass(t.css))},t.prototype._updateNextButton=function(n,t,i){var r=this.getElement().siblings(".ui-dialog-buttonpane").find("#"+this._model.nextButtonId),u=r.find(".ui-button-text"),f;(u.hasClass("wizard-next-button-text")?t||u.removeClass("wizard-next-button-text"):!t||u.addClass("wizard-next-button-text"),u.text(n),f=r.find(".ui-button-icon"),this._nextButtonPrevIconClass!==t)&&(f.removeClass(this._nextButtonPrevIconClass),f.addClass(t),this._nextButtonPrevIconClass=t,this._addOrRemoveButtonsClass(!0),i?r.addClass(this._model.brandColorCssClass):r.removeClass(this._model.brandColorCssClass))},t}(f.ModalDialogO);t.WizardDialog=at;vt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getTaskDefinitionCache=function(){return k.TaskDefinitionCache.getTaskDefinitionCache()},t.prototype.getCurrentTaskDefinitions=function(){return n.prototype.getCurrentTaskDefinitions.call(this)},t.prototype.refresh=function(t){return n.prototype.refresh.call(this,t)},t.setMetaTaskManager=function(n){k.TaskDefinitionCache.metaTaskManager=n;t.metaTaskManager=n},t}(k.TaskDefinitionCache);t.TaskDefinitionCache=vt;rt=function(){function n(n,t,i,r){this.taskGroupName=n;this.taskGroupDescription=t;this.selectedCategory=i;this.metaTaskInput=r}return n.prototype.update=function(n,t,i,r){this.taskGroupName=n;this.taskGroupDescription=t;this.selectedCategory=i;this.metaTaskInput=r},n}();t.MetaTaskPropertiesModel=rt;ut=function(){function n(n){this.name=i.observable("");this.defaultValue=i.observable("");this.helpMarkDown=i.observable("");this.groupName="";this._taskInputDefinition=n;n&&(this.name(n.name),this.defaultValue(n.defaultValue),this.helpMarkDown(n.helpMarkDown),this.groupName=n.groupName)}return n.prototype.getTaskInputDefinition=function(){return this._taskInputDefinition&&(this._taskInputDefinition.name=this.name(),this._taskInputDefinition.defaultValue=this.defaultValue(),this._taskInputDefinition.helpMarkDown=this.helpMarkDown(),this._taskInputDefinition.groupName=this.groupName),this._taskInputDefinition},n}();t.TaskInputDefinitionViewModel=ut;ft=function(){function n(n,t,r,u,f,e,o,s){var h=this;this.taskGroupName=i.observable("");this.taskGroupDescription=i.observable("");this.editable=i.observable(!0);this.category=i.observableArray(g.MetaTaskCategoryType.metaTaskCategory);this.selectedCategory=i.observable(g.MetaTaskCategoryType.metaTaskCategory[0]);this.helpMarkDown=i.observable(y.Task_HelpMessageForTaskCategory);this.metaTaskInput=i.observableArray([]);this.dirty=i.computed(function(){return!1});this.onlySafeFieldsDirty=!1;this.invalid=i.computed(function(){return!1});this.areSystemVariablesDirty=i.observable(!1);this.dataSourceBindings=i.observableArray([]);this.groups=i.observableArray([]);this.errorMessage=i.observable("");this.variableGridHandler=it(this,this._variableChangeHandler);this.Tasks_MetaTaskParamTooltip=y.Tasks_MetaTaskParamTooltip;this.Tasks_MetaTaskValueTooltip=y.Tasks_MetaTaskValueTooltip;this.Tasks_MetaTaskDescTooltip=y.Tasks_MetaTaskDescTooltip;this.ExternalLinkTooltipText=y.ExternalLinkTooltipText;this.MoreInformationTooltipText=y.MoreInformationTooltipText;this.CreateMetaTaskDescriptionWatermarkText=y.CreateMetaTaskDescriptionWatermarkText;this._tasks=[];this._tasks=f;this._runsOn=s;this.dataSourceBindings(e);this.groups(o.filter(function(n){var t=l.first(u,function(t){return t.groupName===n.name});return!!t}));this.metaTaskInput(this._createTaskInputDefinitions(u));this._model=new rt(n,t,r,u);this.dirty=i.computed(function(){var n=h.taskGroupName()===h._model.taskGroupName,t=h.taskGroupDescription()===h._model.taskGroupDescription,i=h.selectedCategory()===h._model.selectedCategory,r=h.areSystemVariablesDirty();return h.onlySafeFieldsDirty=r?!1:n&&t&&i?!1:!0,!(n&&t&&i&&!r)});this.invalid=i.computed(function(){return h.taskGroupName().trim().length<=0})}return n.prototype.getTaskCategoryDisplayName=function(n){return p.getTaskCategoryDisplayName(n)},n.prototype.dispose=function(){},n.prototype.update=function(n,t,i,r,u,f){this.areSystemVariablesDirty(!1);this._tasks=u;this._runsOn=f;this.metaTaskInput(this._createTaskInputDefinitions(r));this._model=new rt(n,t,i,r);this.taskGroupName(n);this.taskGroupDescription(t);this.selectedCategory(i)},n.prototype._createTaskInputDefinitions=function(n){return!n||n.length==0?[]:$.map(n,function(n){return new ut(n)})},n.prototype._variableChangeHandler=function(){var i=this,t=this.metaTaskInput.peek(),n;if(t.length!==this._model.metaTaskInput.length){this.areSystemVariablesDirty(!0);return}n=!1;$.each(t,function(t,r){var u=i._model.metaTaskInput[t];if(!!u&&(u.name!==r.name()||u.defaultValue!==r.defaultValue()||u.helpMarkDown!==r.helpMarkDown()))return n=!0,!1});this.areSystemVariablesDirty(n)},n.prototype.setModel=function(n,t,i,r){this._model.update(n,t,i,r)},n.prototype._updateData=function(){this._model.update(this.taskGroupName(),this.taskGroupDescription(),this.selectedCategory(),this.metaTaskInput().map(function(n){return n.getTaskInputDefinition()}))},n.prototype.getOriginalMetaTaskinputs=function(){return this._model&&this._model.metaTaskInput},n.prototype._resetData=function(){this.taskGroupName(this._model.taskGroupName);this.taskGroupDescription(this._model.taskGroupDescription);this.selectedCategory(this._model.selectedCategory);this.metaTaskInput(this._createTaskInputDefinitions(this._model.metaTaskInput))},n.prototype._generateMetaTaskDefinition=function(n,t,i,r,u,f){n=n.trim();return{tasks:r,owner:s.getDefaultWebContext().user.id,category:i,description:t,agentExecution:null,author:s.getDefaultWebContext().user.name,contentsUploaded:!0,contributionIdentifier:null,contributionVersion:null,dataSourceBindings:this.dataSourceBindings.peek(),satisfies:[],demands:[],disabled:!1,deleted:!1,preview:!1,deprecated:!1,ecosystem:null,friendlyName:n,groups:this.groups.peek(),helpMarkDown:"",helpUrl:"",hostType:null,iconUrl:s.getPageContext().webAccessConfiguration.paths.resourcesPath+"icon-meta-task.png",id:"",inputs:u,instanceNameFormat:b.getTaskGroupInstanceNameFormat(n,u),minimumAgentVersion:"*",name:n,packageLocation:"",packageType:"",releaseNotes:null,serverOwned:!1,showEnvironmentVariables:!1,sourceDefinitions:[],sourceLocation:"",version:{isTest:!1,major:1,minor:0,patch:0},parentDefinitionId:null,visibility:["Build","Release"],runsOn:f,definitionType:"metaTask",preJobExecution:{key:"",value:""},execution:{key:"",value:""},postJobExecution:{key:"",value:""},revision:null,createdBy:null,createdOn:null,modifiedBy:null,modifiedOn:null,comment:null,outputVariables:null,restrictions:null}},n}();t.MetaTaskPropertiesBaseViewModel=ft;yt=function(n){function t(t,i,r,u,f,e){var o=n.call(this,"","","",t,r,u,f,e)||this;return o._onOkCallBack=i,o}return __extends(t,n),t.prototype.onOkClick=function(){var n=this.metaTaskInput().map(function(n){return n.getTaskInputDefinition()}),t=this._generateMetaTaskDefinition(this.taskGroupName(),this.taskGroupDescription(),this.selectedCategory(),this._tasks,n,this._runsOn);return this._updateData(),this._onOkCallBack(t)},t.prototype.onCancelClick=function(){this._resetData()},t}(ft);t.CreateMetaTaskDialogViewModel=yt;pt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._metaTaskPropertiesTemplateId="metatask-properties",i._metaTaskPropertiesTemplateHTML="<div/>",i._viewModel=t,i}return __extends(t,n),t.prototype.initialize=function(){var t=this;n.prototype.initialize.call(this);this._renderUI();this._invalidSubscription=this._viewModel.invalid.subscribe(function(n){t.onButtonStatusChange(undefined,{button:"ok",enabled:!n})})},t.prototype.dispose=function(){n.prototype.dispose.call(this);this._invalidSubscription.dispose()},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({resizable:!1,draggable:!0,height:450,width:740,useBowtieStyle:!0,buttons:{ok:{id:"ok",text:y.Tasks_MetaTaskDialogCreate,disabled:"disabled",click:it(this,this.onOkClick)},cancel:{id:"cancel",text:a.ModalDialogCancelButton,click:it(this,this.onCancelClick)}},contentMargin:!1},t))},t.prototype.onOkClick=function(){var n=this;this._$errorMessage.hide();this._viewModel.errorMessage(c.empty);this._viewModel.onOkClick().then(function(){n.close()},function(t){t.message&&(t=t.message);n._$errorMessage.text(t);n._$errorMessage.toggle(!!t);n._viewModel.errorMessage(t.toString())})},t.prototype.onCancelClick=function(){this._viewModel.onCancelClick();n.prototype.onCancelClick.call(this)},t.prototype.getTitle=function(){return y.Task_CreateMetaTaskDialogTitle},t.prototype._renderUI=function(){this._$errorMessage=$("<div class='input-error-tip meta-task-cre-error'>").hide().text("").appendTo(this._element);u.Control.create(et,this._element,{viewModel:this._viewModel})},t}(f.ModalDialog);t.CreateMetaTaskDialog=pt;et=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._templateHTML="\n    <div class='meta-task-dialog' data-bind=\"css: { 'adjust-margin': !!errorMessage() }\">\n        <div class='meta-task-properties'>\n            <table>\n                <tr>\n                    <td class='property-name meta-task-name' for='taskGroupNameId' data-bind=\"css: { 'bold-text': invalid() }\">".concat(y.Task_NameLabel,"<\/td>\n                    <td class='property-value meta-task-name-value'><input  id='taskGroupNameId' class='meta-task-name-textbox' data-bind='value: taskGroupName, valueUpdate: \"afterkeydown\", css: { \"invalid\": invalid() }'/><\/td>\n                <\/tr>\n                <tr>\n                    <td class='property-name meta-task-description'>").concat(y.Tasks_MetaTaskDialogDescriptionHeader,"<\/td>\n                    <td class='property-value meta-task-description-value'>\n                        <textarea rows='2' data-bind='attr: {placeholder: CreateMetaTaskDescriptionWatermarkText}, value: taskGroupDescription, valueUpdate: \"afterkeydown\"' class='meta-task-description-textarea'>\n                        <\/textarea>\n                    <\/td>\n                <\/tr>\n                <tr>\n                    <td class='property-name meta-task-category'>").concat(y.CategoryText,"<\/td>\n                    <td class='property-value meta-task-category-value'>\n                        <select class='meta-task-category-options' data-bind='options: category,\n                                                                              optionsText: getTaskCategoryDisplayName ,\n                                                                              value: selectedCategory'>\n                        <\/select>\n                    <\/td>\n                    <td class='tooltip' data-bind = \"showTooltip: { text: helpMarkDown, pivotSiblingCssClass: 'meta-task-category-value' }\"><\/td>\n                <\/tr>\n            <\/table>\n        <\/div>\n        <div class='task-variables' data-bind='visible: metaTaskInput().length > 0'>\n            <div class='param-heading'>").concat(y.Task_MetaTaskDialogParentParameterHeading,"<\/div>\n            <div class='horizontal-line splitter horizontal meta-task-dialog-splitter'><\/div>\n            <div class='message'>").concat(y.Tasks_MetaTaskVariablesMessage,"<\/div>\n            <table class='non-sys-var'>\n                <tr>\n                    <th class='param-header' data-bind='attr: { \"title\": Tasks_MetaTaskParamTooltip }'>").concat(y.Tasks_MetaTaskDialogParameterHeader,"<\/th>\n                    <th class='value-header' data-bind='attr: { \"title\": Tasks_MetaTaskValueTooltip }'>").concat(y.Tasks_MetaTaskDialogValuesHeader,"<\/th>\n                    <th class='desc-header' data-bind='attr: { \"title\": Tasks_MetaTaskDescTooltip }'>").concat(y.Tasks_MetaTaskDialogDescriptionHeader,"<\/th>\n                <\/tr>\n                <tbody data-bind='foreach: metaTaskInput'>\n                    <tr>\n                        <td class='param-name' data-bind='text:name'><\/td>\n                        <td class='param-value'><input class='val' type='text' data-bind='value: defaultValue, event: { change: $parent.variableGridHandler }'/><\/td>\n                        <td class='param-description'><input class='desc' type='text' data-bind='value: helpMarkDown, event: { change: $parent.variableGridHandler }'/><\/td>\n                    <\/tr>\n                <\/tbody>\n        <\/div>\n    <\/div>"),t._templateName="meta_task_create_dialog_template",t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t);this._metaTaskDialogViewModel=t.viewModel},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._renderUI()},t.prototype._renderUI=function(){b.HtmlHelper.renderTemplateIfNeeded(this._templateName,this._templateHTML);this._$template=b.loadHtmlTemplate(this._templateName);this._element.append(this._$template);i.applyBindings(this._metaTaskDialogViewModel,this._$template[0])},t}(u.Control);t.MetaTaskDialogControl=et;r.tfsModuleLoaded("TFS.Tasks.Common.Dialogs",t)});

define("DistributedTasksCommon/TFS.Knockout.HubPageExplorerPivot",["require","exports","knockout","VSS/Adapters/Knockout","VSS/Controls","VSS/Navigation/Services","VSS/Utils/Core","VSS/VSS"],function(n,t,i,r,u,f,e,o){var s,h,c,l,a,v;Object.defineProperty(t,"__esModule",{value:!0});t.BasePivotTab=t.BaseTabViewModel=t.TabContentViewModel=t.HubPageExplorerPivotBase=t.BasicPivotTab=t.PivotTabBase=void 0;s=function(){function n(n){var t=this;this.isSelected=i.observable(!1);this.text=i.observable("");this.title=i.observable("");this.visible=i.observable(!0);this.order=0;this.disposableManager=new e.DisposalManager;n=$.extend(n||{},{isVisible:i.computed({read:function(){return t.visible()}}),onClick:function(){return!0}});this.isVisible=n.isVisible;this.onClick=n.onClick}return n.prototype.dispose=function(){this.disposableManager.dispose()},n}();t.PivotTabBase=s;h=function(n){function t(t,i,r,u){var f=__construct(this,n,[]);for(var e in f)f.hasOwnProperty(e)&&(this[e]=f[e]);return f.id=t,f.templateName=r,f.title(i),f.text(i),f.order=u||0,f}return __extends(t,n),t}(s);t.BasicPivotTab=h;c=function(){function n(n){var t=this;this.hubTitleContent=i.observable("");this.tabs=i.observableArray([]);this.tabClicked=i.observable(null);this._selectedTab=i.observable("");this.showContent=i.observable(!0);this.selectedTab=i.computed({read:function(){return t._selectedTab()},write:function(n){t._selectedTab(n);$.each(t.tabs(),function(t,i){i.isSelected(i.id===n)});t.tabClicked({tabName:n})}});this._onPivotTabChanged=function(n,i){t._onTabClick(i.value)};this._options=n||{};this._onTabClick=function(n){var i=!0,r;typeof n.onClick=="function"&&(i=n.onClick());i&&(r=!n?"":n.id,t.selectedTab(r))};this.showTabs=i.computed({read:function(){var n=0;return $.each(t.tabs(),function(t,i){i.isVisible()&&n++}),n>1}})}return n.prototype.dispose=function(){this._pivotView&&(this._pivotView._unbind("changed",this._onPivotTabChanged),this._pivotView.dispose(),this._pivotView=null)},n.prototype.getLink=function(n){var t=f.getHistoryService().getCurrentState();return t?f.getHistoryService().getFragmentActionLink(n.id,t):""},n.prototype.renderPivotView=function(t){var i=this;o.using(["VSS/Controls/Navigation"],function(r){var f=i.tabs.peek(),e;f=f.filter(function(n){return n&&n.isVisible()});e=f.map(function(n){return{id:n.id,text:n.text.peek(),value:n,selected:n.isSelected.peek()}});i._pivotView?(i._pivotView._options.items=e,i._pivotView.updateItems(!0)):(i._pivotView=u.BaseControl.create(r.PivotView,t.find(n.PIVOT_HOLDER_CLASS),{items:e}),i._pivotView._bind("changed",i._onPivotTabChanged))})},n.PIVOT_HOLDER_CLASS=".tfs_knockout_hubpageexplorerpivot_holder",n}();t.HubPageExplorerPivotBase=c;l=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t.onTabSelected=i.observable(!1),t}return __extends(t,n),t}(r.TemplateViewModel);t.TabContentViewModel=l;a=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._onTabClick=function(n){var t=!n?"":n.id;i.selectedTab(t);i._onSelectedTabChanged(t)},i}return __extends(t,n),t.prototype._onSelectedTabChanged=function(){},t.prototype.refresh=function(){},t}(c);t.BaseTabViewModel=a;v=function(n){function t(t,r,u,f){var e=__construct(this,n,[t,r,u,f]);for(var o in e)e.hasOwnProperty(o)&&(this[o]=e[o]);return e.dirty=i.computed({read:function(){return!1}}),e.invalid=i.computed({read:function(){return!1}}),e}return __extends(t,n),t.prototype.dispose=function(){n.prototype.dispose.call(this);this.dirty.dispose();this.invalid.dispose()},t}(h);t.BasePivotTab=v;o.tfsModuleLoaded("TFS.Knockout.HubPageExplorerPivot",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Presentation.Identities",["require","exports","knockout","VSS/VSS","VSS/Utils/Core","VSS/Utils/String","VSS/Resources/VSS.Resources.Platform","VSS/Controls","VSS/Identities/Picker/Controls","VSS/Utils/UI","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core"],function(n,t,i,r,u,f,e,o,s,h,c){var l;Object.defineProperty(t,"__esModule",{value:!0});t.IdentityHelper=t.MultiSelectIdentityPickerControl=void 0;var a=u.delegate,w=h.domElem,v=h.KeyCode,y=function(){function n(){}return n.getNextUniqueID=function(){return n._currentId++},n._currentId=1e3,n}(),p=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._elementId="rm_id_picker"+y.getNextUniqueID(),i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"multi-mru-identity-picker"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._enabled=typeof this._options.enabled=="boolean"?this._options.enabled:!0;this._render(this._options.selectedItems)},t.prototype.getValue=function(){return this._selectedItems},t.prototype.setValue=function(n){this._render(n)},t.prototype.setEnabled=function(n){this._identityPickerSearchControl.enableElement(n);this._enabled=n},t.prototype._render=function(n){var i=this,u,r;n=n||[];this._element.empty();this._selectedItemsMap={};this._selectedItems=[];this._$container=$("<ul/>").addClass("multi-mru-identity-picker-container").appendTo(this._element);u=$("<div/>").addClass("multi-mru-list-container").appendTo(this._element);r=$("<li/>").addClass("picker-item").appendTo(this._$container);this._identityPickerSearchControl=o.create(s.IdentityPickerSearchControl,r,{elementId:this._elementId,operationScope:l.getOperationScopeOptions(),identityType:{User:!0,Group:!0},pageSize:this._options.pageSize,showContactCard:!0,consumerId:t._approversPickerConsumerId,callbacks:{onItemSelect:a(this,this._addSelection),onKeyPress:a(this,this._handleKeyDown)}});$.each(n,function(n,t){(!i._options.maxAllowedIdentities||n<i._options.maxAllowedIdentities)&&i._addSelection(t,!1)});this._options.maxAllowedIdentities&&this._selectedItems.length>=this._options.maxAllowedIdentities&&this._identityPickerSearchControl.hideElement()},t.prototype._addSelection=function(n,t){var f=this,s,r,u,o;if(t===void 0&&(t=!0),this._identityPickerSearchControl.clear(),s=n,r=n.hasOwnProperty("localId")?l.convertToWebApiIdentityRef(s):n,r&&!this._itemAlreadySelected(r)){u=$('<li data-bind="showRichContentTooltip: { text: tooltip, setAriaDescribedBy: true, cssClass: \'rm-rich-content-tooltip\' }" class="selection">\n                  <div class="item-text" data-bind="text: text"><\/div>\n                  <div class="bowtie-icon bowtie-edit-delete" tabIndex=\'0\' data-bind="showRichContentTooltip: { text: iconTitle, setAriaDescribedBy: true, cssClass: \'rm-rich-content-tooltip\' }"><\/div>\n               <\/li>');i.applyBindings({text:n.displayName,tooltip:l.getFriendlyDistinctDisplayName(r),iconTitle:e.MruIdentityPickerRemoveSelection},u[0]);u.insertBefore($(".picker-item",this._$container));o=$(".bowtie-icon.bowtie-edit-delete",u);o.click(function(){if(f._enabled){f._removeSelection(r);var n=f._element.find("#"+f._elementId);return!!n&&n.length>0&&n.focus(),!1}});c.AccessibilityHelper.onEnterPress(o);this._selectedItemsMap[r.id]=u;this._selectedItems.push(r);this._options.maxAllowedIdentities>0&&this._selectedItems.length>=this._options.maxAllowedIdentities&&this._identityPickerSearchControl.hideElement();t&&this._fireChange()}},t.prototype._removeSelection=function(n,t){if(t===void 0&&(t=!0),n&&this._itemAlreadySelected(n)){this._identityPickerSearchControl.clear();this._selectedItems=l.subtract(this._selectedItems,[n],!1);var i;i=n.id?n.id:n.displayName;this._selectedItemsMap[i].remove();delete this._selectedItemsMap[i];this._options.maxAllowedIdentities>0&&this._selectedItems.length===this._options.maxAllowedIdentities-1&&this._identityPickerSearchControl.showElement();t&&this._fireChange()}},t.prototype._handleKeyDown=function(n){n===v.BACKSPACE&&this._identityPickerSearchControl.getIdentitySearchResult().unresolvedQueryTokens.length===0&&this._removeSelection(this._selectedItems[this._selectedItems.length-1])},t.prototype._itemAlreadySelected=function(n){var t=this._selectedItemsMap[n.id]?!0:!1,i=this._selectedItemsMap[n.displayName]?!0:!1;return t||i},t._approversPickerConsumerId="07ec6435-b63c-418b-82c2-d42eb0b9b94a",t}(o.BaseControl);t.MultiSelectIdentityPickerControl=p;l=function(){function n(){}return n.getFriendlyDistinctDisplayName=function(t){return t.displayName&&t.uniqueName?t.id?t.displayName:f.format("{0} {1}{2}{3}",t.displayName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,t.uniqueName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):t.displayName||""},n.convertToWebApiIdentityRef=function(t){return{id:t.localId,displayName:t.displayName,isContainer:t.entityType.toLowerCase()!==n.IDENTITY_ENTITYTYPE_USER.toLowerCase()}},n.getOperationScopeOptions=function(){return{IMS:!0}},n.subtract=function(t,i,r){r===void 0&&(r=!0);var u=t.slice(0);return $.each(i,function(t,i){for(var f=u.length,r=0;r<f;r++)n.areItemsEqual(i,u[r])&&(u.splice(r,1),f--)}),r&&n._sortListByName(u),u},n._sortListByName=function(t){t.sort(function(t,i){if(n._isGroup(t)&&!n._isGroup(i))return 1;if(!n._isGroup(t)&&n._isGroup(i))return-1;var r=t.displayName.toLowerCase().trim(),u=i.displayName.toLowerCase().trim();return f.localeIgnoreCaseComparer(r,u)})},n._isGroup=function(n){var t=n.displayName||"";return n.isContainer||t.charAt(0)==="["&&t.indexOf("]\\")>0},n.areItemsEqual=function(n,t){var i,r;return n.id&&t.id?(i=n.id.toLowerCase().trim(),r=t.id.toLowerCase().trim()):n.uniqueName&&t.uniqueName?(i=n.uniqueName.toLowerCase().trim(),r=t.uniqueName.toLowerCase().trim()):(i=n.displayName.toLowerCase().trim()+(n.id||"").toLowerCase(),r=t.displayName.toLowerCase().trim()+(t.id||"").toLowerCase()),f.localeIgnoreCaseComparer(i,r)===0},n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START="<",n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END=">",n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START="<<",n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END=">>",n.AAD_IDENTITY_USER_PREFIX="user:",n.AAD_IDENTITY_GROUP_PREFIX="group:",n.IDENTITY_UNIQUENAME_SEPARATOR="\\",n.IDENTITY_ENTITYTYPE_USER="User",n}();t.IdentityHelper=l;r.tfsModuleLoaded("TFS.ReleaseManagement.Presentation.Identities",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Artifacts.ObjectViewModel",["require","exports","knockout","q","VSS/VSS","VSS/Context","VSS/Common/Contracts/FormInput","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Array","VSS/Utils/Number","ReleaseManagement/Core/Constants","ReleasePipeline/Scripts/TFS.ReleaseManagement.Context","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleasePipeline/Scripts/TFS.ReleaseManagement.EditorModels","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.Tags","ReleasePipeline/Scripts/CommonControls/RM.Tags","ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.Branch","ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.Types","ReleasePipeline/Scripts/TFS.ReleaseManagement.MessageArea","ReleasePipeline/Scripts/TFS.ReleaseManagement.Host.TfsContext","DistributedTasksCommon/TFS.Tasks.Models"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt){var gt,ft,et,st,ht,ct,lt,ut,at,vt,yt,pt,wt,ni,bt,kt,ti,ot,ii,dt;Object.defineProperty(t,"__esModule",{value:!0});t.BuildDefinitionModel=t.NewArtifactDefinitionsListViewModel=t.NewArtifactDefinitionViewModel=t.ArtifactsListViewModel=t.ArtifactViewModel=t.DependentValuesTracker=t.ArtifactTypeViewModel=t.TagsInputViewModel=t.BranchInputViewModel=t.CheckboxInputViewModel=t.ComboInputViewModel=t.StringInputViewModel=t.InputViewModel=t.UriValidator=t.GuidValidator=t.NumberValidator=t.BooleanValidator=t.StringValidator=t.BaseValidator=t.artifactEditorMessageContext=void 0;gt=nt.WellKnownRepositoryTypes;ft=function(){function n(n){this._inputValidation=n}return n.prototype.validate=function(){return!0},n.prototype._getInputValidation=function(){return this._inputValidation},n}();t.BaseValidator=ft;et=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._maxLength=1024,i._minLength=0,i._isRequired=!1,t.minLength!==undefined&&(i._minLength=t.minLength),t.maxLength!==undefined&&(i._maxLength=t.maxLength),t.isRequired&&(i._isRequired=!0),i._pattern=t.pattern,i}return __extends(t,n),t.prototype.validate=function(n){var t=!1;return t=(!this._isRequired||!!n)&&n!==undefined?n.length>=this._minLength&&n.length<=this._maxLength:!1,t&&(t=this._validatePattern(n,this._pattern)),t},t.prototype._validatePattern=function(n,t){var i=!0,r,u;return t&&(r=t.trim(),u=new RegExp(r),i=u.test(n)),i},t}(ft);t.StringValidator=et;st=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.validate=function(n){return s.ignoreCaseComparer(n,"true")===0||s.ignoreCaseComparer(n,"false")===0},t}(ft);t.BooleanValidator=st;ht=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._minValue=-2147483647,i._maxValue=2147483647,t.maxValue!==undefined&&(i._maxValue=t.maxValue),t.minValue!==undefined&&(i._minValue=t.minValue),i}return __extends(t,n),t.prototype.validate=function(n){var i=c.parseLocale(n),r=!1,t=parseInt(""+i,10),u=parseFloat(""+i);return!isNaN(i)&&t===u&&isFinite(t)&&t>=this._minValue&&t<=this._maxValue&&(r=!0),r},t}(ft);t.NumberValidator=ht;ct=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.validate=function(n){var t=36,i,r;return!n||n.length<t?!1:(i=n.trim(),r=i.length===t?this._getInputValidation().pattern||"^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$":this._getInputValidation().pattern||"^{[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}}$",this._validatePattern(n,r))},t}(et);t.GuidValidator=ct;lt=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.validate=function(n){if(n&&n.length!==0){var t=this._getInputValidation().pattern||"^https?://.+$";return this._validatePattern(n,t)}return!1},t}(et);t.UriValidator=lt;ut=function(){function n(n,t,r){var u=this,f;this.id=i.observable("");this.name=i.observable("");this.description=i.observable("");this.value=i.observable("");this.templateName="artifact_type_input";this.inputMode=i.observable(e.InputMode.None);this.isQueryRequired=i.observable(!1);this.isValueUpdated=i.observable(!1);this.isReadOnly=i.observable(!1);this.isVisible=i.observable(!1);this.mode="textbox";this.defaultVersionTypeTooltip=v.DefaultVersionTypeTooltip;this.defaultVersionType=y.ArtifactDefaultVersionConstants.DefaultVersionType;this.defaultVersionBranch=y.ArtifactDefaultVersionConstants.DefaultVersionBranch;this.defaultVersionTags=y.ArtifactDefaultVersionConstants.DefaultVersionTags;this._inputModeTypeToStringMap={};this._previousValue="";this._disposalManager=new o.DisposalManager;this._showManageServicesLink=i.observable(!1);this._inputDescriptor=n;this._validator=t;this._initializeMappings();this._update(n);this.displayName=this._disposalManager.addDisposable(i.computed(function(){var n=s.htmlEncode(u.name()),t;return u._showManageServicesLink()&&(t=u._getManageServicesLink(),n=s.localeFormat(v.LabelWithManageServiceDisplayFormat,n,t)),!u._isRequired()||u.value()&&u.value().trim()||(n=s.localeFormat(v.FieldLabelFormatWithRequiredDecorator,n,v.RequiredFieldIndicator)),n}));f=r?!this.isDefaultVersionOrDependentInput():!this.isDefaultVersionDependentInput();this.isVisible(f)}return n.prototype.isInvalid=function(){return!this._validator.validate(this.value())},n.prototype.isDefaultVersionDependentInput=function(){return s.localeIgnoreCaseComparer(this._inputDescriptor.id,y.ArtifactDefaultVersionConstants.DefaultVersionBranch)===0||s.localeIgnoreCaseComparer(this._inputDescriptor.id,y.ArtifactDefaultVersionConstants.DefaultVersionTags)===0||s.localeIgnoreCaseComparer(this._inputDescriptor.id,y.ArtifactDefaultVersionConstants.DefaultVersionSpecific)===0},n.prototype.isDefaultVersionOrDependentInput=function(){return s.localeIgnoreCaseComparer(this._inputDescriptor.id,y.ArtifactDefaultVersionConstants.DefaultVersionType)===0||this.isDefaultVersionDependentInput()},n.prototype.isInputVisibile=function(n,t,i){if(w.ValidateParameters.isNullOrEmpty(this._inputDescriptor.groupName))return!0;var u=$.map(JSON.parse(this._inputDescriptor.groupName),function(n){return new rt.KeyValuePair(n.Key,n.Value)}),r=!1;return u.forEach(function(u){if(s.localeIgnoreCaseComparer(u.key(),n)===0&&(s.localeIgnoreCaseComparer(u.value(),t)===0||s.localeIgnoreCaseComparer(u.value(),i)===0)){r=!0;return}}),r},n.prototype.getValue=function(){return s.empty},n.prototype.getDependencyInputIds=function(){return this._inputDescriptor.dependencyInputIds||[]},n.prototype.getInputValues=function(){return this._inputDescriptor.values},n.prototype.hasDynamicValues=function(){return this._inputDescriptor.hasDynamicValueInformation},n.prototype.setIsReadOnly=function(n){n=this.isDefaultVersionOrDependentInput()?!1:n;this.isReadOnly(n);this.isReadOnly.valueHasMutated()},n.prototype.updateValues=function(n){n.isReadOnly&&(this.isReadOnly(n.isReadOnly),this.isReadOnly.valueHasMutated());this._inputDescriptor.values=n;this._setPreviousValue("")},n.prototype.clear=function(){this.value("");this._inputDescriptor.values=null},n.prototype.dispose=function(){this._disposalManager.dispose()},n.prototype.setShowManageServicesLink=function(n){this._showManageServicesLink(n)},n.prototype._getPreviousValue=function(){return this._previousValue?this._previousValue.trim():""},n.prototype._setPreviousValue=function(n){this._previousValue=n},n.prototype._getDisposalManager=function(){return this._disposalManager},n.prototype._isRequired=function(){return this._inputDescriptor.validation.isRequired},n.prototype._handleFinalValue=function(){var n=this.value().trim(),t=this._getPreviousValue().trim();n!==""&&n!==t&&(this.isQueryRequired.valueHasMutated(),this._setPreviousValue(this.value()))},n.prototype._handleIntermediateValue=function(){var n=this.value().trim(),t=this._getPreviousValue().trim();n!==""&&n!==t&&(this.isValueUpdated.valueHasMutated(),this._setPreviousValue(this.value()))},n.prototype._update=function(n){this.id(n.id);this.name(n.name);this.description(n.description);this.inputMode(n.inputMode);this.mode=this._inputModeTypeToStringMap[n.inputMode]},n.prototype._initializeMappings=function(){this._inputModeTypeToStringMap[e.InputMode.CheckBox]="checkbox";this._inputModeTypeToStringMap[e.InputMode.Combo]="combo";this._inputModeTypeToStringMap[e.InputMode.PasswordBox]="password";this._inputModeTypeToStringMap[e.InputMode.RadioButtons]="radio";this._inputModeTypeToStringMap[e.InputMode.TextArea]="textArea";this._inputModeTypeToStringMap[e.InputMode.TextBox]="textbox";this._inputModeTypeToStringMap[e.InputMode.None]="none"},n.prototype._getManageServicesLink=function(){var n=it.TfsContext.getDefault().getActionUrl("","services",{area:"admin"});return s.format("<a href='{0}' target='_blank' rel='noopener noreferrer' title='{1}'>{2}<\/a>",n,v.ManageServicesTitle,v.ManageServices)},n}();t.InputViewModel=ut;at=function(n){function t(t,i,r){var u=__construct(this,n,[t,i,r]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u._getDisposalManager().addDisposable(u.value.subscribe(function(){u._handleFinalValue()})),u}return __extends(t,n),t.prototype.handleFinalValue=function(){this._handleFinalValue()},t.prototype.updateValues=function(t,i){var r,u;n.prototype.updateValues.call(this,t,i);t.possibleValues&&t.possibleValues.length>0?(b.ReleaseArtifactsHelper.hasDefinitionReferenceProperty(i,t.inputId)&&(r=h.first(t.possibleValues,function(n){return n.value===i[t.inputId].id})),r||(r=t.possibleValues[0]),u=r.displayValue||r.value,this.value(u),this._setPreviousValue(this.value())):!i||!i[t.inputId]?this.value(""):this.value(i[t.inputId].id)},t.prototype.getValue=function(){return this.value()},t}(ut);t.StringInputViewModel=at;vt=function(n){function t(t,r,u){var f=__construct(this,n,[t,r,u]),e,o;for(e in f)f.hasOwnProperty(e)&&(this[e]=f[e]);return f.possibleValues=i.observableArray([]),f.possiblebuildDefinitionValues=i.observableArray([]),f.displayText=i.observable(s.empty),f.selectedBuildDefinitionId=i.observable(s.empty),f.isBuildArtifactType=i.observable(!1),!t.values||!t.values.possibleValues||(o=$.map(t.values.possibleValues,function(n){return n.displayValue}),f.possibleValues=i.observableArray(o)),f._getDisposalManager().addDisposable(f.value.subscribe(function(){f._isValueInPossibleValues()?f._handleFinalValue():f._handleIntermediateValue()})),f}return __extends(t,n),t.prototype.updateValues=function(t,i,r,u){var c=this,f,e,v,o;if(n.prototype.updateValues.call(this,t,i),!w.ArrayHelper.hasItems(t.possibleValues)){this.value(s.empty);this.possibleValues([]);return}if(f=-1,e=s.empty,b.ReleaseArtifactsHelper.hasDefinitionReferenceProperty(i,t.inputId)&&i[t.inputId].id&&s.localeIgnoreCaseComparer(i[t.inputId].id,s.empty)!==0&&(e=i[t.inputId].id,f=h.findIndex(t.possibleValues,function(n){return s.localeIgnoreCaseComparer(n.value,e)===0})),s.localeIgnoreCaseComparer(t.inputId,l.ArtifactDefinitionConstants.DefinitionId)===0&&b.ReleaseArtifactsHelper.hasDefinitionReferenceProperty(i,t.inputId)&&f<0){this.value(s.empty);this.possibleValues([]);return}s.localeIgnoreCaseComparer(t.inputId,y.ArtifactDefaultVersionConstants.DefaultVersionType)===0&&i&&!i.hasOwnProperty(y.ArtifactDefaultVersionConstants.DefaultVersionType)&&(f=h.findIndex(t.possibleValues,function(n){return s.localeIgnoreCaseComparer(n.value,y.ArtifactDefaultVersionConstants.SelectDuringReleaseCreation)===0}));this.isArtifactTypeBuild2(t.inputId,r)?(this.isBuildArtifactType(!0),o=[],v=a.serviceContext.buildManager().beginGetBuildDefinitions(u),v.then(function(n){t.possibleValues.forEach(function(t){var u=n.filter(function(n){return n.id===Number(t.value)}),i,r;w.ArrayHelper.hasItems(u)&&(i=u[0],r=b.BuildDefinitionNameUtils.getDisplayNameWithFolder(i.path,i.name),o.push(r),c.possiblebuildDefinitionValues.push(new dt(r,i.name,String(i.id))))});c._updateValues(t,f,e,o)},function(n){tt.currentContext.logError(n)})):(o=$.map(t.possibleValues,function(n){return n.displayValue?n.displayValue:n.value}),this._updateValues(t,f,e,o))},t.prototype.clear=function(){n.prototype.clear.call(this);this.possibleValues([])},t.prototype.getValue=function(){var n=this,t="",i=this.getInputValues();return i&&(this.isArtifactTypeBuild(i.inputId)?this.getInputValues().possibleValues.forEach(function(i){!((i.displayValue?i.displayValue===n.value():i.value===n.value())&&i.value===n.selectedBuildDefinitionId())||(t=n.selectedBuildDefinitionId())}):!this.getInputValues().possibleValues||this.getInputValues().possibleValues.forEach(function(i){(!i.displayValue?i.value===n.value():i.displayValue===n.value())&&(t=i.value)})),t===s.empty&&(t=this.value()),t},t.prototype.setSelectedValue=function(n,t){if(this.isArtifactTypeBuild2(this.id(),t)){var i=h.first(this.possiblebuildDefinitionValues(),function(t){return s.localeIgnoreCaseComparer(t.displayNameWithFolder,n)===0});this.displayText(i.displayNameWithFolder);this.selectedBuildDefinitionId(i.id);this.value(i.displayNameWithoutFolder)}else this.value(n),this.displayText(n)},t.prototype.getSelectedValue=function(){return this.isArtifactTypeBuild(this.id())?this.displayText():this.value()},t.prototype.handleBlur=function(){this.isInvalid()||this._handleFinalValue()},t.prototype.isInvalid=function(){var t=this.getInputValues();return t&&w.ArrayHelper.hasItems(t.possibleValues)&&t.isLimitedToPossibleValues?this._isValueInPossibleValues()?n.prototype.isInvalid.call(this):!0:n.prototype.isInvalid.call(this)},t.prototype.isArtifactTypeBuild=function(n){return s.localeIgnoreCaseComparer(n,l.ArtifactDefinitionConstants.DefinitionId)===0&&this.isBuildArtifactType()?!0:!1},t.prototype.isArtifactTypeBuild2=function(n,t){return s.localeIgnoreCaseComparer(n,l.ArtifactDefinitionConstants.DefinitionId)===0&&s.localeIgnoreCaseComparer(t,y.ArtifactTypes.Build)===0?!0:!1},t.prototype._isValueInPossibleValues=function(){var n=this.getInputValues()&&this.getInputValues().possibleValues&&$.map(this.getInputValues().possibleValues,function(n){return n.displayValue?n.displayValue:n.value});return n&&w.ArrayHelper.hasItems(n)&&n.indexOf(this.value())>=0?!0:!1},t.prototype._updateValues=function(n,t,i,r){if(i=t>=0?r[t]:!n.defaultValue||s.localeIgnoreCaseComparer(n.inputId,y.ArtifactDefaultVersionConstants.DefaultVersionType)===0?w.ArrayHelper.hasItems(r)?r[0]:s.empty:n.defaultValue,this.displayText(i),this.isArtifactTypeBuild(n.inputId)&&!w.ValidateParameters.isNullOrEmpty(i)){var u=h.first(this.possiblebuildDefinitionValues(),function(n){return s.localeIgnoreCaseComparer(n.displayNameWithFolder,i)===0});this.selectedBuildDefinitionId(u.id);this.value(u.displayNameWithoutFolder)}else this.value(i);this._setPreviousValue(this.value());this.possibleValues(r)},t}(ut);t.ComboInputViewModel=vt;yt=function(n){function t(t,i,r){var u=__construct(this,n,[t,i,r]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u._getDisposalManager().addDisposable(u.value.subscribe(function(n){n.trim()&&u.isQueryRequired.valueHasMutated()})),u}return __extends(t,n),t.prototype.updateValues=function(t,i){n.prototype.updateValues.call(this,t,i);!i||!i[t.inputId]||(Boolean(i[t.inputId].id)?this.value("true"):this.value(""))},t.prototype.getValue=function(){return this.value()},t}(ut);t.CheckboxInputViewModel=yt;pt=function(n){function t(t,r,u){var f=__construct(this,n,[t,r,u]);for(var e in f)f.hasOwnProperty(e)&&(this[e]=f[e]);return f.selectedArtifactSourceBranch=i.observable(null),f.repositoryId=i.observable(null),f._projectId=i.observable(null),f._definitionId=i.observable(null),f.branchViewModel=new g.BranchViewModel,f._getDisposalManager().addDisposable(f.repositoryId.subscribe(function(n){f.branchViewModel.repositoryId(n)})),f._getDisposalManager().addDisposable(f.selectedArtifactSourceBranch.subscribe(function(n){f.branchViewModel.selectedArtifactSourceBranch(n)})),f._getDisposalManager().addDisposable(f.value.subscribe(function(n){n.trim()&&f.isQueryRequired.valueHasMutated()})),f}return __extends(t,n),t.prototype.getValue=function(){return this.selectedArtifactSourceBranch()?this.value(this.selectedArtifactSourceBranch()):this.value(s.empty),this.value()},t.prototype.updateValues=function(t,i){var u=this,r;n.prototype.updateValues.call(this,t,i);r=null;b.ReleaseArtifactsHelper.hasDefinitionReferenceProperty(i,t.inputId)&&i[t.inputId].id&&s.localeIgnoreCaseComparer(i[t.inputId].id,s.empty)!==0&&(r=i[t.inputId].id);!t.defaultValue||s.localeIgnoreCaseComparer(r,s.empty)!==0||(r=t.defaultValue);s.localeIgnoreCaseComparer(r,s.empty)===0&&(r=null);b.ReleaseArtifactsHelper.hasDefinitionReferenceProperty(i,l.ArtifactDefinitionConstants.ProjectId)&&i[l.ArtifactDefinitionConstants.ProjectId].id&&this._projectId(i[l.ArtifactDefinitionConstants.ProjectId].id);b.ReleaseArtifactsHelper.hasDefinitionReferenceProperty(i,l.ArtifactDefinitionConstants.DefinitionId)&&i[l.ArtifactDefinitionConstants.DefinitionId].id&&this._definitionId(i[l.ArtifactDefinitionConstants.DefinitionId].id);this._getBuildDefinition(this._projectId(),Number(this._definitionId())).then(function(n){!!n.repository&&n.repository.id&&s.localeIgnoreCaseComparer(n.repository.type,gt.TfsGit)===0&&(u.repositoryId(n.repository.id),u.selectedArtifactSourceBranch(r))},function(n){tt.currentContext.logError(n)})},t.prototype._getBuildDefinition=function(n,t){var i=r.defer();return a.serviceContext.buildManager().beginGetBuildDefinition(t,n).then(function(n){i.resolve(n)},function(n){i.reject(n)}),i.promise},t}(ut);t.BranchInputViewModel=pt;wt=function(n){function t(t,r,u){var f=__construct(this,n,[t,r,u]);for(var e in f)f.hasOwnProperty(e)&&(this[e]=f[e]);return f.projectId=i.observable(null),f.tagsViewModel=new k.TagsViewModel,f._getDisposalManager().addDisposable(f.projectId.subscribe(function(n){f.tagsViewModel.projectId(n)})),f._getDisposalManager().addDisposable(f.value.subscribe(function(n){n.trim()&&f.isQueryRequired.valueHasMutated()})),f}return __extends(t,n),t.prototype.getValue=function(){return!this.tagsViewModel||!this.tagsViewModel.tags()?this.value(s.empty):this.value(this.tagsViewModel.tags().join(d.TagControl.TAG_FORMATTING_SEPARATOR)),this.value()},t.prototype.updateValues=function(t,i){var r,u;n.prototype.updateValues.call(this,t,i);b.ReleaseArtifactsHelper.hasDefinitionReferenceProperty(i,l.ArtifactDefinitionConstants.ProjectId)&&i[l.ArtifactDefinitionConstants.ProjectId].id&&this.projectId(i[l.ArtifactDefinitionConstants.ProjectId].id);r=s.empty;b.ReleaseArtifactsHelper.hasDefinitionReferenceProperty(i,t.inputId)&&i[t.inputId].id&&s.localeIgnoreCaseComparer(i[t.inputId].id,s.empty)!==0&&(r=i[t.inputId].id);u=!r?[]:r.split(d.TagControl.TAG_SPLITTING_SEPARATOR);this.tagsViewModel.tags(u)},t}(ut);t.TagsInputViewModel=wt;ni=function(){function n(n,t,r){var u=this;this.name=i.observable("");this.displayName=i.observable("");this.iconCssClass=i.observable("");this.inputDescriptors=i.observableArray([]);this.artifactsChangeNotifier=i.observable(!1);this.serviceErrorMessage=i.observable(s.empty);this.sourceAliasTooltip=v.ArtifactSourceAliasHelpText;this._inputsMap={};this._inputViewModels=[];this._disposalManager=new o.DisposalManager;this._artifactTypeModel=n;this._model=t;this._update(n,r);this._dependencyValuesTracker=this._disposalManager.addDisposable(new bt(n,this._inputViewModels,this._model));this._disposalManager.addDisposable(this._dependencyValuesTracker.artifactsChangeNotifier.subscribe(function(){u.artifactsChangeNotifier.valueHasMutated()}));this._disposalManager.addDisposable(this._dependencyValuesTracker.serviceErrorMessage.subscribe(function(n){u.serviceErrorMessage(n)}))}return n.prototype.getInputViewModel=function(n){return this._inputsMap[n]},n.prototype.initializeDefaultValues=function(n){this._dependencyValuesTracker.initializeValues(n)},n.prototype.changeInputDescriptorsToReadOnly=function(n){$.each(this.inputDescriptors(),function(t,i){i.setIsReadOnly(n)})},n.prototype.dispose=function(){this._disposalManager.dispose()},n.prototype.getActualSourceReference=function(){var n={};return this.inputDescriptors().forEach(function(t){s.ignoreCaseComparer(t.id(),l.ArtifactDefinitionConstants.ArtifactId)!==0&&(n[t.id()]={name:t.value(),id:t.getValue()})}),n},n.prototype.isAjaxRequestInProgress=function(){return this._dependencyValuesTracker.ajaxRequestsInProgress()>0},n.prototype.isDependentsUpdateInProgress=function(){return this._dependencyValuesTracker.dependentsUpdateInProgress()},n.prototype.validate=function(n){var t=[],i=[],r;return(this.inputDescriptors().forEach(function(n){n.id()===l.ArtifactDefinitionConstants.ArtifactId?n.isInvalid()&&(t.push(n.name()),i.push(n.id())):n.isVisible()&&n.isInvalid()&&(t.push(n.name()),i.push(n.id()))}),t.length>0)?n?(this.serviceErrorMessage(s.empty),r=v.ArtifactTypeFieldDeletedErrorMessage,i.indexOf(l.ArtifactDefinitionConstants.DefinitionId)>=0?r=v.ArtifactTypeFieldDeletedErrorMessage:i.indexOf(y.ArtifactDefaultVersionConstants.DefaultVersionBranch)>=0?r=v.ArtifactTypeFieldBranchDeletedErrorMessage:i.indexOf(y.ArtifactDefaultVersionConstants.DefaultVersionSpecific)>=0&&(r=v.ArtifactTypeFieldVersionDeletedErrorMessage),s.localeFormat(r,t.join(", "))):s.localeFormat(v.ArtifactTypeInvalidFieldsErrorMessage,t.join(", ")):null},n.prototype._update=function(n,t){var i=this;this.name(n.name);this.displayName(n.displayName);this.iconCssClass(b.ArtifactHelper.getArtifactIconCssClass(n.name));this._inputsMap={};this._inputViewModels=[];$.each(n.inputDescriptors,function(n,r){var u=i._createInputViewModel(r,t);i.inputDescriptors.push(u);u.id()===l.ArtifactDefinitionConstants.ArtifactId&&u.getInputValues()&&i.artifactsChangeNotifier.valueHasMutated()})},n.prototype._createInputViewModel=function(n,t){var r=this._getValidator(n.validation),i;return i=n.inputMode===e.InputMode.Combo?s.localeIgnoreCaseComparer(n.id,y.ArtifactDefaultVersionConstants.DefaultVersionBranch)===0?new pt(n,r,!!t):s.localeIgnoreCaseComparer(n.id,y.ArtifactDefaultVersionConstants.DefaultVersionTags)===0?new wt(n,r,!!t):new vt(n,r,!!t):n.inputMode===e.InputMode.CheckBox?new yt(n,r,!!t):new at(n,r,!!t),this._inputViewModels.push(i),this._inputsMap[n.id]=i,this._disposalManager.addDisposable(i),this._addEndpointLink(i,n),!t||(i.templateName=t),i},n.prototype._addEndpointLink=function(n,t){this._artifactTypeModel.name!==y.ArtifactTypes.Build&&t.id===l.ArtifactDefinitionConstants.ConnectionId&&n.setShowManageServicesLink(!0)},n.prototype._getValidator=function(n){var t;switch(n.dataType){case e.InputDataType.String:t=new et(n);break;case e.InputDataType.Guid:t=new ct(n);break;case e.InputDataType.Number:t=new ht(n);break;case e.InputDataType.Uri:t=new lt(n);break;case e.InputDataType.Boolean:t=new st(n);break;case e.InputDataType.None:default:t=new ft(n)}return t},n}();t.ArtifactTypeViewModel=ni;bt=function(){function n(n,t,r){this.artifactsChangeNotifier=i.observable(!1);this.serviceErrorMessage=i.observable(s.empty);this.ajaxRequestsInProgress=i.observable(0);this.dependentsUpdateInProgress=i.observable(!1);this._dependencyMap={};this._inputsMap={};this._disposalManager=new o.DisposalManager;this._artifactType=n;this._inputViewModels=t;this._model=r;this._buildDependencyMap();this._addValueChangedSubscription()}return n.prototype.initializeValues=function(n){this._definitionReference=n;var t=[];this._inputViewModels.forEach(function(i){var r={};r.inputId=i.id();i.getDependencyInputIds().length===0&&i.hasDynamicValues()?t.push(r):i.hasDynamicValues()||!!i.getInputValues()&&!!i.getInputValues().possibleValues&&!r.possibleValues||i.updateValues(r,n)});this._queryInputValuesAndUpdate({},t,this._definitionReference)},n.prototype.dispose=function(){this._disposalManager.dispose()},n.prototype._buildDependencyMap=function(){var n=this;this._inputViewModels.forEach(function(t){var i=t.getDependencyInputIds();i&&i.length>0&&i.forEach(function(i){n._dependencyMap[i]||(n._dependencyMap[i]=[]);n._dependencyMap[i].push(t)});n._inputsMap[t.id()]=t})},n.prototype._addValueChangedSubscription=function(){var n=this;this._inputViewModels.forEach(function(t){n._hasDependents(t.id())&&(n._disposalManager.addDisposable(t.isQueryRequired.subscribe(function(){n._handleValueChanged(t,t.value())})),n._disposalManager.addDisposable(t.isValueUpdated.subscribe(function(){var i=n._dependencyMap[t.id()];n._clearDependents(i,[])})))})},n.prototype._hasDependents=function(n){var t=this._dependencyMap[n];return t&&t.length>0},n.prototype._handleValueChanged=function(n,i){var e=this,r,o,f,u;(!t.artifactEditorMessageContext||t.artifactEditorMessageContext.clear(),n.isInvalid())||(this.dependentsUpdateInProgress(!0),r=this._dependencyMap[n.id()],o=[],r.forEach(function(t){o.push(t.id.peek());s.localeIgnoreCaseComparer(n.id(),y.ArtifactDefaultVersionConstants.DefaultVersionType)===0&&t.isVisible(t.isInputVisibile(n.id(),i,n.getValue()))}),this._clearDependents(r,[]),f=[],u={},r.forEach(function(n){var r=!1,t={},o,i;if(n.getDependencyInputIds().forEach(function(i){if(!r){var u=e._inputsMap[i];u.value()?t[u.id()]=e._getCurrentValue(u.value(),u.getInputValues()):s.localeIgnoreCaseComparer(n.id(),l.ArtifactDefinitionConstants.ArtifactId)===0?t[u.id()]=s.empty:r=!0}}),!r){o={};o.inputId=n.id();f.push(o);for(i in t)u[i]||(u[i]=t[i])}}),this._queryInputValuesAndUpdate(u,f,this._definitionReference))},n.prototype._getCurrentValue=function(n,t){if(t&&t.possibleValues&&t.possibleValues.length>0&&t.isLimitedToPossibleValues){var i=h.first(t.possibleValues,function(t){return t.displayValue===n});return i||(i=h.first(t.possibleValues,function(t){return t.value===n})),i?i.value?i.value:i.displayValue:""}return n},n.prototype._queryInputValuesAndUpdate=function(n,i,r){var u=this,e=[],o;i.forEach(function(t){var i;if(s.localeIgnoreCaseComparer(t.inputId,y.ArtifactDefaultVersionConstants.DefaultVersionBranch)===0||s.localeIgnoreCaseComparer(t.inputId,y.ArtifactDefaultVersionConstants.DefaultVersionTags)===0)if(i=u._inputsMap[t.inputId],!r){var f={},o=n[l.ArtifactDefinitionConstants.ProjectId],h=n[l.ArtifactDefinitionConstants.DefinitionId];f[l.ArtifactDefinitionConstants.ProjectId]={id:o,name:o};f[l.ArtifactDefinitionConstants.DefinitionId]={id:h,name:h};i.updateValues(t,f)}else i.updateValues(t,r);else e.push(t)});o={currentValues:n,inputValues:e,resource:this._artifactType.name};this.ajaxRequestsInProgress(this.ajaxRequestsInProgress.peek()+1);this._model.queryInputValues(o).then(function(t){t&&t.inputValues.forEach(function(i){var e,o;i.possibleValues&&i.possibleValues.length>0&&i.possibleValues.sort(function(n,t){return s.localeIgnoreCaseComparer(n.displayValue,t.displayValue)});e=u._inputsMap[i.inputId];i.error&&i.error.message.trim()?u.serviceErrorMessage(s.localeFormat(v.InputValueQueryError,e?s.htmlEncode(e.name()):s.empty,s.htmlEncode(i.error.message))):e&&(u.serviceErrorMessage(s.empty),o=f.getDefaultWebContext().project.id,!n||(o=n[l.ArtifactDefinitionConstants.ProjectId]),e.updateValues(i,r,t.resource,o));e&&s.localeIgnoreCaseComparer(e.id(),l.ArtifactDefinitionConstants.ArtifactId)===0&&u.artifactsChangeNotifier.valueHasMutated();e&&s.localeIgnoreCaseComparer(e.id(),l.ArtifactDefinitionConstants.DefinitionId)===0&&u.artifactsChangeNotifier.valueHasMutated()});u.ajaxRequestsInProgress(u.ajaxRequestsInProgress.peek()-1)},function(n){!t.artifactEditorMessageContext||t.artifactEditorMessageContext.logError(w.ErrorHelper.getErrorMessage(n));u.ajaxRequestsInProgress(u.ajaxRequestsInProgress.peek()-1)});this.dependentsUpdateInProgress(!1)},n.prototype._clearDependents=function(n,t){var i=this,r=[];n.forEach(function(n){n.clear();n.id()===l.ArtifactDefinitionConstants.ArtifactId&&i.artifactsChangeNotifier.valueHasMutated();i._dependencyMap[n.id.peek()]&&i._dependencyMap[n.id.peek()].forEach(function(n){h.contains(t,n.id.peek())||(t.push(n.id.peek()),r.push(n))})});r.length>0&&this._clearDependents(r,t)},n}();t.DependentValuesTracker=bt;kt=function(){function n(n,t){this.artifact=i.observable(null);this._originalArtifact=jQuery.extend(!0,{},n);this._update(n);this.id=t==undefined?w.GUIDUtils.newGuid():t}return n.prototype.getValue=function(){return this.artifact()},n.prototype.getOriginalArtifact=function(){return this._originalArtifact},n.prototype._update=function(n){!n||this.artifact(jQuery.extend(!0,{},n))},n}();t.ArtifactViewModel=kt;ti=function(){function n(n){this.artifactsList=i.observableArray([]);this.update(n);this._changeTracker=new b.ChangeTracker(this)}return n.prototype.removeArtifact=function(n){var t=this.getArtifact(n);t&&this.artifactsList.remove(t)},n.prototype.setPrimaryArtifact=function(n){var i=this.artifactsList(),f=i.length,r,t,e,u;if(n)for(n.artifact().isPrimary=!0,this.updateArtifactInList(n),r=0;r<f;r++)t=i[r],s.localeIgnoreCaseComparer(n.artifact().alias,t.artifact().alias)!==0&&t.artifact().isPrimary&&(t.artifact().isPrimary=!1,this.updateArtifactInList(t));else f>0&&(e=h.first(i,function(n){return n.artifact.peek().isPrimary}),e||(u=i[0],u.artifact().isPrimary=!0,this.updateArtifactInList(u)))},n.prototype.updateArtifactInList=function(n){this.updateArtifactModel(n);this.artifactsList.valueHasMutated()},n.prototype.update=function(n){this._originalArtifacts=n||[];this._update(this._originalArtifacts)},n.prototype.updateArtifactModel=function(n){for(var i=this.artifactsList(),r=i.length,t=0;t<r;t++)s.ignoreCaseComparer(n.id,i[t].id)===0&&i[t].artifact(n.artifact())},n.prototype.addArtifacts=function(n){var t=this;n.forEach(function(n){t._addArtifact(n)});this.setPrimaryArtifact()},n.prototype.hasArtifactSource=function(n){for(var i=this.artifactsList(),r=i.length,t=0;t<r;t++)if(n===i[t].artifact().definitionReference[l.ArtifactDefinitionConstants.DefinitionId].id)return!0;return!1},n.prototype.hasDuplicateArtifactAlias=function(n){var i,r,t;if(n)for(i=this.artifactsList(),r=i.length,t=0;t<r;t++)if(n.id!==i[t].id&&s.localeIgnoreCaseComparer(n.getValue().alias,i[t].artifact().alias)===0)return!0;return!1},n.prototype.getValue=function(){return $.map(this.artifactsList(),function(n){return n.getValue()})},n.prototype.computeDirty=function(){var n=this.artifactsList(),t=this._originalArtifacts||[];return n.length!==t.length?!0:this._computeDirty(n,t)},n.prototype.dispose=function(){this._disposeArtifactsList();this._changeTracker.dispose()},n.prototype.hasArtifactInList=function(){return this.artifactsList().length>0},n.prototype.getArtifact=function(n){return h.first(this.artifactsList(),function(t){return s.ignoreCaseComparer(n,t.artifact().alias)===0})},n.prototype.artifactDefinitionHasChanged=function(n,t){if(n.isPrimary!==t.isPrimary||s.localeIgnoreCaseComparer(n.alias,t.alias)!==0||s.localeIgnoreCaseComparer(n.type,t.type)!==0)return!0;var i=n.definitionReference,r=t.definitionReference,f=l.ArtifactDefinitionConstants.DefinitionId;if(s.localeIgnoreCaseComparer(i[f].name,r[f].name)!==0||s.localeIgnoreCaseComparer(i[f].id,r[f].id)!==0)return!0;var o=y.ArtifactDefaultVersionConstants.DefaultVersionType,h=y.ArtifactDefaultVersionConstants.DefaultVersionBranch,c=y.ArtifactDefaultVersionConstants.DefaultVersionTags,a=y.ArtifactDefaultVersionConstants.DefaultVersionSpecific,v=y.ArtifactDefaultVersionConstants.LatestWithBranchAndTags,p=y.ArtifactDefaultVersionConstants.SpecificVersion,u=i[o],e=r[o];return!u&&!e?!1:!u&&e||u&&!e?!0:s.localeIgnoreCaseComparer(u.id,e.id)!==0?!0:s.localeIgnoreCaseComparer(u.id,v)===0&&(!this._artifactSourceReferenceIsIdentical(i[h],r[h])||!this._tagsAreIdentical(i[c],r[c]))?!0:s.localeIgnoreCaseComparer(u.id,p)===0&&!this._artifactSourceReferenceIsIdentical(i[a],r[a])?!0:!1},n.prototype._artifactSourceReferenceIsIdentical=function(n,t){var i=!n?s.empty:n.id,r=!t?s.empty:t.id;return s.localeIgnoreCaseComparer(i,r)===0},n.prototype._tagsAreIdentical=function(n,t){var r=!n?null:n.id,u=!t?null:t.id,f=!r?[]:r.split(d.TagControl.TAG_SPLITTING_SEPARATOR),e=!u?[]:u.split(d.TagControl.TAG_SPLITTING_SEPARATOR),i;return f.length!=e.length?!1:(i=!0,f.forEach(function(n){e.some(function(t){return s.localeIgnoreCaseComparer(t.trim(),n.trim())===0})||(i=!1)}),i)},n.prototype._computeDirty=function(n,t){var r=this,i=!1,u=t.sort(function(n,t){return s.localeIgnoreCaseComparer(n.alias,t.alias)}),f=n.sort(function(n,t){return s.localeIgnoreCaseComparer(n.artifact().alias,t.artifact().alias)});return $.each(u,function(n,t){var u=f[n].artifact(),e=t,o,s;if(r.artifactDefinitionHasChanged(u,e)){i=!0;return}if(o=p.Artifact.create(u).getVersionRankAsString(),s=p.Artifact.create(e).getVersionRankAsString(),o!==s){i=!0;return}}),i},n.prototype._addArtifact=function(n){var t=new kt(n);this.artifactsList.push(t)},n.prototype._update=function(n){this._disposeArtifactsList();this.addArtifacts(n)},n.prototype._disposeArtifactsList=function(){this.artifactsList([])},n}();t.ArtifactsListViewModel=ti;ot=function(){function n(){var n=this;this.isHoverEnabled=i.observable(!1);this.ignoreValidation=i.observable(!0);this.name=i.observable("");this.path=i.observable("");this.description=i.observable("");this.isNameValid=i.computed(function(){return n._isValidArtifactName(n.name())});this.isPathValid=i.computed(function(){return!!n.path()&&n.path().trim()!==""});this._changeTracker=new b.ChangeTracker(this);this._changeTracker.addDisposable(this.isNameValid);this._changeTracker.addDisposable(this.isPathValid)}return n.prototype.dispose=function(){this._changeTracker.dispose()},n.prototype.computeDirty=function(){return!!this.name().trim()||!!this.path().trim()||!!this.description().trim()},n.prototype.isValidName=function(){return this.isNameValid()},n.prototype.isValidPath=function(){return this.isPathValid()},n.prototype.validateName=function(){return!this.dirty()||this.isValidName()?!0:(this.ignoreValidation()&&this.ignoreValidation(!1),!1)},n.prototype.validatePath=function(){return!this.dirty()||this.isValidPath()?!0:(this.ignoreValidation()&&this.ignoreValidation(!1),!1)},n.prototype.enableHover=function(){this.isHoverEnabled(!0)},n.prototype.disableHover=function(){this.isHoverEnabled(!1)},n.prototype._isValidArtifactName=function(n){return!!n&&n.trim()!==""&&RegExp(y.RegExConstants.ArtifactTypeNameRegEx).test(n)},n}();t.NewArtifactDefinitionViewModel=ot;ii=function(){function n(){this.initialize();this._changeTracker=new b.ChangeTracker(this)}return n.prototype.initialize=function(){this.newArtifactDefinitions?this.newArtifactDefinitions().length>0&&this.newArtifactDefinitions([]):this.newArtifactDefinitions=i.observableArray();this.newArtifactDefinitions.push(new ot)},n.prototype.addArtifactDefinition=function(){this.newArtifactDefinitions.push(new ot)},n.prototype.computeDirty=function(){var n=h.first(this.newArtifactDefinitions(),function(n){return n.dirty()});return!!n},n.prototype.dispose=function(){$.each(this.newArtifactDefinitions(),function(n,t){t.dispose()});this._changeTracker.dispose()},n.prototype.validateName=function(){return this.isEmpty()||this.isValidName()||this.isDuplicate()},n.prototype.validatePath=function(){return this.isEmpty()||this.isValidPath()},n.prototype.isValidName=function(){var n=!0;return(this.newArtifactDefinitions().forEach(function(t){if(!t.validateName()){n=!1;return}}),!n)?v.ArtifactNameInvalidErrorMessage:null},n.prototype.isValidPath=function(){var n=!0;return(this.newArtifactDefinitions().forEach(function(t){if(!t.validatePath()){n=!1;return}}),!n)?v.ArtifactPathEmptyErrorMessage:null},n.prototype.isEmpty=function(){var n=!0;return(this.newArtifactDefinitions().forEach(function(t){t.dirty()&&(n=!1)}),n)?v.ArtifactListEmptyErrorMessage:null},n.prototype.isDuplicate=function(){var n=[],t={};return(this.newArtifactDefinitions().forEach(function(i){var r=i.name().trim().toLowerCase();t[r]&&n.push(i.name().trim());t[r]=!0}),n.length>0)?s.format(v.ArtifactAlreadyExistErrorMessage,n.join(", ")):null},n}();t.NewArtifactDefinitionsListViewModel=ii;dt=function(){function n(n,t,i){this.displayNameWithFolder=n;this.displayNameWithoutFolder=t;this.id=i}return n}();t.BuildDefinitionModel=dt;u.tfsModuleLoaded("TFS.ReleaseManagement.Artifacts.ObjectViewModel",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.LoadEnvironmentTemplatesDialog",["require","exports","knockout","q","VSS/VSS","VSS/Controls","VSS/Controls/Combos","VSS/Controls/Dialogs","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","DistributedTasksCommon/TFS.Tasks.Models","DistributedTasksCommon/TFS.Tasks.Common.Dialogs","TFS/Build/Contracts","DistributedTasksCommon/TFS.Knockout.HubPageExplorerPivot","ReleasePipeline/Scripts/TFS.ReleaseManagement.Context","ReleasePipeline/Scripts/TFS.ReleaseManagement.Presentation.Identities","ReleasePipeline/Scripts/TFS.ReleaseManagement.MessageArea","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleaseManagement/Core/Contracts","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleasePipeline/Scripts/TFS.ReleaseManagement.EditorSnapshots","ReleasePipeline/Scripts/TFS.ReleaseManagement.Artifacts.ObjectViewModel","ReleasePipeline/Scripts/TFS.ReleaseManagement.WebApiServices","ReleasePipeline/Scripts/TFS.ReleaseManagement.Manager","ReleasePipeline/Scripts/TFS.ReleaseManagement.TelemetryUtils","ReleaseManagement/Core/Constants","ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.UserDialog"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht){var vt,yt,pt,ct,lt,wt,at,bt,kt,dt,ni;Object.defineProperty(t,"__esModule",{value:!0});t.DialogHelper=t.CloneDefinitionEnvironmentDialog=t.CloneDefinitionEnvironmentDialogModel=t.CreateReleaseDefinitionWizardDialog=t.ReleaseManagementWizardDialog=t.CreateReleaseDefinitionWizardDialogModel=t.ReleaseManagementWizardDialogModel=t.SettingsPageViewModel=t.ArtifactTypeExtendedViewModel=t.EnvironmentTemplatesPageViewModel=t.EnvironmentTemplatesDialogPivotTab=t.EnvironmentTemplateViewModel=void 0;var ti=h.delegate,ii=l.domElem,gt=function(){function n(n,t,i,r,u){this.id="";this.name="";this.description="";this._template=n;this._deleteFunction=t;this._deleteFunctionCallback=i;this.iconUrl=r||"";this._errorCallback=typeof u=="function"?u:!k.currentContext?function(){}:ti(k.currentContext,k.currentContext.logError);this.id=n.id;this.name=n.name;this.description=n.description;this.canDelete=n.canDelete}return n.prototype.deleteCommand=function(){var n=this,t;this.canDelete&&typeof this._deleteFunction=="function"&&typeof this._deleteFunctionCallback=="function"&&(t=this._deleteFunction(this._template,function(t){t.then(n._deleteFunctionCallback,n._errorCallback)}))},n}();t.EnvironmentTemplateViewModel=gt;vt=function(n){function t(t,r,u){var f=__construct(this,n,[t,r,u]);for(var e in f)f.hasOwnProperty(e)&&(this[e]=f[e]);return f.templateVMs=i.observableArray([]),f}return __extends(t,n),t.prototype.removeTemplate=function(n){var t=s.findIndex(this.templateVMs(),function(t){return c.localeIgnoreCaseComparer(t.id,n.id)===0}),i;t>=0&&(i=this.templateVMs.peek()[t],this.templateVMs.remove(i),this.templateVMs.sort(function(n,t){return c.localeIgnoreCaseComparer(n.name,t.name)}))},t}(p.BasicPivotTab);t.EnvironmentTemplatesDialogPivotTab=vt;yt=function(n){function t(t,r,u){var f=__construct(this,n,[u]);for(var e in f)f.hasOwnProperty(e)&&(this[e]=f[e]);return f.pageTemplate="environment_templates_page",f.pageCss="environment-templates-page-css",f.tabsHeaderCss="release-template-tabs new-exp",f.emptyDefinitionTab=i.observable(null),f.isInvalid=i.observable(!0),f.isInitialized=i.observable(!1),f.selectedTemplateId=i.observable(c.empty),f._templatesMap={},f._templates=[],f._iconUrlMap={},f._selectedTabId=c.empty,f._customTab=null,f._pageHtml="\n    <div class='".concat(f.tabsHeaderCss,"'>\n        <div class='bg-color-paint'>\n            <ul class='pivot-view releasemanagement-tabs new-exp' data-bind='foreach: tabs'>\n                <li data-bind=\"css: { 'selected': isSelected }, visible: isVisible, attr: {'tabindex': ((isSelected() == true) ? '0' : '-1'), 'title': title, 'aria-selected':isSelected }, click: $parent._onTabClick, event: { keydown: $parent._onTabKeyDown }\">\n                    <a data-bind='text: text'><\/a>\n                <\/li>\n            <\/ul>\n        <\/div>\n    <\/div>\n    <div class='releasemanagement-load-templates-dialog new-exp'>\n       <!-- ko foreach: tabs -->\n       <div class='tab-content-container' data-bind='visible: isSelected'>\n           <div data-bind='applyTemplate: { templateName: templateName, viewModel: $data }'><\/div>\n       <\/div>\n       <!-- /ko -->\n    <\/div>\n    <div class='template-empty-def-release-management new-exp'>\n       <!-- ko if: emptyDefinitionTab -->\n       <div data-bind='applyTemplate: { templateName: emptyDefinitionTab().templateName, viewModel: emptyDefinitionTab }'><\/div>\n       <!-- /ko -->\n    <\/div>"),f._templatesTabTemplate="environment_templates_tab_content",f._templatesTabHTML="\n    <ul class='templates-list new-exp' data-bind='foreach: templateVMs, attr: { id: id }'>\n        <li tabindex='0' class='templates-list-item' data-bind='attr: { id: id, \"aria-label\": name, \"aria-describedby\": id + \"-description\" }, css: id'>\n            <div class='icon bowtie-icon ' data-bind='visible: iconUrl'>\n                <img data-bind='attr: { src: iconUrl }' />\n            <\/div>\n            <!-- ko ifnot: iconUrl -->\n            <div class='icon bowtie-icon empty'><\/div>\n            <!-- /ko -->\n            <div class='templates-list-item-details'>\n                <div class='releasemanagement-dialog-item-title' data-bind='text: name'><\/div>\n                <div class='templates-list-item-description' data-bind='text: description, attr: { id: id + \"-description\" } '><\/div>\n            <\/div>\n            <div class='templates-list-item-delete' data-bind='visible: canDelete'>\n                <a data-bind='click: deleteCommand'>\n                    <span class='bowtie-icon bowtie-edit-delete' data-bind='attr: {title: ko.RMUtils.getRMResource(\"DeleteTemplate\")}'><\/span>\n                <\/a>\n            <\/div>\n        <\/li>\n    <\/ul>",f._templates=t,f._iconUrlMap=r,f._selectedTabId=!u.selectedTabId?d.TemplateCategoryDeployment:u.selectedTabId,f._changeTracker=new tt.ChangeTracker(f),f._onTabClick=function(n){var t=!n?c.empty:n.id;f.selectedTab(t)},f._onTabKeyDown=function(n,t){return nt.AccessibilityHelper.triggerClickOnEnterPress(t)},f._changeTracker.addDisposable(f.selectedTab.subscribe(function(n){f.hubTitleContent(n)})),nt.HtmlHelper.renderTemplateIfNeeded(f._templatesTabTemplate,f._templatesTabHTML),nt.HtmlHelper.renderTemplateIfNeeded(f.pageTemplate,f._pageHtml),f._createTemplatesMap(),f._initTabs(),f.hubTitleContent(f.selectedTab()),f.selectedTemplateId.valueHasMutated(),f.isInitialized(!0),f}return __extends(t,n),t.prototype.computeDirty=function(){return this.isInvalid(!this.selectedTemplateId()),this.isInvalid()},t.prototype.dispose=function(){!this._changeTracker||this._changeTracker.dispose()},t.prototype._createTemplatesMap=function(){var n=this;$.each(this._templates,function(t,i){var r=n._getCategory(i.category||"");n._templatesMap.hasOwnProperty(r)?n._templatesMap[r].push(i):n._templatesMap[r]=[i]})},t.prototype._initTabs=function(){var n=this,t=null;this.tabs([]);$.map(this._templatesMap,function(r,u){var f=new vt(u,u,n._templatesTabTemplate),e=[];$.each(r,function(t,i){var r=n._iconUrlMap.hasOwnProperty(i.id)?n._iconUrlMap[i.id]:c.empty;e.push(new gt(i,n._deleteTemplate,function(){f.removeTemplate(i);c.ignoreCaseComparer(i.id,n.selectedTemplateId.peek())===0&&n.selectedTemplateId(c.empty)},r))});e.sort(function(n,t){return c.localeIgnoreCaseComparer(n.name,t.name)});f.templateVMs=i.observableArray(e);switch(u){case d.TemplateCategoryCustom:t=f;break;case d.TemplateCategoryEmpty:n.emptyDefinitionTab(f);break;default:c.localeIgnoreCaseComparer(u,n._selectedTabId)===0&&f.isSelected(!0);n.tabs.push(f)}});this.tabs.sort(function(n,t){return c.localeIgnoreCaseComparer(n.id,t.id)});!t||this.tabs.push(t);this.selectedTab(this._selectedTabId)},t.prototype._deleteTemplate=function(n,t){ht.DialogUtils.confirm(c.localeFormat(d.ConfirmDeleteEnvironmentTemplate,n.name),function(i){i?t(w.serviceContext.releaseDefinitionManager().deleteEnvironmentTemplate(n.id)):t(r.defer().promise)},d.DeleteEnvironmentConfirmationTitle)},t.prototype._isEmptyTemplate=function(n){return n.id.toLowerCase()==="00000000-0000-0000-0000-000000000000"},t.prototype._getCategory=function(n){switch(n.toLowerCase()){case"deployment":return d.TemplateCategoryDeployment;case"custom":return d.TemplateCategoryCustom;case"empty":return d.TemplateCategoryEmpty;default:return d.TemplateCategoryOther}},t}(p.HubPageExplorerPivotBase);t.EnvironmentTemplatesPageViewModel=yt;pt=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t.tooltip=i.computed(function(){return tt.ArtifactHelper.getArtifactTooltip(t.name())}),t}return __extends(t,n),t}(ut.ArtifactTypeViewModel);t.ArtifactTypeExtendedViewModel=pt;ct=function(){function n(n){this.isInvalid=i.observable(!0);this.isInitialized=i.observable(!1);this.errorMessage=i.observable(c.empty);this.selectedArtifactType=i.observable(null);this.artifactChanged=i.observable(!0);this.artifactTypes=i.observableArray([]);this.enableCI=i.observable(!1);this.selectedTemplateId=i.observable(c.empty);this.selectedTemplate=i.observable(null);this.labelForEnvironmentAdd=i.observable(c.empty);this.labelForEnvironmentClone=i.observable(c.empty);this.labelForTrigger=i.observable(c.empty);this.enableTrigger=i.observable(!1);this.preApprovalRadioButtonValue=i.observable(it.ApprovalRadioButtonTypes.IsAutomated);this.preApprovalCount=i.observable(0);this.environment=null;this.operationType=null;this.lastEnvironmentName=c.empty;this.pageTemplate="environment_settings_page";this.pageCss="env-set-page-css";this.preApprovalComboElementCss="pre-app-spec-combo-cell";this._artifactTypeMap={};this._invalidResourceId=-1;this._options=null;this._originalTemplateId=c.empty;this._artifactTypesPromise=null;this._artifactService=null;this._pageHtml="\n    <div class='env-set-global'>\n        <!-- ko if: labelForEnvironmentClone -->\n        <div class='env-clone-setting-text pad-min'>\n            <label data-bind='text: labelForEnvironmentClone, attr: {title: labelForEnvironmentClone}'><\/label>\n        <\/div>\n        <!-- /ko -->\n\n        <div class='artifacts-container' data-bind='visible: !labelForEnvironmentAdd()'>\n            <div class='pad-min'>\n                <div class='arti-header'>\n                    <span class='artifacts-name'>".concat(d.EnvironmentSettingsArtifactsText,"<\/span>\n                <\/div>\n                <div class='horizontal-line splitter horizontal env-set-section-head-splitter'><\/div>\n                <div class='artifacts-description'>\n                    <label>").concat(d.EnvironmentSettingsArtifactsDescriptionText,"<\/label>\n                <\/div>\n\n                <div class='artifacts'>\n                    <table>\n                        <tr role='tablist'>\n                            <!--ko foreach: artifactTypes -->\n                            <td class='no-pad border'>\n                                <div class='artifact-block' role='tab' tabindex='0' data-bind=\"css: { 'selected': (!!$parent.selectedArtifactType() && $parent.selectedArtifactType().name() === $data.name()) }, attr: { id: name }, showRichContentTooltip: { text: tooltip, setAriaDescribedBy: true }, click: $parent.artifactTypeClicked.bind($parent, $data.name()), event: { keydown: $parent.keyDownOnArtifactType.bind($parent, $data.name()) }\">\n                                    <!-- ko if: name() === '").concat(it.ArtifactTypes.JenkinsId,"' -->\n                                    <div data-bind=\"attr: { 'aria-label': displayName, 'class': 'block-image ' + iconCssClass()}\"><\/div>\n                                    <!--/ko-->\n                                    <!-- ko ifnot: name() === '").concat(it.ArtifactTypes.JenkinsId,"' -->\n                                    <div data-bind=\"attr: { 'class': 'block-image ' + iconCssClass()}\"><\/div>\n                                    <span class='block-text' data-bind='text: displayName'><\/span>\n                                    <!--/ko-->\n                                <\/div>\n                            <\/td>\n                            <!--/ko-->\n                            <td class='no-pad'>\n                                <div class='artifact-block' role='tab' tabindex='0' id='choose_later' data-bind=\"showRichContentTooltip: { text: ko.RMUtils.getRMResource('ChooseLaterOptionTooltipText'), setAriaDescribedBy: true }, css: { 'selected': (!$data.selectedArtifactType()) }, click: $data.artifactTypeClicked.bind($data, ''), event: { keydown: $data.keyDownOnArtifactType.bind($data, '') }\">\n                                    <div class='block-image'><\/div>\n                                    <span class='block-text'>").concat(d.EnvironmentSettingsArtifactsChooseLaterText,"<\/span>\n                                <\/div>\n                            <\/td>\n                        <\/tr>\n                    <\/table>\n                <\/div>\n            <\/div>\n\n            <!-- ko if: selectedArtifactType -->\n            <div class='input-container'>\n                <!-- ko with: selectedArtifactType -->\n                <table class='aritfact-type-editor-input-table'>\n                    <tbody data-bind='foreach: inputDescriptors'>\n                        <!-- ko if: mode !== 'none' -->\n                        <tr>\n                            <td class='pad-it'>\n                                <table>\n                                    <tbody data-bind='template: { name: templateName }'><\/tbody>\n                                <\/table>\n                            <\/td>\n                        <\/tr>\n                        <!-- /ko -->\n                    <\/tbody>\n                <\/table>\n                <!-- /ko -->\n            <\/div>\n            \n            <!-- ko if: (selectedArtifactType().name() === '").concat(it.ArtifactTypes.Build,"') -->\n            <div class='build-ci'>\n                <input id='build-ci' tabindex='0' type='checkbox' data-bind='checked: enableCI' />\n                <label for='build-ci'>").concat(d.ContinuousDeploymentForBuildCompleteLabelText,"<\/label>\n            <\/div>\n            <!-- /ko -->\n            \n            <!-- /ko -->\n        <\/div>\n\n        <!-- ko if: labelForEnvironmentAdd -->\n        <div class='pre-app-container'>\n            <div class='pad-min'>\n                <div class='pre-app-header'>\n                    <span>").concat(d.PreDeploymentApproval,"<\/span>\n                <\/div>\n                <div class='horizontal-line splitter horizontal env-set-section-head-splitter'><\/div>\n                <div class='pre-app-des'>\n                    <label>").concat(d.AddEnvironmentPreApprovalDescription,"<\/label>\n                <\/div>\n            <\/div>\n            <div class='pre-app-auto-head'>\n                <input id='pre-app-auto' type='radio' tabindex='0' name='preApprovalRadioButton' value='").concat(it.ApprovalRadioButtonTypes.IsAutomated,"' data-bind='checked: preApprovalRadioButtonValue' />\n                <label for='pre-app-auto'>").concat(d.PreApprovalAutomaticApproval,"<\/label>\n            <\/div>\n            <div class='pre-app-spec-head'>\n                <input id='pre-app-spec' type='radio' tabindex='0' name='preApprovalRadioButton' value='").concat(it.ApprovalRadioButtonTypes.SpecificUsers,"' data-bind='checked: preApprovalRadioButtonValue' />\n                <label for='pre-app-spec'>").concat(d.PreApprovalSpecificUsers,"<\/label>\n            <\/div>\n            <div class='").concat(this.preApprovalComboElementCss,"' data-bind=\"css : {'invalid': (preApprovalCount() <= 0)}, visible: preApprovalRadioButtonValue() === '").concat(it.ApprovalRadioButtonTypes.SpecificUsers,"'\"><\/div>\n        <\/div>\n\n        <div class='trig-container'>\n            <div class='pad-min'>\n                <div class='trig-header'>\n                    <span>").concat(d.EnvironmentDeploymentConditionsTitle,"<\/span>\n                <\/div>\n                <div class='horizontal-line splitter horizontal env-set-section-head-splitter'><\/div>\n            <\/div>\n            <div class='trig' data-bind='visible: labelForTrigger'>\n                <input tabindex='0' id='trig-check' type='checkbox' data-bind='checked: enableTrigger' />\n                <label for='trig-check' data-bind='text: labelForTrigger, attr: {title: labelForTrigger}'><\/label>\n            <\/div>\n        <\/div>\n        <!-- /ko -->\n    <\/div>");this._inputTemplate="input_desc_set";this._inputTemplateHtml="\n    <tr data-bind='visible: isVisible()'>\n        <td class='key-field'>\n            <!-- ko if: mode !== 'none' -->\n            <label data-bind=\"html: displayName, attr: { for: id, title: description}, css: { 'bold-text': isInvalid() }\"><\/label>\n            <!-- /ko -->\n        <\/td>\n    <\/tr>\n    <tr data-bind='visible: isVisible()'>\n        <td class='value-field fixed-size'>\n            <!-- ko if: mode === 'checkbox' -->\n            <input type='checkbox' data-bind=\"attr: { id: id }, checked: value, css: { 'invalid': isInvalid() }, disable: isReadOnly\" />\n            <!-- /ko -->\n\n            <!-- ko if: mode === 'textbox' -->\n            <input type='text' data-bind=\"attr: { id: id }, value: value, valueUpdate: ['blur', 'afterkeydown'], css: { 'invalid': isInvalid() }, disable: isReadOnly, event: { blur: handleFinalValue }\" />\n            <!-- /ko -->\n\n            <!-- ko if: mode === 'password' -->\n            <input type='password' data-bind=\"attr: { id: id }, value: value, valueUpdate: ['blur', 'afterkeydown'], css: { 'invalid': isInvalid() }, disable: isReadOnly, event: { blur: handleFinalValue }\" />\n            <!-- /ko -->\n\n            <!-- ko if: mode === 'combo' && id() === defaultVersionBranch -->\n            <span data-bind=\"createBranchEnhancement: { viewModel: branchViewModel }\"><\/span>\n            <!-- /ko -->\n\n            <!-- ko if: mode === 'combo' && id() === defaultVersionTags -->\n            <span data-bind=\"createTagEnhancement: { controlType: 'tags', viewModel: tagsViewModel, eventHandlers: [] }\"><\/span>\n            <!-- /ko -->\n\n            <!-- ko if: mode === 'combo' && id() !== defaultVersionBranch && id() !== defaultVersionTags -->\n            <div class='pick-list' data-bind=\"attr: { id: id }, css: { 'invalid': isInvalid() }, disable: isReadOnly\"><\/div>\n            <!-- /ko -->\n\n            <!-- ko if: mode === 'textArea' -->\n            <textarea data-bind=\"attr: { id: id }, value: value, valueUpdate: ['blur', 'afterkeydown'], css: { 'invalid': isInvalid() }, disable: isReadOnly, event: { blur: handleFinalValue }\"><\/textarea>\n            <!-- /ko -->\n        <\/td>\n    <\/tr>";this._initialize(n);this._setSelectedEnvironmentParameters();this._bindEvents();this._setArtifactSources()}return n.prototype.artifactTypeClicked=function(n){var t=this;this._artifactTypeChanged(t,n)},n.prototype.keyDownOnArtifactType=function(n,t,i){var r=this;return nt.AccessibilityHelper.isEnterKeyPressEvent(i)?(this._artifactTypeChanged(r,n),!1):!0},n.prototype.computeDirty=function(){var n=this._isCloneEnv?!0:!!this.selectedTemplate();return n=n&&(this.preApprovalRadioButtonValue()===it.ApprovalRadioButtonTypes.IsAutomated||this.preApprovalCount()>0),n&&!!this.selectedArtifactType()&&s.first(this.selectedArtifactType().inputDescriptors(),function(t){return t.mode!=="none"&&t.isVisible()&&t.isInvalid()&&(n=!1),!n}),this.isInvalid(!n),this.isInvalid()},n.prototype.onManageQueuesLinkOnKeyDown=function(n,t){return nt.AccessibilityHelper.triggerClickOnEnterPress(t)},n.prototype.dispose=function(){!this._changeTracker||this._changeTracker.dispose()},n.prototype._initialize=function(n){this._options=n;this._changeTracker=new tt.ChangeTracker(this);this.operationType=this._options.operationType;this._isCloneEnv=this.operationType===it.EnvironmentDefinitionAddOperationType.CloneEnvironment;this._isAddEnv=this.operationType===it.EnvironmentDefinitionAddOperationType.AddEnvironment;this._isCreateRD=this.operationType===it.EnvironmentDefinitionAddOperationType.CreateReleaseDefinition},n.prototype._bindEvents=function(){var n=this;nt.HtmlHelper.renderTemplateIfNeeded(this._inputTemplate,this._inputTemplateHtml);nt.HtmlHelper.renderTemplateIfNeeded(this.pageTemplate,this._pageHtml);this._isCloneEnv||this._changeTracker.addDisposable(this.selectedTemplateId.subscribe(function(t){n._getTemplate(t)}));this.computeInitialization=i.computed(function(){if(n._isCreateRD&&n.artifactTypes().length<=0){n.isInitialized(!1);return}n.isInitialized(!0);return});this._changeTracker.addDisposable(this.computeInitialization)},n.prototype._setArtifactSources=function(){this._isCreateRD&&(this._artifactTypesPromise=w.serviceContext.artifactsDefinitionManager().beginGetArtifactTypes(),this._artifactService=new ft.ArtifactTypesService(et.BaseManager.releaseManagementClient),this._getSupportedArtifactTypes())},n.prototype._artifactTypeChanged=function(t,i){if(!t||!i){n._initializeAndSetSelectedArtifact(t,null,!0);return}var r=null;if(r=s.first(t.artifactTypes(),function(n){return c.localeIgnoreCaseComparer(n.name.peek(),i)===0}),!!r&&(!t.selectedArtifactType.peek()||c.localeIgnoreCaseComparer(i,t.selectedArtifactType.peek().name.peek())!==0)){n._initializeAndSetSelectedArtifact(t,r,!0);return}},n._initializeAndSetSelectedArtifact=function(n,t,i){i===void 0&&(i=!1);!t||t.initializeDefaultValues();!n||(n.selectedArtifactType(t),i&&n.artifactChanged.valueHasMutated())},n.prototype._getSupportedArtifactTypes=function(){var t=this;this._artifactTypesPromise.then(function(i){var f,r,u;t.errorMessage(c.empty);f=i.filter(function(n){return tt.ArtifactHelper.isSupportedArtifactType(n.name)});t._artifactTypeMap={};r=[];r=$.map(f,function(n){var i=new pt(n,t._artifactService,t._inputTemplate);return t._changeTracker.addDisposable(i),t._artifactTypeMap[n.name]=i,i});t.artifactTypes(r);u=t._artifactTypeMap[it.ArtifactTypes.Build];u?n._initializeAndSetSelectedArtifact(t,u):r.length>0&&n._initializeAndSetSelectedArtifact(t,r[0]);t.artifactTypes.valueHasMutated()},function(n){t.errorMessage(nt.ErrorHelper.getErrorMessage(n))})},n.prototype._setSelectedEnvironmentParameters=function(){if(!this._isCreateRD)if(this.labelForEnvironmentAdd(d.EnvironmentAddSettingsHeader),this.enableTrigger(!0),this.preApprovalRadioButtonValue(it.ApprovalRadioButtonTypes.IsAutomated),!this._options.snapshot)this._isAddEnv&&this.labelForTrigger(d.EnvironmentDeploymentConditionsOnReleaseCreationlTooltip);else if(this.environment=this._options.snapshot,!this._options.lastEnvironmentName||(this.lastEnvironmentName=this._options.lastEnvironmentName),this.labelForTrigger(c.localeFormat(d.EnvironmentTriggerAutomatically,this.lastEnvironmentName)),this._isCloneEnv){this.labelForEnvironmentClone(c.localeFormat(d.EnvironmentCloneSettingsHeader,this.environment.name));var n=s.first(this.environment.preDeployApprovals.approvals,function(n){return!n.isAutomated});!n||this.preApprovalRadioButtonValue(it.ApprovalRadioButtonTypes.SpecificUsers)}},n.prototype._getTemplate=function(n){var t=this,i;if(!this._isCloneEnv){if(!n){this.isInvalid(!0);return}this._originalTemplateId&&c.localeIgnoreCaseComparer(n,this._originalTemplateId)===0?this.selectedTemplate.valueHasMutated():(i=w.serviceContext.releaseDefinitionManager().getEnvironmentTemplate(n),i.then(function(i){t.errorMessage(c.empty);t._originalTemplateId=n;t.selectedTemplate(i)},function(n){t.errorMessage(nt.ErrorHelper.getErrorMessage(n))}))}},n}();t.SettingsPageViewModel=ct;lt=function(n){function t(t){var i=n.call(this,"template-wizard")||this;return i._options=null,i._options=t,i.rootDialogCssClass=i.rootDialogCssClass+" rd-wizard-root",i.lastPageNextIcon(""),i.lastPageNextText(d.CreateButtonText),i.errorMessage(c.empty),i.createCallback=t.createCallback,i.operationType=t.operationType,i}return __extends(t,n),t}(v.WizardDialogModel);t.ReleaseManagementWizardDialogModel=lt;wt=function(n){function t(t){var r=__construct(this,n,[t]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.rootViewModel=i.observable(null),r.build=null,r.build=t.build,r._getAllEnvironmentTemplates(),r}return __extends(t,n),t.prototype._getAllEnvironmentTemplates=function(){var n=this,t=w.serviceContext.releaseDefinitionManager().listEnvironmentTemplates();t.then(function(t){var u=[],i={};$.each(t,function(n,t){if(t.iconUri&&t.iconUri!=="")i[t.id]=t.iconUri;else if(t.iconTaskId){var r=w.serviceContext.releaseDefinitionManager().getTaskDefinition(t.iconTaskId,"*").then(function(n){!n||(i[t.id]=n.iconUrl)},function(){});u.push(r)}});r.allSettled(u).then(function(){n._createPages(t,i)})},function(t){n.errorMessage(nt.ErrorHelper.getErrorMessage(t))})},t.prototype._createPages=function(n,t){var u=[],i=new yt(n,t,{selectedTabId:d.TemplateCategoryDeployment}),f=new a.WizardPage(i.pageTemplate,d.EnvironmentTemplateSelectionPageTitle,0,i.pageCss,i.pageTemplate,i),r;u.push(f);r=new ct(this._options);f=new a.WizardPage(r.pageTemplate,c.empty,1,r.pageCss,r.pageTemplate,r);u.push(f);this.rootViewModel(i);this.wizardPages(u);this.loaded(!0)},t}(lt);t.CreateReleaseDefinitionWizardDialogModel=wt;at=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._preApprovals=[],i._currentPageOrder=0,i._operationType=t.operationType,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({width:600,height:600},t))},t.prototype.setNextButtonStatus=function(t){if(t===void 0&&(t=!0),!!this._element){var i=this._element.parent().find("button[id=next]");!i||(t?i.removeClass("cta brand-color-button"):i.addClass("cta brand-color-button"));n.prototype.changeNextButtonStatus.call(this,!t)}},t.prototype.getTitle=function(){return this._operationType===it.EnvironmentDefinitionAddOperationType.CreateReleaseDefinition?d.NewReleaseDefinitionDialogTitle:d.AddNewEnvironmentDialogText},t.prototype._getApprovalEventValue=function(n){return n===it.ApprovalRadioButtonTypes.SpecificUsers?ot.EventValues.manual:ot.EventValues.automated},t.prototype._addHelpElementForAddEnvironmentPage=function(n){if(this._canAddHelpElement()&&!!this._element){var i=this._element.parent().find(".ui-dialog-title"),t=i.find(".env-set-help");t&&t.length!==0||(t=$("<span />").addClass("bowtie-icon bowtie-status-info-outline env-set-help"),t.attr("title",n.viewModel().labelForEnvironmentAdd.peek()),i.append(t))}},t.prototype._addPreApprovalsComboElement=function(n){var i=this,t=this._element.parent().find("."+n.preApprovalComboElementCss+" .pre-app-combo-cont");t&&t.length!==0||(t=$("<div />").addClass("pre-app-combo-cont").attr("tabindex","0"),this._element.parent().find("."+n.preApprovalComboElementCss).append(t));this._preDeploymentApproverComboBox=f.BaseControl.createIn(b.MultiSelectIdentityPickerControl,t,{});t.change(function(){i._updatePageEnableStatus(n,i._preDeploymentApproverComboBox)});nt.ArrayHelper.hasItems(this._preApprovals)&&(this._preDeploymentApproverComboBox.setValue(this._preApprovals),t.change())},t.prototype._updatePageEnableStatus=function(n,t){!n||!t||(this._preApprovals=t.getValue(),n.preApprovalCount(this._preApprovals.length))},t.prototype._canAddHelpElement=function(){return this._operationType!==it.EnvironmentDefinitionAddOperationType.CreateReleaseDefinition},t}(v.WizardDialog);t.ReleaseManagementWizardDialog=at;bt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._controls=[],i._controlsDisposalManager=new h.DisposalManager,i._build=null,i._buildDefinitionName=c.empty,i._isCreateRD=!1,i._isAddEnv=!1,i._rdModel=t,i._bindEvents(),i}return __extends(t,n),t.prototype.onNextClick=function(){var t;if(this._rdModel.loaded()){n.prototype.onNextClick.call(this);var i=this.getViewModel(),e=i.currentWizardPage.peek(),f=i.wizardPages.peek(),o=f[0].viewModel(),r=f[1].viewModel();if(e)r.selectedTemplateId(o.selectedTemplateId());else{if(t=r.selectedTemplate.peek(),!!i.createCallback&&!!t&&!!t.environment){var h=tt.DeployPhaseHelper.getAgentBasedDeployPhases(t.environment.deployPhases),s=this._getSnapshot(r,t.environment,this._preDeploymentApproverComboBox),u=this._getArtifactData(r);this._publishDialogCompletedEvent(r);i.createCallback({template:t,snapshot:s,operationType:i.operationType,project:u.project,definition:u.definition,connection:u.connection,enableCI:u.enablCI})}this.close(!1)}}},t.prototype.close=function(t){t===void 0&&(t=!0);t&&this._publishDialogCancelledEvent();n.prototype.close.call(this);n.prototype.dispose.call(this)},t.prototype._publishDialogCancelledEvent=function(){var n=c.empty;n=this._isCreateRD?this._currentPageOrder===0?ot.ReleaseDefinitionFeatures.templateSelect:ot.ReleaseDefinitionFeatures.settings:this._currentPageOrder===0?ot.DefinitionEnvironmentFeatures.templateSelect:ot.DefinitionEnvironmentFeatures.addSettings;w.serviceContext.telemetryServiceManager().publishEvent(n,ot.Events.cancelClick,1)},t.prototype._publishDialogCompletedEvent=function(n){var t={},i=this._isCreateRD?ot.ReleaseDefinitionFeatures.createCompleted:ot.DefinitionEnvironmentFeatures.addCompleted;t[ot.EventProperties.templateId]=n.selectedTemplateId.peek();!n.selectedTemplate.peek()||(t[ot.EventProperties.templateName]=n.selectedTemplate.peek().name);this._isCreateRD?(t[ot.EventProperties.artifactSource]=n.selectedArtifactType.peek()?n.selectedArtifactType.peek().name.peek():ot.ReleaseDefinitionEventValues.noArtifactLinked,t[ot.EventProperties.ciEnabled]=n.enableCI.peek()):this._isAddEnv&&(t[ot.EventProperties.approval]=this._getApprovalEventValue(n.preApprovalRadioButtonValue.peek()),t[ot.EventProperties.triggerEnabled]=n.enableTrigger.peek());w.serviceContext.telemetryServiceManager().publishEvents(i,t)},t.prototype._bindEvents=function(){var n=this;this._isCreateRD=this._operationType===it.EnvironmentDefinitionAddOperationType.CreateReleaseDefinition;this._isAddEnv=this._operationType===it.EnvironmentDefinitionAddOperationType.AddEnvironment;this._build=this._rdModel.build;this.addDisposable(this._rdModel.loaded.subscribe(function(t){var i,r;if(t&&(i=n._rdModel.currentWizardPage(),i)){if(r=i.viewModel.peek(),n.addDisposable(r.isInvalid.subscribe(function(t){n.setNextButtonStatus(t)})),n._element.parent().focus(),n._currentPageOrder=i.order,i.order===0){n._initializeTemplatesPage(n._rdModel.rootViewModel.peek().selectedTemplateId.peek());nt.AccessibilityHelper.onEscape(n._element.parent(),function(){n.close(!1)});n.onClose=function(t){!t.currentTarget||t.type!=="dialogclose"||n._publishDialogCancelledEvent()}}else i.order===1&&(n._addHelpElementForAddEnvironmentPage(i),n._initializeSettingsPage(i));r.isInvalid.valueHasMutated()}}))},t.prototype._initializeTemplatesPage=function(n){var t=this,i=this._element.parent().find("ul.templates-list li"),r,u;i.removeClass("templates-list-item-selected");!n||(r=this._element.parent().find("ul.templates-list li."+n),r.addClass("templates-list-item-selected"));u=this;i.click(function(){i.removeClass("templates-list-item-selected");$(this).addClass("templates-list-item-selected");u._setSelectedTemplateId($(this))});i.dblclick(function(n){t._setSelectedTemplateId($(n.target));t.onNextClick()});i.keydown(function(n){var u,f,i=$(n.target),e,r;switch(n.keyCode){case l.KeyCode.ENTER:return e=t._element.parent().find("ul.templates-list li"),e.removeClass("templates-list-item-selected"),r=$(n.target),r[0].tagName!=="LI"&&(r=r.parent("li.templates-list-item")),r.addClass("templates-list-item-selected"),t._setSelectedTemplateId($(n.target)),t.onNextClick(),!1;case l.KeyCode.UP:return n.preventDefault(),f=i.prev()&&i.prev().length>0?i.prev():i.parent().children().last(),f.focus(),f.click(),!1;case l.KeyCode.DOWN:return n.preventDefault(),u=i.next()&&i.next().length>0?i.next():i.parent().children().first(),u.focus(),u.click(),!1;default:return!0}})},t.prototype._initializeSettingsPage=function(n){var i=this,t;!n||(t=n.viewModel(),this.addDisposable(t.errorMessage.subscribe(function(n){i._rdModel.errorMessage(n)})),this._isAddEnv&&this._addPreApprovalsComboElement(t),this._isCreateRD&&(this.addDisposable(t.artifactChanged.subscribe(function(){i._cleanupControls();!t.selectedArtifactType.peek()||i._enhanceControls(t.selectedArtifactType.peek())})),t.artifactChanged.valueHasMutated()))},t.prototype._enhanceControls=function(n){this._enhanceComboControls(n)},t.prototype._enhanceComboControls=function(n){var t=this;this.getElement().find(".artifacts-container .input-container .pick-list").each(function(r,u){var l,a,c;if(!($(u).find(".combo").length>0)){var v=$(u).attr("id"),o=n.getInputViewModel(v),h=o.possibleValues(),s=f.BaseControl.createIn(e.Combo,$(u),{change:function(){var t=i.dataFor(this.getElement()[0]);t.setSelectedValue(this.getText(),n.name())},blur:function(){var n=i.dataFor(this.getElement()[0]);n.handleBlur()},id:o.id(),label:o.name(),dropOptions:{itemCss:""},source:h,invalidCss:"invalid",allowEdit:!0});t._controlsDisposalManager.addDisposable(o.possibleValues.subscribe(function(){h=o.possibleValues();s.setSource(h);s.setText(o.getSelectedValue())}));t._controlsDisposalManager.addDisposable(o.isReadOnly.subscribe(function(){s.setEnabled(!o.isReadOnly())}));t._controlsDisposalManager.addDisposable(o.value.subscribe(function(){s.setInvalid(o.isInvalid())}));i.applyBindings(o,u);l=o.getSelectedValue();s.setText(l);o.id()===st.ArtifactDefinitionConstants.DefinitionId&&n.name()===it.ArtifactTypes.Build&&(o.isArtifactTypeBuild(o.id())?t._controlsDisposalManager.addDisposable(o.displayText.subscribe(function(n){!n||o.isInvalid()||(t._buildDefinitionName=n)})):t._controlsDisposalManager.addDisposable(o.value.subscribe(function(n){!n||o.isInvalid()||(t._buildDefinitionName=n)})),t._buildDefinitionName?(o.setSelectedValue(t._buildDefinitionName,n.name()),a=o.getSelectedValue(),s.setText(a)):!t._build||(o.isArtifactTypeBuild(o.id())?(c=tt.BuildDefinitionNameUtils.getDisplayNameWithFolder(t._build.definition.path,t._build.definition.name),o.setSelectedValue(c,n.name()),s.setText(c)):(s.setText(t._build.definition.name),o.value(t._build.definition.name)),t._buildDefinitionName=o.getSelectedValue()));t._controls.push(s);o.isReadOnly.valueHasMutated();o.value.valueHasMutated()}})},t.prototype._cleanupControls=function(){this._controls.length>0&&(this._controlsDisposalManager.dispose(),this._controls.forEach(function(n){n.dispose()}),this._controls=[])},t.prototype._getArtifactData=function(n){var i=null,r=null,u=null,f=null,t=n.selectedArtifactType.peek();return!t||(t.inputDescriptors().forEach(function(n){c.ignoreCaseComparer(n.id.peek(),st.ArtifactDefinitionConstants.DefinitionId)===0&&(u={name:n.value(),id:n.getValue()});t.name.peek()===it.ArtifactTypes.JenkinsId?c.ignoreCaseComparer(n.id.peek(),st.ArtifactDefinitionConstants.ConnectionId)===0&&(r={name:n.value(),id:n.getValue()}):t.name.peek()===it.ArtifactTypes.Build&&c.ignoreCaseComparer(n.id.peek(),st.ArtifactDefinitionConstants.ProjectId)===0&&(i={name:n.value(),id:n.getValue()})}),t.name.peek()===it.ArtifactTypes.Build&&(f=n.enableCI.peek()?y.BuildReason.IndividualCI:y.BuildReason.None)),{project:i,definition:u,connection:r,enablCI:f}},t.prototype._getSnapshot=function(n,t,i){var r=null;return this._isAddEnv&&(r=rt.EnvironmentSnapshot.createFromEnvironmentDefinition(t),r.conditions=[],n.enableTrigger.peek()&&(r.conditions=n.environment?[{name:n.lastEnvironmentName,conditionType:g.ConditionType.EnvironmentState,value:g.EnvironmentStatus.Succeeded.toString()}]:[{name:it.EnvironmentDeploymentConditionsTriggerTypeConstants.ReleaseStarted,conditionType:g.ConditionType.Event,value:c.empty}]),r.preDeployApprovals=n.preApprovalRadioButtonValue.peek()===it.ApprovalRadioButtonTypes.SpecificUsers?{approvalOptions:{releaseCreatorCanBeApprover:!0,requiredApproverCount:0,autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped:!1,enforceIdentityRevalidation:!1},approvals:tt.ApprovalsHelper.getApprovalSteps(i.getValue())}:{approvals:[{id:0,rank:1,approver:null,isAutomated:!0,isNotificationOn:!1}],approvalOptions:null}),r},t.prototype._setSelectedTemplateId=function(n){var t,i,r;n&&n[0]&&n[0].tagName&&(n[0].tagName!=="LI"&&(n=n.parents(".templates-list-item-selected")),t=n.attr("id"),!t||(i=this.getViewModel().wizardPages.peek(),r=i[0].viewModel.peek(),r.selectedTemplateId(t)))},t}(at);t.CreateReleaseDefinitionWizardDialog=bt;kt=function(n){function t(t){var r=__construct(this,n,[t]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.rootViewModel=i.observable(null),r._createPage(),r}return __extends(t,n),t.prototype._createPage=function(){var t=[],n=new ct(this._options),i=new a.WizardPage(n.pageTemplate,c.empty,0,n.pageCss,n.pageTemplate,n);t.push(i);this.rootViewModel(n);this.wizardPages(t);this.loaded(!0)},t}(lt);t.CloneDefinitionEnvironmentDialogModel=kt;dt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._cloneModel=t,i._bindEvents(),i}return __extends(t,n),t.prototype.onNextClick=function(){var t,r,u,i;this._cloneModel.loaded()&&(n.prototype.onNextClick.call(this),t=this.getViewModel(),r=t.currentWizardPage.peek(),r||(u=t.wizardPages.peek(),i=u[0].viewModel.peek(),this._publishDialogCompletedEvent(i),!t.createCallback||t.createCallback({snapshot:this._getClonedSnapshot(i,this._preDeploymentApproverComboBox),operationType:t.operationType}),this.close(!1)))},t.prototype.close=function(t){t===void 0&&(t=!0);t&&this._publishDialogCancelledEvent();n.prototype.close.call(this);n.prototype.dispose.call(this)},t.prototype._publishDialogCancelledEvent=function(){w.serviceContext.telemetryServiceManager().publishEvent(ot.DefinitionEnvironmentFeatures.cloneSettings,ot.Events.cancelClick,1)},t.prototype._publishDialogCompletedEvent=function(n){var t={};t[ot.EventProperties.approval]=this._getApprovalEventValue(n.preApprovalRadioButtonValue.peek());t[ot.EventProperties.orinalApproval]=this._getApprovalEventValue(this._originalApprovalType);t[ot.EventProperties.triggerEnabled]=n.enableTrigger.peek();w.serviceContext.telemetryServiceManager().publishEvents(ot.DefinitionEnvironmentFeatures.cloneCompleted,t)},t.prototype._bindEvents=function(){var n=this,t;this._isClone=this._operationType===it.EnvironmentDefinitionAddOperationType.CloneEnvironment;t=this._cloneModel.currentWizardPage.peek();this.addDisposable(this._cloneModel.currentWizardPage.peek().viewModel.peek().isInvalid.subscribe(function(t){n.setNextButtonStatus(t)}));this.addDisposable(this._cloneModel.loaded.subscribe(function(t){var i,r;if(t&&(i=n._cloneModel.currentWizardPage.peek(),i)){r=i.viewModel.peek();n.onClose=function(t){!t.currentTarget||t.type!=="dialogclose"||n._publishDialogCancelledEvent()};n._element.parent().focus();n._currentPageOrder=i.order;nt.AccessibilityHelper.onEscape(n._element.parent(),function(){n.close(!1)});n._addHelpElementForAddEnvironmentPage(i);n._initializeSettingsPage(i);r.isInvalid.valueHasMutated()}}));h.delay(this,100,function(){n._cloneModel.loaded.valueHasMutated()})},t.prototype._initializeSettingsPage=function(n){var r=this,i,t;!n||(i=this.getViewModel(),t=i.rootViewModel(),this._isClone&&(this.addDisposable(t.errorMessage.subscribe(function(n){r._cloneModel.errorMessage(n)})),nt.ArrayHelper.hasItems(t.environment.preDeployApprovals.approvals)&&(this._preApprovals=$.map(t.environment.preDeployApprovals.approvals,function(n){if(!n.isAutomated)return $.extend(!0,{},n.approver)}),this._originalApprovalType=nt.ArrayHelper.hasItems(this._preApprovals)?it.ApprovalRadioButtonTypes.SpecificUsers:it.ApprovalRadioButtonTypes.IsAutomated),this._addPreApprovalsComboElement(t)))},t.prototype._getClonedSnapshot=function(n,t){var i=null,u,r;return!!n.environment&&this._isClone&&(i=n.environment,i.conditions=[],i.schedules=[],u=tt.DeployPhaseHelper.getAgentBasedDeployPhases(i.deployPhases),n.enableTrigger.peek()&&(i.conditions=[{name:n.lastEnvironmentName,conditionType:g.ConditionType.EnvironmentState,value:g.EnvironmentStatus.Succeeded.toString()}]),r=!n.environment.preDeployApprovals.approvalOptions?null:$.extend(!0,{},n.environment.preDeployApprovals.approvalOptions),i.preDeployApprovals=n.preApprovalRadioButtonValue.peek()===it.ApprovalRadioButtonTypes.SpecificUsers?{approvals:tt.ApprovalsHelper.getApprovalSteps(t.getValue(),r),approvalOptions:r}:{approvals:[{id:0,rank:1,approver:null,isAutomated:!0,isNotificationOn:!1}],approvalOptions:null},i.name=c.localeFormat(d.ClonedEnvironmentNameText,n.environment.name)),i},t}(at);t.CloneDefinitionEnvironmentDialog=dt;ni=function(){function n(){}return n.showCreateReleaseDefinition=function(n,t){n.operationType!==it.EnvironmentDefinitionAddOperationType.CreateReleaseDefinition||!t||w.serviceContext.telemetryServiceManager().publishEvent(ot.ReleaseDefinitionFeatures.createNew,ot.Events.click,t);o.Dialog.show(bt,new wt(n))},n.ShowCloneDefinitionEnvironmentDialog=function(n){o.Dialog.show(dt,new kt(n))},n}();t.DialogHelper=ni;u.tfsModuleLoaded("TFS.ReleaseManagement.LoadEnvironmentTemplatesDialog",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.BuildIntegration",["require","exports","react","q","VSS/SDK/Shim","VSS/VSS","VSS/Controls/Dialogs","VSS/Utils/Core","VSS/Utils/UI","VSS/Controls","VSS/Events/Action","VSS/Utils/String","VSS/LWP","VSS/Service","VSS/Contributions/Services","TFS/Build/Contracts","ReleasePipeline/Scripts/TFS.ReleaseManagement.CreateRelease.Controls","ReleasePipeline/Scripts/TFS.ReleaseManagement.Manager","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Context","ReleasePipeline/Scripts/TFS.ReleaseManagement.LoadEnvironmentTemplatesDialog","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleasePipeline/Scripts/TFS.ReleaseManagement.MessageArea","ReleasePipeline/Scripts/TFS.ReleaseManagement.TelemetryUtils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.UserDialog","VSS/LoaderPlugins/Css!RM:ReleasePipeline"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft){var yt,ot,st,ht;Object.defineProperty(t,"__esModule",{value:!0});t.BuildCommandHandler=void 0;var ct=o.delegate,at=s.domElem,vt={WebPageData:{fields:null}},et=null,lt=function(){function n(){var n=this;this.messageCallBack=function(n){if(et){var t=et.getService("IGlobalMessagesService");t&&t.addBanner({componentType:"createReleaseHTMLBanner",contentProperties:{message:n.html()}},!0)}else rt.currentContext?rt.currentContext.logMessage(n):console.warn("Message "+n+"is not shown, context cannot be created")};this.errorCallBack=function(t){n._logError(t)}}return n.prototype.createRelease=function(n,t){if(t===void 0&&(t=null),n.result===p.BuildResult.Succeeded||n.result===p.BuildResult.PartiallySucceeded){this._createReleaseForBuild(n,t);return}if(n.status===p.BuildStatus.InProgress){ft.DialogUtils.alert(it.WaitForBuildCompletionToCreateRelease,function(){},it.CannotReleaseFromFailedBuildTitle);return}var i=n.status===p.BuildStatus.Completed?g.BuildHelper.ResultToTextMap[n.result]:g.BuildHelper.StatusToTextMap[n.status];ft.DialogUtils.alert(l.localeFormat(it.CannotReleaseFromFailedBuild,i),function(){},it.CannotReleaseFromFailedBuildTitle)},n.prototype._createReleaseForBuild=function(n,t){var i=this,r,u=l.format("{0}:{1}",n.project.id,n.definition.id.toString());this._getProjects(k.ArtifactTypes.Build,u).then(function(u){var f,e;if(d.ArrayHelper.hasItems(u)){for(u.sort(function(n,t){return n.name.localeCompare(t.name)}),f=0;f<u.length;f++)u[f].name===n.project.name&&(u.splice(0,0,u[f]),u.splice(f+1,1));i._createMessageAreaInBuild();r=u;d.ArrayHelper.hasItems(u)&&w.ReleasePipelineDialogs.createReleaseFromBuild(r,n.id,n.definition.id,i.messageCallBack,i.errorCallBack,null,n.buildNumber,t)}else b.FeaturesManager.areBasicLicenseReleaseManagementFeaturesEnabled()?(e=d.UrlHelper.getUrlForExtension(k.ExtensionArea.ReleaseCDExplorer,k.DefinitionDesignerActions.createReleaseDefinitionInNewEditorAction,{definitionId:0,buildDefinitionId:n.definition.id,buildDefinitionName:n.definition.name,projectId:n.project.id,projectName:n.project.name,source:k.ReleaseDefinitionCreationSource[k.ReleaseDefinitionCreationSource.BuildSummary]}),window.location.href=e):ft.DialogUtils.alert(it.NoReleaseDefinitionAlertContent,function(){},it.NoReleaseDefinitionAlertTitle)},function(n){i._logError(n)})},n.prototype._showLoadEnvironmentTemplatesDialog=function(n){tt.DialogHelper.showCreateReleaseDefinition({operationType:k.EnvironmentDefinitionAddOperationType.CreateReleaseDefinition,createCallback:this._createReleaseDefinitionFromBuild,build:n},ut.EventValues.build)},n.prototype._logError=function(n){rt.currentContext||this._createMessageAreaInBuild();rt.currentContext?rt.currentContext.logError(n):console.error(n)},n.prototype._createMessageAreaInBuild=function(){var r=$(n.BUILD_PIVOT_CONTENT_PANE),t,i;if(!!r&&r.length&&r.length>0){this._createMessageArea(n.BUILD_PIVOT_CONTENT_PANE,n.BUILD_PIVOT_HUB_PIVOT);return}if(t=$(n.BUILD_VNEXT_RIGHT_PANE),!!t&&t.length&&t.length>0){this._createMessageArea(n.BUILD_VNEXT_RIGHT_PANE,n.BUILD_VNEXT_VIEW,!0);return}if(i=$(n.BUILD_HUB_PIVOTBAR),!!i&&i.length&&i.length>0){this._createMessageArea(n.BUILD_HUB_PIVOTBAR,n.BUILD_PIVOTBAR_CONTENT,!0);return}},n.prototype._createMessageArea=function(n,t,i){var r,u,f;(i===void 0&&(i=!1),r=$(n).find(".create-release-container-message-area-build"),rt.currentContext&&r&&r.length&&r.length>0)||(u=$(n).find(t),r=$(at("div")).addClass("create-release-container-message-area-build"),f=new rt.MessageAreaViewModel,h.Enhancement.enhance(rt.MessageAreaView,r,{viewModel:f}),i?r.insertBefore(u):r.insertAfter(u),rt.currentContext=new rt.MessageContext(f))},n.prototype._getProjects=function(t,i){if(d.FeatureFlagUtils.isCreateReleaseDataProviderEnabled()){var u=v.getService(y.WebPageDataService).getPageData("ms.vss-releaseManagement-web.cdworkflow.crpanel.data-provider",vt.WebPageData);if(!!u)return r.resolve(u.linkedProjects)}return n._releaseDefinitionManager||(n._releaseDefinitionManager=nt.serviceContext.releaseDefinitionManager()),n._releaseDefinitionManager.getProjects(t,i)},n.prototype._getLinkedReleaseDefinitions=function(t,i,r){n._releaseDefinitionManager||(n._releaseDefinitionManager=nt.serviceContext.releaseDefinitionManager());var u=l.format("{0}:{1}",nt.serviceContext.webContext().project.id,r.definition.id.toString());return n._releaseDefinitionManager.getReleaseDefinitionsForArtifactSource(k.ArtifactTypes.Build,u,null,i)},n.prototype._environmentTemplateDialogOkCallBack=function(t,i,r){var u={definitionId:0,templateId:t.id,buildDefinitionId:!i?l.empty:i.toString(),buildDefinitionName:!r?l.empty:r};n.navigateToReleaseHub(u)},n.prototype._createReleaseDefinitionFromBuild=function(t){if(!!t){var i={definitionId:0,templateId:t.template.id,queueId:g.DeployPhaseHelper.getQueueIdOfAgentBasedDeployPhases(t.template.environment.deployPhases)};!t.definition||$.extend(i,{projectId:t.project.id,projectName:t.project.name,buildDefinitionId:t.definition.id,buildDefinitionName:t.definition.name,enableCI:t.enableCI});n.navigateToReleaseHub(i)}},n.navigateToReleaseHub=function(n){var t=k.ExtensionArea.ReleaseExplorer;c.getService().performAction(c.CommonActions.ACTION_WINDOW_NAVIGATE,{url:d.UrlHelper.getUrlForExtension(t,k.DefinitionDesignerActions.environmentsEditorAction,n)})},n.BUILD_VNEXT_RIGHT_PANE=".buildvnext-view-right-pane-content",n.BUILD_VNEXT_VIEW=".buildvnext-view-right-pane",n.BUILD_PIVOT_CONTENT_PANE=".build-pivot-content-container",n.BUILD_PIVOT_HUB_PIVOT=".hub-pivot",n.BUILD_HUB_PIVOTBAR=".vss-HubPivotBar",n.BUILD_PIVOTBAR_CONTENT=".vss-PivotBar--content",n}();t.BuildCommandHandler=lt;yt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){this._buildDetails=t.buildDetails;this._okCallBack=t.okCallBack;var i={};i.yes={id:"yes",text:it.CreateReleaseDefinitionConfirmationDialogYesOption,click:ct(this,this._showEnvironmentTemplatesDialog)};i.no={id:"no",text:it.CreateReleaseDefinitionConfirmationDialogNoOption,click:ct(this,this._closeDialogBox)};n.prototype.initializeOptions.call(this,$.extend({resizable:!1,draggable:!1,height:180,width:450,buttons:i},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._createView()},t.prototype._createView=function(){var n=$("<div>"+it.CreateReleaseDefinitionConfirmationDialogContent+"<\/div>");this._element.append(n)},t.prototype._showEnvironmentTemplatesDialog=function(){this._okCallBack(this._buildDetails);this._closeDialogBox()},t.prototype._closeDialogBox=function(){this.close();this.dispose()},t.prototype.getTitle=function(){return it.CreateReleaseDefinitionConfirmationDialogTitle},t}(e.ModalDialog);ot=new lt;u.VSS.register("create-release-for-build",function(){return{execute:function(n,t){t===void 0&&(t=null);ot.createRelease(n,t)}}});st=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return et=i.props.vssPageContext,i}return __extends(t,n),t.prototype.render=function(){return ot.createRelease(this.props.buildDetails,this.props.endPerfScenario),null},t.componentType="createReleaseDialog",t}(i.Component);ht=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.message}},null)},t.componentType="createReleaseHTMLBanner",t}(i.Component);a.registerLWPComponent(st.componentType,st);a.registerLWPComponent(ht.componentType,ht);f.tfsModuleLoaded("TFS.ReleaseManagement.BuildIntegration",t)});

define("DistributedTaskControls/Common/Actions/ActionCreatorManager",["require","exports","DistributedTaskControls/Common/Factory"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.ActionCreatorManager=void 0;var r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.GetActionCreator=function(i,r){return n.getInstance.call(this,t).getObject(i,r)},t.CreateActionCreator=function(i,r,u){return n.getInstance.call(this,t).createObject(i,r,u)},t.DeleteActionCreator=function(i,r){n.getInstance.call(this,t).removeObject(i,r)},t.dispose=function(){return n.getInstance.call(this,t).dispose()},t}(i.Manager);t.ActionCreatorManager=r});

define("DistributedTaskControls/Common/Stores/StoreManager",["require","exports","DistributedTaskControls/Common/Factory"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.StoreManager=void 0;var r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.GetStore=function(i,r){return n.getInstance.call(this,t).getObject(i,r)},t.CreateStore=function(i,r,u){return n.getInstance.call(this,t).createObject(i,r,u)},t.DeleteStore=function(i,r){n.getInstance.call(this,t).removeObject(i,r)},t.dispose=function(){return n.getInstance.call(this,t).dispose()},t}(i.Manager);t.StoreManager=r});

define("DistributedTasksCommon/TFS.Tasks.Common.Variables",["require","exports","VSS/Utils/String","VSS/VSS"],function(n,t,i,r){var u,f;Object.defineProperty(t,"__esModule",{value:!0});t.ImplicitVariables=t.ImplicitVariableNames=void 0;u=function(){function n(){}return n.CollectionId="system.collectionId",n.TeamProject="system.teamProject",n.DefinitionId="system.definitionId",n}();t.ImplicitVariableNames=u;f=function(){function n(){}return n.GetImplicitVariables=function(t){var i=[],r=n._getVariableFactories();return Object.keys(r).forEach(function(n){i.push(r[n](t))}),i},n._getVariableFactories=function(){return n._factories||(n._factories={},n._addFactory(u.CollectionId,function(n){return n.collection.id},!1),n._addFactory(u.TeamProject,function(n){return n.project.name},!1),n._addFactory(u.DefinitionId,function(){return""},!1)),n._factories},n._addFactory=function(t,i,r){n._factories[t]=function(n){return{name:t,value:i(n),allowOverride:r,isSecret:!1}}},n.IsImplicitVariable=function(t){for(var r in n._getVariableFactories())if(i.localeIgnoreCaseComparer(t,r)===0)return!0;return!1},n._factories=null,n}();t.ImplicitVariables=f;r.tfsModuleLoaded("TFS.Tasks.Common.Variables",t)});

define("DistributedTaskControls/Common/Actions/ActionsHubManager",["require","exports","DistributedTaskControls/Common/Factory"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.ActionsHubManager=void 0;var r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.GetActionsHub=function(i,r){return n.getInstance.call(this,t).getObject(i,r)},t.GetAllActionsHub=function(i){return n.getInstance.call(this,t).getAllObjects(i)},t.dispose=function(){return n.getInstance.call(this,t).dispose()},t}(i.Manager);t.ActionsHubManager=r});

define("DistributedTaskControls/Variables/Common/VariableUtils",["require","exports","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Utils/String"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.VariablesUtils=void 0;var u=function(){function n(){}return n.convertDefinitionVariableToModelVariable=function(n){var t=n.variable,i={name:n.name,allowOverride:t.allowOverride,disableSecretVariableName:t.isSecret||!1,isSecret:t.isSecret||!1,value:t.value};return t.scope&&(i.scope=t.scope),i.hasSecretValueBeenReset=t.hasSecretValueBeenReset,i.hasVariableBeenUpdatedByUser=t.hasVariableBeenUpdatedByUser,i},n.createVariablesCopy=function(t){var i=[];return t.forEach(function(t){i.push(n.convertDefinitionVariableToModelVariable(t))}),i},n.areEqual=function(t,i){var u,f,r;if(t.length!==i.length)return!1;for(u=!0,f=t.length,r=0;r<f;r++)if(t[r].name!==i[r].name||t[r].isSecret!==i[r].isSecret||n.getVariableValue(t[r])!==n.getVariableValue(i[r])||!!t[r].allowOverride!=!!i[r].allowOverride||!n.isScopeEqual(t[r].scope,i[r].scope)){u=!1;break}return u},n.areShallowEqual=function(n,t){return!n&&!t?!0:!n||!t?!1:n.length!==t.length?!1:!0},n.getVariablesInScope=function(n,t){return n.filter(function(n){return n.scope.key===t})},n.updateScopeOfVariables=function(t,i){var r=n.getVariablesInScope(t||[],i.key);r.forEach(function(n){n.scope=i})},n.cloneScopedProcessVariables=function(n,t){for(var i,f,e=[],o=n.length,u=0;u<o;u++)i=n[u],f={name:i.name,allowOverride:i.allowOverride,hasSecretValueBeenReset:i.isSecret||!1,isSecret:i.isSecret||!1,value:!i.isSecret?i.value:r.empty},f.scope=t,e.push(f);return e},n.getVariableRowAriaLabel=function(n){var t=typeof n!="string"?n.name:n;return!t?i.EmptyVariableRowAriaLabel:r.format(i.VariableRowAriaLabel,t)},n.getDeleteVariableIconAriaLabel=function(n){var t=typeof n!="string"?n.name:n;return!t?i.DeleteVariableTitleTextNoName:r.format(i.DeleteVariableTitleText,t)},n.getSettableAtQueueTimeAriaLabel=function(n){var t=typeof n!="string"?n.name:n;return!t?i.SettableAtQueueTimeTitleTextNoName:r.format(i.SettableAtQueueTimeTitleText,t)},n.isScopeEqual=function(n,t){return!n&&!t?!0:!n||!t?!1:n.key===t.key},n.getVariableValue=function(n){return!!n.isSecret&&r.localeIgnoreCaseComparer(n.value,r.empty)===0?null:n.value},n.ProcessVariablesItem="ProcessVariablesItem",n.VariablesGroupItem="VariablesGroupItem",n}();t.VariablesUtils=u});

define("DistributedTaskControls/Common/Stores/Base",["require","exports","VSS/Flux/Store","VSS/Utils/String"],function(n,t,i,r){var u,e,f,o;Object.defineProperty(t,"__esModule",{value:!0});t.DataStoreBase=t.ChangeTrackerStoreBase=t.ViewStoreBase=t.StoreBase=void 0;u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){throw new Error("This method needs to be implemented in derived classes");},t.prototype.initialize=function(n){this._instanceId=n||r.empty},t.prototype.getInstanceId=function(){return this._instanceId},t.prototype.getState=function(){return{}},t.prototype.__dispose=function(){this.disposeInternal();this._instanceId=null},t}(i.Store);t.StoreBase=u;e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(u);t.ViewStoreBase=e;f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(u);t.ChangeTrackerStoreBase=f;o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(f);t.DataStoreBase=o});

define("DistributedTaskControls/Variables/Common/Constants",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l,a,v,y,p;Object.defineProperty(t,"__esModule",{value:!0});t.CounterVariableColumnKeys=t.ScopePickerChoiceGroupKeys=t.InstanceIds=t.ListGridPivotKeys=t.ProcessVariablesFilterKeys=t.ProcessVariablesGridViewColumnKeys=t.VariableGroupFieldNameKeys=t.VariableGroupColumnKeys=t.ProcessVariableColumnOptionProperties=t.VariableColumnKeys=t.VariableActionCreatorKeys=t.VariableActionHubKeys=t.VariableStoreKeys=t.VariableConstants=void 0,function(n){n.DefaultScopeKey=2147483647}(i=t.VariableConstants||(t.VariableConstants={})),function(n){n.StoreKey_ProcessVariablesDataStore="STORE_KEY_DEFINITION_VARIABLES_DATA_STORE";n.StoreKey_ProcessVariablesViewStore="STORE_KEY_DEFINITION_VARIABLES_VIEW_STORE";n.StoreKey_RuntimeVariablesStore="STORE_KEY_RUNTIME_VARIABLES_STORE";n.StoreKey_VariablesGridViewStore="STORE_KEY_DEFINITION_VARIABLES_GRID_VIEW_STORE";n.StoreKey_VariablesListViewStore="STORE_KEY_DEFINITION_VARIABLES_LIST_VIEW_STORE";n.StoreKey_ProcessVariablesFilterStore="STORE_KEY_PROCESS_VARIABLES_FILTER_STORE";n.StoreKey_ListGridViewStore="STORE_KEY_LIST_GRID_VIEW_STORE";n.StoreKey_CounterVariableDataStore="STORE_KEY_COUNTER_VARIABLE_DATA_STORE";n.StoreKey_CounterVariableViewStore="STORE_KEY_COUNTER_VARIABLE_VIEW_STORE"}(r=t.VariableStoreKeys||(t.VariableStoreKeys={})),function(n){n.VariablesSection_ActionsHub="ACTIONS_HUB_KEY_VARIABLES_SECTION_ACTIONS_HUB";n.VariablesSection_ViewActionsHub="ACTIONS_HUB_KEY_VARIABLES_VIEW_SECTION_ACTIONS_HUB";n.RuntimeVariables_ActionsHub="ACTIONS_HUB_KEY_RUNTIME_VARIABLES_SECTION_ACTIONS_HUB";n.VariablesSection_FiltersActionsHub="ACTIONS_HUB_KEY_VARIABLES_SECTION_FILTERS_ACTIONS_HUB";n.VariablesGrid_ActionsHub="ACTIONS_HUB_KEY_VARIABLES_GRID_ACTIONS_HUB";n.VariablesPivot_ActionsHub="ACTIONS_HUB_KEY_VARIABLES_PIVOT_ACTIONS_HUB";n.CounterVariables_ActionHub="ACTIONS_HUB_KEY_COUNTER_VARIABLES_ACTION_HUB";n.CounterVariables_ViewActionHub="ACTIONS_HUB_KEY_COUNTER_VARIABLES_VIEW_ACTION_HUB"}(u=t.VariableActionHubKeys||(t.VariableActionHubKeys={})),function(n){n.VariablesSection_ActionCreator="ACTIONS_CREATOR_KEY_VARIABLES_SECTION_ACTIONS_CREATOR";n.RuntimeVariables_ActionCreator="ACTIONS_CREATOR_KEY_RUNTIME_VARIABLES_SECTION_ACTION_CREATOR";n.VariablesGrid_ActionCreator="ACTIONS_CREATOR_KEY_VARIABLES_GRID_ACTIONS_CREATOR";n.CounterVariables_ActionCreator="ACTIONS_CREATOR_KEY_COUNTER_VARIABLES_ACTIONS_CREATOR"}(f=t.VariableActionCreatorKeys||(t.VariableActionCreatorKeys={})),function(n){n.IconColumnKey="icon";n.NameColumnKey="name";n.ValueColumnKey="value";n.DeleteColumnKey="delete";n.SecretColumnKey="secret";n.SettableAtQueueTimeColumnKey="settableAtQueueTime";n.ScopeColumnKey="scope";n.ContributedValueMenuColumnKey="contributedValueMenu"}(e=t.VariableColumnKeys||(t.VariableColumnKeys={})),function(n){n.HeaderName="headerName";n.MinWidth="minWidth";n.MaxWidth="maxWidth";n.IsReadOnly="isReadOnly"}(o=t.ProcessVariableColumnOptionProperties||(t.ProcessVariableColumnOptionProperties={})),function(n){n.NameColumnKey="name";n.ValueColumnKey="value"}(s=t.VariableGroupColumnKeys||(t.VariableGroupColumnKeys={})),function(n){n.NameFieldKey="name";n.ValueFieldKey="value"}(h=t.VariableGroupFieldNameKeys||(t.VariableGroupFieldNameKeys={})),function(n){n.NameColumnKey="dtc-pv-grid-name-column-key";n.IconColumnKey="dtc-pv-grid-icon-column-key"}(c=t.ProcessVariablesGridViewColumnKeys||(t.ProcessVariablesGridViewColumnKeys={})),function(n){n.Keyword="keyword";n.Scope="scope"}(l=t.ProcessVariablesFilterKeys||(t.ProcessVariablesFilterKeys={})),function(n){n.List="List";n.Grid="Grid"}(a=t.ListGridPivotKeys||(t.ListGridPivotKeys={})),function(n){n.VariableGroupLinkPanelScopePickerInstanceId="link-variable-group-panel-scope-picker-store-instance";n.VariableGroupEditPanelScopePickerInstanceId="edit-variable-group-panel-scope-picker-store-instance"}(v=t.InstanceIds||(t.InstanceIds={})),function(n){n.Default="default";n.Others="others"}(y=t.ScopePickerChoiceGroupKeys||(t.ScopePickerChoiceGroupKeys={})),function(n){n.Icon="icon";n.Name="name";n.Delete="delete";n.Seed="seed";n.Value="value";n.Reset="reset"}(p=t.CounterVariableColumnKeys||(t.CounterVariableColumnKeys={}))});

define("DistributedTaskControls/Variables/Common/DataStoreBase",["require","exports","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Variables/Common/VariableUtils","VSS/Utils/String"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.VariablesStoreBase=void 0;var e=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._currentVariablesArray=[],t}return __extends(t,n),t.prototype.disposeInternal=function(){this._currentVariablesArray=null},t.prototype.getVariableList=function(){var n=[];return this._currentVariablesArray&&this._currentVariablesArray.forEach(function(t){if(!t.isSystemVariable){var i={name:t.name.trim(),variable:{allowOverride:t.allowOverride,isSecret:t.isSecret,value:u.VariablesUtils.getVariableValue(t)}};t.scope&&(i.variable.scope=t.scope);n.push(i)}}),n},t.prototype.getState=function(){return{variablesArray:this._currentVariablesArray}},t.prototype.getCurrentVariablesArray=function(){return this._currentVariablesArray},t.prototype.setCurrentVariablesArray=function(n){this._currentVariablesArray=n},t.prototype.isValid=function(){var i=this,t=!0,n={},u=r.VariableConstants.DefaultScopeKey;return this.getCurrentVariablesArray().forEach(function(r){if(i._isVariableInErrorState(r))return t=!1,!1;var e=r.name.trim().toLocaleLowerCase(),f=(r.scope?r.scope.key:u).toString(10);if(n.hasOwnProperty(f)){if(n[f].hasOwnProperty(e))return t=!1,!1;n[f][e]=r.value}else n[f]={},n[f][e]=r.value}),t},t.prototype._updateVariableName=function(n,t){this._currentVariablesArray[t].hasVariableBeenUpdatedByUser=!0;this._currentVariablesArray[t].name=n},t.prototype._updateVariableValueText=function(n,t){n!==null&&n!==undefined&&(this._currentVariablesArray[t].hasVariableBeenUpdatedByUser=!0,this._currentVariablesArray[t].value=n)},t.prototype._updateIsSecret=function(n,t){n!==null&&n!==undefined&&(this._currentVariablesArray[t].hasVariableBeenUpdatedByUser=!0,this._currentVariablesArray[t].isSecret=n,n===!1&&(this._currentVariablesArray[t].value=this._currentVariablesArray[t].value||f.empty))},t.prototype._updateDisableSecretConversion=function(n,t){n!==null&&n!==undefined&&(this._currentVariablesArray[t].disableSecretConversion=n)},t.prototype._updateAllowOverride=function(n,t){n!==null&&n!==undefined&&(this._currentVariablesArray[t].allowOverride=n)},t.prototype._appendVariable=function(n){this._currentVariablesArray.push(n)},t.prototype._appendVariables=function(n){var t;(t=this._currentVariablesArray).push.apply(t,n)},t.prototype._removeVariable=function(n){this._currentVariablesArray.splice(n,1)},t.prototype._isVariableInErrorState=function(n){if(!n.name)return!0;var t=n.name.trim().toLowerCase();return t===f.empty},t}(i.ChangeTrackerStoreBase);t.VariablesStoreBase=e});

define("DistributedTaskControls/Common/Actions/Base",["require","exports","DistributedTaskControls/Common/Factory","VSS/Flux/Action","VSS/Flux/ReactPerf"],function(n,t,i,r,u){var f,e,o;Object.defineProperty(t,"__esModule",{value:!0});t.Action=t.ActionsHubBase=t.ActionCreatorBase=void 0;f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(i.Initializable);t.ActionCreatorBase=f;e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(i.Initializable);t.ActionsHubBase=e;o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.invoke=function(t){u.start();n.prototype.invoke.call(this,t);u.stop();u.printWasted(u.getLastMeasurements())},t}(r.Action);t.Action=o});

define("DistributedTaskControls/Variables/Common/Actions/ActionsBase",["require","exports","DistributedTaskControls/Common/Actions/Base","VSS/Flux/Action"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.ActionsBase=void 0;var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updateVariableKey=new r.Action;this._updateVariableValue=new r.Action;this._deleteVariable=new r.Action;this._addVariable=new r.Action},Object.defineProperty(t.prototype,"updateVariableKey",{get:function(){return this._updateVariableKey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateVariableValue",{get:function(){return this._updateVariableValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deleteVariable",{get:function(){return this._deleteVariable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addVariable",{get:function(){return this._addVariable},enumerable:!1,configurable:!0}),t}(i.ActionsHubBase);t.ActionsBase=u});

define("DistributedTaskControls/Variables/ProcessVariables/Actions/Actions",["require","exports","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Variables/Common/Actions/ActionsBase","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.ProcessVariablesActions=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._createProcessVariables=new u.Action;this._updateProcessVariables=new u.Action;this._updateScopePermissions=new u.Action;this._sort=new u.Action;this._addScopedProcessVariables=new u.Action;this._cloneScopedProcessVariables=new u.Action;this._updateScope=new u.Action;this._deleteScope=new u.Action;this._toggleEditMode=new u.Action},t.getKey=function(){return i.VariableActionHubKeys.VariablesSection_ActionsHub},Object.defineProperty(t.prototype,"createProcessVariables",{get:function(){return this._createProcessVariables},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateProcessVariables",{get:function(){return this._updateProcessVariables},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateScopePermissions",{get:function(){return this._updateScopePermissions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sort",{get:function(){return this._sort},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toggleEditMode",{get:function(){return this._toggleEditMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addScopedProcessVariables",{get:function(){return this._addScopedProcessVariables},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cloneScopedProcessVariables",{get:function(){return this._cloneScopedProcessVariables},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateScope",{get:function(){return this._updateScope},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deleteScope",{get:function(){return this._deleteScope},enumerable:!1,configurable:!0}),t}(r.ActionsBase);t.ProcessVariablesActions=f});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__decorate=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};define("DistributedTaskControls/Variables/ProcessVariables/DataStore",["require","exports","DistributedTasksCommon/TFS.Tasks.Common.Variables","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Variables/Common/VariableUtils","DistributedTaskControls/Variables/Common/DataStoreBase","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Variables/ProcessVariables/Actions/Actions","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Utilities","VSS/Context","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});t.ProcessVariablesStore=void 0;var a=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._scopeKeyToPermissionsMap={},t._originalVariablesArray=[],t._scopes=[],t}return __extends(t,n),t.getKey=function(){return e.VariableStoreKeys.StoreKey_ProcessVariablesDataStore},t.prototype.initialize=function(n){this._actionsHub=r.ActionsHubManager.GetActionsHub(o.ProcessVariablesActions,n);this._actionsHub.createProcessVariables.addListener(this._createProcessVariables);this._actionsHub.updateProcessVariables.addListener(this._initializeOrUpdateProcessVariables);this._actionsHub.updateScopePermissions.addListener(this._updateScopePermissions);this._actionsHub.updateVariableKey.addListener(this._updateVariableKey);this._actionsHub.updateVariableValue.addListener(this._updateVariableValue);this._actionsHub.deleteVariable.addListener(this._deleteVariable);this._actionsHub.addVariable.addListener(this._addVariable);this._actionsHub.addScopedProcessVariables.addListener(this._addScopedVariables);this._actionsHub.cloneScopedProcessVariables.addListener(this._cloneScopedVariables);this._actionsHub.updateScope.addListener(this._handleUpdateScope);this._actionsHub.deleteScope.addListener(this._handleDeleteScope)},t.prototype.shouldShowPermissionWarning=function(n){return n!==e.VariableConstants.DefaultScopeKey&&this._scopeKeyToPermissionsMap[n]!==undefined?this._hasDefinitionEditPermission&&!this._scopeKeyToPermissionsMap[n]:!1},t.prototype.getPermissionWarningMessage=function(){return this._permissionWarningMessage},t.prototype.getDefaultScopes=function(){return[]},t.prototype.getVariableOverviewErrorMessage=function(){return l.empty},t.prototype.disposeInternal=function(){this._actionsHub.createProcessVariables.removeListener(this._createProcessVariables);this._actionsHub.updateProcessVariables.removeListener(this._initializeOrUpdateProcessVariables);this._actionsHub.updateScopePermissions.removeListener(this._updateScopePermissions);this._actionsHub.updateVariableKey.removeListener(this._updateVariableKey);this._actionsHub.updateVariableValue.removeListener(this._updateVariableValue);this._actionsHub.deleteVariable.removeListener(this._deleteVariable);this._actionsHub.addVariable.removeListener(this._addVariable);this._actionsHub.addScopedProcessVariables.removeListener(this._addScopedVariables);this._actionsHub.cloneScopedProcessVariables.removeListener(this._cloneScopedVariables);this._actionsHub.updateScope.removeListener(this._handleUpdateScope);this._actionsHub.deleteScope.removeListener(this._handleDeleteScope);this._originalVariablesArray=null;n.prototype.disposeInternal.call(this)},t.prototype._updateVariableValue=function(t){n.prototype._updateVariableValueText.call(this,t.variable.value,t.index);n.prototype._updateIsSecret.call(this,t.variable.isSecret,t.index);n.prototype._updateAllowOverride.call(this,t.variable.allowOverride,t.index);this.emitChanged()},t.prototype._getActionsHub=function(){return this._actionsHub},t.prototype._getScopes=function(){return this._scopes},t.prototype.getOriginalVariablesArray=function(){return this._originalVariablesArray},t.prototype.isDirty=function(){return!u.VariablesUtils.areEqual(this.getCurrentVariablesArray(),this._originalVariablesArray)},t.prototype._createProcessVariables=function(n){this._createOrUpdateProcessVariablesListener(n);this.emitChanged()},t.prototype._updateScopePermissions=function(n){var t,i,r;if(n.scopePermissions){for(t=0,i=n.scopePermissions;t<i.length;t++)r=i[t],this._scopeKeyToPermissionsMap[r.scopeKey]=r.hasPermission;this._hasDefinitionEditPermission=n.hasDefinitionEditPermission;this._permissionWarningMessage=n.permissionWarningMessage;this.emitChanged()}},t.prototype._initializeOrUpdateProcessVariables=function(n){this._createOrUpdateProcessVariablesListener(n);this.emitChanged()},t.prototype._createOrUpdateProcessVariablesListener=function(n){var r=this,i,t;this._originalVariablesArray=u.VariablesUtils.createVariablesCopy(n.variableList);i=u.VariablesUtils.createVariablesCopy(n.variableList);n.skipSystemVariables||(t=this._getSystemVariables(n.definitionId),Object.keys(t).reverse().forEach(function(u){n.variableList&&n.variableList.hasOwnProperty(u)||(r._originalVariablesArray.unshift(t[u]),i.unshift(t[u]))}));this.setCurrentVariablesArray(i);this._scopes=n.scopes||[]},t.prototype._updateVariableKey=function(n){this._updateVariableName(n.key,n.index);this.emitChanged()},t.prototype._addVariable=function(){var i={name:l.empty,isSecret:!1,value:l.empty,allowOverride:!1},t,n;this._scopes&&this._scopes.length>0&&(t=void 0,n=this._scopes.filter(function(n){return n.key===e.VariableConstants.DefaultScopeKey}),n&&n.length>0&&(t=n[0]),i.scope=t);this._appendVariable(i);this.emitChanged()},t.prototype._deleteVariable=function(n){this._removeVariable(n.index);this.emitChanged()},t.prototype._addScopedVariables=function(n){this._appendVariables(u.VariablesUtils.createVariablesCopy(n.variableList));this._scopes.push(n.scope);this.emitChanged()},t.prototype._cloneScopedVariables=function(n){var t=u.VariablesUtils.getVariablesInScope(this.getCurrentVariablesArray(),n.sourceScopeKey),i=u.VariablesUtils.cloneScopedProcessVariables(t,n.targetScope);this._appendVariables(i);this._scopes.push(n.targetScope);this.emitChanged()},t.prototype._handleUpdateScope=function(n){var i=this._getScopes(),t=i&&i.filter(function(t){return t.key===n.key});t&&t.length>0&&(t[0].value=n.value);u.VariablesUtils.updateScopeOfVariables(this.getCurrentVariablesArray(),n);this.emitChanged()},t.prototype._handleDeleteScope=function(n){var t=this.getCurrentVariablesArray().filter(function(t){return t.scope.key!==n.key});this.setCurrentVariablesArray(t);this._scopes=this._getScopes().filter(function(t){return t.key!==n.key});delete this._scopeKeyToPermissionsMap[n.key];this.emitChanged()},t.prototype._getSystemVariables=function(n){var t={};return i.ImplicitVariables.GetImplicitVariables(c.getDefaultWebContext()).forEach(function(n){n.isSystemVariable=!0;t[n.name]=n}),t[i.ImplicitVariableNames.DefinitionId].value=!!n&&n>=0?n.toString():s.NoDefinitionIdYetText,t},__decorate([h.autobind],t.prototype,"_updateVariableValue",null),__decorate([h.autobind],t.prototype,"_createProcessVariables",null),__decorate([h.autobind],t.prototype,"_updateScopePermissions",null),__decorate([h.autobind],t.prototype,"_initializeOrUpdateProcessVariables",null),__decorate([h.autobind],t.prototype,"_updateVariableKey",null),__decorate([h.autobind],t.prototype,"_addVariable",null),__decorate([h.autobind],t.prototype,"_deleteVariable",null),__decorate([h.autobind],t.prototype,"_addScopedVariables",null),__decorate([h.autobind],t.prototype,"_cloneScopedVariables",null),__decorate([h.autobind],t.prototype,"_handleUpdateScope",null),__decorate([h.autobind],t.prototype,"_handleDeleteScope",null),t}(f.VariablesStoreBase);t.ProcessVariablesStore=a});

define("DistributedTaskControls/Variables/ProcessVariablesV2/ProcessVariablesUtils",["require","exports","VSS/Utils/String","VSS/Utils/Number"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.ProcessVariablesUtils=void 0;var u=function(){function n(){}return n.compareByName=function(n,t,r){var u=i.localeComparer(n.name,t.name);return r?-u:u},n.compareByValue=function(n,t,r){var u=i.localeComparer(n.value,t.value);return r?-u:u},n.compareByScope=function(n,t,r){var u=i.localeComparer(n.scope.value,t.scope.value);return r?-u:u},n.compareDeep=function(n,t){var f=n.scope&&t.scope?r.defaultComparer(n.scope.key,t.scope.key):0,u;return f===0?(u=i.localeComparer(n.name,t.name),u===0?i.localeComparer(n.value,t.value):u):f},n}();t.ProcessVariablesUtils=u});

define("DistributedTaskControls/Variables/ProcessVariablesV2/ValidationHelper",["require","exports","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Utils/String"],function(n,t,i,r,u){var f,e;Object.defineProperty(t,"__esModule",{value:!0});t.ValidationHelper=t.ValidState=void 0,function(n){n[n.Valid=0]="Valid";n[n.Invalid=1]="Invalid"}(f=t.ValidState||(t.ValidState={}));e=function(){function n(){}return n.getNameValidationState=function(t,i){if(t.isSecret&&t.name.trim()===u.empty)return n._getInvalidValidationState(r.VariableNameRequiredMessage);if(t.name.trim()!==u.empty||t.value&&t.value.trim()!==u.empty){if(t.name.trim()===u.empty)return n._getInvalidValidationState(r.VariableNameRequiredMessage);if(!!i&&i[t.name.trim().toLocaleLowerCase()]>1)return t.scope?n._getInvalidValidationState(u.format(r.VariableNameDuplicateMessage,t.name,t.scope.value)):n._getInvalidValidationState(u.format(r.VariableNameDuplicateMessageNoScope,t.name))}else return n._getValidValidationState();return n._getValidValidationState()},n.getValueValidationState=function(t){return!!t.isSecret&&!!t.hasSecretValueBeenReset&&!t.hasVariableBeenUpdatedByUser?n._getInvalidValidationState(r.SecretVariableValueResetMessage):n._getValidValidationState()},n.getDuplicateVariableNamesMap=function(n,t){n=n||[];var i={};return n?(n.forEach(function(n){var u=n.name.trim().toLocaleLowerCase(),r=(n.scope?n.scope.key:t).toString(10);i.hasOwnProperty(r)?i[r].hasOwnProperty(u)?i[r][u]++:i[r][u]=1:(i[r]={},i[r][u]=1)}),i):i},n.getUniqueInvalidScopeKeys=function(t){for(var r,u=[],f=t||[],s=f.length,o=i.VariableConstants.DefaultScopeKey,h=n.getDuplicateVariableNamesMap(f,o),e=0;e<s;e++)r=f[e],n.isVariableValid(h,r)||(r.scope?u.push(r.scope.key):u.push(o));return n._getUniqueScopeKeys(u)},n._getUniqueScopeKeys=function(n){return n&&n.length>0?n.filter(function(n,t,i){return i.indexOf(n)===t}):[]},n.isVariableValid=function(t,r){var e=(r.scope?r.scope.key:i.VariableConstants.DefaultScopeKey).toString(10),o=t[e],s=n.getValueValidationState(r),u;return s.state===f.Invalid?!1:(u=n.getNameValidationState(r,o),u.state===f.Invalid)?!1:!0},n._getValidValidationState=function(){return{state:f.Valid,message:u.empty}},n._getInvalidValidationState=function(n){return{state:f.Invalid,message:n}},n}();t.ValidationHelper=e});

define("DistributedTaskControls/Variables/ProcessVariablesV2/DataStore",["require","exports","DistributedTaskControls/Variables/ProcessVariables/DataStore","DistributedTaskControls/Variables/ProcessVariablesV2/ProcessVariablesUtils","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Variables/ProcessVariablesV2/ValidationHelper","DistributedTaskControls/Variables/Common/VariableUtils","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Utilities","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.ProcessVariablesV2Store=void 0;var l=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleToggleEditMode=function(n){n.editMode=!1;t.getCurrentVariablesArray().forEach(function(t){t.disableVariable=!n.editMode});t._variablesDisabledMode=!n.editMode;t.emitChanged()},t}return __extends(t,n),t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._sortOptions={columnKey:u.VariableColumnKeys.NameColumnKey,isSortedDescending:!1};this._getActionsHub().sort.addListener(this._sort);this._getActionsHub().toggleEditMode.addListener(this._handleToggleEditMode)},t.prototype.getState=function(){return{scopes:n.prototype._getScopes.call(this),variablesArray:n.prototype.getState.call(this).variablesArray,isSortedDescending:this._sortOptions&&this._sortOptions.isSortedDescending,sortedColumnKey:this._sortOptions&&this._sortOptions.columnKey,variablesDisabledMode:this._variablesDisabledMode,hideAddVariables:this._hideAddVariables}},t.prototype.disposeInternal=function(){this._getActionsHub().sort.removeListener(this._sort);this._getActionsHub().toggleEditMode.removeListener(this._handleToggleEditMode);n.prototype.disposeInternal.call(this)},t.prototype._updateVariableValue=function(t){n.prototype._updateVariableValueText.call(this,t.variable.value,t.index);n.prototype._updateIsSecret.call(this,t.variable.isSecret,t.index);n.prototype._updateAllowOverride.call(this,t.variable.allowOverride,t.index);this._updateScope(t.variable.scope,t.index);this.emitChanged()},t.prototype._updateScope=function(n,t){if(n!==null&&n!==undefined){var i=this.getCurrentVariablesArray()[t];i.hasVariableBeenUpdatedByUser=!0;i.scope=n;!i.isSecret||(i.value===null||i.value===undefined)&&(i.value=c.empty)}},t.prototype._updateScopePermissions=function(n){var t,i,r;if(n.scopePermissions){for(t=0,i=n.scopePermissions;t<i.length;t++)r=i[t],this._scopeKeyToPermissionsMap[r.scopeKey]=r.hasPermission;this._hasDefinitionEditPermission=n.hasDefinitionEditPermission;this._permissionWarningMessage=n.permissionWarningMessage;this._updateVariablesDisability();this._updateScopesDisability();this.emitChanged()}},t.prototype._updateVariablesDisability=function(){var n=this,t=this.getState().variablesArray;t.forEach(function(t){t.disableVariable=!1;t.disableVariable=n._scopeKeyToPermissionsMap[t.scope.key]===!1})},t.prototype._updateScopesDisability=function(){var n=this,t=this.getState().scopes;t.forEach(function(t){n._scopeKeyToPermissionsMap[t.key]===!1&&(t.isDisabled=!0)})},t.prototype._sort=function(n){this._sortProcessVariables(n);this.emitChanged()},t.prototype._createProcessVariables=function(n){this._createOrUpdateProcessVariablesListener(n);this._sortProcessVariables({columnKey:u.VariableColumnKeys.NameColumnKey,isSortedDescending:!1});this.getCurrentVariablesArray().forEach(function(t){t.disableVariable=!!n.disabledMode});this._variablesDisabledMode=!!n.disabledMode;this._hideAddVariables=!!n.hideAddVariables;this.emitChanged()},t.prototype._initializeOrUpdateProcessVariables=function(n){this._createOrUpdateProcessVariablesListener(n);this._sortProcessVariables(this._sortOptions);this.getCurrentVariablesArray().forEach(function(t){t.disableSecretVariableName=t.isSecret;t.disableVariable=!!n.disabledMode});this._variablesDisabledMode=!!n.disabledMode;this._hideAddVariables=!!n.hideAddVariables;this.emitChanged()},t.prototype._sortProcessVariables=function(n){if(n){var t=this.getCurrentVariablesArray().slice();switch(n.columnKey){case u.VariableColumnKeys.NameColumnKey:t.sort(function(t,i){return r.ProcessVariablesUtils.compareByName(t,i,n.isSortedDescending)});break;case u.VariableColumnKeys.ValueColumnKey:t.sort(function(t,i){return r.ProcessVariablesUtils.compareByValue(t,i,n.isSortedDescending)});break;case u.VariableColumnKeys.ScopeColumnKey:t.sort(function(t,i){return r.ProcessVariablesUtils.compareByScope(t,i,n.isSortedDescending)})}this._sortOptions=n;this.setCurrentVariablesArray(t)}},t.prototype.isValid=function(){return(this._invalidUniqueScopeKeys=f.ValidationHelper.getUniqueInvalidScopeKeys(this.getCurrentVariablesArray()),this._invalidUniqueScopeKeys&&this._invalidUniqueScopeKeys.length>0)?!1:!0},t.prototype.getInvalidUniqueScopeKeys=function(){return this._invalidUniqueScopeKeys},t.prototype.getVariableOverviewErrorMessage=function(){var n,t,i;return this.isValid()?null:(n=this.getInvalidUniqueScopeKeys(),n&&n.length>0?(t=this._getScopes(),n.length===1)?(i=c.empty,t&&t.length>0&&t.forEach(function(t){t.key===n[0]&&(i=t.value)}),c.localeFormat(o.VariablesNeedAttentionSingleScope,i)):c.localeFormat(o.VariablesNeedAttentionMultipleScopes):o.VariablesNeedAttention)},t.prototype.isDirty=function(){var n=this.getOriginalVariablesArray().slice(),t=this.getCurrentVariablesArray().slice();return n.sort(function(n,t){return r.ProcessVariablesUtils.compareDeep(n,t)}),t.sort(function(n,t){return r.ProcessVariablesUtils.compareDeep(n,t)}),!e.VariablesUtils.areEqual(t,n)},t.prototype.getDefaultScopes=function(t){var r=n.prototype._getScopes.call(this),i=[],f=h.first(r,function(n){return n.key===u.VariableConstants.DefaultScopeKey}),e=h.first(r,function(n){return n.key===t});return e&&f&&(i.push(f),i.push(e)),i},__decorate([s.autobind],t.prototype,"_updateVariableValue",null),__decorate([s.autobind],t.prototype,"_updateScopePermissions",null),__decorate([s.autobind],t.prototype,"_sort",null),__decorate([s.autobind],t.prototype,"_createProcessVariables",null),__decorate([s.autobind],t.prototype,"_initializeOrUpdateProcessVariables",null),t}(i.ProcessVariablesStore);t.ProcessVariablesV2Store=l});

define("PipelineWorkflow/Scripts/Common/Constants",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l,a;Object.defineProperty(t,"__esModule",{value:!0});t.FlightNames=t.SupportedContributionTypes=t.ContributionIds=t.HubRoutes=t.NavigationConstants=t.CommonActionHubKeys=t.CommonActionsCreatorKeys=t.CommonStoreKeys=t.HelpConstants=t.PerfScenarios=t.CommonConstants=void 0,function(n){n.FeatureArea="CD";n.ReleaseManagementServiceInstanceId="0000000d-0000-8888-8000-000000000000";n.SecurityNameSpaceIdForReleaseManagement="C788C23E-1B46-4162-8F5E-D7585343B5DE";n.SecurityNameSpaceIdForDashboards="8ADF73B7-389A-4276-B638-FE1653F7EFC7";n.SecurityNameSpaceIdForReleaseManagementUI="7c7d32f7-0e86-4cd6-892e-b35dbba870bd";n.ReleaseManagementUIPermissionToken="/ReleaseManagementUI";n.ReleaseDescriptionLengthLimit=4e3}(i=t.CommonConstants||(t.CommonConstants={})),function(n){n.EditDefinition="VSO.CD.EditDefinition";n.SaveDefinition="VSO.CD.SaveDefinition";n.CreateDefinition="VSO.CD.CreateDefinition";n.CloneDefinition="VSO.CD.CloneDefinition";n.ImportDefinition="VSO.CD.ImportDefinition";n.SaveRelease="VSO.CD.SaveRelease";n.DeploymentGroupGrid="VSO.CD.DeploymentGroupGrid";n.CreateReleaseDialog="VSO.CD.OpenCreateReleaseDialog";n.StartRelease="VSO.CD.StartRelease"}(r=t.PerfScenarios||(t.PerfScenarios={})),function(n){n.DeployHelpLink="https://go.microsoft.com/fwlink/?LinkId=619385"}(u=t.HelpConstants||(t.HelpConstants={})),function(n){n.StoreKey_CommonDialogStoreKey="STORE_KEY_COMMON_DIALOG_STORE";n.StoreKey_ProgressIndicatorStoreKey="STORE_KEY_PROGRESS_INDICATOR_STORE"}(f=t.CommonStoreKeys||(t.CommonStoreKeys={})),function(n){n.ActionsCreatorKey_CommonDialogActionsCreator="ACTIONS_CREATOR_KEY_COMMON_DIALOG_ACTIONS_CREATOR";n.ActionsCreatorKey_ProgressIndicatorActionsCreator="ACTIONS_CREATOR_KEY_PROGRESS_INDICATOR_ACTIONS_CREATOR"}(e=t.CommonActionsCreatorKeys||(t.CommonActionsCreatorKeys={})),function(n){n.ActionHubKey_CommonDialogActionHub="ACTION_HUB_KEY_COMMON_DIALOG_ACTION_HUB";n.ActionHubKey_ProgressIndicatorActionHub="ACTION_HUB_KEY_PROGRESS_INDICATOR_ACTION_HUB"}(o=t.CommonActionHubKeys||(t.CommonActionHubKeys={})),function(n){n.ReleaseManagementEditorHubId="ms.vss-releaseManagement-web.cd-workflow-hub";n.ReleaseManagementExplorerHubId="ms.vss-releaseManagement-web.hub-explorer";n.ReleaseProgressHubId="ms.vss-releaseManagement-web.cd-release-progress";n.ReleaseManagementExplorer2HubId="ms.vss-releaseManagement-web.hub-explorer-2";n.AgentsHubId="ms.vss-build.web.agent-queues-hub";n.YamlHub="ms.vss-releaseManagement-web.cd-release-yaml-editor"}(s=t.NavigationConstants||(t.NavigationConstants={})),function(n){n.HubExplorerReRouteId="ms.vss-releaseManagement-web.hub-explorer-reroute"}(h=t.HubRoutes||(t.HubRoutes={})),function(n){n.CreateReleasePanelContributionId="ms.vss-releaseManagement-web.cd-create-release";n.CreateReleaseVersionPickerContributionId="ms.vss-releaseManagement-web.create-release-version-picker";n.CreateReleaseArtifactPathVariablePickerMenuContributionId="ms.vss-releaseManagement-web.create-release-variables-value-artifact-path-picker-menu";n.CreateReleaseBuildVersionPickerMenuContributionId="ms.vss-releaseManagement-web.create-release-build-version-picker-menu";n.ReleaseDetailsSummaryTabContributionId="ms.vss-releaseManagement-web.release-details-summary-tab";n.ReleaseEnvironmentPivotContributionId="ms.vss-releaseManagement-web.release-environment-editor-tab";n.ReleaseEnvironmentDeploymentGroupLogsPivotContributionId="ms.vss-releaseManagement-web.release-environment-deployment-group-logs-tab";n.ReleasePivotContributionId="ms.vss-releaseManagement-web.release-editor-tab";n.ReleaseEnvironmentEditorToolbarMenuContributionId="ms.vss-releaseManagement-web.release-environment-editor-tool-bar-menu";n.ReleaseEditorToolbarMenuContributionId="ms.vss-releaseManagement-web.release-editor-tool-bar-menu";n.ReleaseDetailsViewContributionId="ms.vss-releaseManagement-web.release-details-view";n.ReleaseLogLinesContributionId="ms.vss-releaseManagement-web.log-lines-data-provider";n.ReleaseDeploymentPipelineNodeContributionId="ms.vss-releaseManagement-web.release-deployment-pipeline-node-extension";n.AllDefinitionsToolbarMenuContributionId="ms.vss-releaseManagement-web.release-definition-explorer-toolbar-menu";n.AllDefinitionsContextMenuContributionId="ms.vss-releaseManagement-web.release-definition-explorer-context-menu"}(c=t.ContributionIds||(t.ContributionIds={})),function(n){n.ReleaseSummaryTabContributionTypeId="ms.vss-releaseManagement-web.release-summary-tab"}(l=t.SupportedContributionTypes||(t.SupportedContributionTypes={})),function(n){n.ShowAllReleasesTreatmentFlight="RM-SHOWRELEASES-T"}(a=t.FlightNames||(t.FlightNames={}))});

define("PipelineWorkflow/Scripts/Common/Actions/ProgressIndicatorActions",["require","exports","DistributedTaskControls/Common/Actions/Base","PipelineWorkflow/Scripts/Common/Constants","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.ProgressIndicatorActions=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._actionStarted=new u.Action;this._actionCompleted=new u.Action},t.getKey=function(){return r.CommonActionHubKeys.ActionHubKey_ProgressIndicatorActionHub},Object.defineProperty(t.prototype,"actionStarted",{get:function(){return this._actionStarted},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actionCompleted",{get:function(){return this._actionCompleted},enumerable:!1,configurable:!0}),t}(i.ActionsHubBase);t.ProgressIndicatorActions=f});

define("PipelineWorkflow/Scripts/Common/Stores/ProgressIndicatorStore",["require","exports","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Stores/Base","PipelineWorkflow/Scripts/Common/Actions/ProgressIndicatorActions","PipelineWorkflow/Scripts/Common/Constants","VSS/Utils/Array"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.ProgressIndicatorStore=void 0;var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleActionStarted=function(n){t._actionsCount++;t._inProgressActions.push(n);t.emitChanged()},t._handleActionCompleted=function(n){t._actionsCount>0?t._actionsCount--:t._actionsCount=0;e.remove(t._inProgressActions,n);t.emitChanged()},t._actionsCount=0,t}return __extends(t,n),t.getKey=function(){return f.CommonStoreKeys.StoreKey_ProgressIndicatorStoreKey},t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._inProgressActions=[];this._actions=i.ActionsHubManager.GetActionsHub(u.ProgressIndicatorActions,t);this._actions.actionStarted.addListener(this._handleActionStarted);this._actions.actionCompleted.addListener(this._handleActionCompleted)},t.prototype.getState=function(){return this._actionsCount},t.prototype.hasAnyActionsInProgress=function(){return this._actionsCount>0},t.prototype.isActionInProgress=function(n){return e.contains(this._inProgressActions,n)},t.prototype.disposeInternal=function(){this._actions.actionStarted.removeListener(this._handleActionStarted);this._actions.actionCompleted.removeListener(this._handleActionCompleted)},t}(r.StoreBase);t.ProgressIndicatorStore=o});

define("DistributedTaskControls/Common/Stores/AggregatorStoreBase",["require","exports","DistributedTaskControls/Common/Stores/Base"],function(n,t,i){var r,u,f;Object.defineProperty(t,"__esModule",{value:!0});t.AggregatorDataStoreBase=t.AggregatorViewStoreBase=t.AggregatorStoreBase=void 0;r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleChange=function(){t.emitChanged()},t}return __extends(t,n),t.prototype.disposeInternal=function(){var n=this;this.getStores().forEach(function(t){t.removeChangedListener(n._handleChange)});this.clearStores()},t.prototype.addToStoreList=function(n,t){this.getStores().push(n);t||n.addChangedListener(this._handleChange)},t.prototype.removeFromStoreList=function(n){var t=this.getStores().indexOf(n);t>=0&&(this.getStores().splice(t,1),n.removeChangedListener(this._handleChange))},t}(i.StoreBase);t.AggregatorStoreBase=r;u=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._viewStores=[],t._viewStores=[],t}return __extends(t,n),t.prototype.getViewStoreList=function(){return this._viewStores},t.prototype.getStores=function(){return this.getViewStoreList()},t.prototype.clearStores=function(){this._viewStores=[]},t}(r);t.AggregatorViewStoreBase=u;f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._dataStores=[],t}return __extends(t,n),t.prototype.getDataStoreList=function(){return this._dataStores||[]},t.prototype.isDirty=function(){var n=!1;return this.getDataStoreList().forEach(function(t){if(t.isDirty()){n=!0;return}}),n},t.prototype.isValid=function(){var n=!0;return this.getDataStoreList().forEach(function(t){if(!t.isValid()){n=!1;return}}),n},t.prototype.getStores=function(){return this.getDataStoreList()},t.prototype.clearStores=function(){this._dataStores=[]},t.prototype.initializeDataStores=function(n){this._dataStores=n},t}(r);t.AggregatorDataStoreBase=f});

define("DistributedTaskControls/Common/Stores/ListDataStoreBase",["require","exports","DistributedTaskControls/Common/Stores/AggregatorStoreBase","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.ListDataStoreBase=void 0;var f=function(n){function t(t){var i,r;t===void 0&&(t=!1);i=__construct(this,n,[]);for(r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._isOrdered=t,i}return __extends(t,n),t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._originalDataStores=[]},t.prototype.getDataStoreList=function(){return n.prototype.getDataStoreList.call(this)},t.prototype.isListDirty=function(){var t=this.getDataStoreList(),i,f,n,e,o;if(t.length!==this._originalDataStores.length)return!0;if(i=!0,this._isOrdered){for(f=t.length,n=0;n<f;n++)if(u.ignoreCaseComparer(t[n].getInstanceId(),this._originalDataStores[n].getInstanceId())!==0){i=!1;break}}else e=t.map(function(n){return n.getInstanceId()}),o=this._originalDataStores.map(function(n){return n.getInstanceId()}),i=r.arrayEquals(e,o,function(n,t){return u.ignoreCaseComparer(n,t)===0});return!i},t.prototype.isDirty=function(){return this.isListDirty()||n.prototype.isDirty.call(this)},t.prototype.initializeListDataStore=function(t){var f=this.getDataStoreList(),i,u,e;if(f.length>0)for(i=0,u=f;i<u.length;i++)e=u[i],e.removeChangedListener(this._handleChange);this._originalDataStores=r.clone(t||[]);n.prototype.initializeDataStores.call(this,r.clone(t||[]));this._initializeChangeListeners()},t.prototype.insertDataStore=function(t,i,r){i>=0&&(r||t.addChangedListener(this._handleChange),n.prototype.getDataStoreList.call(this).splice(i,0,t))},t.prototype.removeFromDataStoreList=function(t){var i=n.prototype.getDataStoreList.call(this).indexOf(t);i>=0&&(n.prototype.getDataStoreList.call(this).splice(i,1),t.removeChangedListener(this._handleChange))},t.prototype.reorderDataStoreList=function(t,i){var f=-1;f=r.findIndex(n.prototype.getDataStoreList.call(this),function(n){return n&&u.ignoreCaseComparer(n.getInstanceId(),t)===0});n.prototype.initializeDataStores.call(this,r.reorder(n.prototype.getDataStoreList.call(this),f,i,1))},t.prototype.handleUpdate=function(t,i){t&&(t.length!==n.prototype.getDataStoreList.call(this).length||i)?this.initializeListDataStore(t):(this._originalDataStores=[],this._originalDataStores=r.clone(n.prototype.getDataStoreList.call(this)))},t.prototype.getDataStoreAndIndex=function(n){for(var i=this.getDataStoreList(),r=null,u=-1,t=0,f=i.length;t<f;t++)if(i[t].getInstanceId()===n){r=i[t];u=t;break}return{dataStore:r,index:u}},t.prototype.getNextSelectableStoreAfterDelete=function(n){var t=this.getDataStoreList();return n<t.length?t[n]:n===t.length&&t.length!==0?t[n-1]:null},t.prototype.insertStoreAtTarget=function(n,t,i){var f=this.getDataStoreList(),r=-1;if(t){var u=this.getDataStoreAndIndex(t),o=u.dataStore,e=u.index;r=e;i||(r=r+1)}r<0&&(r=f.length);this.insertDataStore(n,r)},t.prototype.disposeInternal=function(){this._originalDataStores=[];n.prototype.disposeInternal.call(this)},t.prototype._initializeChangeListeners=function(){var t=this;n.prototype.getDataStoreList.call(this).forEach(function(n){n.addChangedListener(t._handleChange)})},t}(i.AggregatorDataStoreBase);t.ListDataStoreBase=f});

define("PipelineWorkflow/Scripts/Common/Types",["require","exports","ReleaseManagement/Core/Constants","ReleaseManagement/Core/Contracts","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types"],function(n,t,i,r,u){var o,f,e,s,h;Object.defineProperty(t,"__esModule",{value:!0});t.FilterOption=t.GatesType=t.ApprovalOrderKeys=t.ApprovalTypeKeys=t.ComputedDeploymentStatus=t.PipelineReleaseCreationSourceConstants=t.ReleaseQueryOrder=t.ReleaseStatus=t.ReleaseOperationStatus=t.ReleaseDeploymentStatus=t.PipelineAuthorizationHeaderType=t.PipelineDefinitionContractMetadata=t.ReleaseDefinitionExpands=t.ReleaseDefinitionQueryOrder=t.PipelineDeployPhaseTypes=t.PipelineArtifactDownloadInputConstants=t.PipelineExtensionAreas=t.EnvironmentSummaryAction=t.PipelineDefinitionDesignerActions=t.PipelineReleaseEditorActions=t.PipelineRunOptionsConstants=t.PipelineStringConstants=t.PipelineArtifactDefinitionConstants=t.PipelineArtifactTypes=t.PipelineArtifactConstants=t.PipelineConstants=t.PipelineEnvironmentTriggerConditionEnvironmentStatus=t.PipelineEnvironmentTriggerTypeConstants=t.PipelineEnvironmentTriggerConditionType=t.PipelineTriggerType=t.PipelineDefinitionSource=t.PipelineDefinitionRequestCreationSource_Type=void 0;t.PipelineDefinitionRequestCreationSource_Type=u.ReleaseDefinitionCreationSource;t.PipelineDefinitionSource=r.ReleaseDefinitionSource;t.PipelineTriggerType=r.ReleaseTriggerType;t.PipelineEnvironmentTriggerConditionType=r.ConditionType;t.PipelineEnvironmentTriggerTypeConstants=u.EnvironmentDeploymentConditionsTriggerTypeConstants;t.PipelineEnvironmentTriggerConditionEnvironmentStatus=r.EnvironmentStatus;t.PipelineConstants=u.ReleaseDefinitionConstants;t.PipelineArtifactConstants=u.ArtifactDefaultVersionConstants;t.PipelineArtifactTypes=u.ArtifactTypes;t.PipelineArtifactDefinitionConstants=i.ArtifactDefinitionConstants;t.PipelineStringConstants=u.StringConstants;t.PipelineRunOptionsConstants=i.RunOptionsConstants;t.PipelineReleaseEditorActions=u.ReleaseEditorAction;t.PipelineDefinitionDesignerActions=u.DefinitionDesignerActions;t.EnvironmentSummaryAction=u.EnvironmentSummaryAction;t.PipelineExtensionAreas=u.ExtensionArea;t.PipelineArtifactDownloadInputConstants=i.ArtifactDownloadInputConstants;t.PipelineDeployPhaseTypes=r.DeployPhaseTypes;t.ReleaseDefinitionQueryOrder=r.ReleaseDefinitionQueryOrder;t.ReleaseDefinitionExpands=r.ReleaseDefinitionExpands;t.PipelineDefinitionContractMetadata=r.TypeInfo.ReleaseDefinition;t.PipelineAuthorizationHeaderType=r.AuthorizationHeaderFor;t.ReleaseDeploymentStatus=r.DeploymentStatus;t.ReleaseOperationStatus=r.DeploymentOperationStatus;t.ReleaseStatus=r.ReleaseStatus;t.ReleaseQueryOrder=r.ReleaseQueryOrder;t.PipelineReleaseCreationSourceConstants=u.ReleaseCreationSource,function(n){n.CanceledBeforeExecution="CanceledBeforeExecution";n.CanceledDuringExecution="CanceledDuringExecution";n.Cancelling="Cancelling";n.Deferred="Deferred";n.Failed="Failed";n.InProgress="InProgress";n.ManualInterventionPending="ManualInterventionPending";n.NotDeployed="NotDeployed";n.PartiallySucceeded="PartiallySucceeded";n.PostApprovalPending="PostApprovalPending";n.PostApprovalRejected="PostApprovalRejected";n.PreApprovalPending="PreApprovalPending";n.PreApprovalRejected="PreApprovalRejected";n.Queued="Queued";n.QueuedForAgentBeforeDeploy="QueuedForAgentBeforeDeploy";n.QueuedForPipelineBeforeDeploy="QueuedForPipelineBeforeDeploy";n.QueuedForAgentDuringDeploy="QueuedForAgentDuringDeploy";n.QueuedForPipelineDuringDeploy="QueuedForPipelineDuringDeploy";n.Scheduled="Scheduled";n.Succeeded="Succeeded";n.TaskFailedOrManualInterventionRejected="TaskFailedOrManualInterventionRejected";n.EvaluatingPreDeploymentGates="EvaluatingPreDeploymentGates";n.PreDeploymentGatesFailed="PreDeploymentGatesFailed";n.EvaluatingPostDeploymentGates="EvaluatingPostDeploymentGates";n.PostDeploymentGatesFailed="PostDeploymentGatesFailed";n.EvaluatingGatesPhase="EvaluatingGatesPhase";n.Undefined="Undefined"}(o=t.ComputedDeploymentStatus||(t.ComputedDeploymentStatus={}));f=function(){function n(){}return n.automaticApprovalTypeKey="automatic-approval",n.manualApprovalTypeKey="manual-approval",n}();t.ApprovalTypeKeys=f;e=function(){function n(){}return n.anyOrderKey="any-order",n.sequentialOrderKey="sequential-order",n.anyOneUserKey="any-one-user",n}();t.ApprovalOrderKeys=e,function(n){n.PreDeploy="PreDeploy";n.PostDeploy="PostDeploy";n.Deploy="Deploy"}(s=t.GatesType||(t.GatesType={})),function(n){n[n.Include=1]="Include";n[n.Exclude=2]="Exclude"}(h=t.FilterOption||(t.FilterOption={}))});

define("PipelineWorkflow/Scripts/Shared/EnvironmentList/EnvironmentListModel",["require","exports","DistributedTaskControls/Common/JQueryWrapper","PipelineWorkflow/Scripts/Common/Types","ReleaseManagement/Core/Contracts","VSS/Utils/String"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.EnvironmentListModel=void 0;var e=function(){function n(){this._environmentList=[];this._idToInstanceIdMap={}}return n.prototype.getEnvironmentList=function(){var n=[];return i.JQueryWrapper.extendDeep(n,this._environmentList),n},n.prototype.getEnvironmentInstanceId=function(n){return this._idToInstanceIdMap[n]},n.prototype.addEnvironment=function(n,t){this._environmentList.push(n);this._idToInstanceIdMap[n.id]=t},n.prototype.deleteEnvironment=function(n){for(var i=-1,r=this._environmentList.length,t=0;t<r;t++)if(this._environmentList[t].id===n){i=t;break}i>-1&&(this._environmentList.splice(i,1),delete this._idToInstanceIdMap[n])},n.prototype.replaceId=function(n,t,i){var r=this._idToInstanceIdMap[t];if(r!==n)throw new Error("Instance id does not match for id: "+t);else delete this._idToInstanceIdMap[t],this._idToInstanceIdMap[i]=n},n.prototype.getEnvironmentIdFromInstanceId=function(n){var r,i=this._environmentList,u,t,f;if(i)for(u=i.length,t=0;t<u;t++)if(f=i[t].id,this._idToInstanceIdMap[f]===n){r=i[t].id;break}return r},n.prototype.updateEnvironmentList=function(n){var t,i,r;if(n.length===this._environmentList.length){for(t=0,i=n;t<i.length;t++)if(r=i[t],!this._idToInstanceIdMap[r.id])throw new Error("Environment with id "+r.id+" cannot be found");this._environmentList=n}else throw new Error("Number of environments to update should match");},n.prototype.getEnvironmentIdNameMap=function(){var n={};return this._environmentList&&this._environmentList.length>0&&this._environmentList.forEach(function(t){n[t.id]=t.name}),n},n.prototype.getEnvironmentNameIdMap=function(){var n={};return this._environmentList&&this._environmentList.length>0&&this._environmentList.forEach(function(t){t&&(n[t.name.toLocaleLowerCase()]=t.id)}),n},n.prototype.getEnvironmentConnections=function(n){return n===void 0&&(n=!1),this.getEnvironmentConnectionsFromEnvironments(this._environmentList,n)},n.prototype.getEnvironmentConnectionsFromEnvironments=function(n,t){var u=this,i;return(t===void 0&&(t=!1),i={},!n||n.length===0)?i:(n.forEach(function(n){var c=u.getEnvironmentInstanceId(n.id),o,e,s,h;if(u._getDependentEnvironmentIds(n,t).forEach(function(n){var t=u.getEnvironmentInstanceId(n);i[t]||(i[t]={});i[t][c]=!0}),n.conditions){for(o=!1,e=0,s=n.conditions;e<s.length;e++)if(h=s[e],h.conditionType===r.PipelineEnvironmentTriggerConditionType.Event&&h.name===r.PipelineEnvironmentTriggerTypeConstants.ReleaseStarted){o=!0;break}o&&(i[f.empty]||(i[f.empty]={}),i[f.empty][c]=!0)}}),i)},n.prototype.getEnvironmentsData=function(){var t=this,n=[];return this._environmentList.forEach(function(i){n.push({environment:i,instanceId:t._idToInstanceIdMap[i.id]})}),n},n.prototype._getDependentEnvironmentIds=function(n,t){var r,h,f,e,i,o,s;if(t===void 0&&(t=!1),r=[],h=this.getEnvironmentNameIdMap(),n.conditions)for(f=0,e=n.conditions;f<e.length;f++)if(i=e[f],i.conditionType===u.ConditionType.EnvironmentState)if(o=i,t)if(s=h[i.name.toLocaleLowerCase()],s)r.push(s);else throw Error("There is no environment with name in the environment list: "+i.name);else if(o.environmentId)r.push(o.environmentId);else throw Error("Environment trigger condition should contain the environment id (converted to string)");return r},n}();t.EnvironmentListModel=e});

define("PipelineWorkflow/Scripts/Shared/Constants",["require","exports"],function(n,t){var i,r,u,f,e,o;Object.defineProperty(t,"__esModule",{value:!0});t.PostDeploymentConditionsViewComponents=t.PreDeploymentConditionsViewComponents=t.SharedActionCreatorKeys=t.SharedActionKeys=t.SharedStoreKeys=t.SharedConstants=void 0,function(n){n.PipelineConstant_phaseinput_artifactdownloadinput="phaseinput_artifactdownloadinput";n.PipelineConstant_phaseinput_outputVariable="phaseinput_outputVariablesInput"}(i=t.SharedConstants||(t.SharedConstants={})),function(n){n.EnvironmentList="SharedStore_EnvironmentList";n.Environment="SharedStore_Environment";n.EnvironmentsCanvasViewStore="SharedStore_EnvironmentsCanvasViewStore";n.ProcessStore="SharedStore_ProcessStore";n.DeployPipelineEnvironmentApprovalPoliciesStoreKey="STORE_KEY_DEPLOY_PIPELINE_ENVIRONMENT_APPROVAL_POLICIES_STORE"}(r=t.SharedStoreKeys||(t.SharedStoreKeys={})),function(n){n.EnvironmentList="SharedActions_EnvironmentList";n.Environment="SharedActions_Environment";n.EnvironmentPostApprovalConditionsActionHub="ACTION_HUB_KEY_ENVIRONMENT_POST_APPROVAL_CONDITIONS_ACTION_HUB";n.EnvironmentPreApprovalConditionsActionHub="ACTION_HUB_KEY_ENVIRONMENT_PRE_APPROVAL_CONDITIONS_ACTION_HUB";n.EnvironmentApprovalPoliciesActionHub="ACTION_HUB_KEY_ENVIRONMENT_APPROVAL_POLICIES_ACTION_HUB";n.TaskTabActionHub="ACTION_HUB_KEY_DEPLOYMENT_TASK_TAB_ACTION_HUB"}(u=t.SharedActionKeys||(t.SharedActionKeys={})),function(n){n.EnvironmentList="SharedActionCreator_EnvironmentList";n.Environment="SharedActionCreator_Environment";n.EnvironmentPostApprovalConditionsActionCreator="ACTION_CREATOR_KEY_ENVIRONMENT_POST_APPROVAL_CONDITIONS_ACTION_CREATOR";n.EnvironmentPreApprovalConditionsActionCreator="ACTION_CREATOR_KEY_ENVIRONMENT_PRE_APPROVAL_CONDITIONS_ACTION_CREATOR";n.EnvironmentApprovalPoliciesActionCreator="ACTION_CREATOR_KEY_ENVIRONMENT_APPROVAL_POLICIES_ACTION_CREATOR";n.TaskTabActionCreator="ACTION_CREATOR_KEY_TASK_TAB_ACTION_CREATOR"}(f=t.SharedActionCreatorKeys||(t.SharedActionCreatorKeys={})),function(n){n.EnvironmentTriggerView="ENV_TRIGGER_VIEW";n.EnvironmentPreDeploymentGatesView="ENV_PRE_DEPLOYMENT_GATES_VIEW";n.EnvironmentPreApprovalView="ENV_PRE_APR_COMP";n.QueueSettingsView="QUE_SETTINGS"}(e=t.PreDeploymentConditionsViewComponents||(t.PreDeploymentConditionsViewComponents={})),function(n){n.EnvironmentPostDeploymentGatesView="ENV_POST_DEPLOYMENT_GATES_VIEW";n.EnvironmentPostApprovalView="ENV_POST_APR_COMP";n.EnvironmentAutoRedeployTriggerView="ENV_AUTO_RDP_TRG_VIEW"}(o=t.PostDeploymentConditionsViewComponents||(t.PostDeploymentConditionsViewComponents={}))});

define("PipelineWorkflow/Scripts/Shared/EnvironmentList/EnvironmentListActionsHub",["require","exports","DistributedTaskControls/Common/Actions/Base","PipelineWorkflow/Scripts/Shared/Constants"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.EnvironmentListActionsHub=void 0;var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return r.SharedActionKeys.EnvironmentList},t.prototype.initialize=function(){this._initializeEnvironmentList=new i.Action;this._updateExistingEnvironmentList=new i.Action;this._refreshEnvironmentList=new i.Action},Object.defineProperty(t.prototype,"initializeEnvironmentList",{get:function(){return this._initializeEnvironmentList},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateExistingEnvironmentList",{get:function(){return this._updateExistingEnvironmentList},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"refreshEnvironmentList",{get:function(){return this._refreshEnvironmentList},enumerable:!1,configurable:!0}),t}(i.ActionsHubBase);t.EnvironmentListActionsHub=u});

define("PipelineWorkflow/Scripts/Shared/Environment/EnvironmentActionsHub",["require","exports","DistributedTaskControls/Common/Actions/Base","PipelineWorkflow/Scripts/Shared/Constants"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.EnvironmentActionsHub=void 0;var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return r.SharedActionKeys.Environment},t.prototype.initialize=function(){this._initializeEnvironment=new i.Action;this._updateExistingEnvironment=new i.Action},Object.defineProperty(t.prototype,"initializeEnvironment",{get:function(){return this._initializeEnvironment},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateExistingEnvironment",{get:function(){return this._updateExistingEnvironment},enumerable:!1,configurable:!0}),t}(i.ActionsHubBase);t.EnvironmentActionsHub=u});

define("PipelineWorkflow/Scripts/Shared/Environment/EnvironmentStore",["require","exports","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Stores/AggregatorStoreBase","PipelineWorkflow/Scripts/Shared/Constants","PipelineWorkflow/Scripts/Shared/Environment/EnvironmentActionsHub","VSS/Diag"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.EnvironmentStore=void 0;var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleInitializeEnvironment=function(n){t._environment=n.environment},t._handleUpdateExistingEnvironment=function(n){if(!t._environment&&n.environment){e.logError("Environment has not been initialized");return}if(n.environment&&t._environment.id!==n.environment.id){e.logError("Environment should be updated with an environment of same id");return}t._environment=n.environment;t.emitChanged()},t}return __extends(t,n),t.getKey=function(){return u.SharedStoreKeys.Environment},t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this.getActionsHub().initializeEnvironment.addListener(this._handleInitializeEnvironment);this.getActionsHub().updateExistingEnvironment.addListener(this._handleUpdateExistingEnvironment)},t.prototype.disposeInternal=function(){this.getActionsHub().initializeEnvironment.removeListener(this._handleInitializeEnvironment);this.getActionsHub().updateExistingEnvironment.removeListener(this._handleUpdateExistingEnvironment);n.prototype.disposeInternal.call(this)},t.prototype.getActionsHub=function(){return i.ActionsHubManager.GetActionsHub(f.EnvironmentActionsHub,this.getInstanceId())},t.prototype.updateVisitor=function(){},t.prototype.getEnvironment=function(){return this._environment},t.prototype.getEnvironmentId=function(){return this._environment?this._environment.id:0},t.prototype.updateEnvironment=function(n){this._environment=n},t}(r.AggregatorDataStoreBase);t.EnvironmentStore=o});

define("PipelineWorkflow/Scripts/Shared/EnvironmentList/EnvironmentListStore",["require","exports","VSS/Diag","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Stores/ListDataStoreBase","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Common/Stores/StoreManager","PipelineWorkflow/Scripts/Shared/EnvironmentList/EnvironmentListModel","PipelineWorkflow/Scripts/Shared/Constants","PipelineWorkflow/Scripts/Shared/EnvironmentList/EnvironmentListActionsHub","PipelineWorkflow/Scripts/Shared/Environment/EnvironmentStore"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.EnvironmentListStore=void 0;var l=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t._handleInitializeEnvironmentList=function(r){var e,u,s,f;if(t._environments=r.environmentList,i.logVerbose("EnvironmentListStore environmentList payload recvd instanceID ".concat(t.getInstanceId())),t._environments){for(t._environmentListModel=new o.EnvironmentListModel,e=[],u=0,s=t._environments;u<s.length;u++)f=s[u],e.push(t.getEnvironmentStore(f.id.toString())),t._environmentListModel.addEnvironment(f,f.id.toString());n.prototype.initializeListDataStore.call(t,e)}},t._handleRefreshEnvironmentList=function(n){t._handleInitializeEnvironmentList(n);t.emitChanged()},t._handleUpdateExistingEnvironmentList=function(n){t._environments=n.environmentList;t._environments&&t._environmentListModel.updateEnvironmentList(t._environments)},t}return __extends(t,n),t.getKey=function(){return s.SharedStoreKeys.EnvironmentList},t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._environmentListActions=r.ActionsHubManager.GetActionsHub(h.EnvironmentListActionsHub,t);this._environmentListActions.initializeEnvironmentList.addListener(this._handleInitializeEnvironmentList);this._environmentListActions.updateExistingEnvironmentList.addListener(this._handleUpdateExistingEnvironmentList);this._environmentListActions.refreshEnvironmentList.addListener(this._handleRefreshEnvironmentList)},t.prototype.disposeInternal=function(){this._environmentListActions.initializeEnvironmentList.removeListener(this._handleInitializeEnvironmentList);this._environmentListActions.updateExistingEnvironmentList.removeListener(this._handleUpdateExistingEnvironmentList);this._environmentListActions.refreshEnvironmentList.removeListener(this._handleRefreshEnvironmentList);n.prototype.disposeInternal.call(this)},t.prototype.updateVisitor=function(n){this.getDataStoreList().forEach(function(t){var i=f.JQueryWrapper.extendDeep({},null);t.updateVisitor(i);n.push(i)})},t.prototype.getEnvironmentConnections=function(){return(i.logVerbose("EnvironmentListStore someone asking for connections instanceID ".concat(this.getInstanceId())),!this._environmentListModel)?(i.logVerbose("EnvironmentListStore but returned empty instanceID ".concat(this.getInstanceId())),{}):this._environmentListModel.getEnvironmentConnections(!0)},t.prototype.getEnvironmentsData=function(){return this._environmentListModel?this._environmentListModel.getEnvironmentsData():[]},t.prototype.getEnvironmentStore=function(n){return e.StoreManager.GetStore(c.EnvironmentStore,n)},t}(u.ListDataStoreBase);t.EnvironmentListStore=l});

define("PipelineWorkflow/Scripts/SharedComponents/CreateRelease/Constants",["require","exports"],function(n,t){var i,r,u,f,e,o;Object.defineProperty(t,"__esModule",{value:!0});t.CreateReleaseArtifactConstants=t.CreateReleaseProgressIndicatorAction=t.CreateReleaseEnvironmentNodeConstants=t.CreateReleasePanelInstances=t.CreateReleaseVersionPickerKeys=t.CreateReleaseKeys=void 0,function(n){n.StoreKey_CreateReleaseStoreKey="STORE_KEY_CREATE_RELEASE_STORE";n.ActionsCreatorKey_CreateReleaseActionsCreator="ACTIONS_CREATOR_KEY_CREATE_RELEASE_ACTIONS_CREATOR";n.ActionHubKey_CreateReleaseActionHub="ACTION_HUB_KEY_CREATE_RELEASE_ACTION_HUB"}(i=t.CreateReleaseKeys||(t.CreateReleaseKeys={})),function(n){n.StoreKey_BuildVersionPickerStoreKey="STORE_KEY_BUILD_VERSION_PICKER_STORE";n.ActionsCreatorKey_BuildVersionPickerActionsCreator="ACTIONS_CREATOR_KEY_BUILD_VERSION_PICKER_ACTIONS_CREATOR";n.ActionHubKey_BuildVersionPickerActionHub="ACTION_HUB_KEY_BUILD_VERSION_PICKER_ACTION_HUB"}(r=t.CreateReleaseVersionPickerKeys||(t.CreateReleaseVersionPickerKeys={})),function(n){n.CreateReleasePanelInstanceId="CanvasSelector_CreateReleasePanel";n.CreateReleaseEnvironmentCanvasItemSelectionInstanceId="CreateRelease_EnvironmentCanvas_ItemSelection"}(u=t.CreateReleasePanelInstances||(t.CreateReleasePanelInstances={})),function(n){n.compactEnvironmentNodeHeight=30;n.compactEnvironmentNodeWidth=108;n.gridCellWidth=5;n.gridCellHeight=5;n.createReleaseEnvironmentCanvasVerticalMargin=35;n.createReleaseEnvironmentCanvasVerticalMarginSmall=20;n.createReleaseEnvironmentCanvasHorizontalMargin=60;n.createReleaseEnvironmentCanvasHorizontalMarginSmall=30;n.createReleaseEnvironmentCanvasLeftMargin=60}(f=t.CreateReleaseEnvironmentNodeConstants||(t.CreateReleaseEnvironmentNodeConstants={})),function(n){n.createReleaseAction="createRelease";n.authorizeDeploymentAction="authorizeDeployment";n.updateReleaseAction="updateRelease";n.initializeDefinitionAction="initializeDefinition";n.initializeArtifactVersionsAction="initializeArtifactVersions";n.initializeEnvironmentPhaseWarningAction="initializeEnvironmentPhaseWarning";n.initializeEnvironmentEndpointsAction="initializeEnvironmentEndpoints";n.initializeOverridableVariablesAction="initializeOverridableVariables";n.initializeVersionPickerContributionsAction="initializeVersionPickerContributions"}(e=t.CreateReleaseProgressIndicatorAction||(t.CreateReleaseProgressIndicatorAction={})),function(n){n.branchNamePrefix="refs/heads/";n.repoTypeTfsGit="TfsGit"}(o=t.CreateReleaseArtifactConstants||(t.CreateReleaseArtifactConstants={}))});

define("DistributedTaskControls/Variables/Common/Actions/VariablesActionCreatorBase",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Telemetry"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.VariablesActionCreatorBase=void 0;var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.updateVariableKey=function(n){this.getActionsHub().updateVariableKey.invoke(n)},t.prototype.updateVariableValue=function(n){this.getActionsHub().updateVariableValue.invoke(n);this._publishTelemetry()},t.prototype.deleteVariable=function(n){this.getActionsHub().deleteVariable.invoke(n)},t.prototype.addVariable=function(n){this.getActionsHub().addVariable.invoke(n)},t.prototype._publishTelemetry=function(){var n={};n[r.Properties.editVariableInListView]=!0;r.Telemetry.instance().publishEvent(r.Feature.Variables,n)},t}(i.ActionCreatorBase);t.VariablesActionCreatorBase=u});

define("DistributedTaskControls/Variables/ProcessVariables/Actions/ProcessVariablesViewActions",["require","exports","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Variables/Common/Actions/ActionsBase","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.ProcessVariablesViewActions=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._createProcessVariables=new u.Action;this._updateProcessVariables=new u.Action;this._sort=new u.Action;this._addScopedProcessVariables=new u.Action;this._cloneScopedProcessVariables=new u.Action;this._updateScope=new u.Action;this._deleteScope=new u.Action;this._resetViewIndexToDataIndexMap=new u.Action;this._setAutoFocusInFlatViewTable=new u.Action;this._getMenuItemContributions=new u.Action},t.getKey=function(){return i.VariableActionHubKeys.VariablesSection_ViewActionsHub},Object.defineProperty(t.prototype,"createProcessVariables",{get:function(){return this._createProcessVariables},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateProcessVariables",{get:function(){return this._updateProcessVariables},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sort",{get:function(){return this._sort},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addScopedProcessVariables",{get:function(){return this._addScopedProcessVariables},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cloneScopedProcessVariables",{get:function(){return this._cloneScopedProcessVariables},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateScope",{get:function(){return this._updateScope},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deleteScope",{get:function(){return this._deleteScope},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resetViewIndexToDataIndexMap",{get:function(){return this._resetViewIndexToDataIndexMap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setAutoFocusInFlatViewTable",{get:function(){return this._setAutoFocusInFlatViewTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getMenuItemContributions",{get:function(){return this._getMenuItemContributions},enumerable:!1,configurable:!0}),t}(r.ActionsBase);t.ProcessVariablesViewActions=f});

define("DistributedTaskControls/Common/Sources/SourceBase",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.SourceBase=void 0;var i=function(){function n(){}return n.getKey=function(){throw new Error("This method needs to be implemented in derived classes");},n.prototype.__dispose=function(){this.disposeInternal()},n.prototype.disposeInternal=function(){},n}();t.SourceBase=i});

define("DistributedTaskControls/Common/Sources/SourceManager",["require","exports","DistributedTaskControls/Common/Factory"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.SourceManager=void 0;var r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getSource=function(i){return n.getInstance.call(this,t).getObject(i,null)},t.dispose=function(){return n.getInstance.call(this,t).dispose()},t.prototype.onObjectCreated=function(){},t}(i.BaseManager);t.SourceManager=r});

define("DistributedTaskControls/Sources/ContributionSource",["require","exports","DistributedTaskControls/Common/Sources/SourceBase","DistributedTaskControls/Common/Sources/SourceManager","VSS/Context","VSS/Contributions/Controls","VSS/Contributions/Services","VSS/Service"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.ContributionSource=void 0;var s=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._extensionService=o.getService(e.ExtensionService),t}return __extends(t,n),t.getKey=function(){return"ContributionSource"},t.prototype.getContributions=function(n,t){return this._extensionService.getContributionsForTarget(n,t)},t.instance=function(){return r.SourceManager.getSource(t)},t.prototype.getAllEditorExtensions=function(n){if(!this._getAllEditorExtensionsPromise||!!n){var t=o.getService(e.ExtensionService).getContributionsForTarget("ms.vss-distributed-task.task-input-editors");this._getAllEditorExtensionsPromise=t.then(function(n){return n})}return this._getAllEditorExtensionsPromise},t.prototype.getContributionResult=function(n,t){if(n.id){var r=n.properties.registeredObjectId||n.id,i=__assign({},u.getDefaultWebContext());return i.options=t?__assign({},t):{},f.getBackgroundInstance(n,r,i)}},t.prototype.resolveTemplateString=function(n,t){return e.ExtensionHelper.resolveTemplateString(n,t)},t}(i.SourceBase);t.ContributionSource=s});

define("DistributedTaskControls/Variables/ProcessVariables/Actions/ProcessVariablesActionCreator",["require","exports","DistributedTaskControls/Variables/Common/Actions/VariablesActionCreatorBase","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Variables/ProcessVariables/Actions/Actions","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Variables/ProcessVariables/Actions/ProcessVariablesViewActions","DistributedTaskControls/Sources/ContributionSource"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.ProcessVariablesActionCreator=void 0;var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._menuItemsPromiseMap={},t}return __extends(t,n),t.prototype.initialize=function(n){this._actions=r.ActionsHubManager.GetActionsHub(u.ProcessVariablesActions,n);this._viewActions=r.ActionsHubManager.GetActionsHub(e.ProcessVariablesViewActions,n)},t.getKey=function(){return f.VariableActionCreatorKeys.VariablesSection_ActionCreator},t.prototype.getActionsHub=function(){return this._actions},t.prototype.getViewActionsHub=function(){return this._viewActions},t.prototype.createProcessVariables=function(n){this.getViewActionsHub().createProcessVariables.invoke(n);this.getActionsHub().createProcessVariables.invoke(n)},t.prototype.updateProcessVariables=function(n){this.getViewActionsHub().resetViewIndexToDataIndexMap.invoke({});this.getActionsHub().updateProcessVariables.invoke(n);this.getViewActionsHub().updateProcessVariables.invoke(n)},t.prototype.updateScopePermissions=function(n){this.getActionsHub().updateScopePermissions.invoke(n)},t.prototype.toggleEditMode=function(n){this.getActionsHub().toggleEditMode.invoke(n)},t.prototype.sort=function(n){this.getActionsHub().sort.invoke(n)},t.prototype.deleteVariable=function(n){this.getViewActionsHub().deleteVariable.invoke(n);this.getActionsHub().deleteVariable.invoke(n)},t.prototype.addVariable=function(n){this.getViewActionsHub().addVariable.invoke(n);this.getActionsHub().addVariable.invoke(n)},t.prototype.addScopedProcessVariables=function(n){this.getViewActionsHub().addScopedProcessVariables.invoke(n);this.getActionsHub().addScopedProcessVariables.invoke(n)},t.prototype.cloneScopedProcessVariables=function(n){this.getViewActionsHub().cloneScopedProcessVariables.invoke(n);this.getActionsHub().cloneScopedProcessVariables.invoke(n)},t.prototype.updateScope=function(n){this.getActionsHub().updateScope.invoke(n)},t.prototype.deleteScope=function(n){this.getViewActionsHub().deleteScope.invoke(n);this.getActionsHub().deleteScope.invoke(n)},t.prototype.getContributedMenuItems=function(n){var i=this,t=o.ContributionSource.instance();this._menuItemsPromiseMap[n]||(this._menuItemsPromiseMap[n]=t.getContributions(n));this._menuItemsPromiseMap[n].then(function(n){var r=n.map(function(n){return{key:n.id,name:n.properties.name||n.properties.text,href:n.properties.href,iconProps:n.properties.iconProps,onClick:function(i,r){r&&r.data&&t.getContributionResult(n).then(function(n){return n.execute(r.data.menuContext)})}}});i._viewActions.getMenuItemContributions.invoke(r)})},t}(i.VariablesActionCreatorBase);t.ProcessVariablesActionCreator=s});

define("PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow",["require","exports"],function(require,exports){var e=exports;e.DeploymentStatusViewRequestedForTitle="Requested for";e.RepositoryMismatchMessage="The current release and \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1}\u003c/a\u003e are from different repositories. This difference cannot be calculated.";e.NoRetentionText="There are no stages found for this release pipeline. Add a stage from the pipeline view before setting its retention policy.";e.CurrentlyDeployed="Currently deployed";e.OverallApprovalsNotDeployed="Deployment not started";e.SaveReleaseMessage="Do you want to save all changes to this release? Note that your changes apply only to this release, not the original release pipeline.";e.CompletedPhasesHeader="Jobs 1-{0}";e.ReassigningInProgress="Reassigning...";e.RenameFolderContextualMenuText="Rename folder";e.CommitsArtifactLatestArtifactComparisonHeaderInfoText="This list shows the difference in commits between this artifact and the previously-deployed artifact for this stage. If the current artifact pre-dates this release’s artifact, then the difference denotes the list of commits (negative) that will be rolled back when this artifact is deployed to this stage.";e.ReleaseDescriptionText="Release description";e.DSWFailingSince="Failing since";e.ReleaseCanvasRightPane="Release progress - right pane";e.GeneralText="General";e.DeploymentType="Deployment type";e.ARIALabelSaveAsTemplate="Save stage as template";e.ApprovalPolicyInfo_TimeoutWithinHours="{0} hours";e.ReleaseNameFormatInfo="Format mask that has been used to generate the release name.​ [More Information](https://go.microsoft.com/fwlink/?linkid=852585 )";e.DeploymentStatusWidgetReleaseDefinitionNameToolTip="Release pipeline: {0}";e.EnvironmentStatusReason_CanceledDuringExecutionFormat="Canceled by";e.ReleaseHelpApprovalsTabLabel="Pre- and post-deployment approvals and gates";e.PullRequestDeploymentNoTriggerWarning="This release definition is currently not configured to trigger pull request based releases. To configure, toggle on a pull request trigger in at least one of the added artifacts.";e.DSWTooltipBuildStatus="Build Status";e.TimelineStatus_QueuedForPipelineDescription="Waiting for running jobs to finish {0}";e.PreEnvironmentTriggerConditionHelpText="After all the selected stages are successfully deployed to, deployment to this stage will start. To deploy after selected stages are partially successful also, enable the trigger for \"partially successful\".";e.ArtifactFilters="Artifact filters";e.DeployEnvironment="Deploy stage";e.PublishDeploymentNoEnvironmentsSelected="You must select at least one stage";e.AutoRedeployTriggerNewTargetWithTags="New target with required tags is available";e.SelectedArtifactsDescription="{0} artifact\u0027s default version is {1} and {2}";e.FolderRenamed="Folder \u0027{0}\u0027 has been renamed to \u0027{1}\u0027.";e.DeployText="Deploy";e.SelectDefinitionText="Select a pipeline to view details";e.OptionsTabItemTitle="Options";e.AccessDeniedTooltip="You don\u0027t have permission to perform operation \u0027{0}\u0027";e.EnvironmentRankWarning="The stage order in releases will display the same order as shown in this pipeline. This order might be different from previous releases.";e.EnvironmentDeleted="Stage deleted";e.CancelDeploymentHeading="Cancel the deployment";e.GatesFailedTooltipFormat="{0} gates failed";e.GatesPendingText="Not started";e.AttemptNumberText="Attempt {0}";e.Timeline_NowAtNode_LoadingFailText="Failed to fetch current deployment details.";e.ArtifactsDisplayMessage="The artifacts published by each version will be available for deployment in release pipelines. The last successful version of \u003cb\u003e{0} \u003c/b\u003e";e.DeploymentGroupsIndicatorSucceededText="SUCCEEDED";e.EnvironmentDefaultNameText="Stage {0}";e.MoveUpText="Move up";e.NoLinkedArtifactsMessage="No artifact sources are linked to this release pipeline. Link artifacts from the pipeline tab.";e.AssociatedChangesText="Associated changes";e.ContinuousIntegrationTriggerHeaderText="Continuous deployment";e.RejectingButton="Rejecting...";e.EditApprovalsPermissionMessage="You do not have permissions to manage approvers for this stage. Changes made will not be saved. Contact your release manager to grant permissions.";e.CommitsCount="({0} commits)";e.NextText="Next";e.ApprovalOrderTypeAllUserSequentialOrderTitle="In sequence";e.TriggerForPartiallySucceededHelpText="Enable this option to start deployment even if the selected stages are partially successful.";e.ArtifactTriggerDisabledMessageForGitHub="Enabling the trigger will create a new release every time a Git push occurs to the selected repository.";e.WaitingOnManualInterventionCreatedOnText="Waiting on manual intervention {0}";e.EnvironmentTriggerChoiceGroupHelpText="Set the trigger that will start the deployment to this stage automatically. Select \"Release\" to deploy to the stage every time a new release is created. Use the \"Stage\" option to deploy after deployments to selected stages are successful. To allow only manual deployments, select \"Manual\".\u003cbr\u003e[Learn more](https://go.microsoft.com/fwlink/?linkid=852929)";e.PreDeploymentGatesFailed="Pre-deployment gates failed";e.EnvironmentErrorsAndWarnings="{0}, {1}";e.ReleaseEnvironmentsCancellationMessage="Currently scheduled deployments to this environment from previous releases would be canceled";e.DefinitionScheduleTriggerDescription="Define schedules to trigger releases";e.PublishDeploymentStatusToWorkItemsHelpText="When the stage completes, creates a deployment summary of all work items linked to the associated changes.";e.EnvironmentStatusReason_WaitingForAgent="Waiting for an agent";e.ArtifactTriggerDescriptionForGitHub="GitHub: {0}";e.CannotModifyVariableGroupScope="You do not have edit permissions on this stage to modify the scope of the variable group.";e.MinimumSuccessDurationHelp="All gates must continuously be successful for this duration. 0 means deployment will proceed when all gates succeed in the same evaluation cycle.";e.ArtifactTriggerDisabledMessageForBuild="Enabling the trigger will create a new release every time a new build is available.";e.WaitingToStartEvaluation="Waiting to start evaluation";e.AbandonReleaseDialogContentText="Abandoning a release would render it unusable. No deployment can be made using this release again. Do you want to proceed?";e.ArtifactSourceTypeShowLess="Show less";e.ArtifactSourceTypeShowMore="{0} more artifact types";e.ZoomInEnvironments="Zoom in stages";e.DefinitionImportInvalidJson="Either exported JSON is not valid or it is not compatible with current product. Please export again and try importing again.";e.RollbackDeployMessage="Rolling back changes - You are deploying an older release. This might remove some work items and commits";e.BranchFilterAnyBranchText="Any branch";e.ReleaseNameFormatHelpText="Set the format for the default name of releases from this release pipeline. Use pre-defined variables to generate unique release names. [More information](https://go.microsoft.com/fwlink/?linkid=852585 )";e.GatesSuccessfulConditionText="All gates must be successful for one evaluation before the timeout of {0}";e.ActiveTabNoFavoritesText="No favorites yet";e.RetentionReleaseCountText="minimum of {0} deployed releases";e.ConfirmDiscardTitle="Confirm discard";e.TimelineDescriptionGatesFailedTimeoutPrefix="{0} gates failed";e.DSWDeploymentSuccess="Success";e.Searching="Searching...";e.EditVariablesPermissionMessage="You do not have permissions to modify variables for this stage. Changes will not be saved. ";e.ArtifactTriggerToggleHelpTextForBuild="Creates a release every time a new build is available.";e.EnvironmentStatusReason_TaskFailedReasonFormat="{0} task failed";e.FeaturedCategory="Featured";e.TimelineContent_ArtifactCondition_TagFilterConditionFormat="{0}: Regex {1}";e.Environment="Stage";e.DSWLastDeployed="Latest deployed";e.EnvironmentsLabelInfoText="Select the stages";e.UnsupportedRepositoryMessage="The releases cannot be compared. Only releases of repository types TfsGit, TFVC and GitHub can be compared.";e.TagFilterHelpTextForAzureContainerRegistry="A release will be triggered only if the Azure Container Registry push tag matches the regular expression specified in the Tag input.\r\nIf no tag filter is specified, release will always be triggered.\u003cbr\u003e\r\nExamples:\u003cbr\u003e\r\n^latest$ - will trigger the release only if the tag is \u0026quot;latest\u0026quot;\r\nv1\u0026#92;.[0-9] - will trigger the release for tags like \u0026quot;v1.23\u0026quot;, \u0026quot;beta-v1.3-test\u0026quot; etc.\r\n[More information](https://docs.microsoft.com/en-us/dotnet/standard/base-types/regular-expression-language-quick-reference)";e.BuildInfoAriaLabel="The build number is {0}";e.EnvironmentStatusRejected="Rejected";e.AddEnvironmentDescription="Add a stage";e.SucceededText="Succeeded";e.TriggerChoiceGroupLabel="Select trigger";e.ReleaseHelpApproversTabDescription="Approvers and gates process can be monitored from the pipeline. Approvers and gates details are available with a single click on the environment\u0027s approval and gates icon.";e.WaitingManualInterventionDuration="Waiting";e.AriaLabelGatesStabilizationTimeUnit="The time unit for specifying a delay before evaluation";e.ApprovalTypeCalloutText="Choose automatic if you do not need any users to approve the deployment. Alternately, select specific users or groups to approve deployments to this stage.";e.WorkitemsCount="({0} work items)";e.NoReleasesFoundSecondaryText="You can create a new release manually or {0} to create it automatically";e.LatestFromBranchWithTags="Latest from branch: {0}; with tags: {1}";e.LatestFromAllBranchesAndNoTagsFilter="Latest from any branch";e.LastReleaseColumnData="{0} at {1}";e.VersionBranchCombinationText="Version";e.ReleaseHelpDeploymentLogs="deployments and logs";e.TestResultsAriaLabel="The test pass percentage is {0}";e.ApprovalCompletedText="Approved";e.CreateReleaseEnvironmentCanvasAriaLabel="Create a release stage canvas";e.TimeoutText="Timeout in {0}";e.DeploymentAriaLabel="Deployment status for build {0} and stage {1} is {2}. ";e.ReleaseHelpLogsTabDescription="The pipeline shows live updates for in-progress deployments, highlighting completed tasks for agent phases and - in the case of deployment group - target deployments. Single click access to a simplified view of the logs, with the focus on current action and failures.";e.ReleaseReportingInvalidReport="Invalid report";e.BranchFilterRequired="Specify branch filter";e.AbandonDialogEnvironmentsInProgress="Abandoning is not allowed when deployments are in-progress in any stage. Cancel stage(s) {0} and try again.";e.NoCommitsMessage="There is no difference in commits between the current release and \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1}\u003c/a\u003e.";e.AriaLabelGatesTimeoutUnit="The time unit for specifying the timeout after which gates fail";e.TargetNameLabel="Target:";e.ReassignedStatusFallbackText="Reassigned";e.ReleaseDefinitionFolderDeleted="Folder {0} and associated subfolders and pipelines have been deleted.";e.SkippedText="Skipped";e.CreateFolderContextualMenuOptionText="New folder";e.NoOfParallelDeployementLabel="Number of parallel deployments";e.TimelineDescriptionRejectedPrefix="Rejected";e.ArtifactsDisplayMessageLatestWithBranchAndNoTags="The artifacts published by each version will be available for deployment in release pipelines. The latest successful build of \u003cb\u003e{0}\u003c/b\u003e from branch \u003cb\u003e{1}\u003c/b\u003e";e.DeleteFolderConfirmationMessage="Are you sure you want to delete folder {0} and all its associated pipelines?";e.ReleaseIdInvalidError="Release ID should be greater than 0.";e.EnvironmentStatusReason_CanceledBeforeExecutionFormat="Canceled by";e.CopyToClipboardText="Copy to the clipboard";e.ApprovalPolicyInfo_InAnyOrder="in \u003cstrong\u003eany order\u003c/strong\u003e";e.ViewBuildTooltip="View build";e.PrevText="Previous";e.PullRequestTriggerEnvironmentCallout="These are the stages where pull request based releases will be deployed. You can enable/disable a stage for pull request based deployments in the pre-deployment conditions of that stage.";e.CurrentlyDeployedToggleOnAriaLabel="Show only the releases that are currently deployed or queued for deployment to stages in this pipeline.";e.ArtifactTriggerBranchFiltersHelpTextForGit="A release will be triggered only if the Git push contains a commit on the specified branch. For example, selecting \"master\" will trigger a release for a Git push which contains one or more commits to the master branch. To trigger a release for any commit to branches under features/, enter \"features/\\*\". To trigger a release for commits to all branches, enter \"\\*\". Note that all specified filters will be OR\u0027ed. For example, an artifact matching at least one filter condition would be sufficient to trigger a release.";e.UndeleteReleaseDialogTitleText="Undelete a release";e.ApprovalTimeoutToolTipText="Specify the maximum time that an approval is allowed to be pending before it is automatically rejected. A maximum timeout of 365 days is allowed.";e.ReleaseApprovalDatePickerAriaLabel="Date picker";e.DeploymentCanceledByText="Deployment was canceled by {0} {1}";e.SetupTriggersLinkText="setup triggers ";e.DeploymentStatusText="Deployment status";e.WaitingForServerLogsText="Waiting for console output from the server...";e.SecondsSuffix="{0}s";e.DefinitionMismatchMessage="\u003cdiv\u003eThe current release is getting deployed from \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1}\u003c/a\u003e while \u003ca href=\"{2}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{3}\u003c/a\u003e is from \u003ca href=\"{4}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{5}\u003c/a\u003e . This difference cannot be calculated.\u003c/div\u003e";e.DeleteEnvironmentPermissionDialogSubtext="You do not have permissions to delete this stage. Contact your administrator to grant permissions.";e.ReleaseHelpWorkitems="and workitems";e.DSWTooltipBuild="Build";e.BuildDefinitionLabel="Build pipeline:";e.DeploymentOptionTypeAllPhaseWithFailedTargetsTitle="All jobs and deployment group targets that are either in failed, cancelled or skipped state";e.SelectEnvironmentDescription="Select the stages to which to deploy";e.ArtifactsDisplayMessageLatest="The artifacts published by each version will be available for deployment in release pipelines. The latest successful build of \u003cb\u003e{0} \u003c/b\u003e";e.EnvironmentAdded="Stage added";e.JobStateGatesFailed="Gates failed";e.PhaseWarningsLabel="Click here to view warnings";e.TasksTabItemTitle="Tasks";e.NavigationCommandHubLabel="Navigation and commands";e.Branch="Build branch";e.TasksText="tasks";e.EnvironmentOwner="Stage owner";e.TimelineContent_Queue_NLatestText="Deployment queue settings for this stage are configured to deploy {0} releases in parallel. For subsequently queued deployments, the latest will be deployed and all the others will be canceled.";e.EnvironmentListMenuText="Stage list menu";e.ByText="by";e.EnvironmentsText="Stages";e.EnvironmentStatusReason_TaskCanceledReasonFormat="{0} task was canceled";e.WorkItemsForFirstReleaseMessage="The list of work items that will be deployed as a part of this release.";e.DeleteEnvironmentPermissionDialogTitle="Cannot delete this stage";e.ForPrepositionForTimestamp="for {0}";e.AbandonedText="Abandoned";e.DeploymentGroupsSkippedOfflineSingularText="{0} target skipped";e.ReleaseGateLogSampleNameFormat="Sample at {0} - {1}";e.GateNextSample="Next sample";e.ARIALabelLogsLeftPane="Pipeline logs view left pane";e.EnvironmentStatusReason_PreApprovalRejectedFormat="Pre-deployment approval rejected by ";e.NewFolderCreated="Folder \u0027{0}\u0027 has been created.";e.Change="Change";e.AvailableArtifactsDisplayMessage="{0} {1}";e.TimelineHeaderApprovalRejected="{0} approval rejected";e.TimelineHeaderApprovalPending="{0} approval pending";e.ReportBadgeHelpText="Enables showing deployment status badges for selected stages in external repositories";e.JiraSoftwareCloudAccountText="Jira software cloud account";e.ReleaseHelpPipeline="Pipeline, artifacts,";e.NoPermissionForEditReleaseApprovals="You don’t have permission to manage the approvers for this stage";e.TimelineContent_ArtifactCondition_ArtifactNameFormat="{0} {1}";e.EvaluatingGatesTooltip="Evaluating gates";e.DemandsNotMetForDeployPhase="There is a problem with deploy job \u0027{0}\u0027. No agents could be found that match the following demands (pool: \u0027{1}\u0027): {2}.";e.ARIALabelConditionType="Pick Include or Exclude ConditionType";e.QueueReleasePermissionMessage="You do not have permissions to create release for this pipeline. Contact your administrator to grant permissions.";e.Seconds="{0} seconds";e.ReleaseTriggerNotScheduled="Schedule not set";e.DeploymentGroupLogsFilterChangedText="Filter has changed, filtered list has {0} items.";e.Workitems="Work Items";e.OverallApprovalsRejected="Rejected on {0}";e.ReleasePropertiesNodeLabel="Release";e.UnmaterializedIdentitiesErrorMessage="Failed to add {0} as a local user.";e.GatesStabilizationTimeLabel="The delay before evaluation";e.IdText="ID";e.CreateReleasePanelArtifactAccordionLabel="Artifacts";e.DeleteTagFilter="Delete tag filter";e.AutoSaveFailedText="This setting could not be saved.";e.Timeline_NowAtNode_LoadingText="Loading current deployment details";e.ScheduledTriggerHeaderText="Scheduled trigger";e.SpecifySemiColonSeparateListOfArtifact="Specify a semicolon-separated list of artifacts.";e.ViewStatusText="View status";e.ArtifactTriggerCreateReleaseOnBuildTaggingCheckboxLabel="Create a release when tags are added to an existing build";e.TimelineHeaderManualTriggerPending="Manual trigger pending";e.HelpDialogDescriptionFormat="{0} tab item. {1} of {2}. {3}";e.JoinNames=", ";e.DeployRelease="Deploy release";e.DefinitionImportInvalidJsonAlertTitle="Json error";e.ResumeRejectText="Resume / Reject";e.DaysSuffix="{0}d";e.TimelineStatus_QueuedForPipeline="Queued for pipeline";e.RetentionDaysEmptyValueErrorMessage="This setting is required. You must specify a number between 1 and {0}.";e.ApprovalOnBehalfOf="{0} on behalf of {1}";e.ResolveDuplicateEnvironmentNameFormat="{0} ({1})";e.DownloadAllLogsText="Download all logs";e.OkText="Ok";e.VariablesTabItemTitle="Variables";e.AutoApprovalCheckboxMoreInfo="This policy applies if the same approver is set for this stage and the previous one. It enables the approver to skip approval for this stage if they have approved the previous one. Approval becomes pending for the other approvers set on this stage.\u003cbr\u003eThis setting does not apply when a deployment to this stage is manually triggered.";e.ByColumnText="By";e.ArtifactsText="Artifacts";e.RequiredInputErrorMessage="This setting is required.";e.ProjectsTitle="Projects";e.CreateReleasePanelVariablesAccordionDescription="Edit value for the variables to be overridden during release creation.";e.DuplicateEnvironmentNameInfoMessage="The stage was automatically renamed because \u0027{0}\u0027 already exists";e.TimelineContent_Deployment_Agent_FractionTaskSucceededText="{0} task(s) succeeded";e.Artifact="Artifact";e.TimelineContent_Deployment_DG_InProgressPendingText="{0} target(s) in progress, {1} pending";e.TimelineHeaderDeploymentSucceeded="Deployment succeeded";e.TimelineHeaderDeploymentCanceled="Deployment canceled";e.TimelineDescriptionAutomaticTrigger="Deployment will start after the successful deployment to {0}";e.AutoSaveFailedRetryButtonAriaLabel="Retry save";e.DSWTooltipRelease="Release";e.TimelineHeaderManualTrigger="Manual trigger";e.DeletePullRequestBranchFilterAriaDescription="Delete the pull request filter.";e.FromYouText="you";e.ReleaseSummaryPanelTriggerHeader="Trigger";e.TimelineHeaderDeploymentInProgress="Deployment in progress";e.NoEnvironmentsText="There are no stages found for this release pipeline. Add a stage from the pipeline view before adding tasks to it.";e.BadgeLabelText="Enable the deployment status badge";e.PostDeploymentApprovalPoliciesInfoMessage="Changes to policies are applicable for pre-deployment approvals also.";e.HourSuffix="{0}h";e.TimelineContent_ArtifactCondition_BranchOrTagsConditionFormat="{0} {1}";e.TimelineDescriptionGatesFailedPrefix="{0} gates failed";e.PreDeploymentApprovalPoliciesInfoMessage="Changes to policies are applicable for post-deployment approvals also.";e.ConfirmDiscardReleaseText="All unsaved changes to this release will be lost. Are you sure you want to discard your changes to this release?";e.ArtifactConditionsNotMetText="Artifact conditions not met";e.EnvironmentPropertiesSubHeader="Name and owners of the stage";e.AllReleaseDefinitions="Release pipelines";e.EnvironmentBadgeText="badge";e.EnvironmentsLabelText="Stages";e.ReleaseHelpLearnNewTabLabel="Learn what\u0027s new";e.TimelineContent_ArtifactCondition_SubText="cannot be deployed as the stage trigger condition(s) are set to";e.DraftText="Draft";e.DswNoBuildsMessage="You do not have any builds for this build pipeline.";e.DeleteReleaseDialogTitleText="Delete {0}";e.AddTagFilter="Add tag filter";e.ReleaseDefinitionHasBeenUpdated="Release pipeline \u0027{0}\u0027 has been updated.";e.ReleaseOldView="Release (old view)";e.ApprovalPoliciesHeading="Approval policies";e.LinkedReleaseDefinitions="Linked release pipelines";e.DSWViewSelectorLabel="Deployment status and associated color:";e.ViewApproval="View approval";e.DefinitionsPathColumnHeader="Path";e.ArtifactTypeFieldBranchDeletedErrorMessage="Field \u0027{0}\u0027 must have valid values. Select another branch as the default.";e.ARIALabelReleaseHelpRightPane="Release view help dialog right pane";e.EnvironmentStatus_PreApprovalPendingOn="Pre-deployment approval pending on ";e.ReleaseHelpEnvironments="and stages";e.PendingYourApprovalSubtext="Pending your approval";e.ReportingAnalyzeFor15Days="15 days";e.ReportingAnalyzeFilterDefaultText="Select days";e.ReleaseDefinitionName="Release pipeline name";e.TimelineHeaderGatesPending="{0} gates pending";e.ApprovalTimeoutErrorMessage="You must specify an integer from {0} to {1} for the timeout in {2}.";e.AutoRedeployTriggerLastSuccessfulDeployAction="Redeploy the last successful deployment";e.NewSampleSingular="1 new sample";e.Timeline_PRTrigger_EnableOnCurrentAndPreviousEnvironmentsText="Trigger must be enabled on this and all preceding stages to let pull request based releases to get deployed";e.ApprovalPolicyInfo_TimeoutBy="and will timeout by \u003cstrong\u003e{0}\u003c/strong\u003e";e.ToBeDeployed="To be deployed";e.JiraConnectionPlaceholderText="Select JIRA service connection";e.NotNowText="Not Now";e.EnvironmentStatusManualInterventionPending="manual intervention";e.IdentityRevalidationCheckboxMoreInfo="This policy lets you enforce multi-factor authentication in the release approval flow. If this policy is checked it will prompt approvers to re-signin before approving. This feature is only available in Azure DevOps Services for AAD backed accounts only. If your organization\u0027s active directory enforces multi-factor authentication, then this experience will also take you through it.";e.ReleaseDefinitionHasBeenDeleted="Release pipeline \u0027{0}\u0027 and associated releases have been deleted.";e.SelectAllEnvironments="Select all stages";e.ArtifactDownloadOptions="Artifact download";e.ReleaseSummaryContinuousIntegrationNodeText="Continuous deployment requested for";e.SinglePhaseSingleIssueLabel="There is 1 issue in job {0}";e.ARIALabelEnvironmentApproversSelection="Select approvers";e.ReportingEnvironmentMedian="minutes / Median";e.WaitingOnTaskNameTooltipFormat="Waiting on {0}";e.DeploymentOptionTypeAllPhaseTitle="All jobs and all deployment group targets";e.NoEnvironmentsToDeploy="There are no stages to deploy";e.ArtifactTypeDeletedOrUnauthoriedMessage="Field \u0027{0}\u0027 should have valid values. Artifact inputs have either been deleted or you do not have permissions to view them.";e.EditReleaseDisabledMessage="You cannot edit an abandoned release";e.PostDeploymentGatesFailed="Post-deployment gates failed";e.DeploymentFailedMultipleEnvironments="Deployment failed on the following stages";e.ArtifactSourceIsNotAccessibleText="source is not accessible";e.ReleaseSummaryNodeNoArtifactsText="No artifacts";e.SelectApproverInputText="Search users and groups";e.ForceDeleteReleaseDefinition="Automatically cancel any in-progress release deployments";e.DeploymentStatusWidgetEnvironmentName="Stage name: {0}";e.ActiveReleasesFilterTitle="Filter Releases";e.NoneText="None";e.TimelineContent_Queue_NInSequenceText="Deployment queue settings for this stage are configured to deploy {0} releases in parallel. Subsequently queued deployments will be  started in order.";e.MultiArtifactTypeDisplayNameFormat="Multi {0}";e.ReportingAnalyzeFor30Days="30 days";e.DSWRuleGreaterThanFirstRuleError="This rule value should be less than the first rule value.";e.DeploymentTypeTesting="Testing";e.CreateNewReleaseText="Create new release";e.ApprovalDeferDeploymentTitle="Defer deployment for later";e.CreateReleasePanelDeploymentTriggerDescription="Click on a stage to change its trigger from automated to manual.";e.NoMachineFound="No machine found in given deployment group.";e.DswBDPickerToolTip="The build pipeline for which the widget will show the deployment and test status.";e.PreviousReleases="Previous releases";e.TimelineDescriptionDeploymentCanceledPrefix="Deployment canceled";e.GettingStartedWithRelease="Getting started with release pipelines";e.ActiveReleasesNameAbandonedStatusText="(abandoned)";e.CurrentDeployedReleaseText="Currently deployed";e.TagFilterForDockerHub="Tag Filter";e.AriaLabelEnvironmentApprovalTimeoutValue="Timeout in {0}";e.DeploymentGatesAndSamples="Deployment gates \\ samples";e.DeleteEmptyBranchFilter="Delete the empty branch filter";e.JobStateGatesSucceeded="Gates succeeded";e.ReleaseCreatedOn="Created On";e.ReleaseCreatedBy="Created by";e.EnvironmentStatusReason_QueuedForDeployment="Waiting in the deployment queue";e.ReleaseSummaryContinuousIntegrationText="Triggered by";e.ImportRdMenuItemText="Import a pipeline";e.OverallApprovalsCancelled="Canceled on {0}";e.AddToDashboard_FailureMessage="{0} was not successfully added to the {1} dashboard.";e.ARIADescriptionEnvironmentCanvas="Use arrow keys to navigate between the stages and press enter to navigate between the links in the particular stage";e.ApproversAccordionDescriptionText="Select the users who can approve or reject deployments to this stage";e.TimelineQueueInfoButtonAriaLabel="More information about deployment queue settings";e.EnvironmentDescriptionLinkTitle="Click here to view stage logs";e.FailedGatesMessage="gates failed";e.CanceledTimestampFormat="Canceled at {0}";e.DeleteButtonText="Delete";e.DSWTestRangeCoverageError="The complete test percent range is not covered. Keep one of the following percent values the same as this rule.";e.CloneEnvironmentNameFormat="Copy of {0}";e.StatusFilterText="Status";e.SamplingIntervalHelp="The duration after which the gates are re-evaluated. This must be greater than the longest typical response time of the configured gates to allow all responses to be received in each evaluation.";e.TimelineDescriptionDeploymentDeferred="Deployment deferred to {0}";e.SettableAtReleaseTime="Settable at release time";e.TimelineStatus_QueuedForAgentDescription="Queued on \u003cb\u003e{0}\u003c/b\u003e  {1}";e.SelectedAllArtifactsText="Selected all artifacts";e.ScheduledTriggerAfterReleaseText="Scheduled after release creation";e.DSWTooltipTestsPassed="Tests Passed";e.Resume="Resume";e.ActiveReleasesMenuItemButtonAriaLabel="Release menu items";e.ArtifactSourceUrlFormat="Artifact source url for the artifact {0}";e.EnvironmentStatusReason_QueuedForDeploymentWithLink="Waiting in the deployment queue. \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eView queue\u003c/a\u003e";e.DeploymentNotStartedText="Not yet started";e.CancelCommentPlacehodler="Enter a comment";e.PrimaryArtifact="Primary artifact";e.SecondsSingular="1 second";e.EnvironmentStatusPartiallySucceeded="Partially succeeded";e.SkippedAllArtifactsText="{0} artifact\u0027s default version is {1} and selected zero artifacts";e.DeploymentGroupsProgressTargetText="Target";e.ApprovalPolicyInfo_TimeoutWithinDays="{0} days";e.TimelineHeaderDeploymentPendingIntervention="Deployment pending intervention";e.DSWTooltipEnvironment="Stage";e.ReleaseCanvasLeftPane="Release progress - left pane";e.ReferenceNameText="Reference name";e.ReleaseApprovalReassignButtonText="Reassign";e.ReportingMTTR="Mean time to recover (MTTR)";e.DeploymentNotCompletedText="Not yet completed";e.ARIALabelEditorToolbar="Release pipeline editor toolbar";e.RetentionReleaseCountTitle="Minimum releases to keep";e.SelectProjectText="Select a Project";e.DSWClickToViewDeploymentTootlipMessage="Click or press enter to view details of this deployment";e.ReleaseSummaryContinuousIntegrationForWord="for";e.LatestReleaseColumnHeader="Last released by";e.DeploymentStatusStartedTitle="Started";e.TimelineHeaderScheduledTrigger="Scheduled trigger";e.DefinitionScheduleToggleHelpText="Create a new release at the specified times";e.DoneText="Done";e.RenameDefinitionContextualMenuText="Rename pipeline";e.WorkitemCount="({0} work item)";e.SelectedArtifactsTotalCountText="Selected {0}/{1} artifact(s)";e.BranchFiltersGit="Branch filters";e.MultiPhaseSingleIssueLabel="There is 1 issue from job {0} to job {1}";e.ActiveReleaseDescriptionHeaderText="Description";e.ReleaseHelpContributionsTabDescription="View rich test results in context of each environment, including the results from other extensions that contribute to the process.";e.ActiveDefinitionsTabTitle="Active";e.PullRequestDeploymentEnabledAriaLabel="Pull request deployment is enabled.";e.ReleaseSummaryTagsLabel="Tags";e.GatesPhaseAddString="Add a gates job";e.PullRequestTriggerLabel="Pull request trigger";e.SaveButtonText="Save";e.HelpDialogAnnouncement="Use Tab and arrow keys to navigate to all sections";e.SingleErrorText="{0} error";e.ReleaseApprovalMinutesSelectorAriaLabel="Select minutes";e.UnlimitedParallelDeploymentLabel="Unlimited";e.EnvironmentNodeDescriptionWithMoreThanOnePhasesAndOneOrZeroTask="{0} jobs, {1} task";e.EnvironmentPropertiesSummary="Owned by {0}";e.QueueSettingsAccordionHeading="Deployment queue settings";e.MaterializationInProgressMessage="Adding the Active Directory identity as a local user is in progress...";e.LoadingFetchWorkItems="Fetching work items...";e.InProgressTaskDetailInfo="Running job \u003cb\u003e{0}\u003c/b\u003e : \u003cb\u003e{1}\u003c/b\u003e  {2}";e.EnvironmentAutoRedeployTriggerDescription="Configure the events that trigger automated redeployment.";e.DeploymentGroupsIndicatorPassedText="{0}% PASSED";e.CommitsForFirstReleaseMessage="List of commits that will be deployed as a part of this release.";e.FailedGatesText="Failed gates";e.GatesPhaseTitle="Gates job";e.MoreGateActionsEllipsesButtonAriaLabel="More gate operations";e.TimelineDescriptionApprovalPendingOnMultipleSinceFormat="On {0} {1} (+{2}) since {3}";e.ArtifactIconTooltip="The artifact that triggered this release";e.ArtifactTriggerDescriptionForBuild="Build: {0}";e.ApprovalApproved="Approved on {0}";e.ErrorsInPhase="{0} errors in job";e.DeploymentWidgetTestsDurationToolTipDuration="Test duration: {0}";e.DeploymentStatusViewQueuedTitle="Queued";e.ArtifactTriggerDescriptionForPackageManagement="Package: {0}";e.GatesNextSampleTimeText="Next sample in {0}";e.AriaLabelMinimumSuccessDurationValue="The minimum duration for steady results after a successful gates evaluation is {0}";e.ReleaseHistoryChangeTypeUpdate="Update";e.RenameRdContextualMenuText="Rename";e.PreDeploymentApproversHeading="Pre-deployment approvals";e.AutoApprovalCheckboxLabel="Skip approval if the same approver approved the previous stage";e.SaveAsTemplateDialogHeading="Save stage as a template";e.RetentionDaysToRetainInfoText="Set the number of days to retain a release deployed to this stage. Any release can be retained for at least 1 day and a maximum of {0} days.\r\n[Learn more about release retention]({1})";e.EnvironmentPostDeploymentApprovalsHeading="Post-deployment approvals";e.ReleaseReportingPanelMessage="Analyze various performance indicators that give insight into agility, stability, and quality of the selected release pipeline.";e.NoAgentQueueFound="There is a problem with deploy job \u0027{0}\u0027. No agent pool was found with ID {1}.";e.FolderDoesNotExist="The specified folder does not exist";e.CommitsComparedToMessageText="\u003cdiv\u003eCommits are compared to \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1}\u003c/a\u003e deployment \u003c/div\u003e";e.InValidIdentityErrorMessage="Enter a valid identity.";e.FolderNameContainsInvalidCharacterError="Folder name cannot contain the following characters: /\\\u003c\u003e\u0026*?\"|:";e.PreviousDeploymentText="(Previous deployment)";e.TimelineDescriptionDeploymentStartedPrefix="Deployment started";e.ForceDeleteReleaseDefinitionTooltip="Selecting this option marks all in-progress, queued, or pending release deployments for cancelation and proceeds with the release pipeline deletion.";e.DefaultArtifactLatestText="Latest";e.WaitingSinceText="Waiting since";e.PullRequestDeployment="Pull request deployment";e.FetchingQueueInfo="Retrieving queue information...";e.EnvironmentPoliciesAccordionText="Policies";e.JobRejectedStatus="Rejected";e.EnvironmentInProgressMessage="Cannot edit as the deployment process is currently in-progress";e.AriaLabelGatesTimeoutValue="The timeout after which gates fail is {0}";e.OpenReleaseInNewTabMenuItemText="Open in new tab";e.NoPermissionForEditReleaseEnvironment="You don’t have permission to edit this release stage";e.ScheduledTriggerAfterEnvironmentsText="Scheduled after {0} stages";e.RetentionTabARIALabel="Release pipeline retention";e.NewEnvironmentDefinitionText="New stage definition";e.ReleaseHelpPipelineTabLabel="Pipeline, artifacts, and stages";e.ReportingEnvironmentSuccessfulDeployment="Successful";e.NewEnvironmentLabel="New stage";e.RdSecurityTabTitle="Security";e.DelayTimeSamplesText="Delay time samples";e.DSWTestRuleEmptyError="This can\u0027t be empty.";e.SavingReleaseText="Saving...";e.MessageBarOverflowButtonAriaLabel="See more";e.DeleteBranchFilterForArtifactFilter="Delete branch filter";e.DeploymentAuthorizationRequiredFor="You would be asked to sign in to Azure subscription(s) {0} before the deployment starts.";e.ReassignApproverComponentTitle="Reassign approver";e.DisabledText="Disabled";e.DSWErrorMessageForBDFetchFailure="We couldn\u0027t find any build pipelines. Try refreshing.";e.MultiPhaseMultipleErrorsLabel="There are {0} from job {1} to job {2}";e.EditEnvironmentGatesPermissionMessage="You do not have permissions to manage gates for this stage. Changes made will not be saved. Contact your release manager to grant permissions.";e.CancelText="Cancel";e.GatesMinimumSuccessDurationErrorMessage="Value must be less than the timeout.";e.ArtifactNodeAriaLabel="{0} artifact";e.GatesCollapsibleDescriptionText="Define gates to evaluate before or after the deployment.";e.MinutesSingular="1 minute";e.SingularErrorInPhase="1 error in job";e.RedeployAction="Redeploy";e.ParallelDeploymentCountLabel="Maximum number of parallel deployments";e.GatesTimeoutTime="Timeout in {0}";e.GatesTimeoutHelp="The maximum evaluation period for gates. The deployment will be rejected if the timeout is reached before gates succeed.";e.IgnoreGateHeading="Ignore gate";e.SaveAsTemplate="Save as template";e.DSWViewPickerInfoProp="Select Deployment Status to see deployment status states and associated tile colors. Or, select Test Pass Rate to add rules to change the color of the status tile based on the test pass percentage. Rules are applied in the order shown. In case of conflicting rules, those lower in the list are used.";e.ApprovalPolicyInfo_TimeoutWithin="within \u003cstrong\u003e{0}\u003c/strong\u003e";e.DemandsWarning="There are no agents that satisfy the job’s demands";e.TagFilterRequired="Specify a tag filter.";e.NoJiraEndpointInfo="Install Azure Pipelines for Jira app in JIRA Software cloud and add organization to create a connection.";e.TriggerAndArtifactsProperties="Release trigger and artifacts properties section";e.Commits="Commits";e.Comment="Comment";e.ManualTriggerTabName="Manual only";e.NoWorkItemsMessage="There is no difference in work items between the current release and \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1}\u003c/a\u003e.";e.ActiveDefinitionsFilterBarItemPlaceholderText="Search";e.LogsTabItemTitle="Logs";e.RejectionCompletedText="Rejected";e.ArtifactComparisonHeaderText="Difference in {0}";e.PendingApprovalMultipleEnvironments="Pending approval on {0}, {1} and {2} more stage(s).";e.EnvironmentStatusGates="Processing gates";e.ResumingButton="Resuming...";e.JobApprovalPendingStatus="Approval pending";e.MultipleErrorsText="{0} errors";e.ManualInterventionRejectedOnTimeout="\u003cstrong\u003e{0}\u003c/strong\u003e timed out";e.RetentionDaysCountText="Keep for {0} days,";e.EnvironmentStatusReason_ApprovalPendingFormat="On";e.EnvironmentStatusReason_ManualInterventionPendingReasonFormat="from";e.ActiveDefinitionsRightPaneARIALabel="Active pipelines right pane";e.SearchBoxAriaLabelText="searchBoxLabel";e.EnvironmentDescriptionLinkTooltip="View stage tasks";e.BuildSelectiveArtifactsMessage="Following are the artifacts published in the latest version of the build.";e.GatesPhaseHelpMarkdown="Link to the documentation";e.Overview="Overview";e.ReleasesText="Releases";e.NoArtifacts="No artifacts added.";e.EditTasksText="Edit tasks";e.ReleaseConditionsNavigationLabel="Conditions";e.DeleteDefinitionDialogTitle="Delete release pipeline";e.RejectionInProgressText="Rejecting";e.DeploymentGroupsIndicatorFailedText="FAILED";e.AriaLabelMinimumSuccessDurationUnit="The time unit for specifying a minimum duration for steady results after a successful gates evaluation";e.DSWTooltipTestRunDuration="Test Run Duration";e.ARIALabelCreateTemplate="Create the template";e.PullRequestDeploymentDisabledEnvironmentsWarningMessage="Pull request based releases can never reach this stage. Enable pull request deployment in {0} stages to complete the flow.";e.RetentionRetainArtifactDescription="Retain the build for all releases deployed to this stage";e.ReleaseGateLogSampleFullFormat="{0} {1}";e.EnvironmentStatusCanceled="Canceled";e.AllDefinitionsText="All pipelines";e.WorkItemsArtifactLatestArtifactComparisonHeaderInfoText="This list shows the difference in work items between this artifact and the previously-deployed artifact for this stage. If the current artifacts pre-date this release’s artifacts, then the difference denotes the list of work items (negative) that will be rolled back when this artifact is deployed to this stage.";e.AbandonReleaseConfirmationMessageFormat="Release \u0027{0}\u0027 has been abandoned";e.AddNewTimeDescription="Add a new time";e.GatesFailedCountText="{0} gates failed in the latest sample {1}";e.ReleaseSummaryManualTriggeredText="Manually triggered by";e.FailedText="Failed";e.ReassignmentCompletedText="Reassigned";e.WorkItemsLatestArtifactComparisonComparedToMessageText="\u003cdiv\u003eWork items are compared to the \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1}\u003c/a\u003e deployment (currently on this stage).\u003c/div\u003e";e.TimelineContent_Deployment_Agent_TaskSucceededSkippedText="{0} task(s) succeeded, {1} task(s) skipped";e.ApprovalsDeferredAndApproved="Approved and deployment deferred to {0}";e.DeleteEnvironmentWarningMessage="You are about to delete the \u0027{0}\u0027 stage and all its settings. This action cannot be reversed.";e.ActiveReleasesNameDraftStatusText="(draft)";e.ViewAttemptsAriaLabel="View attempts";e.DSWTestRatePickerInfoProp="Add rules to change the color of the status tile based on the test pass percentage. Rules are applied in the order shown. In case of conflicting rules, those lower in the list are used.";e.DSWErrorMessageForEnvironmentFetchFailure="We couldn\u0027t find any release pipelines associated with build pipeline {0}. Try refreshing.";e.BuildArtifactsNotAccessibleMessage="There is no build available or the source is not accessible. You can select all artifacts or specify the list of artifacts to be downloaded below.";e.SecurityDialogPermissionText="Permissions for {0}";e.ArtifactVersionSelectErrorMessageDefault="No version has been selected for this artifact source.";e.JobReassignedStatus="Reassigned";e.TargetBranchFilters="Target Branch Filters";e.ReportingEnvironmentTotalDeployment="Total deployments";e.AriaLabelEnvironmentApprovalTimeoutUnit="The time unit for specifying a timeout";e.CheckButtonLabel="Select the row";e.MultipleIssuesFormat="{0} issues";e.DeploymentFailedMultipleEnvironmentsFormat="{0} - {1}";e.ReleaseWorkItemComparisonWithUnSupportedArtifactTypeException="The work item view is not supported for artifact type {0}.";e.EmptyDefinitionNameError="The pipeline name cannot be empty";e.EnvironmentStatusReason_PostApprovalRejectedFormat="Post-deployment approval rejected by";e.DefinitionDeployPhasesCannotBeEmptyErrorText="The stage \u0027{0}\u0027 should have at least one job.";e.NewArtifactFilter="New artifact filter";e.ReleasePickerDialogTitle="Select a release";e.TimelineDescriptionManualTrigger="Waiting for manual trigger to start deployment";e.GatesTimeoutLabel="The timeout after which gates fail";e.TimelineContent_Queue_OneInSequenceText="Deployment queue settings for this stage are configured to deploy one release at a time.";e.AutoRedeployTriggerActionLabel="Select action";e.ManualInterventionPendingFormat="{0} pending.";e.ApprovalRejected="Rejected on {0}";e.AlreadyApproved="Already approved";e.ManualApprovalTypeText="Specific users";e.InvalidIdForBuildArtifactErrorMessage="The version provided for the build artifact source \u0027{0}\u0027 is invalid. In case the version provided is not in the list of available versions, provide a valid build ID or build number.";e.CreateReleaseToggledManualEnvironmentNodeDescription="The trigger changed to manual";e.MoreInformationPullRequestTriggersFiltersAriaLabel="More information about branch filters in pull request triggers";e.BranchText="Branch";e.CreateReleaseAutomatedEnvironmentNodeDescription="Automated trigger";e.CanvasReleaseApprovalButtonTitleText="Approve or reject the deployment";e.RetentionSettingsFooterText="View or manage \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eretention policy defaults.\u003c/a\u003e ";e.VersionPickerTooltip="Advanced selector";e.PendingApprovalText="Approval pending";e.NoArtifactsMessageForBuild="No version is available for \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1}\u003c/a\u003e or the latest version has no artifacts to publish. This might fail deployment. Please check the source pipeline.";e.DeleteFolderContextualMenuText="Delete folder";e.EnvironmentStatusApprovalPending="Pending approval";e.EnvironmentExecutionPolicyChangedWarningText="Changes made to queue settings will be effective immediately. All currently queued deployments to this stage will be processed based on new settings.";e.ViewReleaseMenuItemText="View release";e.PreEnvironmentNameLabel="Stages";e.GatesNotStartedNoGatesSubtext="Deployment will proceed after a delay of {0}";e.SelectedArtifactAliasSummary="{0} - {1}";e.CommaSeperatorForJoin=", ";e.DefinitionImportDialogTitle="Import release pipeline";e.ApprovalPolicyInfo_TimeoutWithinMinutes="{0} minutes";e.ArtifactTypeFieldDeletedErrorMessage="Field \u0027{0}\u0027 should have valid values. If the source build pipeline doesn\u0027t exist anymore, delete this artifact from the release pipeline";e.DefaultBranchFilter="Default branch in build pipeline";e.Timeline_PRTrigger_Enabled="Pull request deployment trigger enabled";e.EnvironmentStatusNotDeployed="Not deployed";e.PullRequestDeploymentsDependentEnvironmentsWarning="Not enabling pull request deployment for this stage may prevent pull request based releases from reaching subsequent stages: {0}";e.ReleaseRetainedMessageFormat="Release \u0027{0}\u0027 is set to be retained indefinitely";e.TimelineDescriptionGatesSucceededPrefix="All gates succeeded";e.ApprovalOverrideHeader="Override approver";e.EnvironmentStatusReason_WaitingOnQueueFormat="Waiting in {0} queue";e.ApprovalTypeLabel="Approval type";e.EnvironmentStatusUndefined="Undefined";e.ArtifactAliasHasInvalidCharacters="Artifact alias \u0027{0}\u0027 is invalid. It cannot contain these characters: \\ / : * ? \" \u003c \u003e and |. Specify a different name and try again.";e.TimelineContent_ArtifactCondition_HeaderBranchFormat="{0} from {1}";e.MinutesSuffix="{0}m";e.DeployAction="Deploy";e.ViewQueue="View queue";e.FolderDialogNameLabel="Name";e.ViewTasks="View Tasks";e.NoEnvironmentsToApprove="There are no stages to approve";e.IgnoreGateDescription="Ignored gates are not considered for the current deployment. Are you sure you want to ignore the gate \u0027{0}\u0027?";e.WorkItemId="Id";e.TryAgainText="Try again";e.TimelineHeaderDeploymentFailed="Deployment failed";e.ExportRdContextualMenuText="Export";e.EnvironmentNodeAriaLabel="{0} stage";e.AgentLogStepFinishingMarker="Finishing: ";e.GatesEvaluationSubtext="Waiting for all gates to succeed within the same sample interval";e.TargetLinkDescription="Link to get more details about target";e.InvalidRetentionSettings="Invalid retention settings.";e.EditDefinitionPermissionMessage="You do not have permissions to modify this release pipeline. Changes made will not be saved. Contact your release manager to grant permissions.";e.NotStartedText="Not started";e.ArtifactTriggerToggleHelpTextForGitHub="Creates a release every time a Git push occurs to the selected repository.";e.SortBySlowestFirst="Slowest first";e.TimelineDescriptionDeploymentScheduledPrefix="The deployment is scheduled to start";e.DSWTestPassRateLabel="Specify a test pass rate and associated color:";e.WaitingOnText="Waiting on";e.DefaultArtifactLatestFromBranch="Latest from the default branch";e.PostEnvironmentDeploymentSelectionErrorMessage="No stage was selected.";e.DSWLastColumnTooltip="\u003cspan\u003eDetermines the type of data displayed in the last column of the widget.\u003c/span\u003e\u003cbr/\u003e\r\n      \u003cspan\u003eLatest deployed: Shows the deployment corresponding to the latest build that was deployed on the stage.\u003c/span\u003e\u003cbr/\u003e\r\n      \u003cspan\u003eFailing since: Shows the deployment corresponding to the first build that caused deployments to fail on the stage.\u003c/span\u003e\u003cbr/\u003e";e.ViewRdCommandBarItemText="View pipeline";e.ActiveDefinitionsRecentSectionHeader="Recent";e.SelectTemplate="Select a template";e.EmptyFolderPathError="The folder selection cannot be empty";e.ReleaseHistoryChangeTypeDeploy="Deploy";e.ReleaseHistoryChangeTypeDelete="Delete";e.EnvironmentStatusCanceling="Canceling...";e.NewSamplePlural="{0} new samples";e.EnvironmentNodeDescriptionWithOneOrZeroPhaseAndOneOrZeroTask="{0} job, {1} task";e.HistoryTabItemTitle="History";e.ActiveDefinitionsExpandButtonTooltip="Hide release pipelines";e.FilteredDefinitionsAnnounceMessage="{0} pipelines found";e.DeployOptionRadioLabel="Redeploy to";e.ReleaseHistoryChangeTypeCreate="Create";e.ReportEnvironmentDeploymentStatusHelpText="Displays a badge in the source repository to indicate whether the deployment to these stages succeeded or failed.";e.DeploymentGroupMachineLabel="{0} of {1} targets. Target name : {2}. Status : {3}.";e.ConcurrentDeploymentCountError="You must specify an integer from 1 to 1,000,000,000.";e.ApprovalGatesSectionHeading="Deployment gates";e.ActiveReleasesContextualMenuAriaLabel="Contextual menu for current release";e.ReleaseHelpCalloutIncompletePrimaryText="No problem. If you change your mind…";e.ArtifactSourceText="Source";e.Discard="Discard";e.ApproveRejectText="Approve/Reject";e.AutoTriggerAfterEnvironmentText="Automated after {0} stage";e.IdentityRevalidationRequiredLabel="Revalidate identity of approver before completing the approval.";e.EnterRepositoryOrSearch="Enter repository full name i.e. \u0027organization/repository\u0027 OR click \u0027...\u0027 to search";e.JobStateCanceling="Canceling";e.ArtifactsDisplayMessageSelectDuringReleaseCreation="The artifacts published by each version will be available for deployment in release pipelines. Select the version when you create a release. For automatically triggered releases, the latest version will be chosen.";e.ReleaseStartedTextSuffix=" has been started";e.PipelineEditorRightPane="Pipeline editor - right pane";e.XOutOfY="{0}/{1}";e.AutoRedeployTriggerEventsLabel="Select events";e.DSWLastColumnSelectorLabel="Last column";e.ApprovalOrderLabel="Approval order";e.DeferredDateShouldBeInFutureText="The specified date for deferring the deployment is in the past. The date should be in the future.";e.DeployOnLatestText="Deploy latest and cancel the others";e.RetainReleaseMenuItemText="Retain indefinitely";e.ColorGreen="Green";e.EditEnvironmentAutoRedeployTriggerPermissionMessage="You do not have permissions to manage gates for this stage. Changes made will not be saved. Contact your release manager to grant permissions.";e.DeploymentTypeDevelopment="Development";e.PostDeployApprovalSubText="Post-deployment approval pending";e.CommitsRollbackMessageFormatString="({0} {1} rolled back commits)";e.CancelDeploymentDescription="Are you sure you want to cancel the deployment to \u0027{0}\u0027?";e.ReleaseHelpWhatsNewTitle="We’ve made big improvements to the release summary page!";e.ArtifactVersionDisplayFormat="{0} ({1})";e.GatesStabilizationRemainingTimeNoGates="{0} remaining";e.ApproveMultiple="Approve multiple";e.ScheduleHelpText="Trigger a new deployment to this stage at a specified time";e.DSWDeploymentView="Deployment Status";e.ARIALabelCloseSaveTemplateDialog="Cancel template creation";e.ApprovalOrderTypeAllUserAnyOrderTitle="Any order";e.EnvironmentDeploymentDeferredToText="Deployment will start on {0}";e.TimelineDescriptionApprovedPrefix="Approved";e.PullRequestTriggerEnabledText="The pull request trigger is enabled.";e.MinuteDropdownLabel="Minutes";e.DSWSelectBuildDefinition="Select a build pipeline.";e.ReleasePickerDialogDescription="Select a release that was previously deployed to this stage";e.NoApproversErrorMessage="Enter at least one approver.";e.EnvironmentPreDeploymentApprovalsHeading="Pre-deployment approvals";e.ReleaseNameFormatInvalidErrorMessage="Names of releases from this pipeline will not be unique.  Use pre-defined variables to generate unique release names.";e.AddArtifact="Add an artifact";e.TagsChangedReleaseStatus="Updated tags";e.DSWNoLastDeployment="No build has been deployed on this release pipeline stage yet.";e.DeleteReleaseMenuItemText="Delete";e.TimeIndicator="at {0}";e.DeploymentStatusWidgetTestsToolTip="{0} of {1}";e.DeploymentGatesText="Deployment gates";e.TimelineDescriptionAutomaticTriggerEnvironmentFormatMany="{0} (+{1})";e.No="No";e.CreateReleasePanelHeaderLabel="Create a new release";e.JenkinsArtifactsNotAccessibleMessage="There is no job available or the source is not accessible. You can select all artifacts or specify the list of artifacts to be downloaded below.";e.NewHubZeroDaySecondaryText="Automate your release process in a few easy steps with a new pipeline";e.SelectApproversHelpText="By default, all users must approve the deployment (in any order). If a group is added, one user in the group must approve the deployment.";e.DSWDeploymentStatusPickerInfoProp="Following are the deployment status states and associated tile colors.";e.PreDeploymentApproval="Pre-deployment approval";e.ApprovalPolicyInfo_InSequence="in \u003cstrong\u003e sequence \u003c/strong\u003e";e.ReassignHistoryTitleText="Reassign history";e.GatesLogsDelayBeforeEvaluation="Delay before evaluation: {0}";e.GatesDetailedInfoFormat="{0}. {1}";e.DeploymentStatusViewStatusTitle="Status";e.StartReleaseMenuItemText="Start";e.GatesNoSamplesYet="No samples have yet arrived";e.ARIALabelEditorTabs="Editor tabs options";e.TimelineDescriptionRanForFormat="Ran for {0}";e.CreateDefinitionContextualMenuOptionText="New pipeline";e.CancelAction="Cancel";e.RejectAction="Reject";e.TimelineDescriptionOnFormat="{0} on {1}";e.CommitsArtifactHeaderInfoText="Lists the commit difference between the artifacts of this release and the previously deployed release for this stage. If the current release deployed an older artifact, then the difference lists negative commits i.e., the changes that were rolled back from this stage.";e.TimelineContent_Queue_InfoText="Deployments to a stage can be in parallel wherein multiple releases can be deployed at the same time or in order where releases get deployed one after another. This can be configured as part of the deployment queue settings for a stage.";e.ArtifactTriggerToggleHelpTextForAzureContainerRepository="Creates a release every time an image is pushed to the selected repository.";e.ArtifactsDisplayMessageLatestWithAllBranchAndAllTags="The artifacts published by each version will be available for deployment in release pipelines. The latest successful build of \u003cb\u003e{0} \u003c/b\u003e";e.ViewApprovalsTooltipFormat="View {0} approvals";e.ARIALabelEnvironmentApprovalOrderSection="Select approval order";e.SamplingIntervalLabel="The time between re-evaluation of gates";e.GatesTimeErrorText="The value must be less than the timeout.";e.ApprovalSkipped="Skipped on {0}";e.NoMachineFoundWithGivenTags="No machine found in given deployment group with tags {0}.";e.ReassignedStatusText="Reassigned on {0}";e.DeleteReleaseDialogContentText="You are about to delete a release. Do you want to proceed?";e.EnvironmentSelected="This stage is selected.";e.ArtifactTriggerToggleHelpTextForDockerHub="Creates a release every time a Docker push occurs to the selected repository.";e.SecurityText="Security";e.SelectApproversPlaceHolderText="Search users and groups for approvers";e.ArtifactPropertiesAriaLabel="Artifact properties";e.CustomSelectiveArtifactsMessage="Selective artifacts are not supported for the {0} artifact type. You can select all artifacts or none.";e.ApprovalCancelled="Canceled on {0}";e.EditReleaseWarning="\u003cdiv\u003e \u003cb\u003eYou can edit approvals, tasks, and variables of this release. \u003c/b\u003e Edits will be saved only to this release. To make changes to the pipeline, \u003ca href=\"{0}\" class=\"{1}\" target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"Edit the release pipeline\"\u003eedit the release pipeline\u003c/a\u003e\u003c/div\u003e";e.CreateDefinitionCommandBarMenuOptionText="Release pipeline";e.ArtifactsToBePublishedMessage="published the following artifacts: \u003cb\u003e\u003cem\u003e{0}\u003c/em\u003e\u003c/b\u003e.";e.OnPrepositionForTimestamp="on {0}";e.CloneText="Clone";e.CreateReleasePanelArtifactAccordionDescription="Select the version for the artifact sources for this release";e.MultipleEnvironments="Multiple stages";e.EnvironmentNameLengthValidationError="The stage name cannot exceed 256 characters. Specify a shorter name and try again.";e.ReleaseApprovalHoursSelectorAriaLabel="Select hours";e.ApprovalPending="Pending {0}";e.GatesLabel="Gates";e.ReleaseCreatorCannotBeApproverCheckboxLabel="The user requesting a release or deployment should not approve it";e.ArtifactsDisplayMessageLatestWithBranchAndTags="The artifacts published by each version will be available for deployment in release pipelines. The latest successful build of \u003cb\u003e{0}\u003c/b\u003e from branch \u003cb\u003e{1}\u003c/b\u003e with tags \u003cb\u003e{2}\u003c/b\u003e";e.DefinitionCloneSuffix="{0} - Copy";e.TimelineDescription_AssociatedChanges="View {0} and {1}";e.DeploymentAuthorizationRequired="You would be asked to sign in to the Azure subscription(s) before the deployment starts.";e.DeploymentTypeUnmapped="Unmapped";e.NoAssociatedCommitsMessage="No associated changes found.";e.OldDeploymentStatus="{0} on {1}";e.SimpleYouText="you";e.AutomaticApprovalTypeText="Automatic";e.UndeleteReleaseDialogContentText="You are about to undelete the release \u0027{0}\u0027";e.ArtifactVersionUrlFormat="Artifact version url for the artifact {0}";e.Add="Add";e.Yes="Yes";e.GatesCollapsibleHeadingText="Gates";e.EnvironmentStatusReason_InProgressReason="running tasks...";e.ToBeApproved="Next pending on";e.NoEnvironmentsPipelineTabText="You cannot save a release pipeline that contains zero stages.";e.TimelineDescriptionDeploymentTriggeredPrefix="Deployment triggered";e.ReportingTestPassRate="Test pass rate";e.SpecificParallelDeploymentLabel="Specific";e.DeleteRdCommandBarMenuOptionText="Delete pipeline";e.NoArtifactFiltersText="No filters added.";e.ReleaseDefinitionsTitle="Release pipelines";e.Hours="{0} hours";e.CannotCreateRDNoPermissionsMessage="You do not have sufficient permissions on this project to create a release pipeline. Contact your release administrator for permissions.";e.EditReleaseVariablesPermissionMessage="You do not have permissions to edit this stage or this stage is in-progress";e.ARIALabelReleaseDefinitionEditorMainView="Release pipeline editor";e.DeploymentGroupsProgressSuccessfulText="Successful";e.ApprovalPolicyInfoText_InSequence="Approval must be done {0} {1}.";e.ReleaseHistoryChangeTypeUndelete="Undo delete";e.GatesCanceled="Gates canceled";e.ViewLogsTooltip="View logs";e.ReleaseGateLogSampleNameFailedFormat="{0}/{1} gates Failed";e.EnvironmentPoliciesAccordionDescription="Deployment policies for this stage";e.DeploymentTriggerOptionAriaLabelText="Deployment trigger options for stage {0}";e.PendingApprovalOneEnvironment="Pending approval on {0} stage.";e.MinePanelTitle="Mine";e.EnvironmentStatusDeferred="Deferred";e.NoSupportedArtifacts="No filters available for the linked artifacts";e.ArtifactSourceAlias="Source alias";e.LoadingFetchingCommits="Fetching commits...";e.ToggleBetweenOverviewAndDetails="Toggle focus from and to details panel";e.TriggersHeading="Triggers";e.CommitCount="({0} commit)";e.ArtifactTagPickerInputAriaLabel="Artifact tag picker input";e.EnvironmentPostDeploymentConditionsHeading="Post-deployment conditions";e.DeleteDefinitionConfirmationMessage="Are you sure you want to delete release pipeline \u0027{0}\u0027 and all its associated releases?";e.ApprovalPolicyInfoText="After the deployment starts, all approvers must approve {0} within a timeout of {1}";e.DeploymentStatusWidgetReleaseToolTip="Release: {0}";e.NoItemsMatchYourFilterText="No items match your filter";e.PhaseHeaderDisplayText="Job {0}/{1}";e.ParallelDeploymentTypeCalloutText="Deployment on a stage can be in parallel wherein multiple releases can be deployed at the same time or in order where releases get deployed one after another. Specify \u00271\u0027 for deployments to go one after another (sequential).";e.RefreshText="Refresh";e.GatesStabilizationRemainingTime="Gates evaluation will begin in {0}";e.GatesPhaseTypeDescription="A job is a logical grouping of tasks that defines the runtime target on which the tasks will execute. A gates job executes all the gates in parallel.";e.ScheduleOnlyWithChangesLabel="Only schedule releases if the source or pipeline has changed";e.CreateDraftReleaseMenuOptionText="Create a draft release";e.GatesSucceededNoGatesText="Delay before evaluation completed at {0}";e.CreateFolderText="New folder";e.EnvironmentPickListPlaceholderText="Select Stage";e.ReassignIdentityPickerNotValid="You cannot reassign to the original approver";e.DeleteArtifactConfirmationMessage="Are you sure that you want to unlink the artifact \u0027{0}\u0027 from this release pipeline? Unlinking this artifact can cause some task configurations to become invalid.";e.TimelineContent_ArtifactCondition_TagFilterFormat="{0}";e.ReleaseHelpWithApprovals="approvals and gates";e.AutoTriggerAfterEnvironmentsText="Automated after {0} stages";e.ArtifactComparisonCollapsedHeaderDescription="Showing changes compared to ";e.DeploymentStatusWidgetDeploymentStatusToolTip="Deployment status: {0}";e.WindowTitleFormat="{0} - {1}";e.CreateReleasePanelArtifactErrorIconAriaLabel="Artifact error message.";e.ArtifactTriggerBranchFiltersHelpTextForGitHub="A release will be triggered only if the GitHub push contains a commit to the specified branch. For example, selecting \"master\" will trigger a release for a GitHub push which contains one or more commits to the master branch. To trigger a release for any commit to all the branches under features/, enter \"features/\\*\". To trigger a release for commits to all branches, enter \"\\*\". Note that all filters specified will be OR\u0027ed. For example, an artifact matching at least one filter condition would be sufficient to trigger a release.";e.EnvironmentsDeploymentTriggerListAriaLabel="List of stages and their deployment trigger";e.ColorRed="Red";e.IgnoreGateViewButtonName="Ignore gate";e.EnvironmentPropertiesAriaLabel="Stage properties";e.DefinitionFilterBarItemPlaceholderText="Filter by pipeline";e.ResumeManualInterventionTooltip="Resume or reject manual intervention";e.CurrentlyDeployedStatus="Currently deployed status";e.CurrentlyApproving="Approving as self/group";e.PendingApprovalTwoEnvironments="Pending approval on {0} and {1} stages.";e.DeploymentRejectedByText="Deployment rejected by {0} {1}";e.PostDeploymentGatesCollapsibleDescriptionText="Define gates to evaluate after the deployment.";e.EnvironmentNodeDescriptionWithOneOrZeroPhaseAndMoreThanOneTasks="{0} job, {1} tasks";e.ErrorFetchignApprovalData="There was an error in retrieving approvals data";e.ApprovalBeforeGates="Before gates, ask for approvals";e.PostDeploymentText="Post-deployment";e.ActiveDefinitionsCollapseButtonTooltip="Show release pipelines";e.SelectedAttemptNumberText="{0} of {1}";e.ActiveReleasesSearchPlaceholderText="Search for release";e.CreateReleaseEnvironmentDropdownHelpText="For this release, select the stages for which you want to change the trigger from automated to manual. A manual deployment will be required for these stages.";e.DeploymentStatusCompletedTitle="Completed";e.PublishDeploymentStatusToWorkItems="Report deployment status to Boards";e.NoSamplesYet="No samples yet";e.EnvironmentName="Stage name";e.ReassignSelectApproverText="Select approver";e.ReleaseDefinitionHasBeenMoved="Release pipeline \u0027{0}\u0027 has been moved to folder \u0027{1}\u0027.";e.ReportingAnalyzeFor7Days="7 days";e.DSWBuildStatusCompleted="Completed";e.CustomBranchFilter="Custom";e.ReleaseReportingDeploymentFrequency="Deployment frequency";e.SingleWarningText="{0} warning";e.CreateReleaseManualEnvironmentNodeDescription="Manual trigger";e.GatesFailedDescription="Gates did not meet the criteria of succeeding at once before the timeout of {0}.";e.UndeleteReleaseConfirmationMessageFormat="Release \u0027{0}\u0027 has been undeleted";e.TimelineContent_Deployment_TaskRunningText="Running task {0}";e.CommitRollbackMessageFormatString="({0} {1} rolled back commit)";e.ColorBlue="Blue";e.ColorGrey="Grey";e.EditRdContextualMenuText="Edit";e.ActiveReleasesAnalyticsTitle="View analytics";e.LatestFromBranch="Latest from branch: {0}";e.CurrentlyDeployedStatusInfo="Currently deployed status information";e.SummaryTabTitle="Summary";e.Exclude="Exclude";e.EnvironmentStatusReason_InProgressReasonFormat="running task {0}";e.ReleaseHelpCommitsTabDescription="Click on environment to see the commits and workitems that get deployed to the environment with each new release.";e.MoreInformationPullRequestDeploymentAriaLabel="More information about pull request based deployments.";e.RetentionDaysToRetainDescription="Set the number of days to retain a release deployed to this stage.";e.ApproveNowAction="Approve";e.ReleaseHelpLogsTabLabel="In-progress deployments and logs";e.SelectArtifacts="Select artifacts";e.ArtifactTriggerDisabledMessageForGit="Enabling the trigger will create a new release every time a Git push happens to the selected repository.";e.AllReleases="All releases";e.Timeline_PRTrigger_EnableOnCurrentEnvironmentText="Trigger must be enabled on this stage to let pull request based releases to get deployed.";e.DswBranchPickerToolTip="\u003cspan\u003eChoose \u0027Default branch in build pipeline\u0027 option to see builds corresponding to the default branch associated with the build pipeline.\u003c/span\u003e\u003cbr/\u003e\r\n\u003cspan\u003eChoose \u0027Custom\u0027 option to see builds corresponding to a particular branch of your choice.\u003c/span\u003e";e.LoadingReleases="Loading releases...";e.CurrentlyDeployedToggleOffAriaLabel="Show all releases for this pipeline";e.InProgressPhaseProgressBarLinkTitlePlural="{0}/{1} tasks have completed for {2} of {3}.";e.PullRequestDeploymentHelpText="Enabling this will allow pull request based releases to be deployed to this stage. Keep it disabled if this is a critical or production stage.";e.GatesLatestText="(latest)";e.EnvironmentTemplateSelectorTitle="Select a template";e.EnabledText="Enabled";e.GatesStabilizationTimeHelp="The time before the added gates are evaluated for the first time. If no gates are added, then the deployment will wait for the duration before proceeding.";e.ContinuousDeliveryAcronym="CD";e.TimelineContent_ArtifactCondition_TagsListFormat="{0} {1}";e.BranchFilter="Branch filter";e.BranchFiltersGitHub="Branch Filters";e.ReleaseHistoryChangeTypeApprove="Approve";e.ReleaseHistoryChangeTypeStart="Start";e.CloneSelectedEnvironment="Clone stage";e.CloseText="Close";e.DeploymentStatusWidgetBuildToolTip="Build: {0}";e.TimelineDescriptionAutomaticTriggerEnvironmentFormat1="{0}";e.ImportRdCommandBarMenuItemText="Import a pipeline";e.OverallApprovalsPending="Approval pending {0}";e.ARIALabelCopyBadgeURL="Copy badge URL";e.PendingIntervention="Pending intervention";e.RetentionLeftPaneARIALabel="Retention policies left pane";e.CancelButtonTooltip="Cancel the deployment";e.TagFilterHelpTextForDockerHub="A release will be triggered only if the Docker Hub push tag matches the regular expression specified in the Tag input.\r\nIf no tag filter is specified, release will always be triggered.\u003cbr\u003e\r\nExamples:\u003cbr\u003e\r\n^latest$ - will trigger the release only if the tag is \u0026quot;latest\u0026quot;\r\nv1\u0026#92;.[0-9] - will trigger the release for tags like \u0026quot;v1.23\u0026quot;, \u0026quot;beta-v1.3-test\u0026quot; etc.\r\n[More information](https://docs.microsoft.com/en-us/dotnet/standard/base-types/regular-expression-language-quick-reference)";e.EnvironmentNodeDescriptionWithMoreThanOnePhasesAndMoreThanOneTasks="{0} jobs, {1} tasks";e.ArtifactVersionsOptionAriaLabelText="Artifact versions for source {0}";e.AgentOfflineOrDisabled="There is a problem with deploy job \u0027{0}\u0027. There are agents that are capable of running the release, but they are offline or disabled. If the agent is configured to run as a service, ensure that the \u0027Azure Pipelines Agent (\u003cagent name\u003e)\u0027 service is running.";e.AbandonReleaseDialogTitleText="Abandon {0}";e.NextSampleTimeSubtextAriaLabel="{0} to next sample";e.Timeline_AllDeploymentsText="all deployments";e.ArtifactsDisplayMessageSpecificVersion="The artifacts published by each version will be available for deployment in release pipelines. \u003cb\u003e{0}\u003c/b\u003e version \u003cb\u003e{1}\u003c/b\u003e";e.PostDeploymentApproval="Post-deployment approval";e.ReleaseGateLogSampleNameSucceededFormat="{0}/{0} gates Succeeded";e.GatesDelayInProgress="Delay before evaluation is in progress";e.ToPrepositionForTimestamp="to {0}";e.ReleaseSummaryScheduleTriggeredText="Scheduled release";e.RollbackWarning="Rolling back changes - You are deploying an older release. This might remove some work items and commits";e.AgentLogStepStartingMarker="Starting: ";e.WaitingForAgentLogsText="Waiting for console output from an agent...";e.DescriptionText="Description";e.Artifacts="Artifacts";e.ARIALabelEnvironmentAutoApproveCheckbox="Automatically approve auto triggered deployment checkbox";e.InvalidEnvironmentErrorMessage="Stage with ID {0} does not exist. Specify a valid ID and try again.";e.ArtifactsDisplayMessageLatestWithNoBranchAndTags="The artifacts published by each version will be available for deployment in release pipelines. The latest successful build of \u003cb\u003e{0}\u003c/b\u003e with tags \u003cb\u003e{1}\u003c/b\u003e";e.EnvironmentStatusReason_RejectedFormat="Rejected by";e.MarkAsPrimary="Mark as primary";e.RenameFolderDialogTitle="Rename folder";e.ReleaseHelpWhatsNew="What\u0027s new...";e.DeleteReleaseConfirmationMessageFormat="Release \u0027{0}\u0027 has been deleted";e.RetentionReleaseCountInfoText="Set the minimum number of releases to keep for this stage. This number cannot exceed {0} releases.\r\n[Learn more about minimum releases to keep]({1})";e.ApprovalGatesSectionHelpText="Add gates that evaluate health parameters. They are periodically re-evaluated in parallel. When all gates succeed for the success criteria duration, the deployment will proceed. If this does not occur before the timeout period, the deployment is rejected.";e.TimelineHeaderAutomaticTriggerPending="Automatic trigger pending";e.EnvironmentPreDeploymentApproversHeading="Pre-deployment approvers";e.DeleteFolderDialogTitle="Delete folder";e.ARIALabelCloseTheDialog="Close the dialog";e.YouText="you";e.FolderPickerLabel="Folder";e.PullRequestTriggerFollowingEnvironmentsEnabledMessage="The following stages are enabled: {0}";e.FirstTimeDeployment="(Deploying for the first time)";e.TimelineContent_ArtifactCondition_BranchAndTagsConditionFormat="{0} {1} and {2}";e.SortByStartTime="Start time";e.DeploymentGroupsIndicatorPendingText="PENDING";e.PullRequestTriggerDisabledText="The pull Request trigger is disabled.";e.UserActionTextFormat="You can {0}";e.ApprovalOrderTypeAnyUserTitle="Any one user";e.SelectedArtifactTypeSummary="{0}";e.DeploymentGroupLabel="Deployment group:";e.ReleaseDefinitionDescriptionHelpText="Describe the purpose of this release pipeline";e.PullRequestTriggerEnabledEnvironmentsMessage="stages are enabled for pull request deployments. You can enable a stage for pull request based deployments in the pre-deployment conditions of that stage.";e.LogsDeploymentIssuesFormat="Issues ({0})";e.ViewMachineLogs="View machine logs";e.TimelineContent_ArtifactCondition_BranchNameFormat="{0} {1}";e.TriggersAccordionDescriptionText="Define the trigger that will start deployment to this stage";e.ReleaseNameFormat="Release name format";e.WorkItemsArtifactHeaderInfoText="Lists the work item difference between this release and the previously deployed release for this stage. If the current release deployed an older artifact, then the difference lists negative work items i.e., the changes that were rolled back from this stage.";e.IdentityPickerFilterBarItemAriaLabel="Fiter active releases by created-by";e.CreateReleasePanelStartReleaseLabel="Start release";e.DeploymentGroupsSkippedOfflinePluralText="{0} targets skipped";e.TimeRemaining="Evaluation to start in {0}";e.DeleteRdContextualMenuText="Delete";e.TriggerForPartiallySucceeded="Trigger even when the selected stages partially succeed";e.GatesTimeErrorMessage="You must specify an integer from {0} to {1} in {2}.";e.ArtifactTriggerDescriptionForDockerHub="Docker Hub: {0}";e.RequiredInputWithOption="This setting is required. You may select an option from dropdown or type and search.";e.ReleaseTags="Tags";e.ReleaseText="Release";e.TimelineContent_Deployment_TaskFailedText="{0} failed";e.InProgressText="In progress";e.ViewGatesTooltipFormat="View {0} gates";e.NoPrimaryArtifactToCompareFoundMessage="Cannot find the primary artifact in release {0}.";e.AutoTriggerAfterReleaseText="Automated after release creation";e.AddToDashboard_SuccessMessage="{0} has been successfully added to the {1} dashboard.";e.BuildDefinition="Build pipeline";e.DefinitionAnalysisHeader="Analysis";e.ManualTriggerText="Manual";e.ErrorText="Error";e.GatesIgnoredText="Ignored";e.DeploymentStatusViewTriggerTitle="Trigger";e.DeploymentGroupsProgressRunningText="Running";e.DeploymentTypeStaging="Staging";e.PreDeploymentGatesCollapsibleDescriptionText="Define gates to evaluate before the deployment.";e.FolderNameAlreadyExistsError="A folder with this name already exists in the specified folder";e.TimelineDescriptionAutomaticTriggerConditionsNotMet="Deployment will not start automatically as the following artifact condition(s) are not met";e.RetentionAssocitedArtifactsCheckboxLabel="Retain associated artifacts";e.SpecifyListOfArtifacts="Specify the list of artifacts";e.ReleaseTriggerScheduled="Schedule set";e.GatesOrderForExecutionOfApprovalHelp="Manual approvals can be asked for before or after the evaluation of gates.";e.RetentionDoNotKeepArtifactsText="and do not keep artifacts.";e.EnvironmentPostApprovalGatesHeading="Post-deployment gates";e.AutoSaveInProgressText="Saving";e.TimelineHeaderDeploymentCanceling="Deployment canceling";e.CurrentlyDeployedToggleOnText="Show";e.RetentionRetainArtifactInfoText="Retain the build for all releases deployed to this stage.\r\n[Learn more about artifact retention]({0})";e.DemandsWarningHeaderInfo="Demands warning information";e.NoRecentDefinitions="There are no additional release pipelines in this section";e.CreateReleaseDefinitionText="New release pipeline";e.DeploymentStatusViewRequestedByTitle="Requested by";e.ReleaseSummaryPullRequestTriggeredText="Triggered by";e.ReleaseApprovalOverrideButtonText="Override";e.GatesPhaseTimeError="The value should be between {0} and {1} minutes.";e.CommitsArtifactHeaderWithNoRollbackInfoText="This list shows the difference in commits between this release and the previously-deployed release for this stage.";e.NoReleasesMatchYourFilterText="No releases match your filter";e.ReportingDeploymentDuration="Deployment duration";e.NameText="Name";e.ReleaseToCompareAgainstText="Last deployed";e.MoveRdContextualMenuText="Move pipeline";e.TimelineDescriptionWithSuffixFormat="{0}, {1}";e.Minutes="{0} minutes";e.HourDropdownLabel="Hours";e.EnvironmentSummary="Stage summary";e.DSWEnvironmentsHeader="Stages\\Builds";e.ViewApprovalsAndGatesTooltipFormat="View {0} approvals and gates";e.ArtifactTriggerDisabledMessageForDockerHub="Enabling the trigger will create a new release every time a Docker push occurs in the selected repository.";e.LatestWithTags="Latest with tags: {0}";e.RetainIndefinitelyIconTooltip="Retained indefinitely";e.DescriptionChangedReleaseStatus="Updated description";e.ReleaseProgressBreadcrumbs="Release progress breadcrumbs";e.RetentionReleaseCountInvalidValueErrorMessage="The specified value is invalid. You must specify a number between 1 and {0}.";e.ArtifactTagInputAriaLabel="Artifact trigger condition tag input.";e.SelectApproveEnvironmentDescription="Select the stages you want to approve";e.IntegrateJiraWorkItemsPlaceHolder="Select Jira account to integrate with";e.ButtonText="button";e.ReleaseHelpWhatsNewSummary="We’ve made it much easier to see exactly what’s happening with all of your releases. Now you have a detailed summary of the release pipeline, plus one-click drill-down access to more details such as artifacts, stages, approvals, tests, and logs. Quickly see the work items, commits, test results, and much more.";e.ReassignIdentityFromInvalidScope="The user is not in a valid scope that allows reassignment";e.ReleasesHubApprovalPanelHeader="Approve or reject";e.EnvironmentStatusSucceeded="Succeeded";e.ReleaseCommitsComparisonWithUnSupportedArtifactTypeException="The commits view is not supported for artifact type {0}.";e.WorkItemsComparedToMessageText="\u003cdiv\u003eWorks items are compared to \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1}\u003c/a\u003e deployment \u003c/div\u003e";e.ViewReleasesText="View releases";e.ConjunctionForArtifactsDisplayMessage="and";e.ApprovalInProgressText="Approving";e.JobApprovedStatus="Approved";e.FolderWillBeCreatedMessage="Folder does not exist. Folder with the given path will be created on save";e.SaveAsTemplateDialogVariableInfoText="Any secret variable in the stage won\u0027t be saved as part of the template.";e.DeploymentCanceledBy="Deployment was canceled by {0}";e.ArtifactTriggerDisabledMessageForAzureContainerRepository="Enabling the trigger will create a new release every time an image is pushed to the selected repository.";e.SelectedArtifactsCountText="Selected {0} artifact(s)";e.NoWorkItemsFound="No associated work items were found.";e.DeploymentDurationText="Deployment duration:";e.DSWSelectReleaseDefinitionEnv="Select at least one stage.";e.ARIALabelEnvironmentSecurity="Open stage security dialog";e.PartiallySucceededText="Partially succeeded";e.TimelineDescriptionByOnFormat="{0} by {1} {2} on {3}";e.ReleaseHelpContributions="\u0026 other extensions";e.AllCapsOkText="OK";e.EditInOldEditorText="Edit (old editor)";e.ReassignmentInProgressText="Reassigning";e.ArtifactTriggerDescriptionForGit="Git: {0}";e.EnvironmentTriggerCircularDependencyError="There is circular dependency with the specified stage trigger condition.";e.ActiveReleaseCreatedHeaderText="Created";e.DaysSingular="1 day";e.EnvironmentStatusReason_WaitingOnQueueFormatWithLink="Waiting in the {0} queue. \u003ca href=\"{1}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eView queue\u003c/a\u003e";e.ReleaseHelpTests="Test results";e.ReleaseDefinitionImportedMessage="The following properties in the release pipeline are not imported: agent pools, deployment groups, deployment group tags, approvals, variable groups, and values of secret variables.";e.ReleaseHistoryChangeTypeAbandon="Abandon";e.DeploymentOptionSectionDescription="Define deployment overrides";e.TimelineDescription_NowAtNode="View {0}";e.ReleaseHelpLearn="Learn";e.SucceededGatesMessage="gates succeeded";e.MoveEnvironmentDescription="Move stage up or down";e.ReleaseHelpGates="Pre and post-deployment";e.CDTrigger="Continuous deployment trigger";e.QueueSettingsAccordionDescription="Define behavior when multiple releases are queued for deployment";e.EditReleaseInfoBar="\u003cdiv\u003e \u003cb\u003eYou can edit approvals, tasks, and variables by clicking on Edit release. \u003c/b\u003e Edits will be saved only to this release. \u003c/div\u003e";e.OverallApprovalsApproved="Approved on {0}";e.PhaseHeaderText="Job {0}";e.SourceBranchMismatchMessage="The current release is deploying from the {0} branch while \u003ca href=\"{1}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{2}\u003c/a\u003e is from the {3} branch. This difference cannot be calculated.";e.EnvironmentStatusReason_PartiallySucceededReasonFormat="{0} {1} failed";e.ReleaseHelpCalloutCompletePrimaryText="All set. Get started now…";e.ApprovalIdentityRevalidationInfoMessage="An approval policy for this environment requires you to sign in and revalidate your identity when you approve deployment.";e.ReleaseSummaryPanelNoArtifactsText="No artifact is associated with this release.";e.RetryButton="Retry";e.GateSuccessCriteriaText="{0} gates succeeding since {1}";e.EnvironmentStatusFailed="Failed";e.BuildVersionLabel="Build version:";e.DeploymentPropertiesLabel="Deployment process";e.ReleaseHelpInprogress="In progress";e.DeploymentStatusWidgetBuildStatusToolTip="Build status: {0}";e.GatesSucceededText="All gates succeeded at {0}";e.MaterializeIdentitiesExceptionMessage="Failed to add the identity as a local user due to exception: {0}";e.TagFilterAriaLabel="Regular expression tag filter";e.ReportingEnvironmentFailedDeployment="Failed";e.AriaLabelGatesSamplingIntervalTimeUnit="The time unit for specifying the time between re-evaluation of gates";e.DeploymentGroupsIndicatorInProgressText="IN-PROGRESS";e.TimelineHeaderApprovalSucceeded="{0} approval succeeded";e.PipelineEditorLeftPane="Pipeline editor - left pane";e.EmptyFolderNameError="Folder name cannot be empty";e.OthersCategory="Others";e.FirstRunGuideForReleaseProgressHelpText="First run guide for release progress help";e.AllDefinitionsFolderColumnHeader="Folder / Release pipelines";e.ReleaseCreatedTextSuffix=" has been created";e.DeleteBranchFilter="Delete branch filter {0}";e.EnvironmentPreApprovalGatesHeading="Pre-deployment gates";e.StopRetainingReleaseMenuItemText="Stop retaining indefinitely";e.DemandsWarningHeader="Demands warning";e.RetentionKeepArtifactsText="and keep artifacts.";e.ARIADescriptionCopyBadgeURL="Copy the badge URL to the clipboard";e.RedeployManuallyActionText="redeploy manually";e.EnvironmentStatus_PostApprovalPendingOn="Post-deployment approval pending on";e.ManualTriggerHeaderText="Manually triggered";e.ReleaseCreatedTextPrefix="Release ";e.TimelineContent_Queue_OneLatestText="Deployment queue settings for this stage are configured to deploy one release at a time. When multiple releases are queued, the latest will be deployed and all the others will be canceled.";e.GatesSamplingIntervalTimeErrorMessage="The value must be less than the timeout.";e.SourceAliasCannotBeEmpty="The source alias cannot be empty.";e.ApprovalsAfterSuccessfulGates="On successful gates, ask for approvals";e.TimelineHeaderAutomaticTrigger="Automatic trigger";e.Resumed="Resumed";e.EnvironmentDescriptionAriaLabel="Stage has {0}. Click the button to view stage jobs and tasks.";e.EnvironmentColumnHeaderLabel="Stage";e.TimelineHeaderScheduledTriggerPending="Scheduled trigger pending";e.EditRdCommandBarMenuText="Edit pipeline";e.EnvironmentNameValidationError="Stage name can\u0027t be empty.";e.Instructions="Instructions";e.ListOfChangesGoingText="List of {0} going between";e.DSWDeploymentPartialSuccess="Partial Success";e.ManualInterventionNoPermissionsMessageText="You do not have permissions to resume. Contact release administrator to manage deployments.";e.DSWSelectBranch="Select a branch.";e.DiscardingReleaseText="Discarding...";e.ActiveReleaseEnvironmentsHeaderText="Stages";e.SortOrder="Sort order";e.DSWEnvironmentsSelectionOverflow="Current widget size only supports {0} stages.";e.PullRequestToggleHelpText="Creates a release every time a new version of the selected artifact is available as part of a pull request workflow";e.CommitsLatestArtifactComparisonComparedToMessageText="\u003cdiv\u003eCommits are compared to the \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1}\u003c/a\u003e deployment (currently on this stage).\u003c/div\u003e";e.TimeAndDateFormat="{0}, {1}";e.GatesOrderForExecutionOfApprovalLabel="Gates and approvals";e.AutoLinkWorkItemsHelpText="When the stage completes, create links to all work items linked to associated changes.";e.ActiveDefinitionsCollapsedLeftPaneLabel="Mine and recent pipelines";e.Loading="Loading...";e.RetentionTabItemTitle="Retention";e.TimelineDescriptionByMultipleOnFormat="{0} by {1} {2} (+{3}) on {4}";e.GatesSucceededTooltipFormat="{0} gates succeeded";e.DSWTooltipDeploymentDuration="Deployment Duration";e.MoreArtifacts="{0} more";e.ImportDefinitionError="Something went wrong. Try importing again.";e.NewHubZeroDayPrimaryText="No release pipelines found";e.MoveDownText="Move down";e.CanceledText="Canceled";e.RevalidateIdentityUnexpected="Revalidating the identity of the approver before completing the approval setting on stage(s) {0} is not expected in bulk approval. Approve individually or remove the setting and try again.";e.DeployOptionsLabel="Subsequent releases";e.ReleaseComparisonWithIncompatibleArtifactType="The current release has artifact {0} of type \"{1}\" while \u003ca href=\"{2}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{3}\u003c/a\u003e has artifact {4} of type \"{5}\". This difference cannot be calculated.";e.TimelineHeaderGatesProcessing="{0} gates processing";e.CommaSeparator=",";e.RejectedDate="Rejected at {0}";e.TriggerColumnHeaderLabel="Trigger";e.ResumedDate="Resumed at {0}";e.TimelineQueueContentText="\u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eView\u003c/a\u003e currently queued deployments.";e.ScheduledTriggerAfterEnvironmentText="Scheduled after {0} stage";e.ReleaseHelpCommits="Commits";e.ReleaseStatus="Release status";e.DeployInSequenceText="Deploy all in sequence";e.EnvironmentStatusReason_ManualInterventionRejectedFormat="Rejected by";e.PendingApprovalTooltip="Pending approval";e.ReleaseHelpPipelineTabDescription="Quickly visualize details of your release such as triggers, requestor, artifacts, tags and more. Environments are modeled to show their status, including detailed progress and final outcome. Logs are just one click away.";e.GateDefinitionsMenuDropdown="Gate definitions list menu";e.DeploymentGroupLogsHeader="Logs for deployment group";e.DeploymentsTriggerPivotLabelText="Deployment trigger";e.ConditionsSucceededTooltipFormat="{0} conditions succeeded";e.RetentionOneDayCountText="Keep for {0} day,";e.PostEnvironmentDeploymentTriggerTabName="After stage";e.DeployManuallyActionText="deploy manually";e.TimelineHeaderApprovalCanceled="{0} approval canceled";e.WorkItemState="State";e.NextGateSampleIn="Next in {0}";e.WorkItemTitle="Title";e.DeploymentWidgetTestsToolTip="Tests: {0} of {1} passed";e.RetentionReleaseCountEmptyValueErrorMessage="This setting is required. You must specify a number between 1 and {0}.";e.ReleaseSummaryPullRequestTriggerNodeText="Pull request deployment requested for";e.SummaryTabCommandsMenuBarAriaLabel="Summary menu";e.GatesCanceledTooltipFormat="{0} gates canceled";e.DSWTestPassRate="Test Pass Rate";e.AllDefinitionsTabTitle="All pipelines";e.ArtifactTriggerDisabledMessageForPackageManagement="Enabling the trigger will create a new release every time a new version of the selected package is published.";e.ApproversLabel="Approvers";e.GateTimeoutOf="Timeout of {0}";e.CreateReleasePanelVariablesSectionInfoText="Shows a list of pipeline variables that are marked as \u0027Settable at release time\u0027 in the release pipeline. Note that variables are not shown if scoped to stages for which you do not have edit permissions.";e.GateResultAriaLabel="{0} {1} at {2}";e.RetentionDaysInvalidValueErrorMessage="The specified value is invalid. You must specify a number between 1 and {0}.";e.DefinitionScheduleTriggerHeading="Scheduled release trigger";e.CompareText="Compare";e.NoCurrentlyDeployedSubText="No deployments have been made for this pipeline. Toggle \u0027Currenly deployed\u0027 to view all releases, or create a new release.";e.RetentionRightPaneARIALabel="Retention policies right pane";e.ApprovalButtonTooltip="View approval";e.TargetBranch="Target Branch";e.NoDeploymentText="No deployments yet";e.ArtifactTriggerAdditionalOptionsHeader="Additional options";e.AbandonReleaseMenuItemText="Abandon";e.ApprovalPendingDescription_byAnyOne="Waiting for \u003cstrong\u003eany one\u003c/strong\u003e of the approvers to approve.";e.SameSourceVersionMessage="There is no difference in commits between the current release and \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1}\u003c/a\u003e. Both releases have the same artifact version.";e.Properties="Properties";e.ViewRdContextualMenuText="View";e.CurrentlyDeployedOnEnvironment="Currently deployed";e.ArtifactTypeInvalidFieldsErrorMessage="Field \u0027{0}\u0027 should have valid values.";e.ReassignApproverCloseButtonAriaText="Close reassign approver dialog box";e.PostReleaseTriggerTabName="After release";e.SourceType="Source type";e.DefaultVersionDescription="The default version will be deployed when new releases are created. The version can be changed for manually created releases at the time of release creation.";e.BadgeUrlInfoMessageText="Badge URLs for stage(s) {0} will be available only after you save the release pipeline";e.DswEnvironmentPickerToolTip="Release pipelines linked to the selected build pipeline, for which stage status will be shown. Create release pipelines in the Releases tab.";e.PhaseRefNameDescription="Any changes to the reference name will require updates to downstream tasks that uses this reference name, a valid reference name can only contain \u0027a-z\u0027, \u0027A-Z\u0027, \u00270-9\u0027 and \u0027_\u0027 and must not start with a number.";e.WorkItemsRollbackMessageFormatString="({0} {1} rolled back work items)";e.LogsTabJobNameFormat="{0} ({1}) ";e.FilterByKeywordsText="Filter by keywords";e.DiscardButtonText="Discard";e.EditEnvironmentPermissionMessage="You do not have permissions to modify this stage. Changes made will not be saved. Contact your release manager to grant permissions.";e.CreateFolderDialogTitle="New folder";e.ReleaseHelpCalloutSecondaryText="You can relaunch the {0} dialog by clicking the Help button.";e.EvaluationOptionsLabelText="Evaluation options";e.PreDeployApprovalSubText="Pre-deployment approval pending";e.AttemptPropertiesLabel="Deployment attempt #{0}";e.TriggersBuildDefDeletedError="Artifact source (build pipeline) might be invalid. It might have been deleted or you do not have permissions to view it.";e.ArtifactTriggerBranchFiltersHelpTextForBuild="\u003cli\u003eA release will be triggered only for a build that is from one of the branches selected here. For example, selecting \"master\" will trigger a release for every build from the master branch. To trigger a release for any build under features/, enter \"features/*\". To trigger a release for all builds, just enter \"*\". Note that all the filters specified here will be OR\u0027ed, i.e., artifact matching at least one filter condition would be sufficient to trigger a release. TFVC Build Artifacts do not support branch based triggers, you can use tags to use triggers for TFVC Build Artifacts.\u003c/li\u003e\r\n\u003cli\u003eInstead of selecting a branch, you can also enter a variable which contains the branch name. For example, if variable $(currentReleaseBranch) contains the value \"releases/M23\" then you can enter this variable in the branch field. A release will be triggered if the build is from \"releases/M23\". Variables from variable groups can be used across multiple release pipelines.\u003c/li\u003e\r\n\u003cli\u003eYou may also optionally specify tags here. A release will be triggered only if a new build, tagged with the keywords specified here, is available. If you include multiple tags in the same line, they are AND-ed while evaluating the trigger condition, whereas if you include tags in separate lines, they are OR-ed. Excluding tags is not supported.\u003c/li\u003e\r\n\u003cli\u003eYou can also add filter that takes the value from build pipeline\u0027s default branch. This is the branch that is configured in the build pipeline of the linked artifact.\u003c/li\u003e.";e.RetentionSingleReleaseCountText="minimum of {0} deployed release";e.AddGateDescription="Add gate";e.NewReleaseDefinitionNameText="New release pipeline";e.BranchVersionPickerText="Branch version picker";e.DeferredInfo="Deferred information";e.MoreInformationTriggerAriaLabel="More information about selecting triggers in pre-deployment stage conditions";e.NoArtifactsDisplayMessage="No version is available for \u003cb\u003e{0}\u003c/b\u003e or the latest version has no artifacts to publish. Please check the source pipeline.";e.ApprovingButton="Approving...";e.ReportEnvironmentDeploymentStatus="Report deployment status to the repository host";e.EnvironmentStatusReason_WaitingForPipeline="Waiting for a job";e.MoveText="Move";e.ByYouText="you";e.GatesFailedText="Gates evaluation failed at {0}";e.ToolbarOverflowAriaLabel="More actions";e.GatePreviousSample="Previous sample";e.DeploymentTypeProduction="Production";e.ApprovalPendingInfo="Approval pending ";e.ClosePanelText="Close panel";e.ApprovalRejectedTooltipFormat="{0} approval was rejected";e.BuildDefinitionBranch="The build pipeline\u0027s default branch";e.OpenReleaseMenuItemText="Open";e.RetentionDaysCountTitle="Days to retain a release";e.DeploymentStatusAttemptNumberTitle="Attempt #";e.ManualInterventionTimeoutPolicyForReject="The deployment will be rejected on timeout.";e.ManualInterventionTimeoutPolicyForResume="The deployment will be resumed on timeout.";e.EnvironmentAutoRedeployTriggerHeading="Auto-redeploy trigger";e.TimelineDescriptionApprovalPendingOnSinceFormat="On {0} {1} since {2}";e.FolderDialogNamePlaceholder="Enter a name";e.EvaluationTimeSamplesText="Evaluation time samples";e.MoreInformationArtifactTriggersFiltersAriaLabel="More information about branch filters for continuous deployment trigger in artifacts";e.DefinitionNameAlreadyExistsError="A pipeline with this name already exists";e.ReportingDeploymentFrequency="Deployment frequency";e.Include="Include";e.ViewLogsButtonText="View logs";e.ApprovalsAfterGates="Ignore gates outcome and ask for approvals";e.ARIALabelLogsRightPane="Pipeline logs view right pane";e.JobStateGatesPartiallySucceeded="Gates partially succeeded";e.AddBranchFilter="Add branch filter";e.ReleaseHelpContributionsTabLabel="Test results \u0026 other extensions";e.Timeline_NowAtNode_NoPreviousDeploymentText="No previous deployment";e.PendingApprovalSubtext="Pending approval";e.TimelineHeaderDeploymentPartiallySucceeded="Deployment partially succeeded";e.AutoRedeployTriggerAttemptText="Post-deployment auto redeploy condition";e.ApprovalPolicyInfo_ByAnyone="After the deployment starts, \u003cstrong\u003e any one \u003c/strong\u003e of the approvers must approve within a timeout of {0}";e.MinimumSuccessDurationLabel="Minimum duration for steady results after a successful gates evaluation";e.ApprovalOverrideCancelButtonAriaText="Cancel override";e.CreateReleasePanelVariablesAccordionLabel="Variables";e.PhaseErrorsLabel="Click here to view errors";e.ArtifactTriggerToggleHelpTextForGit="Creates a release every time a Git push occurs in the selected repository.";e.DSWTooltipAbortedRuns="Aborted Runs";e.CreateReleaseMenuOptionText="Create release";e.OutputVariablesGroupLabel="Output Variables";e.DeleteArtifact="Delete artifact";e.BuildDefinitionBranchPlaceholderFormat="{0}";e.ActiveDefinitionsLeftPaneARIALabel="Active pipelines left pane";e.DSWTooltipNotApplicable="N/A";e.Timeline_PRTrigger_Disabled="Pull request deployment trigger disabled";e.EnvironmentApprovalTimeoutLabel="Timeout";e.LogsTabNotDeployedEnvironmentText="Deployment of {0} to {1} has not yet started.";e.ArtifactTriggerDescriptionForAzureContainerRepository="Azure Container Repository: {0}";e.MoreInformationFiltersAriaLabel="More information about artifact filters";e.CanvasErrorsAndWarningsFormat="\u003cstrong\u003e{0}, {1}\u003c/strong\u003e";e.DeleteEnvironmentText="Delete stage";e.IntegrateJiraWorkItems="Report deployment status to Jira";e.TagsLabel="Tags";e.AddArtifactSourceTrigger="Add an artifact source trigger";e.InvalidDefinitionIdError="The pipeline ID {0} is not valid";e.PullRequestTriggerDescription="Enabling this will create a release every time a selected artifact is available as part of a pull request workflow";e.RetentionReleasesToKeepDescription="Set the minimum number of releases to keep for this stage.";e.ArtifactVersionSeperator="/";e.IntegrationsText="Integrations";e.DeploymentSubStatusViewStatusTitle="Sub-status";e.NoReleasesFoundPrimaryText="No releases found";e.StageDeploymentFailed="Deployment to this stage fails";e.DSWDeploymentInProgress="In Progress";e.NoJiraEndpointDropdownErrorMessage="This setting is required. Install Azure Pipelines for Jira app in JIRA Software cloud and add organization to create a connection.";e.DuplicateAlias="The source alias \u0027{0}\u0027 is already linked to the release pipeline, please provide another alias.";e.MultipleWarningsText="{0} warnings";e.PullRequestAddBranchFilterAriaDescription="Add pull request target branch filters.";e.SelectAllArtifactsLabel="Select all artifacts";e.MoreInformationScheduleAriaLabel="More information about schedule based conditions";e.DeploymentStatusWidgetEnvironmentNameToolTip="Stage: {0}";e.TimelineHeader_NowAtNode="Now at {0}";e.EnvironmentStatusInProgress="In progress";e.PreDeploymentText="Pre-deployment";e.SingleIssueFormat="{0} issue";e.DSWDeploymentNotDeployed="Not Deployed";e.SelectEnvironment="Select stage";e.ReleaseProgressHelpDialogTitle="Release view help dialog";e.TimelineStatus_QueuedForAgent="Queued for agent";e.JenkinsSelectiveArtifactsMessage="Following are the artifacts published in the latest version of the job.";e.CopiedToClipboard="Copied to the clipboard";e.KeyboardShortcutSaveReleaseDefinitionDescription="Save the release pipeline";e.TagFilterForAzureContainerRegistry="Tag Filter";e.AddArtifactFilterAriaLabel="Add artifact filter";e.SettingsRequired="This setting is required.";e.DeploymentAttemptAriaLabel="{0} {1}. Use right arrow key to view attempts.";e.PullRequestTriggerTargetBranchCallout="\u003cli\u003eTarget branch is the branch for which a pull request is raised. A release will be triggered only if the build is generated from a pull request raised for these branches. To specify multiple target branches, use wildcard character “*” (E.g. \"features/*\"). You may also optionally specify tags.  Once triggered, the status of the release will be posted back to the corresponding code repository.\u003c/li\u003e";e.SortByFastestFirst="Fastest first";e.DatePickerLabel="Date";e.GateIgnoredAt="Gate ignored at {0}";e.AddToDashboardContextualMenuText="Add to dashboard";e.AriaLabelGatesStabilizationTimeValue="The delay before evaluation is {0}";e.ReleaseNotRetainedMessageFormat="Release \u0027{0}\u0027 is no longer set to be retained indefinitely";e.InvalidReportContributionIdFormat="Selected contribution id for report \"{0}\" is not a valid release report contribution id";e.NoDefinitionsMatchYourFilterText="No pipelines match your search";e.Deploying="Deploying";e.ActiveReleasesMenuItemButtonAriaDescription="Menu items for this release";e.SinglePhaseMutlipleErrorsLable="There are {0} in job {1}";e.ApprovalPendingDescription="Waiting for all approvers to approve {0}.";e.ArtifactAliasChangedWarningMessage="Changing an artifact source alias can break task inputs and scripts where it is used as a variable.";e.ReleaseHelpCommitsTabLabel="Commits and workitems";e.ZoomOutEnvironments="Zoom out stages";e.EnvironmentStatus_Canceled="Deployment was canceled by";e.ArtifactFiltersHelpText="Select artifact condition(s) to trigger a new deployment. A release will be deployed to this stage only if all artifact conditions match.";e.ManualInterventionnoPermissionMessage="You need the right permissions to approve this manual intervention. \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eLearn more\u003c/a\u003e";e.WhatsNew="What\u0027s New";e.DeploymentGroupsProgressFailedText="Failed";e.AbandonText="Abandon";e.DeploymentProcessText="Deployment process";e.ActiveReleaseHiddenEnvironmentCount="{0}";e.DefaultArtifactSpecifyAtReleaseCreation="Specify at the time of release creation";e.ReleasePropertiesCanvasDescription="Press enter and use arrow keys to access the links within the canvas";e.HoursSingular="1 hour";e.ReassignApproverButtonText="Reassign";e.InvalidParmetersMessage="Invalid parameters";e.MoveDefinitionFolderDialogTitle="Move pipeline";e.ARIALabelReleaseHelpLeftPane="Release view help dialog left pane";e.WaitingForMIText="Waiting for manual intervention for {0}";e.PullRequestDeploymentDisabledAriaLabel="Pull request deployment is disabled.";e.BranchFiltersBuild="Build branch filters";e.DSWViewSelectorHeaderLabel="View";e.JobApprovedAutomaticallyStatus="Approved automatically";e.DemandsWarningFullText="{0}: {1} ";e.WorkItemRollbackMessageFormatString="({0} {1} rolled back work item)";e.BranchLabel="Branch:";e.TimelineStatus_QueuedForDeployment="Queued for deployment";e.PullRequestTriggerHeaderText="Pull request deployment";e.CurrentlyDeployedToggleOffText="Hide";e.NextSampleTimeSubtext="to next sample";e.ForText="for";e.ArtifactTriggerToggleHelpTextForPackageManagement="Creates a release every time a new version of the selected package is published.";e.CreateReleasePanelDeploymentTriggerLabel="Pipeline";e.DeployMultiple="Deploy multiple";e.IntegrateJiraWorkItemsHelpText="Include Jira issues in work items and create links to all issues on stage completion.";e.NewHubZeroDayCreateDefinitionButtonText="New pipeline";e.WorkItemType="Type";e.EnvironmentStatusQueued="Queued";e.PreDeploymentConditions="Pre-deployment conditions";e.EditReleaseText="Edit release";e.InProgressPhaseProgressBarLinkTitleSingular="{0}/{1} tasks have completed for {2} of {3}.";e.EnvironmentStatusScheduled="Scheduled";e.NewReleaseDefinitionTabTitle="New";e.ScheduleLable="Schedule";e.DSWTooltipDeploymentStatus="Deployment Status";e.PendingManualIntervention="Pending manual intervention";e.ArtifactTriggerAdditionalOptionsHelpText="Create a release when tags are added to an existing build. Upon enabling this option, a release is created when tags are added to an existing build that has not been released. This could lead to deployment of an older build to the stages.";e.ReleaseApprovalOverrideButtonDescriptionText="Click here to override the approval pending on {0}";e.SelectArtifactsFormat="Select artifacts for {0}";e.BranchOrTagFilterRequired="Specify branch or tag filters.";e.WidgetAddedSuccessfullyMessage="The widget \u0027{0}\u0027 has been added successfully";e.EnvironmentPreDeploymentConditionHeading="Pre-deployment conditions";e.RetentionPolicyHeaderText="Settings for {0}";e.ArtifactAliasLengthValidationError="The artifact alias cannot exceed 256 characters. Specify a shorter name.";e.Multiplier="Multiplier: ";e.ApprovedTooltipFormat="{0} is approved";e.Waiting="Waiting";e.UndeleteReleaseMenuItemText="Undelete";e.AriaLabelGatesSamplingIntervalTimeValue="The time between re-evaluation of gates is {0}";e.AutoLinkWorkItems="Report deployment status to Work";e.PostDeploymentApproversHeading="Post-deployment approvals";e.ColorOrange="Orange";e.CanvasTabTitle="Pipeline";e.DSWDeploymentFailed="Failed";e.SourceAliasDescription="This is an identifier (typically a short name) that uniquely identifies an artifact linked to a release pipeline. It cannot contain the characters: \\\\ / : * \" ? \u003c \u003e or | ";e.Days="{0} days";e.Help="Help";e.Type="Type";e.Task="task";e.Tags="Build tags";e.XOfY="{0} of {1}";e.EnvironmentInfoAriaLabel="The release pipeline is {0}. The stage is {1}. ";e.PoliciesNotEnabledNote="Policies are applicable when a manual approver is set.";e.DeleteReleaseDialogEnvironmentsInProgress="Deleting is not allowed when deployments are in-progress in any stage. Cancel stage(s) {0} and try again.";e.EmptySearchResultMessage="No matching release pipelines found ";e.CreateReleaseEnvironmentDropdownLabel="Stages for a trigger change from automated to manual.";e.DeploymentGroupsProgressTargetsText="Targets";e.CommitsArtifactLatestArtifactComparisonWithNoRollbackHeaderInfoText="This list shows the difference in commits between this artifact and the previously-deployed artifact for this stage.";e.ReleaseReportingDeploymentDuration="Deployment duration";e.NotValidReleaseApprover="As per the approval settings on this stage, you cannot approve or reject deployment to stage \u0027{0}\u0027 because you created this release or deployment. Please reassign this approval.";e.NoReleaseText="No release triggered";e.DeploymentOptionSectionHeading="Deployment Option";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("PipelineWorkflow/Scripts/Editor/Common/Constants",["require","exports"],function(n,t){var r,u,i,f,e,o,s,h,c,l,a,v,y,p;Object.defineProperty(t,"__esModule",{value:!0});t.BranchInputType=t.ArtifactInputState=t.ArtifactMode=t.EditorFeatures=t.WellKnownRepositoryTypes=t.HubIds=t.TemplateConstants=t.EnvironmentPropertiesConstants=t.RetentionTabConstants=t.CanvasSelectorConstants=t.ErrorMessageParentKeyConstants=t.ArtifactsConstants=t.OldReleaseDefinitionNavigateStateActions=t.EditorActions=void 0,function(n){n.ACTION_CREATE_DEFINITION="action-create-definition";n.ACTION_CLONE_DEFINITION="action-clone-definition";n.ACTION_IMPORT_DEFINITION="action-import-definition";n.ACTION_EDIT_DEFINITION="environments-editor-preview";n.ACTION_PIPELINE_TAB="definition-pipeline";n.ACTION_TASKS_TAB="definition-tasks";n.ACTION_HISTORY_TAB="definition-history";n.ACTION_VARIABLES_TAB="definition-variables";n.ACTION_RETENTIONS_TAB="definition-retentions";n.ACTION_OPTIONS_TAB="definition-options"}(r=t.EditorActions||(t.EditorActions={})),function(n){n.ACTION_ENVIRONMENTS_EDITOR="environments-editor";n.ACTION_ARTIFACTS_EDITOR="artifacts-editor";n.ACTION_VARIABLES_EDITOR="variables-editor";n.ACTION_CONFIGURATIONS_EDITOR="configurations-editor";n.ACTION_TRIGGERS_EDITOR="triggers-editor";n.ACTION_GENERAL_SETTINGS_EDITOR="general-settings-editor";n.ACTION_RETENTION_POLICY_EDITOR="retention-policy-editor"}(u=t.OldReleaseDefinitionNavigateStateActions||(t.OldReleaseDefinitionNavigateStateActions={}));i=function(){function n(){}return n.GuidMinLengthValidationPattern="^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",n.GuidValidationPattern="^{[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}}$",n.HttpUrlValidationPattern="^https?://.+$",n.NumberMinValue=-2147483647,n.NumberMaxValue=2147483647,n.PossbileTagsKey="possibleTags",n.BuildRepository="repository",n.LatestWithBranchAndTagsTypeValue="latestWithBranchAndTagsType",n.BuildDefinitionFolderPath="folderPath",n.TagSeparator="; ",n.ArtifactAlias="alias",n.TagSplittingSeparator=/[,;]/,n.ArtifactAliasRegx=new RegExp('^.*[\\\\/:*?"<>|]+.*$'),n.MaxNumberOfArtifactsToDisplay=3,n.DefaultArtifactType="Build",n.ArtifactAliasMaxLength=256,n.ConnectedServicePrefix="connectedservice:",n.BuildArtifactSourceType="buildArtifactSourceType",n.IsSearchable="isSearchable",n.SearchText="name",n.IsArtifactEditOperation="isArtifactEditOperation",n.EndpointFilterRule="EndpointFilterRule",n}();t.ArtifactsConstants=i,function(n){n.MainParentKey="Main"}(f=t.ErrorMessageParentKeyConstants||(t.ErrorMessageParentKeyConstants={})),function(n){n.CanvasSelectorInstance="cd-canvas-selector-instance"}(e=t.CanvasSelectorConstants||(t.CanvasSelectorConstants={})),function(n){n.RetentionTabInstanceId="cd-retention-tab-instance"}(o=t.RetentionTabConstants||(t.RetentionTabConstants={})),function(n){n.EnvironmentNameMaxLength=256}(s=t.EnvironmentPropertiesConstants||(t.EnvironmentPropertiesConstants={})),function(n){n.EmptyTemplateGuid="00000000-0000-0000-0000-000000000000"}(h=t.TemplateConstants||(t.TemplateConstants={})),function(n){n.ReleaseDefinitionHubId="ms.vss-releaseManagement-web.cd-workflow-hub"}(c=t.HubIds||(t.HubIds={})),function(n){n.TfsVersionControl="TfsVersionControl";n.TfsGit="TfsGit";n.Git="Git";n.GitHub="GitHub";n.GitHubEnterprise="GitHubEnterprise";n.Bitbucket="Bitbucket";n.Svn="Svn"}(l=t.WellKnownRepositoryTypes||(t.WellKnownRepositoryTypes={})),function(n){n.EnvironmentSelector="ReleaseEnvironmentSelector"}(a=t.EditorFeatures||(t.EditorFeatures={})),function(n){n[n.Add=0]="Add";n[n.Edit=1]="Edit"}(v=t.ArtifactMode||(t.ArtifactMode={})),function(n){n[n.Uninitialized=0]="Uninitialized";n[n.Initializing=1]="Initializing";n[n.FetchingDependencies=2]="FetchingDependencies";n[n.Initialized=3]="Initialized"}(y=t.ArtifactInputState||(t.ArtifactInputState={})),function(n){n[n.TfGitBranchFilter=0]="TfGitBranchFilter";n[n.Combo=1]="Combo";n[n.Text=2]="Text";n[n.None=3]="None"}(p=t.BranchInputType||(t.BranchInputType={}))});

define("PipelineWorkflow/Scripts/Common/ArtifactUtility",["require","exports","ReleaseManagement/Core/Constants","PipelineWorkflow/Scripts/Editor/Common/Constants","PipelineWorkflow/Scripts/Editor/Common/Constants","PipelineWorkflow/Scripts/Common/Types","DistributedTaskControls/Common/Common","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.ArtifactUtility=void 0;var h=function(){function n(){}return n.getArtifactInputFieldsInUniqueSourceIdentifier=function(n){if(!n)return[];var i=new RegExp("{{(.*?)}}","g"),r=new RegExp("{|}","g"),t=[];return n.match(i).map(function(n){t.push(n.replace(r,s.empty))}),t},n.getArtifactBowtieIcon=function(n){var t;switch(n){case i.ArtifactTypes.BuildArtifactType:t="bowtie-build";break;case i.ArtifactTypes.ExternalTfsBuildArtifactType:t="bowtie-external-build";break;case i.ArtifactTypes.ExternalTfsXamlBuildArtifactType:t="bowtie-external-xaml";break;case i.ArtifactTypes.GitArtifactType:t="bowtie-brand-git";break;case i.ArtifactTypes.GitHubArtifactType:case i.ArtifactTypes.GitHubEnterpriseArtifactType:t="bowtie-brand-github";break;case i.ArtifactTypes.JenkinsArtifactType:t="bowtie-brand-jenkins";break;case i.ArtifactTypes.NugetArtifactType:t="bowtie-brand-nuget";break;case i.ArtifactTypes.PackageManagementArtifactType:t="bowtie-package";break;case i.ArtifactTypes.TfsOnPremArtifactType:t="bowtie-brand-vsts";break;case i.ArtifactTypes.TfvcArtifactType:t="bowtie-brand-tfvc";break;default:t="bowtie-build"}return t},n.isDefinitionInput=function(n){return s.equals(n,f.PipelineArtifactDefinitionConstants.DefinitionId,!0)||s.equals(n,f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId,!0)},n.isMultiDefinitionType=function(n){return n&&n.hasOwnProperty(f.PipelineArtifactDefinitionConstants.IsMultiDefinitionType)&&s.equals(n[f.PipelineArtifactDefinitionConstants.IsMultiDefinitionType].id,"true",!0)?!0:!1},n.getDefinitionIds=function(n){if(n.hasOwnProperty(f.PipelineArtifactDefinitionConstants.IsMultiDefinitionType)&&s.equals(n[f.PipelineArtifactDefinitionConstants.IsMultiDefinitionType],"true",!0)&&n.hasOwnProperty(f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId)){var t=n[f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId];if(t)return t.split(f.PipelineArtifactDefinitionConstants.MultipleDefinitionIdsDelimiter).map(function(n){return parseInt(n)})}return[parseInt(n[f.PipelineArtifactDefinitionConstants.DefinitionId])]},n.getDefinitionIdOfArtifact=function(t){if(n.isMultiDefinitionType(t.definitionReference)&&t.definitionReference.hasOwnProperty(f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId)&&t.definitionReference[f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId]){var i=t.definitionReference[f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId].id;if(i)return i.split(f.PipelineArtifactDefinitionConstants.MultipleDefinitionIdsDelimiter).map(function(n){return n})[0]}return t.definitionReference[f.PipelineArtifactDefinitionConstants.DefinitionId].id},n.getDefinitionIdsFromArtifact=function(t){if(n.isMultiDefinitionType(t.definitionReference)&&t.definitionReference[f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId]){var i=t.definitionReference[f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId].id;if(i)return i.split(f.PipelineArtifactDefinitionConstants.MultipleDefinitionIdsDelimiter).map(function(n){return parseInt(n)})}return[parseInt(t.definitionReference[f.PipelineArtifactDefinitionConstants.DefinitionId].id)]},n.normalizeDefinitionInput=function(t){if(t&&t.definitionReference&&t.type===f.PipelineArtifactTypes.Build&&(t.definitionReference[f.PipelineArtifactDefinitionConstants.DefinitionId]&&t.definitionReference[f.PipelineArtifactDefinitionConstants.DefinitionId].name&&(t.definitionReference[f.PipelineArtifactDefinitionConstants.DefinitionId].name=n.removeFolderPathAndGetBuildDefinitionName(t.definitionReference[f.PipelineArtifactDefinitionConstants.DefinitionId].name)),t.definitionReference[f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId]&&t.definitionReference[f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId].name)){var i=t.definitionReference[f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId].name,r=i.split(f.PipelineArtifactDefinitionConstants.MultipleDefinitionIdsDelimiter).map(function(t){return n.removeFolderPathAndGetBuildDefinitionName(t)}).join(f.PipelineArtifactDefinitionConstants.MultipleDefinitionIdsDelimiter);t.definitionReference[f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId].name=r}},n.removeFolderPathAndGetBuildDefinitionName=function(n){var t=n?n.split(e.STRING_BACKSLASH):null;return t&&t.length>0?t[t.length-1]:n},n.isBranchSupportedForNonTfsGitBasedBuildDefinition=function(t){return t&&n.isBranchSupportedForNonTfsGitBasedBuildSource(t.repositoryType)},n.isBranchSupportedForNonTfsGitBasedBuildSource=function(n){return s.ignoreCaseComparer(n,r.WellKnownRepositoryTypes.GitHub)===0||s.ignoreCaseComparer(n,r.WellKnownRepositoryTypes.Bitbucket)===0||s.ignoreCaseComparer(n,r.WellKnownRepositoryTypes.GitHubEnterprise)===0||s.ignoreCaseComparer(n,r.WellKnownRepositoryTypes.Git)===0},n.getBuildBranchInputType=function(t){return s.ignoreCaseComparer(t,r.WellKnownRepositoryTypes.TfsGit)===0?r.BranchInputType.TfGitBranchFilter:s.ignoreCaseComparer(t,r.WellKnownRepositoryTypes.Git)===0?r.BranchInputType.Text:n.isBranchSupportedForNonTfsGitBasedBuildSource(t)?r.BranchInputType.Combo:r.BranchInputType.None},n.getArtifactVersionById=function(n,t){return!t||!n||n.length<1?null:o.first(n,function(n){return s.localeIgnoreCaseComparer(n.id,t)===0})},n.getArtifactVersionIdByName=function(n,t,i){var u=this,r;return!t||!n||n.length<1?null:(r=undefined,r=i?n.find(function(n){return s.localeIgnoreCaseComparer(u.getArtifactVersionDisplayValue(n),t)===0}):n.find(function(n){return s.localeIgnoreCaseComparer(n.name,t)===0}),r===undefined?undefined:r.id)},n.getArtifactVersionDisplayValue=function(n){return n?n.isMultiDefinitionType&&n.definitionName?s.localeFormat("{0} ({1})",n.name,n.definitionName):n.commitMessage?s.localeFormat("{0} ({1})",n.name,n.commitMessage):n.name:s.empty},n.getArtifactInputDisplayValue=function(n){return n?n.Data!=null&&n.Data.hasOwnProperty(i.BuildVersionConstants.CommitMessageKey)&&n.Data[i.BuildVersionConstants.CommitMessageKey]?s.format("{0} ({1})",n.Value,n.Data[i.BuildVersionConstants.CommitMessageKey]):n.Value:s.empty},n.getArtifactInputDisplayName=function(n){var t=!!n.data&&n.data[u.ArtifactsConstants.BuildDefinitionFolderPath]?n.data[u.ArtifactsConstants.BuildDefinitionFolderPath].substr(1):s.empty;return s.localeIgnoreCaseComparer(t,s.empty)===0||s.localeIgnoreCaseComparer(t,s.empty)!==0&&s.startsWith(n.displayValue,t,s.localeIgnoreCaseComparer)?n.displayValue:s.localeFormat("{0}{1}{2}",t,e.STRING_BACKSLASH,n.displayValue)},n}();t.ArtifactUtility=h});

define("PipelineWorkflow/Scripts/Common/Actions/ProgressIndicatorActionsCreator",["require","exports","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base","PipelineWorkflow/Scripts/Common/Actions/ProgressIndicatorActions","PipelineWorkflow/Scripts/Common/Constants"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.ProgressIndicatorActionsCreator=void 0;var e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return f.CommonActionsCreatorKeys.ActionsCreatorKey_ProgressIndicatorActionsCreator},t.prototype.initialize=function(n){this._actions=i.ActionsHubManager.GetActionsHub(u.ProgressIndicatorActions,n)},t.prototype.actionStarted=function(n){this._actions.actionStarted.invoke(n)},t.prototype.actionCompleted=function(n){this._actions.actionCompleted.invoke(n)},t}(r.ActionCreatorBase);t.ProgressIndicatorActionsCreator=e});

define("PipelineWorkflow/Scripts/Common/Actions/DialogActions",["require","exports","DistributedTaskControls/Common/Actions/Base","PipelineWorkflow/Scripts/Common/Constants","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.DialogActions=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._showDialog=new u.Action;this._closeDialog=new u.Action},t.getKey=function(){return r.CommonActionHubKeys.ActionHubKey_CommonDialogActionHub},Object.defineProperty(t.prototype,"showDialog",{get:function(){return this._showDialog},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"closeDialog",{get:function(){return this._closeDialog},enumerable:!1,configurable:!0}),t}(i.ActionsHubBase);t.DialogActions=f});

define("PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils",["require","exports","VSS/Context","VSS/Contributions/Services","VSS/Service","VSS/FeatureAvailability/Services","VSS/FeatureManagement/Services","VSS/Navigation/HubsService","PipelineWorkflow/Scripts/Common/Constants"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.FeatureFlagUtils=void 0;var h=function(){function n(){}return n.DeploymentAuthorization="ReleaseManagement.DeploymentAuthorization",n.AzureADSupportForIdentityPicker="WebAccess.ReleaseManagement.AzureADSupportForIdentityPicker",n.VariablesGridView="WebAccess.ReleaseManagement.VariablesGridView",n.NewCreateReleaseWorkflow="WebAccess.ReleaseManagement.NewCreateReleaseWorkflow",n.MarketplaceExtensionSupport="WebAccess.ReleaseManagement.MarketplaceExtensionSupport",n.ReleaseProgressFirstRunHelpLink="WebAccess.ReleaseManagement.ReleaseProgressFirstRunHelpLink",n.JiraWorkItemsIntegration="WebAccess.ReleaseManagement.JiraWorkItemsIntegration",n.ShowEditInOldEditor="WebAccess.ReleaseManagement.ShowEditInOldEditor",n.BuildArtifactTasks="VisualStudio.ReleaseManagement.BuildArtifactsTasks",n.NewCDReleaseViewOptInToggle="WebAccess.ReleaseManagement.NewCDReleaseViewOptInToggle",n.ReportingAbortedRuns="TestManagement.Server.ReportingAbortedRuns",n.DevOpsReporting="WebAccess.ReleaseManagement.DevOpsReporting",n.LoadAllDefinitionsUsingLwp="WebAccess.ReleaseManagement.LWP.AllDefinitions",n.AllowRedeployAndCancelForQueueReleasesPermission="WebAccess.ReleaseManagement.ReleasesHub.AllowRedeployAndCancelForQueueReleasesPermission",n.ShowViewInOldReleaseView="WebAccess.ReleaseManagement.ShowViewInOldReleaseView",n.DisableFastHubSwitch="WebAccess.ReleaseManagement.DisableFastHubSwitch",n.EnableNewRouteForLogsApi="WebAccess.ReleaseManagement.EnableNewRouteForLogApis",n.CDReleaseProgressViewDisableFastHubSwitch="WebAccess.ReleaseManagement.CDReleaseProgressViewDisableFastHubSwitch",n.HidePermissionWarning="WebAccess.ReleaseManagement.HidePermissionWarning",n.ShowReleaseProgressCanvasZoomOptions="WebAccess.ReleaseManagement.ShowReleaseProgressCanvasZoomOptions",n.DonotSanitizeInputForMDFile="WebAccess.ReleaseManagement.DonotSanitizeInputForMDFile",n.YamlHub="WebAccess.ReleaseManagement.YamlHub",n.EnableFetchingFlightAssignments="WebAccess.ReleaseManagement.FlightAssignments",n.DefaultToLatestArtifactVersion="VisualStudio.ReleaseManagement.DefaultToLatestArtifactVersion",n.EnableArtifactMultiDefinitionTypes="WebAccess.ReleaseManagement.EnableArtifactMultiDefinitionTypes",n.PhaseOutputVariablesGroup="WebAccess.ReleaseManagement.EnablePhaseOutputVariablesGroup",n.EnableGitHubDataSourcesForGitHubArtifact="AzureDevOps.ReleaseManagement.EnableGitHubDataSourcesForGitHubArtifact",n.CreateReleaseDataProvider="WebAccess.ReleaseManagement.CreateReleaseDataProvider",n.HideCreateDraftRelease="WebAccess.ReleaseManagement.HideCreateDraftRelease",n.EnableArtifactVersionPicker="AzureDevOps.ReleaseManagement.EnableArtifactVersionPicker",n.DelayPhaseListStoreInit="WebAccess.ReleaseManagement.DelayPhaseListStoreInit",n.CancelPriorScheduledReleasesOnManualDeploy="AzureDevOps.ReleaseManagement.CancelPriorScheduledReleasesOnManualDeploy",n.RemoveLiveLogsLimit="WebAccess.ReleaseManagement.RemoveLiveLogsLimit",n}(),c=function(){function n(){}return n.NewReleaseView="ms.vss-releaseManagement-web.new-release-view-feature",n.SelectiveArtifactsDownloadView="ms.vss-releaseManagement-web.selective-artifacts-download-feature",n}(),l=function(){function n(){}return n.NewReleaseViewFeatureDataProvider="ms.vss-releaseManagement-web.new-release-viewer-feature-state-data-provider",n}(),a=function(){function n(){}return n.isAllowRedeployAndCancelForQueueReleasesPermissionEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.AllowRedeployAndCancelForQueueReleasesPermission,!1)},n.isOldReleasesHubEnabled=function(){var n=u.getLocalService(o.HubsService).getHubById(s.NavigationConstants.ReleaseManagementExplorerHubId);return n?!0:!1},n.isNewReleasesHubEnabled=function(){var n=u.getLocalService(o.HubsService).getHubById(s.NavigationConstants.ReleaseManagementExplorer2HubId);return n?!0:!1},n.isAzureADSupportForIdentityPickerFeatureEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.AzureADSupportForIdentityPicker,!1)},n.isDeploymentAuthorizationEnabled=function(){return n.isHostedAADAccount()&&f.FeatureAvailabilityService.isFeatureEnabled(h.DeploymentAuthorization,!1)},n.isDistributedTaskRevalidateIdentityFeatureEnabled=function(){return n.isHostedAADAccount()},n.isFastHubSwitchDisabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.DisableFastHubSwitch,!1)},n.isNewCreateReleaseWorkflowEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.NewCreateReleaseWorkflow,!1)},n.isMarketplaceExtensionSupportEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.MarketplaceExtensionSupport,!1)},n.isReleaseProgressFirstRunHelpLinkEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.ReleaseProgressFirstRunHelpLink,!1)},n.isJiraWorkItemsIntegrationEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.JiraWorkItemsIntegration,!1)},n.isDevOpsReportingEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.DevOpsReporting,!1)},n.isHostedAADAccount=function(){return i.getDefaultWebContext().host&&i.getDefaultWebContext().host.isAADAccount&&i.getPageContext().webAccessConfiguration.isHosted},n.isShowEditInOldEditorEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.ShowEditInOldEditor,!1)},n.isNewReleaseViewEnabled=function(){var n=u.getService(r.WebPageDataService).getPageData(l.NewReleaseViewFeatureDataProvider);return!!n&&n.value},n.isAbortedRunsFeatureFlagEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.ReportingAbortedRuns,!1)},n.loadAllDefinitionsUsingLwp=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.LoadAllDefinitionsUsingLwp,!1)},n.isBuildArtifactTasksEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.BuildArtifactTasks,!1)},n.isSelectiveArtifactsEnabled=function(){return n.isBuildArtifactTasksEnabled()?!0:u.getService(e.FeatureManagementService).isFeatureEnabled(c.SelectiveArtifactsDownloadView)},n.isShowViewInOldReleaseViewEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.ShowViewInOldReleaseView,!1)},n.enableNewRouteForLogApis=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.EnableNewRouteForLogsApi,!1)},n.isNewReleaseProgressFastHubSwitchDisabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.CDReleaseProgressViewDisableFastHubSwitch,!1)},n.isOverrideSecurityPermissionEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.HidePermissionWarning,!1)},n.isVerticalNavigationOn=function(){return!0},n.isShowReleaseProgressCanvasZoomOptionsEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.ShowReleaseProgressCanvasZoomOptions,!1)},n.isDonotSanitizeInputForMDFileEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.DonotSanitizeInputForMDFile,!1)},n.isFlightAssignmentsFetchingEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.EnableFetchingFlightAssignments,!1)},n.isYamlHubEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.YamlHub,!1)},n.isGithubDataSourcesEnabledForGitHubArtifact=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.EnableGitHubDataSourcesForGitHubArtifact,!1)},n.isDefaultToLatestArtifactVersionEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.DefaultToLatestArtifactVersion,!1)},n.areArtifactMultiDefinitionTypesEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.EnableArtifactMultiDefinitionTypes,!1)},n.isPhaseOutputVariableGroupEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.PhaseOutputVariablesGroup,!1)},n.isCreateReleaseDataProviderEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.CreateReleaseDataProvider,!1)},n.isHideCreateDraftReleaseEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.HideCreateDraftRelease,!1)},n.isArtifactVersionPickerEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.EnableArtifactVersionPicker,!1)},n.isDelayPhaseListStoreInitEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.DelayPhaseListStoreInit,!1)},n.CancelPriorScheduledReleasesOnManualDeploy=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.CancelPriorScheduledReleasesOnManualDeploy,!1)},n.isRemoveLiveLogsLimitEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.RemoveLiveLogsLimit,!1)},n}();t.FeatureFlagUtils=a});

define("PipelineWorkflow/Scripts/Common/TelemetryHelper",["require","exports","VSS/Context","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Variables/Common/Constants","PipelineWorkflow/Scripts/Common/Types","PipelineWorkflow/Scripts/Common/Constants"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.TelemetryHelper=void 0;var o=function(){function n(){}return n.publishEditDefinitionTelemetry=function(n){var l=this,t={},h,c;if(n){if(n.environments){t[r.Properties.EnvironmentCount]=n.environments.length;var i=0,u=0,e=0,o=0,s=0;t[r.Properties.OverridableEnvironmentVariables]=0;t[r.Properties.OverridableReleaseVariables]=0;n.environments.forEach(function(n){n.processParameters&&n.processParameters.inputs&&(e+=n.processParameters.inputs.length);n.variables&&(u+=Object.keys(n.variables).length,t[r.Properties.OverridableEnvironmentVariables]+=l._getOverridableVariablesCount(n.variables));n.deployPhases&&(i+=n.deployPhases.length,n.deployPhases.forEach(function(n){if(n.workflowTasks&&(o+=n.workflowTasks.length),n.phaseType===f.PipelineDeployPhaseTypes.AgentBasedDeployment){var t=n;s+=t.deploymentInput.demands?t.deploymentInput.demands.length:0}}))});t[r.Properties.ProcessParameterCount]=e;t[r.Properties.EnvironmentVariablesCount]=u;t[r.Properties.PhasesCount]=i;t[r.Properties.TasksCount]=o;t[r.Properties.CustomDemandsCount]=s}n.artifacts&&(h=this._processArtifactsSource(n.artifacts),t[r.Properties.ArtifactSourceTypes]=h);n.triggers&&(c=this._processTriggers(n.triggers),t[r.Properties.TriggersInfo]=c);n.variables&&(t[r.Properties.ReleaseVariablesCount]=Object.keys(n.variables).length,t[r.Properties.OverridableReleaseVariables]=this._getOverridableVariablesCount(n.variables));n.variableGroups&&(t[r.Properties.VariableGroupCount]=n.variableGroups.length);t[r.Properties.ReleaseDefinitionId]=n.id}r.Telemetry.instance().publishEvent(r.Feature.EditReleaseDefinition,t)},n.publishReleaseTimeVariablesTelemetry=function(n,t){var f=this,i={};i[r.Properties.ReleaseDefinitionId]=n.id;i[r.Properties.OverridableReleaseVariables]=this._getOverridableVariablesCount(n.variables);i[r.Properties.OverridableEnvironmentVariables]=0;i[r.Properties.OverridenReleaseVariables]=0;i[r.Properties.OverridenEnvironmentVariables]=0;n.environments.forEach(function(n){i[r.Properties.OverridableEnvironmentVariables]+=f._getOverridableVariablesCount(n.variables)});(t||[]).forEach(function(t){f._isVariableValueModified(n,t)&&(t.variable.scope.key===u.VariableConstants.DefaultScopeKey?i[r.Properties.OverridenReleaseVariables]++:i[r.Properties.OverridenEnvironmentVariables]++)});r.Telemetry.instance().publishEvent(r.Feature.SettableAtReleaseTime,i)},n.getServiceInstanceIdForTelemetry=function(){var n=i.getPageContext().webAccessConfiguration.isHosted;return n?e.CommonConstants.ReleaseManagementServiceInstanceId:undefined},n._isVariableValueModified=function(n,t){var i=this._getVariablesOfAScope(n,t.variable.scope.key);return i&&i[t.name]&&i[t.name].value!==t.variable.value?!0:!1},n._getVariablesOfAScope=function(n,t){if(t===u.VariableConstants.DefaultScopeKey)return n.variables;var i=n.environments.find(function(n){return n.id===t});return!i?null:i.variables},n._getOverridableVariablesCount=function(n){var t=0;return n?(Object.keys(n).forEach(function(i){n[i].allowOverride&&t++}),t):t},n._processArtifactsSource=function(n){var t={};return n.forEach(function(n){var i=n.type;t[i]?t[i]+=1:t[i]=1}),JSON.stringify(t)},n._processTriggers=function(n){var t={};return n.forEach(function(n){var i=n.triggerType.toString();t[i]?t[i]+=1:t[i]=1}),JSON.stringify(t)},n}();t.TelemetryHelper=o});

define("DistributedTaskControls/Sources/VariableGroupSource",["require","exports","DistributedTaskControls/Common/Sources/SourceBase","DistributedTaskControls/Common/Sources/SourceManager","TFS/DistributedTask/TaskAgentRestClient","VSS/Context","VSS/Service"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.VariableGroupSource=void 0;var o=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._dtAgentClient=e.getCollectionClient(u.TaskAgentHttpClient),t}return __extends(t,n),t.getKey=function(){return"VariableGroupSource"},t.prototype.beginGetVariableGroups=function(n,t){var i=f.getDefaultWebContext().project.id;return this._dtAgentClient.getVariableGroups(i,n,t)},t.prototype.beginGetVariableGroupsByIds=function(n){var t=f.getDefaultWebContext().project.id;return this._dtAgentClient.getVariableGroupsById(t,n)},t.instance=function(){return r.SourceManager.getSource(t)},t}(i.SourceBase);t.VariableGroupSource=o});

define("PipelineWorkflow/Scripts/Shared/Utils/VariablesUtils",["require","exports","DistributedTaskControls/Variables/Common/Constants","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.VariablesUtils=void 0;var u=function(){function n(){}return n.getProcessVariables=function(t,i){var u=[],r=t.variables||{};return Object.keys(r).forEach(function(t){var f={name:t,variable:{value:r[t].value,isSecret:r[t].isSecret,allowOverride:r[t].allowOverride,scope:n._getDefaultScope(),hasSecretValueBeenReset:!!r[t].isSecret&&!!i}};u.push(f)}),(t.environments||[]).forEach(function(n){var t=n.variables||{};Object.keys(t).forEach(function(r){var f={name:r,variable:{value:t[r].value,isSecret:t[r].isSecret,allowOverride:t[r].allowOverride,scope:{key:n.scopeKey,value:n.name},hasSecretValueBeenReset:!!t[r].isSecret&&!!i}};u.push(f)})}),u},n.getVariablesInScope=function(n,t){var i={};return(n||[]).forEach(function(n){n.variable.scope.key===t&&(!n.name||(i[n.name]=n.variable))}),i},n.getVariableGroupReferences=function(t){var r=this,i=[];return(t.variableGroups||[]).forEach(function(t){var u=r._getVariableGroupId(t),f={groupId:u,scope:n._getDefaultScope()};i.push(f)}),(t.environments||[]).forEach(function(n){(n.variableGroups||[]).forEach(function(t){var u=r._getVariableGroupId(t),f={groupId:u,scope:{key:n.id,value:n.name}};i.push(f)})}),i},n.getScopes=function(t){var i=[],r;return i.push(n._getDefaultScope()),t&&t.length>0&&(r=t.map(function(n){return{key:n.scopeKey,value:n.name}}),i=i.concat(r)),i},n._getVariableGroupId=function(n){if(n!==undefined&&n!==null)return typeof n=="number"?n:n.id},n._getDefaultScope=function(){return{key:i.VariableConstants.DefaultScopeKey,value:r.ReleaseText,isDefault:!0}},n}();t.VariablesUtils=u});

define("PipelineWorkflow/Scripts/SharedComponents/Security/PermissionService",["require","exports","q","DistributedTaskControls/Common/Factory","PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils","VSS/VSS"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.PermissionService=void 0;var e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.hasPermission=function(n,t){var r=this;return u.FeatureFlagUtils.isOverrideSecurityPermissionEnabled()?i.resolve(!0):this._ensurePermissionManager().then(function(){return r._permissionManager.hasPermission(n,t)})},t.prototype.listPermissions=function(n,t){var f=this,r;return u.FeatureFlagUtils.isOverrideSecurityPermissionEnabled()?(r=(n||[]).map(function(){return!0}),i.resolve(r||[])):this._ensurePermissionManager().then(function(){return f._permissionManager.listPermissions(n,t)})},t.prototype.getPermissionsBatch=function(n){var f=this,t,r;return u.FeatureFlagUtils.isOverrideSecurityPermissionEnabled()?(t=!!n&&!!n.evaluations?n.evaluations:[],r=t.map(function(n){return __assign(__assign({},n),{value:!0})}),i.resolve(r)):this._ensurePermissionManager().then(function(){return f._permissionManager.getPermissionsBatch(n)})},t.prototype._ensurePermissionManager=function(){var t=this,n=i.defer();return f.using(["ReleasePipeline/Scripts/TFS.ReleaseManagement.Manager"],function(i){t._permissionManager||(t._permissionManager=new i.PermissionsManager);n.resolve(null)},function(t){return n.reject(t)}),n.promise},t.instance=function(){return n.getInstance.call(this,t)},t}(r.Singleton);t.PermissionService=e});

define("PipelineWorkflow/Scripts/Definitions/Constants",["require","exports"],function(n,t){var r,u,f,e,o,s,h,c,l,a,v,y,p,i,w,b,k,d;Object.defineProperty(t,"__esModule",{value:!0});t.DefinitionsHubViewOptionKeys=t.ReleasesViewCanvasConstants=t.ActiveDefinitionsUrlParameterKeys=t.Links=t.AllDefinitionsFavoriteConstants=t.MessageBarParentKeyConstants=t.ActiveDefinitionsConstants=t.ActiveReleaseColumnKeys=t.ActiveDefinitionsContentKeys=t.ActiveReleasesMenuItemKeys=t.AllDefinitionsContentKeys=t.SessionStorageKeys=t.ReleasesHubDataProviderKeys=t.ReleasesHubContributionIds=t.DefinitionsStoreKeys=t.DefinitionsActionHubKeys=t.DefinitionsActionsCreatorKeys=t.DefinitionsHubKeys=void 0,function(n){n.MinePivotItemKey="mine";n.AllDefinitionsPivotItemKey="all";n.AllDefinitionsSearchKey="search-all-definitions"}(r=t.DefinitionsHubKeys||(t.DefinitionsHubKeys={})),function(n){n.ActionCreatorKey_DefinitionsActionsCreator="ACTION_CREATOR_KEY_DEFINITIONS_ACTION_CREATOR";n.ActionCreatorKey_ActiveDefinitionsActionsCreator="ACTION_CREATOR_KEY_ACTIVE_DEFINITIONS_ACTION_CREATOR";n.ActionCreatorKey_FolderDialogActionsCreator="ACTION_CREATOR_KEY_FOLDER_DIALOG_ACTION_CREATOR";n.ActionCreatorKey_FolderPickerActionsCreator="ACTION_CREATOR_KEY_FOLDER_PICKER_ACTION_CREATOR";n.ActionCreatorKey_FavoritesActionsCreator="ACTION_CREATOR_KEY_FAVORITES_ACTION_CREATOR";n.ActionCreatorKey_ActiveReleasesActionCreator="ACTION_CREATOR_KEY_ACTIVE_RELEASES_ACTION_CREATOR";n.ActionCreatorKey_DashboardsActionCreator="ACTION_CREATOR_KEY_DASHBOARDS_ACTION_CREATOR"}(u=t.DefinitionsActionsCreatorKeys||(t.DefinitionsActionsCreatorKeys={})),function(n){n.ActionHubKey_DefinitionsActionHub="ACTION_HUB_KEY_DEFINITIONS_ACTION_HUB";n.ActionHubKey_FolderDialogActionHub="ACTION_HUB_KEY_FOLDER_DIALOG_ACTION_HUB";n.ActionHubKey_FolderPickerActionHub="ACTION_HUB_KEY_FOLDER_PICKER_ACTION_HUB";n.ActionHubKey_FavoritesActionHub="ACTION_HUB_KEY_FAVORITES_ACTION_HUB";n.ActionHubKey_ActiveDefinitionsActionHub="ACTION_HUB_KEY_ACTIVE_DEFINITIONS_ACTION_HUB";n.ActionHubKey_CommonDefinitionsActionHub="ACTION_HUB_KEY_COMMON_DEFINITIONS_ACTION_HUB";n.ActionHubKey_ActiveReleasesActionsHub="ACTION_HUB_KEY_ACTIVE_RELEASES_ACTIONS_HUB";n.ActionHubKey_DashboardsActionsHub="ACTION_HUB_KEY_DASHBOARDS_ACTIONS_HUB"}(f=t.DefinitionsActionHubKeys||(t.DefinitionsActionHubKeys={})),function(n){n.StoreKey_DefinitionsStoreKey="STORE_KEY_DEFINITIONS_STORE";n.StoreKey_FoldersStoreKey="STORE_KEY_FOLDERS_STORE";n.StoreKey_DefinitionsHubStoreKey="STORE_KEY_DEFINITIONS_HUB_STORE";n.StoreKey_DefinitionsViewStoreKey="STORE_KEY_DEFINITIONS_VIEW_STORE";n.StoreKey_ActiveDefinitionsStoreKey="STORE_KEY_ACTIVE_DEFINITIONS_STORE";n.StoreKey_FolderDialogStoreKey="STORE_KEY_FOLDER_DIALOG_STORE";n.StoreKey_FolderPickerStoreKey="STORE_KEY_FOLDER_PICKER_STORE";n.StoreKey_FavoriteDefinitionsStoreKey="STORE_KEY_FAVORITE_DEFINITIONS_STORE";n.StoreKey_CommonDefinitionsStoreKey="STORE_KEY_COMMON_DEFINITIONS_STORE";n.StoreKey_ActiveReleasesStoreKey="STORE_KEY_ACTIVE_RELEASES_STORE";n.StoreKey_DashboardsStoreKey="STORE_KEY_DASHBOARDS_STORE";n.StoreKey_ActiveReleasesFilterStoreKey="STORE_KEY_ACTIVE_RELEASES_FILTER_STORE";n.StoreKey_ActiveReleasesBranchFilterStoreKey="STORE_KEY_ACTIVE_RELEASES_BRANCH_FILTER_STORE";n.StoreKey_ActiveReleaseApprovalsStoreKey="STORE_KEY_ACTIVE_RELEASE_APPROVAL_STORE"}(e=t.DefinitionsStoreKeys||(t.DefinitionsStoreKeys={})),function(n){n.RELEASES_CD_WORKFLOW_HUB_ID="ms.vss-releaseManagement-web.cd-workflow-hub"}(o=t.ReleasesHubContributionIds||(t.ReleasesHubContributionIds={})),function(n){n.RELEASES_HUB_DATA_PROVIDER_ID="ms.vss-releaseManagement-web.hub-explorer-2-data-provider";n.ACTIVE_DEFINITIONS_DATA_PROVIDER="ms.vss-releaseManagement-web.active-definitions-data-provider";n.ACTIVE_RELEASES_DATA_PROVIDER="ms.vss-releaseManagement-web.active-releases-data-provider"}(s=t.ReleasesHubDataProviderKeys||(t.ReleasesHubDataProviderKeys={})),function(n){n.ImportReleaseDefinitionStorageSessionKey="microsoft.vsts.releasemanagement.importedDefinition"}(h=t.SessionStorageKeys||(t.SessionStorageKeys={})),function(n){n.DefinitionsLatestReleaseColumnHeaderKey="lastRelease";n.DefinitionsPathColumnHeaderKey="path";n.DefinitionsFavoritesColumnHeaderKey="favorites";n.DefinitionsAnalysisColumnHeaderKey="analysis";n.CreateReleaseMenuOptionKey="createRelease";n.DraftReleaseMenuOptionKey="draftRelease";n.EditMenuOptionKey="edit";n.RenameMenuOptionKey="rename";n.DeleteRdMenuOptionKey="deleteRd";n.CloneMenuOptionKey="clone";n.ExportMenuOptionKey="export";n.AddToDashboardMenuOptionKey="addToDashboard";n.MoveMenuOptionKey="moveToFolder";n.SecurityMenuOptionKey="security";n.MenuDividerKey_1="divider_1";n.MenuDividerKey_2="divider_2";n.MenuDividerKey_3="divider_3";n.PathSeparator="\\";n.SecurityTokenSeparator="/";n.PinToDashboardSubMenuKey="dashboardEntry";n.RenameDefinitionMenuOptionKey="renameDefinition";n.CreateDefinitionMenuOptionKey="createdefinition";n.CreateFolderMenuOptionKey="createFolder";n.RenameFolderMenuOptionKey="renameFolder";n.DeleteFolderMenuOptionKey="deleteFolder";n.DefinitionsActionsInstanceId="definitions-actions-instance-id"}(c=t.AllDefinitionsContentKeys||(t.AllDefinitionsContentKeys={})),function(n){n.OpenMenuItemKey="open-release-menu-item";n.OpenInNewTabMenuItemKey="open-newtab-release-menu-item";n.StartMenuItemKey="start-release-menu-item";n.RetainReleaseMenuItemKey="retain-release-menu-item";n.AbandonReleaseMenuItemKey="abandon-release-menu-item";n.DeleteReleaseMenuItemKey="delete-release-menu-item";n.UndeleteReleaseMenuItemKey="undelete-release-menu-item"}(l=t.ActiveReleasesMenuItemKeys||(t.ActiveReleasesMenuItemKeys={})),function(n){n.ActiveDefinitionsSearchKey="search-all-definitions-for-mine-page";n.ActiveReleasesFilterKey="active-releases-filter-view-action";n.ActiveReleasesSearchKey="search-active-releases";n.ActiveReleasesAllReleasesActionKey="active-releases-all-rel-viewaction"}(a=t.ActiveDefinitionsContentKeys||(t.ActiveDefinitionsContentKeys={})),function(n){n.ActiveReleaseNameKey="active-release-name-column";n.ActiveReleaseEnvironmentsKey="active-release-environments-column";n.ActiveReleaseCreatedKey="active-release-created-column";n.ActiveReleaseDescriptionKey="active-release-description-column"}(v=t.ActiveReleaseColumnKeys||(t.ActiveReleaseColumnKeys={})),function(n){n.ActiveDefinitionDetailsInstanceId="active-definitions-details"}(y=t.ActiveDefinitionsConstants||(t.ActiveDefinitionsConstants={})),function(n){n.DefinitionsHubSuccessMessageBarKey="definitions-hub-success-messagebar-key";n.DefinitionsHubErrorMessageBarKey="definitions-hub-error-messagebar-key";n.ActiveReleasesWarningMessageBarKey="active-releases-warning-messagebar-key"}(p=t.MessageBarParentKeyConstants||(t.MessageBarParentKeyConstants={}));i=function(){function n(){}return n.FavoriteType="Microsoft.TeamFoundation.ReleaseManagement.DefinitionEntry",n.FavoriteArtifactScope="Project",n}();t.AllDefinitionsFavoriteConstants=i,function(n){n.GettingStartedLink="https://aka.ms/rmhelp";n.SetupTriggersLink="https://docs.microsoft.com/en-us/vsts/pipelines/release/triggers?view=vsts"}(w=t.Links||(t.Links={})),function(n){n.Branch="branch";n.State="state"}(b=t.ActiveDefinitionsUrlParameterKeys||(t.ActiveDefinitionsUrlParameterKeys={})),function(n){n.EnvironmentNodeHeight=24;n.EnvironmentNodeWidthLarge=108;n.EnvironmentNodeWidthSmall=30}(k=t.ReleasesViewCanvasConstants||(t.ReleasesViewCanvasConstants={})),function(n){n.AllReleases="all-releases-view-option-key";n.CurrentlyDeployed="currently-deployed-view-option-key"}(d=t.DefinitionsHubViewOptionKeys||(t.DefinitionsHubViewOptionKeys={}))});

define("PipelineWorkflow/Scripts/Definitions/Utils/FolderUtils",["require","exports","PipelineWorkflow/Scripts/Definitions/Constants","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f){function o(n,t){t===void 0&&(t=300);var i,r;return function(u,f){i&&(clearTimeout(i),r&&r.resolve({isCanceled:!0}));r=f;i=setTimeout(function(){i=null;r=null;n(u,f)},t)}}Object.defineProperty(t,"__esModule",{value:!0});t.ensureSingleDelayedCall=t.FolderUtils=void 0;var e=function(){function n(){}return n.getFolderNameWithPath=function(n,t){var r=n?n:f.empty;return r+(f.localeIgnoreCaseComparer(n,i.AllDefinitionsContentKeys.PathSeparator)===0?t:i.AllDefinitionsContentKeys.PathSeparator+t)},n.getFolderName=function(n){if(!!n){var t=n.split(i.AllDefinitionsContentKeys.PathSeparator);return t[t.length-1]}return f.empty},n.getFolderDisplayName=function(t){return n.isRootPath(t)?r.AllDefinitionsText:t},n.isRootPath=function(n){return n?f.equals(n,i.AllDefinitionsContentKeys.PathSeparator,!0)?!0:!1:!0},n.isExistingFolderPath=function(t,i){return!!t&&(n.isRootPath(t)||u.findIndex(i,function(n){return f.equals(t,n.path,!0)})>=0)},n.createNewChildPathForUpdatedParentFolderPath=function(n,t,r){var e=n.split(i.AllDefinitionsContentKeys.PathSeparator),o=r.split(i.AllDefinitionsContentKeys.PathSeparator),h=o.slice(0,e.length),s,u;return f.ignoreCaseComparer(JSON.stringify(h),JSON.stringify(e))===0?t?(s=o.slice(e.length,o.length),u=t,s.length>0&&(u=u+i.AllDefinitionsContentKeys.PathSeparator+s.join(i.AllDefinitionsContentKeys.PathSeparator)),u):n:f.empty},n}();t.FolderUtils=e;t.ensureSingleDelayedCall=o});

define("PipelineWorkflow/Scripts/Editor/Common/SecurityUtils",["require","exports","DistributedTaskControls/Common/JQueryWrapper","PipelineWorkflow/Scripts/Definitions/Constants","PipelineWorkflow/Scripts/Common/Constants","PipelineWorkflow/Scripts/Definitions/Utils/FolderUtils","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","VSS/Context","VSS/SDK/Shim","VSS/Utils/String","VSS/VSS","VSS/Context"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});t.SecurityUtils=void 0;var a=function(){function n(){}return n.openFolderSecurityDialog=function(t){var i=n.createFolderPathSecurityToken(t),r={resourceName:f.FolderUtils.getFolderDisplayName(t),token:i,projectId:l.getDefaultWebContext().project.id,permissionSet:u.CommonConstants.SecurityNameSpaceIdForReleaseManagement};c.using(["ReleasePipeline/Scripts/TFS.ReleaseManagement.SecurityDialog"],function(n){return n.SecurityHelper.showSecurityDialog(r)})},n.openDefinitionSecurityDialog=function(t,i,r){var f=n.createDefinitionSecurityToken(r,t),e={resourceName:i,token:f,projectId:l.getDefaultWebContext().project.id,permissionSet:u.CommonConstants.SecurityNameSpaceIdForReleaseManagement};c.using(["ReleasePipeline/Scripts/TFS.ReleaseManagement.SecurityDialog"],function(n){return n.SecurityHelper.showSecurityDialog(e)})},n.showSecurityDialog=function(t,i,r,u){var f=o.getDefaultWebContext(),s=f?f.project.id:null,c=n.createEnvironmentSecurityToken(t,i,r),l,a;s&&(l=s+(c?n._separator+c:h.empty),a={useApiUrl:!0,permissionSet:n._permissionSet,token:l,tokenDisplayValue:u},n._showExternalSecurityDialog({params:a,title:h.localeFormat(e.SecurityDialogPermissionText,u)}))},n.getCompleteSecurityToken=function(n){var t=l.getDefaultWebContext();return n?h.format(this._completeSecurityTokenFormat,t.project.id,n):t.project.id},n.getCompleteSecurityTokenForDefinition=function(t,i){return n.getCompleteSecurityToken(n.createDefinitionSecurityToken(t,i))},n.createCompleteDefinitionSecurityToken=function(t,i,r){return h.format(this._completeSecurityTokenFormat,t,n.createDefinitionSecurityToken(i,r))},n.createCompleteEnvironmentSecurityToken=function(t,i,r,u){return h.format(this._completeSecurityTokenFormat,t,n.createEnvironmentSecurityToken(i,r,u))},n.createFolderPathSecurityToken=function(t){if(f.FolderUtils.isRootPath(t))return h.empty;var i=h.startsWith(t,r.AllDefinitionsContentKeys.PathSeparator,h.ignoreCaseComparer)?t.substring(1):t;return i.split(r.AllDefinitionsContentKeys.PathSeparator).join(n._separator)},n.createDefinitionSecurityToken=function(t,i){return f.FolderUtils.isRootPath(t)?i.toString():n.createFolderPathSecurityToken(t)+n._separator+i},n.createEnvironmentSecurityToken=function(t,i,r){return h.format(n._environmentSecurityTokenFormat,n.createDefinitionSecurityToken(t,i),r)},n._showExternalSecurityDialog=function(t){s.VSS.getService(n._dialogServiceId).then(function(r){var u={width:800,height:650,title:t.title,resizable:!0,modal:!0,cssClass:"admin-dialog external-admin-dialog external-dialog",cancelText:e.CancelText},f=i.JQueryWrapper.extend({style:"minControl"},t.params);r.openDialog(n._securityControlContributionId,u,f)})},n._permissionSet="c788c23e-1b46-4162-8f5e-d7585343b5de",n._separator="/",n._environmentSecurityTokenFormat="{0}/Environment/{1}",n._completeSecurityTokenFormat="{0}/{1}",n._dialogServiceId="ms.vss-web.dialog-service",n._securityControlContributionId="ms.vss-admin-web.security-control",n}();t.SecurityUtils=a});

define("PipelineWorkflow/Scripts/SharedComponents/Security/PermissionHelper",["require","exports","q","PipelineWorkflow/Scripts/SharedComponents/Security/PermissionService","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","PipelineWorkflow/Scripts/Common/Constants","PipelineWorkflow/Scripts/Editor/Common/SecurityUtils","PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils","VSS/Context","VSS/Contributions/LocalPageData","VSS/Service","VSS/Security/Services","VSS/User/Services","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){Object.defineProperty(t,"__esModule",{value:!0});t.PermissionHelper=void 0;var y=function(){function n(){}return n.createEditReleaseDefinitionSecurityProps=function(n,t){return!!n&&t>0?{securityToken:e.SecurityUtils.createDefinitionSecurityToken(n,t),permission:u.ReleaseManagementSecurityPermissions.EditReleaseDefinition}:null},n.createEditEnvironmentSecurityProps=function(n,t,i){return!!n&&t>0&&i>0?{securityToken:e.SecurityUtils.createEnvironmentSecurityToken(n,t,i),permission:u.ReleaseManagementSecurityPermissions.EditReleaseEnvironment}:null},n.createEditEnvironmentOverrideSecurityProps=function(n,t){var i=this.createEditReleaseDefinitionSecurityProps(n,t);return i?[i]:[]},n.createEditEnvironmentOverrideSecurityPropsForReleaseView=function(n,t){var i=this.createManageReleaseSecurityProps(n,t);return i?[i]:[]},n.createManageReleaseSecurityProps=function(n,t){return t>0?{securityToken:e.SecurityUtils.createDefinitionSecurityToken(n,t),permission:u.ReleaseManagementSecurityPermissions.ManageReleases}:null},n.createEditApprovalsSecurityProps=function(n,t,i){return t>0&&i>0?{securityToken:e.SecurityUtils.createEnvironmentSecurityToken(n,t,i),permission:u.ReleaseManagementSecurityPermissions.ManageReleaseApprovers}:null},n.createEditApprovalsOverrideSecurityProps=function(n,t,i,r){var u=[],e=r?this.createManageReleaseSecurityProps(n,t):this.createEditReleaseDefinitionSecurityProps(n,t),f;return e&&u.push(e),f=this.createEditEnvironmentSecurityProps(n,t,i),f&&u.push(f),u},n.hasDeleteEnvironmentPermission=function(n,t,i){return this._hasEnvironmentPermission(u.ReleaseManagementSecurityPermissions.DeleteReleaseEnvironment|u.ReleaseManagementSecurityPermissions.EditReleaseDefinition,n,t,i,!0)},n.hasEditDefinitionPermission=function(n,t){return this._hasReleaseDefinitionPermission(u.ReleaseManagementSecurityPermissions.EditReleaseDefinition,n,t,!0)},n.hasViewDefinitionPermission=function(n,t){return this._hasReleaseDefinitionPermission(u.ReleaseManagementSecurityPermissions.ViewReleaseDefinition,n,t,!0)},n.hasManageReleasePermission=function(n,t,i){var r=f.CommonConstants.SecurityNameSpaceIdForReleaseManagement.toLowerCase(),o=e.SecurityUtils.createCompleteDefinitionSecurityToken(i,n,t);return this._getPermissionsFromDataProvider(r,o,u.ReleaseManagementSecurityPermissions.ManageReleases)},n.hasAdministerReleasePermission=function(n,t,i,r){var o=f.CommonConstants.SecurityNameSpaceIdForReleaseManagement.toLowerCase(),s=e.SecurityUtils.createCompleteEnvironmentSecurityToken(i,n,t,r);return this._getPermissionsFromDataProvider(o,s,u.ReleaseManagementSecurityPermissions.AdministerReleasePermissions)},n.hasQueueReleasePermissions=function(n,t,i){var r=f.CommonConstants.SecurityNameSpaceIdForReleaseManagement.toLowerCase(),o=e.SecurityUtils.createCompleteDefinitionSecurityToken(i,n,t);return this._getPermissionsFromDataProvider(r,o,u.ReleaseManagementSecurityPermissions.QueueReleases)},n.hasManageDeploymentsPermissions=function(n,t,i,r){var o=f.CommonConstants.SecurityNameSpaceIdForReleaseManagement.toLowerCase(),s=e.SecurityUtils.createCompleteEnvironmentSecurityToken(i,n,t,r);return this._getPermissionsFromDataProvider(o,s,u.ReleaseManagementSecurityPermissions.ManageDeployments)},n.hasEditReleaseEnvironmentPermissions=function(n,t,i,r){var o=f.CommonConstants.SecurityNameSpaceIdForReleaseManagement.toLowerCase(),s=e.SecurityUtils.createCompleteEnvironmentSecurityToken(i,n,t,r);return this._getPermissionsFromDataProvider(o,s,u.ReleaseManagementSecurityPermissions.EditReleaseEnvironment)},n.hasManageReleaseApproversPermissions=function(n,t,i,r){var o=f.CommonConstants.SecurityNameSpaceIdForReleaseManagement.toLowerCase(),s=e.SecurityUtils.createCompleteEnvironmentSecurityToken(i,n,t,r);return this._getPermissionsFromDataProvider(o,s,u.ReleaseManagementSecurityPermissions.ManageReleaseApprovers)},n.hasViewReleaseTaskEditorPermission=function(){var n=c.getLocalService(l.SecurityService);return n.isPermissionIncluded(f.CommonConstants.SecurityNameSpaceIdForReleaseManagementUI,f.CommonConstants.ReleaseManagementUIPermissionToken)?n.hasPermission(f.CommonConstants.SecurityNameSpaceIdForReleaseManagementUI,f.CommonConstants.ReleaseManagementUIPermissionToken,u.ReleaseManagementUISecurityPermissions.ViewReleaseTaskEditor):!0},n.IsPublicOrAnonymousUser=function(){var n=c.getLocalService(l.SecurityService);return n.isPermissionIncluded(f.CommonConstants.SecurityNameSpaceIdForReleaseManagementUI,f.CommonConstants.ReleaseManagementUIPermissionToken)?!n.hasPermission(f.CommonConstants.SecurityNameSpaceIdForReleaseManagementUI,f.CommonConstants.ReleaseManagementUIPermissionToken,u.ReleaseManagementUISecurityPermissions.ViewCDWorkflowEditor):!1},n.hasViewReleaseHistoryPermission=function(){return this.hasViewReleaseTaskEditorPermission()},n.hasManageDeploymentsPermission=function(n,t,i){return this._hasEnvironmentPermission(u.ReleaseManagementSecurityPermissions.ManageDeployments,n,t,i,!1)},n.getPermissionCollectionKey=function(n,t){return v.format(this._permissionCollectionKeyFormat,n.toLowerCase(),t.toLowerCase())},n.fetchPermissions=function(n){var u=this,t,f;return!n||!n.evaluations||n.evaluations.length===0?i.resolve({}):(t={},f={alwaysAllowAdministrators:!1,evaluations:[]},this._segregateUncachedPermissions(n,t,f),r.PermissionService.instance().getPermissionsBatch(f).then(function(n){return u._updatePermissions(n,t),u._updatePermissions(n,u._permissionsCache),i.resolve(t)},function(){i.resolve({})}))},n.createDashBoardToken=function(n){var t=s.getDefaultWebContext();return v.format("$/{0}/{1}/{2}",t.project.id,n.ownerId,n.id)},n.canNavigateToOldReleaseUI=function(){return this._userHasClaim(a.UserClaims.Member)},n.canQueryWorkItemsAcrossProjects=function(){return this._userHasClaim(a.UserClaims.Member)},n.canShowFirstRunExperience=function(){return this._userHasClaim(a.UserClaims.Member)},n.canViewAnalytics=function(){return this._userHasClaim(a.UserClaims.Member)},n.canAddDefinitionToDashboard=function(){return this._userHasClaim(a.UserClaims.Member)},n._userHasClaim=function(n){var t=a.getService();return t.hasClaim(n)},n._segregateUncachedPermissions=function(n,t,i){var r=this;n.evaluations.forEach(function(n){var f=n.token,e=n.permissions,u;r.isPermissionCached(n.securityNamespaceId,f,e)?(u=r.getPermissionCollectionKey(n.securityNamespaceId,f),t[u]||(t[u]={}),t[u][e]=r._hasPermission(n.securityNamespaceId,f,e)):i.evaluations.push(n)})},n.isPermissionCached=function(n,t,i){return this._getPermissions(n,t,i)!==undefined},n._hasPermission=function(n,t,i){var r=this._getPermissions(n,t,i);return r===undefined?!0:r},n._updatePermissions=function(n,t){var i=this;n&&n.length!==0&&n.forEach(function(n){var r=i.getPermissionCollectionKey(n.securityNamespaceId,n.token),u=t[r];u===undefined&&(t[r]={});t[r][n.permissions]=n.value?!0:!1})},n._hasReleaseDefinitionPermission=function(n,t,u,o){var s=this,c,h;return this._isValidDefinitionId(u)?(c=e.SecurityUtils.createDefinitionSecurityToken(t,u),h=e.SecurityUtils.getCompleteSecurityToken(c),this.isPermissionCached(f.CommonConstants.SecurityNameSpaceIdForReleaseManagement,h,n))?i.resolve(this._hasPermission(f.CommonConstants.SecurityNameSpaceIdForReleaseManagement,h,n)):r.PermissionService.instance().hasPermission(c,n).then(function(t){var i=s.getPermissionCollectionKey(f.CommonConstants.SecurityNameSpaceIdForReleaseManagement,h);return s._permissionsCache[i]||(s._permissionsCache[i]={}),s._permissionsCache[i][n]=t,t}):i.resolve(o)},n._hasEnvironmentPermission=function(n,t,u,o,s){var h=this,l,c;return this._isValidDefinitionId(u)&&this._isValidDefinitionId(o)?(l=e.SecurityUtils.createEnvironmentSecurityToken(t,u,o),c=e.SecurityUtils.getCompleteSecurityToken(l),this.isPermissionCached(f.CommonConstants.SecurityNameSpaceIdForReleaseManagement,c,n))?i.resolve(this._hasPermission(f.CommonConstants.SecurityNameSpaceIdForReleaseManagement,c,n)):r.PermissionService.instance().hasPermission(l,n).then(function(t){var i=h.getPermissionCollectionKey(f.CommonConstants.SecurityNameSpaceIdForReleaseManagement,c);return h._permissionsCache[i]||(h._permissionsCache[i]={}),h._permissionsCache[i][n]=t,t}):i.resolve(s)},n._isValidDefinitionId=function(n){return n>0},n._getPermissions=function(n,t,i){var f=this.getPermissionCollectionKey(n,t),r=this._permissionsCache[f],u;return r!==undefined&&r[i]?r[i]:(u=this._getPermissionsFromSharedData(n,t),u!==undefined)?(u&i)>0:undefined},n._getPermissionsFromDataProvider=function(n,t,i){var r=this._getPermissionsFromSharedData(n,t);return(r&i)!=0},n._getPermissionsFromSharedData=function(n,t){var r=h.getSharedData(this._permissionsSharedDataKey),i;return!r||!n?undefined:o.FeatureFlagUtils.isOverrideSecurityPermissionEnabled()?this._overrideSecurityPermissionToken:(n=n.toLowerCase(),i=r[n],!i)?undefined:i[t]},n._permissionsCache={},n._permissionCollectionKeyFormat="{0}:{1}",n._overrideSecurityPermissionToken=4294967295,n._permissionsSharedDataKey="_permissions",n}();t.PermissionHelper=y});

define("PipelineWorkflow/Scripts/Editor/Common/DefinitionVariablesUtils",["require","exports","q","DistributedTaskControls/Sources/VariableGroupSource","PipelineWorkflow/Scripts/Shared/Utils/VariablesUtils","PipelineWorkflow/Scripts/SharedComponents/Security/PermissionHelper","PipelineWorkflow/Scripts/SharedComponents/Security/PermissionService","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.DefinitionVariablesUtils=void 0;var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.mapDefinitionToVariablesData=function(n,t){t===void 0&&(t=!1);return{definitionId:n.id,definitionPath:n.path,variables:!t?n.variables:this._getOverridableVariables(n.variables),environments:this.getEnvironmentVariablesData(n.environments,t)}},t.beginGetVariableGroups=function(n){var i=u.VariablesUtils.getVariableGroupReferences(n),t=i.map(function(n){return n.groupId}),f=t.filter(function(n,i){return t.indexOf(n)===i});return r.VariableGroupSource.instance().beginGetVariableGroupsByIds(f)},t.getEnvironmentVariablesData=function(n,t){var i=this;return t===void 0&&(t=!1),(n||[]).map(function(n){return{name:n.name,scopeKey:n.id,definitionId:n.id,variables:!t?n.variables:i._getOverridableVariables(n.variables)}})},t.getScopedProcessVariables=function(n){var i=[],t=n.variables||{},r;return Object.keys(t).forEach(function(r){var u={name:r,variable:{value:t[r].value,isSecret:t[r].isSecret,allowOverride:t[r].allowOverride,scope:{key:n.id,value:n.name}}};i.push(u)}),r={key:n.id,value:n.name},{variableList:i,scope:r}},t.getVariableGroupReferencesInScope=function(n,t){var i=n||[];return i.reduce(function(n,i){return!i.scope||i.scope.key!==t||n.push(i.groupId),n},[])},t.getScopePermissions=function(n,t,r,u){var l=[],s,h,c;for(u=u||e.PermissionService.instance(),s=0,h=r;s<h.length;s++)if(c=h[s],c>0)l.push(f.PermissionHelper.createEditEnvironmentSecurityProps(n,t,c).securityToken);else throw new Error("Environment id should be > 0 to evaluate its permission");return u.listPermissions(l,o.ReleaseManagementSecurityPermissions.EditReleaseEnvironment).then(function(n){if(r.length===n.length){var t=n.map(function(n,t){return{scopeKey:r[t],hasPermission:n}});return i(t)}return i([])},function(){return i([])})},t._getOverridableVariables=function(n){if(!n)return{};var t={};return Object.keys(n).forEach(function(i){!n[i].allowOverride||(t[i]=n[i])}),t},t}(u.VariablesUtils);t.DefinitionVariablesUtils=s});

define("DistributedTaskControls/Sources/AgentsSource",["require","exports","q","DistributedTaskControls/Clients/TaskAgentRestClient","DistributedTaskControls/Common/Sources/SourceBase","DistributedTaskControls/Common/Sources/SourceManager","TFS/DistributedTask/Contracts","VSS/Context","VSS/LWP","VSS/Service","VSS/Utils/Array"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.AgentsSource=void 0;var l=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.getAgentSpecifications=function(n){return __awaiter(t,void 0,void 0,function(){var i,t;return __generator(this,function(){return i=Promise.resolve([]),t=s.getLWPService("IAgentSpecificationService"),t&&t.getAgentSpecificationsByQueue&&(i=t.getAgentSpecificationsByQueue(n)),[2,i]})})},t._getTaskAgentPoolPromise={},t._getMachineGroupPromises={},t._getResourceUsagePromise={},t._getAgentJobRequestsPoolPromise={},t._defaultTargetsCount=1e3,t}return __extends(t,n),t.getKey=function(){return"AgentsSource"},t.prototype.getTaskAgentClient=function(){return this._taskAgentClient||(this._taskAgentClient=this._getVssConnection().getHttpClient(r.TaskAgentRestClient)),this._taskAgentClient},t.prototype.getPermissibleDeploymentGroups=function(n,t,i,r,u){return n===void 0&&(n=!1),(!this._getPermissibleDeploymentGroupsPromise||n)&&(this._getPermissibleDeploymentGroupsPromise=this.getTaskAgentClient().getDeploymentGroupsWithContinuationToken(o.getDefaultWebContext().project.id,t,e.DeploymentGroupActionFilter.Use,e.DeploymentGroupExpands.None,r,u)),this._getPermissibleDeploymentGroupsPromise},t.prototype.getDeploymentGroupsByIds=function(n,t){return n===void 0&&(n=!1),(!this._getDeploymentGroupsByIdPromise||n)&&(this._getDeploymentGroupsByIdPromise=this.getTaskAgentClient().getDeploymentGroupsWithContinuationToken(o.getDefaultWebContext().project.id,null,e.DeploymentGroupActionFilter.None,e.DeploymentGroupExpands.None,null,null,t)),this._getDeploymentGroupsByIdPromise},t.prototype.getDeploymentGroupsByNameOrRegex=function(n,t){return n===void 0&&(n=!1),(!this._getDeploymentGroupsByNameOrRegexPromise||n)&&(this._getDeploymentGroupsByNameOrRegexPromise=this.getTaskAgentClient().getDeploymentGroupsWithContinuationToken(o.getDefaultWebContext().project.id,t,e.DeploymentGroupActionFilter.None,e.DeploymentGroupExpands.None)),this._getDeploymentGroupsByNameOrRegexPromise},t.prototype.getTaskAgentQueue=function(n,t){var u=this,r;return t===void 0&&(t=!1),r=i.defer(),this.getTaskAgentQueues(t).then(function(i){var f=u._getQueueDetailsIfPresent(n,i);if(f)return r.resolve(f);u.getAllAgentQueues(t).then(function(t){return f=u._getQueueDetailsIfPresent(n,t),r.resolve(f)},function(n){r.reject(n)})},function(n){r.reject(n)}),r.promise},t.prototype.getTaskAgentQueues=function(n){return n===void 0&&(n=!1),(!this._getTaskAgentQueuesPromise||n)&&(this._getTaskAgentQueuesPromise=this.getTaskAgentClient().getAgentQueues(o.getDefaultWebContext().project.id,null,e.TaskAgentQueueActionFilter.Use)),this._getTaskAgentQueuesPromise},t.prototype.getAllAgentQueues=function(n){return n===void 0&&(n=!1),(!this._getAllAgentQueuesPromise||n)&&(this._getAllAgentQueuesPromise=this.getTaskAgentClient().getAgentQueues(o.getDefaultWebContext().project.id)),this._getAllAgentQueuesPromise},t.prototype.getAgents=function(n,t,i,r,u,f,e){return this.getTaskAgentClient().getAgents(n,t,i,r,u,f,e)},t.prototype.getAgentRequestsForPlan=function(n,t){var i=n+t;return this._getAgentJobRequestsPoolPromise[i]||(this._getAgentJobRequestsPoolPromise[i]=this.getTaskAgentClient().getAgentRequestsForPlan(n,t)),this._getAgentJobRequestsPoolPromise[i]},t.prototype.getResourceUsage=function(n,t,i){var r=n+t+i;return this._getResourceUsagePromise[r]||(this._getResourceUsagePromise[r]=this.getTaskAgentClient().getResourceUsage(n,t,i)),this._getResourceUsagePromise[r]},t.prototype.fetchJobRequestsForAgents=function(n,t){return this.getTaskAgentClient().getAgentRequestsForAgents(n,t)},t.prototype.getPermissibleDeploymentMachineGroups=function(n,t){return n===void 0&&(n=!1),(!this._getDeploymentMachineGroupsPromise||n)&&(this._getDeploymentMachineGroupsPromise=this.getTaskAgentClient().getDeploymentMachineGroups(o.getDefaultWebContext().project.id,t,e.MachineGroupActionFilter.Use)),this._getDeploymentMachineGroupsPromise},t.prototype.getAllDeploymentMachineGroups=function(n){return n===void 0&&(n=!1),(!this._getAllDeploymentMachineGroupsPromise||n)&&(this._getAllDeploymentMachineGroupsPromise=this.getTaskAgentClient().getDeploymentMachineGroups(o.getDefaultWebContext().project.id)),this._getAllDeploymentMachineGroupsPromise},t.prototype.getDeploymentMachineGroup=function(n,t){return t===void 0&&(t=!1),(t||!this._getMachineGroupPromises.hasOwnProperty(n))&&(this._getMachineGroupPromises[n]=this.getTaskAgentClient().getDeploymentMachineGroup(o.getDefaultWebContext().project.id,n)),this._getMachineGroupPromises[n]},t.prototype.getTaskAgentPools=function(n){return n===void 0&&(n=!1),(!this._getTaskAgentPoolsPromise||n)&&(this._getTaskAgentPoolsPromise=this.getTaskAgentClient().getAgentPools(null,null,null,e.TaskAgentPoolActionFilter.Use)),this._getTaskAgentPoolsPromise},t.prototype.getTaskAgentPool=function(n,t){var r=this;return(t===void 0&&(t=!1),!this._getTaskAgentPoolPromise[n]||t)?this.getTaskAgentClient().getAgentPool(n).then(function(t){return r._getTaskAgentPoolPromise[n]=i.resolve(t),r._getTaskAgentPoolPromise[n]},function(n){return i.reject(n)}):this._getTaskAgentPoolPromise[n]},t.prototype._getQueueDetailsIfPresent=function(n,t){var i;return t&&t.length>0&&(i=c.first(t,function(t){return t.id===n})),i},t.prototype.getMachines=function(n,t,i,r,u){return i===void 0&&(i=!1),u===void 0&&(u=e.DeploymentMachineExpands.None),(!this._getDeploymentGroupDeploymentMachinesPromise||i)&&(this._getDeploymentGroupDeploymentMachinesPromise=this.getTaskAgentClient().getDeploymentMachines(o.getDefaultWebContext().project.id,n,t,r,u)),this._getDeploymentGroupDeploymentMachinesPromise},t.prototype.getDeploymentTargetsWithContinuationToken=function(n,t,i,r,u,f,e,s,h,c,l){return l===void 0&&(l=!1),(!this._getDeploymentGroupDeploymentTargetsPromise||l)&&(this._getDeploymentGroupDeploymentTargetsPromise=this.getTaskAgentClient().getDeploymentTargetsWithContinuationToken(o.getDefaultWebContext().project.id,n,t,i,r,u,f,e,s,h,c)),this._getDeploymentGroupDeploymentTargetsPromise},t.prototype.getTargets=function(n,t,r){var u=i.defer();return this._getTargetsRecursively(n,t,null,r,[]).then(function(n){u.resolve(n)},function(n){u.reject(n)}),u.promise},t.prototype._getTargetsRecursively=function(n,r,u,f,o){var h=this,s=i.defer();return t.instance().getDeploymentTargetsWithContinuationToken(n,r,null,!1,e.DeploymentTargetExpands.Capabilities,e.TaskAgentStatusFilter.All,e.TaskAgentJobResultFilter.All,u,this._defaultTargetsCount,f,!0).then(function(t){return t.continuationToken?s.resolve(h._getTargetsRecursively(n,r,t.continuationToken,f,c.union(o,t.deploymentTargets))):s.resolve(c.union(o,t.deploymentTargets))},function(n){s.reject(n)}),s.promise},t.prototype._getVssConnection=function(){return this._vssConnection||(this._vssConnection=new h.VssConnection(o.getDefaultWebContext())),this._vssConnection},t.instance=function(){return f.SourceManager.getSource(t)},t}(u.SourceBase);t.AgentsSource=l});

define("DistributedTaskControls/Common/Service/ServiceClientManager",["require","exports","DistributedTaskControls/Common/Factory"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.ServiceClientManager=void 0;var r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.GetServiceClient=function(i,r){return n.getInstance.call(this,t).getObject(i,r)},t.CreateServiceClient=function(i,r,u){return n.getInstance.call(this,t).createObject(i,r,u)},t.DeleteServiceClient=function(i,r){n.getInstance.call(this,t).removeObject(i,r)},t.dispose=function(){return n.getInstance.call(this,t).dispose()},t}(i.Manager);t.ServiceClientManager=r});

define("PipelineWorkflow/Scripts/ServiceClients/DeployServiceClient",["require","exports","q","ReleasePipeline/Scripts/Clients/ReleaseClient","ReleaseManagement/Core/Contracts","VSS/Service","VSS/Context"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.DeployServiceClient=void 0;var o=function(){function n(){}return n.getKey=function(){return"SERVICE_CLIENT_KEY_DEPLOY_SERVICE_CLIENT"},n.prototype.initialize=function(){var n=e.getDefaultWebContext(),t=new f.VssConnection(n);this._service=t.getService(r.ReleaseManagementService)},n.prototype.createDefinition=function(n){return this._service.beginCreateReleaseDefinition(n)},n.prototype.updateDefinition=function(){throw new Error("Not yet implemented");},n.prototype.getDefinition=function(n,t){return this._service.beginGetReleaseDefinition(n,t)},n.prototype.getDefinitionRevisions=function(n){return this._service.beginGetReleaseDefinitionHistory(n)},n.prototype.saveDefinition=function(n){return this._service.beginSaveReleaseDefinition(n)},n.prototype.getSettings=function(){return this._service.beginGetReleaseSettings()},n.prototype.getArtifactTypesDefinition=function(){return this._service.beginGetArtifactTypes()},n.prototype.getArtifactsVersion=function(n){return this._service.beginGetArtifactsVersion(n)},n.prototype.getArtifactSourceBranches=function(n){return this._service.beginGetSourceBranches(n)},n.prototype.postInputValuesQuery=function(n){return this._service.beginPostInputValuesQuery(n)},n.prototype.getDefinitionRevision=function(n,t){return this._service.beginGetReleaseDefinitionRevision(n,t)},n.prototype.getEnvironmentTemplate=function(n){return this._service.beginGetEnvironmentTemplate(n)},n.prototype.getEnvironmentTemplates=function(){return this._service.beginListEnvironmentTemplates()},n.prototype.createRelease=function(n,t){return this._service.beginCreateRelease(n,t)},n.prototype.updateRelease=function(n){return this._service.beginUpdateRelease(n)},n.prototype.patchRelease=function(n,t){var r=i.defer();return this._service.beginPatchRelease(n,t,function(n){r.resolve(n)},function(n){r.reject(n)}),r.promise},n.prototype.beginCancelReleaseEnvironment=function(n,t,i){return this._service.beginPatchReleaseEnvironment(n,t,u.EnvironmentStatus.Canceled,i)},n.prototype.beginDeployReleaseEnvironment=function(n,t,i,r){return this._service.beginPatchReleaseEnvironment(n,t,u.EnvironmentStatus.InProgress,i,r)},n.prototype.getDefinitionArtifactsVersions=function(n,t){return this._service.beginGetDefinitionArtifactsVersion(n,t)},n.prototype.setDeploymentAuthorizationHeader=function(n){this._service.setDeploymentAuthorizationHeader(n)},n.prototype.saveDefinitionUsingApiVersion=function(n,t){return this._service.beginSaveReleaseDefinitionUsingApiVersion(n,t)},n.prototype.getDeploymentsOnEnvironments=function(n){return this._service.beginDeploymentsOnEnvironments(n)},n.prototype.getReleaseDefinitionsForArtifactSource=function(n,t,i,r,u){return this._service.beginGetReleaseDefinitionsForArtifactSource(n,t,i,r,u)},n.prototype.getReleaseDefinitions=function(n,t,i,r,u,f,e,o){return this._service.beginGetReleaseDefinitions(n,t,i,r,u,f,e,o)},n.prototype.saveEnvironmentAsTemplate=function(n){return this._service.beginSaveEnvironmentTemplate(n)},n.prototype.deleteTemplate=function(n){return this._service.beginDeleteEnvironmentTemplate(n)},n.prototype.getReleaseDefinitionsFolders=function(){return this._service.beginGetReleaseDefinitionsfolders()},n.prototype.getRelease=function(n,t){var i=t===!1?u.ApprovalFilters.ManualApprovals|u.ApprovalFilters.AutomatedApprovals:u.ApprovalFilters.All;return this._service.beginGetRelease(n,i,["DownloadBuildArtifactsUsingTask, ReleaseCreationSource"])},n.prototype.getReleaseHistory=function(n){return this._service.beginGetReleaseHistory(n)},n.prototype.getReleaseRevision=function(n,t){return this._service.beginGetReleaseRevision(n,t)},n.prototype.createFolder=function(n,t){return this._service.beginCreateFolder(n,t)},n.prototype.updateFolder=function(n,t){return this._service.beginUpdateFolder(n,t)},n.prototype.deleteDefinition=function(n,t,i){return this._service.beginDeleteReleaseDefinition(n,t,i)},n.prototype.getDeployments=function(n,t,i,r,u,f,e,o,s,h){return this._service.beginGetDeploymentsWithContinuationToken(n,t,i,r,u,f,e,o,s,h)},n.prototype.getLatestDeploymentAttempts=function(n,t,i,r,u,f,e,o,s,h){return this._service.beginGetDeploymentsWithContinuationToken(n,t,i,r,u,f,e,o,s,h,!0)},n.prototype.deleteFolder=function(n){return this._service.beginDeleteFolder(n)},n.prototype.getReleaseWorkItems=function(n,t,i,r){return this._service.beginGetReleaseWorkItems(n,t,i,r)},n.prototype.getReleaseChanges=function(n,t,i,r){return this._service.beginGetReleaseChanges(n,t,i,r)},n.prototype.getReleaseApprovals=function(n,t,i){return this._service.beginGetReleaseApprovals(n,t,i)},n.prototype.getReleases=function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){return this._service.beginGetReleasesWithContinuationToken(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w)},n.prototype.getTags=function(){return this._service.beginGetTags()},n.prototype.addTag=function(n,t){return this._service.beginAddTag(n,t)},n.prototype.deleteTag=function(n,t){return this._service.beginDeleteTag(n,t)},n.prototype.downloadLog=function(n,t,i,r){return this._service.beginDownloadLog(n,t,i,r)},n.prototype.downloadLog2=function(n,t,i,r,u){return this._service.beginDownloadLog2(n,t,i,r,u)},n.prototype.downloadGateLog=function(n,t,i,r){return this._service.beginDownloadGateLog(n,t,i,r)},n.prototype.getReleaseTasks=function(n,t,i){return this._service.beginGetTasks(n,t,i)},n.prototype.getReleaseTasks2=function(n,t,i,r){return this._service.beginGetTasks2(n,t,i,r)},n.prototype.patchReleaseEnvironmentScheduledDeploymentTime=function(n,t,i){return this._service.beginPatchReleaseEnvironmentScheduledDeploymentTime(n,t,i)},n.prototype.deleteRelease=function(n,t){return this._service.beginDeleteRelease(n,t)},n.prototype.undeleteRelease=function(n,t){return this._service.beginUndeleteRelease(n,t)},n.prototype.updateManualIntervention=function(n,t,i){return this._service.beginUpdateManualIntervention(n,i,t)},n.prototype.updateGate=function(n,t){return this._service.beginUpdateGates(n,t)},n.prototype.getReleaseTaskAttachments=function(n,t,i,r,u){return this._service.beginGetTaskAttachments(n,t,i,r,u)},n.prototype.getReleaseTaskAttachmentContent=function(n,t,i,r,u,f,e,o){return this._service.beginGetTaskAttachmentContent(n,t,i,r,u,f,e,o)},n}();t.DeployServiceClient=o});

define("PipelineWorkflow/Scripts/Common/Sources/ReleaseManagementSourceBase",["require","exports","DistributedTaskControls/Common/Service/ServiceClientManager","DistributedTaskControls/Common/Sources/SourceBase","PipelineWorkflow/Scripts/ServiceClients/DeployServiceClient"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.ReleaseManagementSourceBase=void 0;var f=function(n){function t(){var t=__construct(this,n,[]);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t._deployPipelineClient=i.ServiceClientManager.GetServiceClient(u.DeployServiceClient),t}return __extends(t,n),t.prototype.getClient=function(){return this._deployPipelineClient},t}(r.SourceBase);t.ReleaseManagementSourceBase=f});

define("DistributedTaskControls/Sources/TaskDefinitionSource",["require","exports","q","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/Sources/SourceBase","DistributedTaskControls/Common/Sources/SourceManager","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTasksCommon/TFS.Tasks.Models","DistributedTasksCommon/TFS.Tasks.Types","DistributedTasksCommon/TFS.Tasks.Utils","VSS/Context","VSS/Diag","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});t.TaskDefinitionSource=void 0;var p=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._usingDataProvider=!0,t}return __extends(t,n),t.getKey=function(){return"TaskDefinitionSource"},t.prototype.getTaskDefinitionList=function(n,t,r){var f=this,e,h,o;if(r===void 0&&(r=!1),a.logVerbose("[TaskSource.getTasksList]: Method entry log."),!r&&this._canReturnPrefetchedTaskDefinitions(n||!1))return i.resolve(this._filterTaskDefinitions(this._preFetchedTaskDefinitionList));if(this._usingDataProvider=!1,e=i.defer(),r||!this._taskDefinitionQueryPromise){if(s.TaskDefinitionCache.metaTaskManager||(s.TaskDefinitionCache.metaTaskManager=new s.MetaTaskManager),h=s.TaskDefinitionCache.getTaskDefinitionCache(t,r),o=h.getTaskDefinitionResults(),o)o.then(function(n){var t,i;f.initializePrefetchedDefinitions(n.tasks,!1);f._notFoundTaskId&&(t=v.first(n.tasks,function(n){return n.id===f._notFoundTaskId}),t&&(i={},i[u.Properties.TaskName]=t.name,i[u.Properties.TaskDefinitionType]=t.definitionType,i[u.Properties.TaskId]=t.id,i[u.Properties.TaskVersionSpec]=t.version.major+"."+t.version.minor+"."+t.version.patch,u.Telemetry.instance().publishEvent(u.Feature.NotInstalledTaskInCall,i)));e.resolve(f._filterTaskDefinitions(f._preFetchedTaskDefinitionList))},function(n){a.logInfo(n.message||n.toString());e.reject(n);f._taskDefinitionQueryPromise=null});else throw Error("There is a no task definition query that is in-progress.");this._taskDefinitionQueryPromise=e.promise}return this._taskDefinitionQueryPromise},t.prototype.getTaskDefinitionFromTaskId=function(n){return this._taskDefinitionCollection.getTaskById(n)},t.prototype.getTaskDefinition=function(n,t){if(this._taskDefinitionCollection){var i=this._taskDefinitionCollection.getMajorVersions(n);return i?c.getTaskDefinition(i,t):null}return null},t.prototype.getTaskVersionInfoList=function(n){var i=[],t;return n&&this._taskDefinitionCollection&&(t=this._taskDefinitionCollection.getMajorVersions(n),t&&Object.keys(t).forEach(function(n){var r=t[n],u=c.isPreview(r),f=c.isDeprecated(r),e=c.getMajorVersionSpec(r.version);i.push({versionSpec:e,isPreview:u,isDeprecated:f})})),i},t.prototype.getEmptyTaskDefinition=function(n,t,i){return this._publishTelemetryForTaskNotInstalled(n,t,i),{definitionType:!t?y.empty:t,friendlyName:!n?y.empty:n,helpMarkDown:o.TaskDeletedMessage,dataSourceBindings:[],demands:[],groups:[],inputs:[],sourceLocation:{},visibility:[],version:{major:0}}},t.prototype.getLatestReleasedMajorVersionSpec=function(n){if(this._taskDefinitionCollection){var t=this._taskDefinitionCollection.getTaskById(n);return t?c.getMajorVersionSpec(t.version):"*"}return"*"},t.prototype.initializePrefetchedDefinitions=function(n,t,i){n&&(n.forEach(function(n){n.definitionType===h.DefinitionType.metaTask&&(n.iconUrl=l.getPageContext().webAccessConfiguration.paths.resourcesPath+"icon-meta-task.png");n.friendlyName=n.friendlyName||n.name||n.instanceNameFormat||y.empty}),this._taskDefinitionCollection=new s.TaskDefinitionCollection(n,i),this._preFetchedTaskDefinitionList=this._taskDefinitionCollection.getLatestVersionArray(),this._isTaskListPartial=t)},t.prototype.saveMetaTaskDefinition=function(n,t){var f=this,e=t===r.Workflow.Build?["Build"]:[],u=s.TaskDefinitionCache.getTaskDefinitionCache(e);return s.TaskDefinitionCache.metaTaskManager||(s.TaskDefinitionCache.metaTaskManager=new s.MetaTaskManager),s.TaskDefinitionCache.metaTaskManager.saveDefinition(n).then(function(t){return u.cacheMetaTaskDemandsFromServer(n.id,c.getMajorVersionSpec(n.version)),u.refresh(t.visibility).then(function(n){return f.initializePrefetchedDefinitions(n.tasks,!1),i.resolve(t)})},function(n){return a.logInfo(n.message||n.toString()),i.reject(n)})},t.prototype.getTaskDefinitionDemandsFromTaskId=function(n){return this._taskDefinitionCollection.getTaskDefinitionDemandsById(n)},t.instance=function(){return e.SourceManager.getSource(t)},t.prototype.disposeTaskDefinitionCache=function(){s.TaskDefinitionCache.disposeInstance()},t.prototype._canReturnPrefetchedTaskDefinitions=function(n){return!this._preFetchedTaskDefinitionList||this._preFetchedTaskDefinitionList.length===0?!1:!n&&this._isTaskListPartial?!1:!0},t.prototype._filterTaskDefinitions=function(n){return(n||[]).filter(function(n){return!n.disabled})},t.prototype._publishTelemetryForTaskNotInstalled=function(n,t,i){var r={};r[u.Properties.TaskDefinitionType]=t;r[u.Properties.TaskRefName]=i&&i.refName;i&&i.task&&(r[u.Properties.TaskVersionSpec]=i.task.versionSpec,r[u.Properties.TaskId]=i.task.id,this._notFoundTaskId=i.task.id);r[u.Properties.prefetchedTaskGuids]=this._prefetchedTaskGuids();u.Telemetry.instance().publishEvent(u.Feature.TaskNotInstalled,r)},t.prototype._prefetchedTaskGuids=function(){var n="";return this._preFetchedTaskDefinitionList&&this._preFetchedTaskDefinitionList.forEach(function(t){n+=t?", "+t.id:", NULL TASK"}),n},t}(f.SourceBase);t.TaskDefinitionSource=p});

define("PipelineWorkflow/Scripts/Shared/Sources/WebPageData",["require","exports","DistributedTaskControls/Common/Factory","DistributedTaskControls/Sources/TaskDefinitionSource","ReleaseManagement/Core/Constants"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.WebPageDataHelper=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(n){this.initializeData(n)},t.prototype.getTimeZones=function(){return this.getData()&&this.getData().timeZones?this.getData().timeZones:null},t.prototype.getGatesMinimumSamplingIntervalInMinutes=function(){return this.getData()&&this.getData().gatesMinimumSamplingIntervalInMinutes?this.getData().gatesMinimumSamplingIntervalInMinutes:u.GateConstants.MinimumSamplingIntervalInMinutes},t.prototype.getResourcePath=function(){if(this.getData()&&this.getData().resourcePath)return this.getData().resourcePath},t.prototype.initializeTaskDefinitions=function(n,t){r.TaskDefinitionSource.instance().initializePrefetchedDefinitions(n,t)},t}(i.Singleton);t.WebPageDataHelper=f});

define("PipelineWorkflow/Scripts/Editor/Sources/ReleaseEditorWebPageData",["require","exports","PipelineWorkflow/Scripts/Shared/Sources/WebPageData","ReleaseManagement/Core/Contracts","VSS/Serialization","VSS/Service","VSS/Contributions/Services"],function(n,t,i,r,u,f,e){var o,s;Object.defineProperty(t,"__esModule",{value:!0});t.ReleaseEditorWebPageDataHelper=void 0;o={WebPageData:{fields:null}};o.WebPageData.fields={releaseDefinition:{typeInfo:r.TypeInfo.ReleaseDefinition}};s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.instance=function(){return n.getInstance.call(this,t)},t.dispose=function(){n.getInstance.call(this,t)._data=null;n.dispose.call(this)},t.prototype.initializeData=function(t){this._data||(this._data=f.getService(e.WebPageDataService).getPageData(t,o.WebPageData),this._data&&this._data.taskDefinitions&&n.prototype.initializeTaskDefinitions.call(this,this._data.taskDefinitions,this._data.isPartialTaskList))},t.prototype.getData=function(){return this._data},t.prototype.getReleaseDefinition=function(){return this._data?this._data.releaseDefinition:null},t.prototype.updateReleaseDefinition=function(n){this._data&&this._data.releaseDefinition&&n.id===this._data.releaseDefinition.id&&(this._data.releaseDefinition=n)},t.prototype.getReleaseSettings=function(){return this._data?this._data.releaseSettings:null},t.prototype.getEmptyEnvironmentTemplate=function(){return this._data?u.ContractSerializer.deserialize(this._data.emptyEnvironmentTemplate,r.TypeInfo.ReleaseDefinitionEnvironmentTemplate):null},t.prototype.getReleaseDefinitionEnvironmentTemplates=function(){return this._data?this._data.templates:null},t.prototype.getArtifactTypeDefinitions=function(){return this._data?this._data.artifactTypeDefinitions:null},t}(i.WebPageDataHelper);t.ReleaseEditorWebPageDataHelper=s});

define("PipelineWorkflow/Scripts/Editor/Sources/CreateReleasePanelData",["require","exports","VSS/Service","VSS/Contributions/Services"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.CreateReleasePanelDataHelper=void 0;var u={WebPageData:{fields:null}},f=function(){function n(){}return n.getInstance=function(){return n.instance||(n.instance=new n),n.instance},n.prototype.initializeData=function(){this._data=i.getService(r.WebPageDataService).getPageData("ms.vss-releaseManagement-web.cdworkflow.crpanel.data-provider",u.WebPageData)},n.prototype.getReleaseDefinitions=function(){return this._data?this._data.releaseDefinitions:null},n.prototype.getReleaseDefinition=function(){return this._data?this._data.defaultReleaseDefinition:null},n.prototype.getArtifactVersions=function(){return this._data?this._data.artifactVersions:null},n.prototype.getLinkedProjects=function(){return this._data?this._data.linkedProjects:null},n.prototype.getArtifactSourceId=function(){return this._data?this._data.artifactSourceId:null},n}();t.CreateReleasePanelDataHelper=f});

define("PipelineWorkflow/Scripts/Editor/Sources/DeployPipelineDefinitionSource",["require","exports","q","DistributedTaskControls/Common/Sources/SourceManager","DistributedTaskControls/Sources/AgentsSource","PipelineWorkflow/Scripts/Common/Sources/ReleaseManagementSourceBase","PipelineWorkflow/Scripts/Common/Types","PipelineWorkflow/Scripts/Editor/Common/Constants","PipelineWorkflow/Scripts/Editor/Sources/ReleaseEditorWebPageData","PipelineWorkflow/Scripts/Editor/Sources/CreateReleasePanelData","PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils","ReleaseManagement/Core/Contracts","VSS/Context","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){Object.defineProperty(t,"__esModule",{value:!0});t.DeployPipelineDefinitionSource=void 0;var y=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._isDataLoaded=!1,t._getDefinitionPromise={},t._getReleaseDefinitionsForArtifactSourcePromise={},t._artifactSourceId=v.empty,t._getEnvironmentTemplatePromise={},t}return __extends(t,n),t.getKey=function(){return"DeployPipelineDefinitionSource"},t.prototype.get=function(n,t,r){var y=this,p,u,e;if(t===void 0&&(t=!1),!this._isDataLoaded&&c.FeatureFlagUtils.isCreateReleaseDataProviderEnabled()){var f=h.CreateReleasePanelDataHelper.getInstance(),o=f.getReleaseDefinition(),l=!f.getLinkedProjects()?null:f.getLinkedProjects()[0];o&&l&&(p=v.format("{0}:{1}",l.name,o.id),this._artifactSourceId=f.getArtifactSourceId(),this._getDefinitionPromise[p]=i.resolve(o),this._getReleaseDefinitionsForArtifactSourcePromise[l.name]=i.resolve(f.getReleaseDefinitions()));this._isDataLoaded=!0}return(r=r||a.getDefaultWebContext().project.name,u=v.format("{0}:{1}",r,n),!this._getDefinitionPromise[u]||t)?(e=s.ReleaseEditorWebPageDataHelper.instance().getReleaseDefinition(),!t&&e&&e.id===n?(this._getDefinitionPromise[u]=i.resolve(e),this._getDefinitionPromise[u]):this.getClient().getDefinition(n,r).then(function(n){return y._getDefinitionPromise[u]=i.resolve(n),y._getDefinitionPromise[u]},function(n){return i.reject(n)})):this._getDefinitionPromise[u]},t.prototype.create=function(n){return this.getClient().createDefinition(n).then(function(n){return s.ReleaseEditorWebPageDataHelper.instance().updateReleaseDefinition(n),i.resolve(n)})},t.prototype.save=function(n){return this.getClient().saveDefinition(n).then(function(n){return s.ReleaseEditorWebPageDataHelper.instance().updateReleaseDefinition(n),i.resolve(n)})},t.prototype.getSettings=function(){var n=s.ReleaseEditorWebPageDataHelper.instance().getReleaseSettings();return n?i.resolve(n):this.getClient().getSettings()},t.prototype.getEnvironmentTemplate=function(n){var u=this,t,r;return this._getEnvironmentTemplatePromise[n]?this._getEnvironmentTemplatePromise[n]:(r=s.ReleaseEditorWebPageDataHelper.instance().getEmptyEnvironmentTemplate(),t=n!==o.TemplateConstants.EmptyTemplateGuid||!r?this.getClient().getEnvironmentTemplate(n):i.resolve(r),t=t.then(function(n){return u._translateLegacyQueue(n)}),this._getEnvironmentTemplatePromise[n]||(this._getEnvironmentTemplatePromise[n]=t),t)},t.prototype._translateLegacyQueue=function(n){var i=this;return this._getAzurePipelinesInitializationPromise().then(function(){return n.environment.deployPhases.forEach(function(n){var e,r,u,f;n.phaseType===l.DeployPhaseTypes.AgentBasedDeployment&&(r=n,u=i._taskAgentQueues.find(function(n){return n&&n.pool&&n.pool.isHosted&&n.id===r.deploymentInput.queueId}),u&&(e=t.queueToAgentSpecificationMap[u.name]),i._agentSpecifications&&i._agentSpecifications.length>0&&(f=i._agentSpecifications.find(function(n){return n.identifier===e}),f&&(r.deploymentInput.queueId=i._azurePipelinesQueue.id,r.deploymentInput.agentSpecification=f)))}),n})},t.prototype._getAzurePipelinesInitializationPromise=function(){var n=this;return this._getQueuesPromise||(this._getQueuesPromise=u.AgentsSource.instance().getTaskAgentQueues().then(function(i){return n._taskAgentQueues=i,n._azurePipelinesQueue=i.find(function(n){return n&&n.pool&&n.pool.isHosted&&!n.pool.isLegacy&&n.name===t._azurePipelinesQueueName}),u.AgentsSource.instance().getAgentSpecifications(n._azurePipelinesQueue)}).then(function(t){n._agentSpecifications=t})),this._getQueuesPromise},t.prototype.getDefinitionRevisions=function(n){return this.getClient().getDefinitionRevisions(n)},t.instance=function(){return r.SourceManager.getSource(t)},t.prototype.getDefinitionRevision=function(n,t){return this.getClient().getDefinitionRevision(n,t)},t.prototype.saveWithApiVersion=function(n,t){return this.getClient().saveDefinitionUsingApiVersion(n,t).then(function(n){return s.ReleaseEditorWebPageDataHelper.instance().updateReleaseDefinition(n),i.resolve(n)})},t.prototype.getReleaseDefinitions=function(n){return this.getClient().getReleaseDefinitions(n,null,null,null,e.ReleaseDefinitionQueryOrder.NameAscending)},t.prototype.getReleaseDefinitionsForArtifactSource=function(n,t,r,u){var s=this,y;if(!this._isDataLoaded&&c.FeatureFlagUtils.isCreateReleaseDataProviderEnabled()){var f=h.CreateReleasePanelDataHelper.getInstance(),e=f.getReleaseDefinition(),o=!f.getLinkedProjects()?null:f.getLinkedProjects()[0];e&&o&&(y=v.format("{0}:{1}",o.name,e.id),this._artifactSourceId=f.getArtifactSourceId(),this._getDefinitionPromise[y]=i.resolve(e),this._getReleaseDefinitionsForArtifactSourcePromise[o.name]=i.resolve(f.getReleaseDefinitions()));this._isDataLoaded=!0}return(u=u||a.getDefaultWebContext().project.name,t!==this._artifactSourceId&&(this._artifactSourceId=t,this._getReleaseDefinitionsForArtifactSourcePromise={}),!this._getReleaseDefinitionsForArtifactSourcePromise[u])?this.getClient().getReleaseDefinitionsForArtifactSource(n,t,r,u,l.ReleaseDefinitionQueryOrder.NameAscending).then(function(n){return s._getReleaseDefinitionsForArtifactSourcePromise[u]=i.resolve(n),s._getReleaseDefinitionsForArtifactSourcePromise[u]}):this._getReleaseDefinitionsForArtifactSourcePromise[u]},t._azurePipelinesQueueName="Azure Pipelines",t.queueToAgentSpecificationMap={"Hosted Ubuntu 1604":"ubuntu-16.04","Hosted Windows 2019 with VS 2019":"windows-2019","Hosted VS2017":"vs2017-win2016",Hosted:"vs2015-win2012r2","Hosted Windows Container":"win1803","Hosted macOS":"macOS-10.14","Hosted macOS High Sierra":"macOS-10.13"},t}(f.ReleaseManagementSourceBase);t.DeployPipelineDefinitionSource=y});

define("PipelineWorkflow/Scripts/Shared/Sources/ReleaseSource",["require","exports","q","DistributedTaskControls/Common/Sources/SourceManager","PipelineWorkflow/Scripts/Common/Sources/ReleaseManagementSourceBase","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","ReleaseManagement/Core/Contracts","VSS/Utils/String"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.ReleaseSource=void 0;var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.DefaultTopReleasesCount=25,t}return __extends(t,n),t.getKey=function(){return"ReleaseSourceShared"},t.instance=function(){return r.SourceManager.getSource(t)},t.prototype.createRelease=function(n,t){return this.getClient().createRelease(n,t)},t.prototype.getRelease=function(n){return this.getClient().getRelease(n)},t.prototype.updateRelease=function(n){return this.getClient().updateRelease(n)},t.prototype.patchRelease=function(n,t){return this.getClient().patchRelease(n,t)},t.prototype.setDeploymentAuthorizationHeader=function(n){return this.getClient().setDeploymentAuthorizationHeader(n)},t.prototype.getReleases=function(n,t){return t===void 0&&(t=5),n>0?this.getClient().getReleases(n,0,o.empty,e.ReleaseStatus.Undefined,e.EnvironmentStatus.Undefined,null,null,e.ReleaseQueryOrder.Descending,t,0,e.ReleaseExpands.None,o.empty,o.empty,!1).then(function(n){return i.resolve(n.releases)},function(n){return i.reject(n)}):i.resolve([])},t.prototype.getSpecifiedReleases=function(n){return n.length>0?this.getClient().getReleases(0,0,o.empty,e.ReleaseStatus.Undefined,e.EnvironmentStatus.Undefined,null,null,e.ReleaseQueryOrder.Descending,this.DefaultTopReleasesCount,0,e.ReleaseExpands.Artifacts|e.ReleaseExpands.Tags,o.empty,o.empty,!1,n.join()).then(function(n){return i.resolve(n.releases)},function(n){return i.reject(n)}):i.resolve([])},t.prototype.getReleaseRevision=function(n,t){return this.getClient().getReleaseRevision(n,t)},t.prototype.getReleaseHistory=function(n){return this.getClient().getReleaseHistory(n)},t.prototype.addTag=function(n,t){if(n>0)return this.getClient().addTag(n,t).then(function(n){return i.resolve(n)},function(n){return i.reject(n)});i.reject(f.ReleaseIdInvalidError)},t.prototype.deleteTag=function(n,t){if(n>0)return this.getClient().deleteTag(n,t).then(function(n){return i.resolve(n)},function(n){return i.reject(n)});i.reject(f.ReleaseIdInvalidError)},t.prototype.getReleaseTasks=function(n,t,i){return this.getClient().getReleaseTasks(n,t,i)},t.prototype.getReleaseTasks2=function(n,t,i,r){return this.getClient().getReleaseTasks2(n,t,i,r)},t.prototype.abandonRelease=function(n,t){var i={comment:t,keepForever:null,manualEnvironments:null,status:e.ReleaseStatus.Abandoned,name:null};return this.getClient().patchRelease(n.id,i)},t.prototype.retainRelease=function(n,t,i){var r={comment:i,keepForever:t,manualEnvironments:null,status:e.ReleaseStatus.Undefined,name:null};return this.getClient().patchRelease(n,r)},t.prototype.deleteRelease=function(n,t){return this.getClient().deleteRelease(n,t)},t.prototype.undeleteRelease=function(n,t){return this.getClient().undeleteRelease(n,t)},t}(u.ReleaseManagementSourceBase);t.ReleaseSource=s});

define("DistributedTaskControls/Common/Primitives",["require","exports","VSS/Utils/String"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.Boolean=void 0;var r=function(){function n(){}return n.fromString=function(n){return n?i.equals(n.trim(),this.trueString,!0):!1},n.toString=function(n){return n?this.trueString:this.falseString},n.isTrue=function(n){return this.fromString(n)===!0},n.isFalse=function(n,t){return t?n?i.equals(n.trim(),this.falseString,!0):!1:!this.isTrue(n)},Object.defineProperty(n,"trueString",{get:function(){return"true"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"falseString",{get:function(){return"false"},enumerable:!1,configurable:!0}),n}();t.Boolean=r});

define("DistributedTaskControls/Sources/ConnectedServiceEndpointSource",["require","exports","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Sources/SourceBase","DistributedTaskControls/Common/Sources/SourceManager","TFS/Admin/Scripts/Generated/ConnectedServiceHttpClient","TFS/DistributedTask/TaskAgentRestClient","TFS/ServiceEndpoint/ServiceEndpointRestClient","VSS/Context","VSS/FeatureAvailability/Services","VSS/Service"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.ConnectedServiceEndpointSource=void 0;var l=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._dtAgentClient=c.getCollectionClient(e.TaskAgentHttpClient),t._connectedServiceHttpClient=c.getClient(f.ConnectedServiceHttpClient),t._serviceEndpointHttpClient=c.getClient(o.ServiceEndpointHttpClient),t}return __extends(t,n),t.getKey=function(){return"ConnectedServiceEndpointSource"},t.prototype.createAuthRequest=function(n){var u=s.getDefaultWebContext().project.name,f=n.toLowerCase()===i.ServiceEndpointType.Bitbucket,t=undefined,r;return f&&(r=h.FeatureAvailabilityService.isFeatureEnabled(i.FeatureFlag_BitbucketAzurePipelinesOAuthClient,!1),r&&(t=i.BitbucketAzurePipelinesOAuthAppId)),this._connectedServiceHttpClient.createAuthRequest(undefined,u,n,t)},t.prototype.createServiceEndpoint=function(n){var t=s.getDefaultWebContext().project.id;return this.fillServiceEndpointProjectReferencesForEndpoint(n,t),this._serviceEndpointHttpClient.createServiceEndpoint(n)},t.prototype.updateServiceEndpoint=function(n){var t=s.getDefaultWebContext().project.id;return this.fillServiceEndpointProjectReferencesForEndpoint(n,t),this._serviceEndpointHttpClient.updateServiceEndpoint(n,n.id,null)},t.prototype.getServiceEndpoints=function(n,t,i){var r=s.getDefaultWebContext().project.name;return this._serviceEndpointHttpClient.getServiceEndpoints(r,n,t,i)},t.prototype.getServiceEndpointTypes=function(n,t){return this._serviceEndpointHttpClient.getServiceEndpointTypes(n,t)},t.prototype.getServiceEndpoint=function(n){var t=s.getDefaultWebContext().project.name;return this._serviceEndpointHttpClient.getServiceEndpointDetails(t,n)},t.prototype.executeServiceEndpointRequest=function(n,t){var i=s.getDefaultWebContext().project.id;return this._serviceEndpointHttpClient.executeServiceEndpointRequest(n,i,t)},t.prototype.queryEndpoint=function(n){var t=s.getDefaultWebContext().project.id;return n.scope=t,this._dtAgentClient.queryEndpoint(n)},t.prototype.beginGetAzureSubscriptions=function(){return this._dtAgentClient.getAzureSubscriptions()},t.prototype.beginGetAzureManagementGroups=function(){return this._dtAgentClient.getAzureManagementGroups()},t.prototype.beginGetSubscriptionNames=function(){var n=s.getDefaultWebContext().project.name;return this._buildLegacyHttpClient.beginGetSubscriptionNames(n)},t.instance=function(){return u.SourceManager.getSource(t)},t.prototype.fillServiceEndpointProjectReferencesForEndpoint=function(n,t){var i={name:n.name,description:n.description,projectReference:{id:t,name:""}};n.serviceEndpointProjectReferences=[i]},t}(r.SourceBase);t.ConnectedServiceEndpointSource=l});

define("DistributedTaskControls/ProcessManagement/Types",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.ProcessManagementCapabilities=void 0;var i;(function(n){n[n.None=0]="None";n[n.EditProcess=1]="EditProcess";n[n.EditProcessInputs=2]="EditProcessInputs";n[n.EditPhases=4]="EditPhases";n[n.EditPhaseInputs=8]="EditPhaseInputs";n[n.EditTasks=16]="EditTasks";n[n.EditTaskInputs=32]="EditTaskInputs";n[n.EditTaskGroups=64]="EditTaskGroups";n[n.All=127]="All"})(i=t.ProcessManagementCapabilities||(t.ProcessManagementCapabilities={}))});

define("PipelineWorkflow/Scripts/Editor/Service/VstsAadAuthorizerServiceClient",["require","exports","TFS/DistributedTask/Contracts","ReleasePipeline/Scripts/TFS.ReleaseManagement.WebApiServices","VSS/Service","VSS/Context"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.VstsAadAuthorizerServiceClient=void 0;var e=function(){function n(){}return n.getKey=function(){return"SERVICE_CLIENT_KEY_VSTS_AAD_AUTHORIZER_SERVICE_CLIENT"},n.prototype.initialize=function(){var n=f.getDefaultWebContext(),t=new u.VssConnection(n);this._service=t.getService(r.VstsAadAuthorizerService)},n.prototype.authorize=function(n,t,r){return r===void 0&&(r=i.AadLoginPromptOption.FreshLogin),this._service.authorize(n,t,r)},n}();t.VstsAadAuthorizerServiceClient=e});

define("PipelineWorkflow/Scripts/Editor/Sources/AadAuthorizerSource",["require","exports","DistributedTaskControls/Common/Service/ServiceClientManager","q","DistributedTaskControls/Common/Sources/SourceBase","DistributedTaskControls/Common/Sources/SourceManager","PipelineWorkflow/Scripts/Editor/Service/VstsAadAuthorizerServiceClient","PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils","TFS/DistributedTask/Contracts","VSS/Context","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.AadAuthorizerSource=void 0;var l=function(n){function t(){var t=__construct(this,n,[]);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t._authorizerClient=i.ServiceClientManager.GetServiceClient(e.VstsAadAuthorizerServiceClient),t}return __extends(t,n),t.getKey=function(){return"AadAuthorizerSource"},t.instance=function(){return f.SourceManager.getSource(t)},t.prototype.authorize=function(n){var t=h.getDefaultWebContext(),u=t.collection.uri,f=t.project.id,e="".concat(u).concat(f,"/_admin/_services/completecallback"),l=n?n.tenantId:c.empty,i=s.AadLoginPromptOption.FreshLogin;return o.FeatureFlagUtils.isDistributedTaskRevalidateIdentityFeatureEnabled()&&(i=s.AadLoginPromptOption.FreshLoginWithMfa),this._authorizerClient.authorize(l,e,i).then(function(t){return n.vstsAccessTokenKey=t,r.resolve(n)})},t}(u.SourceBase);t.AadAuthorizerSource=l});

define("DistributedTaskControls/Phase/Types",["require","exports"],function(n,t){function i(n){return n.reduce(function(n,t){return n[t]=t,n},Object.create(null))}var r,u,f,e,o,s,h,c;Object.defineProperty(t,"__esModule",{value:!0});t.PhaseDependencyEventTypes=t.DeploymentHealthOptionConstants=t.PhaseConditionTypeKeys=t.ParallelExecutionTypeKeys=t.RunOnMachineGroupPhaseConstants=t.ExecutionPlanConstants=t.DeployPhaseSectionConstants=t.ParallelExecutionTypes=t.DeployPhaseTypes=void 0;t.DeployPhaseTypes=i(["Undefined","AgentBasedDeployment","RunOnServer","MachineGroupBasedDeployment","DefaultPhase"]),function(n){n[n.None=0]="None";n[n.MultiConfiguration=1]="MultiConfiguration";n[n.MultiMachine=2]="MultiMachine"}(r=t.ParallelExecutionTypes||(t.ParallelExecutionTypes={})),function(n){n.DeploymentTargetsKey="DeploymentTargets";n.DependenciesKey="Dependencies";n.AdditionalOptionsKey="AdditionalOptions";n.AgentSelectionKey="AgentSelection";n.ExecutionPlanKey="ExecutionPlan";n.NameDeferredValidationTime=500;n.NameMaxLength=256;n.MinJobCancelTimeout=1;n.MaxJobCancelTimeout=60}(u=t.DeployPhaseSectionConstants||(t.DeployPhaseSectionConstants={})),function(n){n.MinValidAgentsCount=1;n.MaxValidAgentsCount=99;n.MinTimeout=0;n.ServerPhaseDefaultAgentCount=50}(f=t.ExecutionPlanConstants||(t.ExecutionPlanConstants={})),function(n){n.HealthPercentMaxValue=100;n.HealthPercentMinValue=0;n.MinimumNumberOfHealthyTargets=1;n.HealthyTargetSliderStep=1;n.MachineGroupHubId="ms.vss-releaseManagement-web.hub-machinegroup"}(e=t.RunOnMachineGroupPhaseConstants||(t.RunOnMachineGroupPhaseConstants={})),function(n){n.None="None";n.MultiConfiguration="MultiConfiguration";n.MultiMachine="MultiMachine"}(o=t.ParallelExecutionTypeKeys||(t.ParallelExecutionTypeKeys={})),function(n){n.Succeeded="succeeded()";n.SucceededOrFailed="succeededOrFailed()";n.Failed="failed()";n.Custom=""}(s=t.PhaseConditionTypeKeys||(t.PhaseConditionTypeKeys={})),function(n){n.AllTargetsInParallel="AllTargetsInParallel";n.HalfOfTargetsInParallel="HalfOfTargetsInParallel";n.QuarterOfTargetsInParallel="QuarterOfTargetsInParallel";n.OneTargetAtATime="OneTargetAtATime";n.Custom="Custom"}(h=t.DeploymentHealthOptionConstants||(t.DeploymentHealthOptionConstants={})),function(n){n.Completed="Completed"}(c=t.PhaseDependencyEventTypes||(t.PhaseDependencyEventTypes={}))});

define("DistributedTaskControls/Components/Canvas/Types",["require","exports"],function(n,t){function r(n){return n*i.depthScaleMultiplier+i.depthScaleOffset}Object.defineProperty(t,"__esModule",{value:!0});t.depthScaleModifier=t.Constants=void 0;var i=function(){function n(){}return n.verticalDisplacement=30,n.depthScaleMultiplier=4,n.depthScaleOffset=2,n.minOffset=5,n.svgRightMargin=20,n.svgBottomMargin=20,n.verticalDisplacementOffsetIncrementForCrossStageEdges=5,n.horizontalDisplacementOffsetIncrementForCrossStageEdges=10,n.negativeNodeRank=-1,n.graphLeftMargin=80,n.edgeQuadraticBezierScaleDownFactor=2.5,n}();t.Constants=i;t.depthScaleModifier=r});

define("DistributedTaskControls/Components/Canvas/GraphLayoutHelper",["require","exports","DistributedTaskControls/Components/Canvas/Types","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Diag","VSS/FeatureAvailability/Services","VSS/Utils/String","VSS/Utils/Array"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});t.GraphLayoutHelper=void 0;var c=function(){function n(){}return n.validateNodesAndEdges=function(n,t){var f=this._createNodeKeyToNodeMap(n),i=s.empty,r,u;for(r in t)if(t.hasOwnProperty(r)){if(!f[r]&&(i=r,i))break;for(u in t[r])if(t[r].hasOwnProperty(u)&&!f[u]&&(i=u,i))break}if(i)throw new Error(s.format("Graph does not have node corresponding to edge end {0}. Please ensure that node and edge inputs to graph is proper",i));},n.createStagingOrderAndDependencies=function(n,t){var i=this._createAndInitializeNodesForLayout(n),r=this._createNodeKeyToNodeMap(i),u=this._extractDependencies(i,t,r),f=this._getStagingOrder(i,u,r),e=f.stagingOrder,o=f.layoutError;return{stagingOrder:e,dependencies:u,layoutError:o}},n.splitGraph=function(n,t){for(var v,o,s,r,h,y,p,i=this._createNodeKeyToNodeMap(n),c=this._extractDependencies(n,t,i),u=this.getDisjointTreeFromEdges(c),w=this._createNodeToGraphIndexMap(u),f=[],l=!1,e=0,a=u;e<a.length;e++)if(v=a[e],o=this._getMinRankNodeKeyInFirstStage(v,c,i),o)f.push(o);else{l=!0;break}if(l)return[{nodes:n,edges:t}];for(this._sortNodes(f,i),s=[],r=0,h=f;r<h.length;r++)y=h[r],p=w[y],s.push(this._createGraph(u[p],i,t));return s},n.getDependencies=function(n,t){var i=this._createNodeKeyToNodeMap(n);return this._extractDependencies(n,t,i)},n.getIncomingEdgeLayouts=function(t,i){for(var e,a,r,o,s,h,u=0,c=[],v={x:0,y:t.nodeHeight/2},y=n.resolveGraphLeftMargin(t.leftMargin),f=0,l=i;f<l.length;f++){for(e=l[f],a=e.getPositionOfIncomingNodes(),r=0,o=a;r<o.length;r++)s=o[r],h={x:s.x+y,y:s.y+u},c.push({from:v,to:h,fromDepth:0,key:h.y.toString()});u=u+e.getGraphSize().height}return c},n._getMinRankNodeKeyInFirstStage=function(n,t,i){var r=Infinity,u;return n.forEach(function(n){if(!t[n]||t[n].length===0){var f=i[n],e=f.nodeRankHint;e<r&&(r=e,u=f.key)}}),u},n._createGraph=function(n,t,i){return{nodes:n.map(function(n){return t[n]}),edges:this._filterEdges(n,i)}},n._sortNodes=function(n,t){n.sort(function(n,i){var r=t[n],u=t[i];return r.nodeRankHint-u.nodeRankHint})},n._createNodeToGraphIndexMap=function(n){var t={};return n.forEach(function(n,i){n.forEach(function(n){return t[n]=i})}),t},n._filterEdges=function(n,t){var r={},f={},i,u;n.forEach(function(n){return f[n]=!0});for(i in t)if(t.hasOwnProperty(i))for(u in t[i])t[i].hasOwnProperty(u)&&(f[i]||i===s.empty)&&f[u]&&(r[i]||(r[i]={}),r[i][u]=!0);return r},n.isFromNodeNotParentButAncestorOfToNode=function(n,t,i,r){var e=this,u=[],f=i[t];return f&&f.length>0&&f.forEach(function(t){t!==n&&(u=u.concat(e._getAncestors(t,i,r)),u=h.uniqueSort(u))}),u.filter(function(t){return t===n}).length>0},n.getNodeDataForLayout=function(n,t,i,r){for(var c,f,e,u,l=this._getMaxRowsInStagingOrder(n),s=[],h=0,o=0;o<l;o++){for(c=n.length,f=0,e=0;e<c;e++)u=n[e][o],u&&((!u.nodeHeightHint||u.nodeHeightHint<0)&&(u.nodeHeightHint=t.nodeHeight),u.topLeftPosition={x:e*(t.nodeWidth+t.horizontalMargin)+i,y:o*t.verticalMargin+h},u.midPoints=this._getNodeMidPoints(u.topLeftPosition,t.nodeHeight,t.nodeWidth),s.push(u),r.x=Math.max(r.x,u.topLeftPosition.x+t.nodeWidth),r.y=Math.max(r.y,u.topLeftPosition.y+u.nodeHeightHint),u.nodeHeightHint>f&&(f=u.nodeHeightHint));f||(f=t.nodeHeight);h+=f}return s},n._getMaxRowsInStagingOrder=function(n){for(var r,t=0,i=0,u=n;i<u.length;i++)r=u[i],r.length>t&&(t=r.length);return t},n.getEdgeDataForLayout=function(t,i,r,f,e,o){var y=this,l,a;o===void 0&&(o={});var p=t.length,s=[],v=[],h={},c=u.JQueryWrapper.extendDeep({},r),w=function(n){var r=t[n],u=t[n+1],i=0;r.forEach(function(n){h[n.key]=n;u.forEach(function(t){if(h[t.key]=t,c[n.key]&&c[n.key][t.key]){var f=n.midPoints.right,o=t.midPoints.left,r=y._shouldHighlightEdge(n.key,t.key,e),u={from:f,to:o,key:n.key+"."+t.key,fromDepth:i,highlightEdge:r};r?v.push(u):s.push(u);c[n.key][t.key]=!1}});i++})};for(l=0;l<p-1;l++)w(l);return s.push.apply(s,v),a=t[0],a&&a.forEach(function(n){return h[n.key]=n}),this._populateCrossStageEdges(s,c,h,i,f,o,e),n.resolveGraphLeftMargin(f.leftMargin)&&this._populateInputEdgesOfGraph(s,c,h,f),s},n.getDisjointTreeFromEdges=function(n){var t=this._getAdjacencyList(n),r={},u=[],i,f;if(t)for(i in t)t.hasOwnProperty(i)&&!r[i]&&(f=this._breadthFirstTraversal(i,t,r),u.push(f));return u},n.resolveGraphLeftMargin=function(n){return n===undefined||n===null?i.Constants.graphLeftMargin:n},n._getAdjacencyList=function(n){var i=u.JQueryWrapper.extendDeep({},n),t={},r,f;if(i){r=function(n){if(i.hasOwnProperty(n)){var r=i[n];t[n]?r.forEach(function(i){t[n].push(i)}):t[n]=r;r.forEach(function(i){t[i]?t[i].push(n):t[i]=[n]})}};for(f in i)r(f)}return t},n._breadthFirstTraversal=function(n,t,i){var u=[],r=[],f;for(r.push(n),i[n]=!0;r.length>0;)n=r.shift(),u.push(n),f=t[n],f.forEach(function(n){i[n]||(r.push(n),i[n]=!0)});return u},n._populateCrossStageEdges=function(t,i,r,u,f,e,o){var c,s,a,h;for(s in i)if(s&&i.hasOwnProperty(s)){a=i[s];for(h in a)if(a.hasOwnProperty(h)&&a[h]){if(!n.isFromNodeNotParentButAncestorOfToNode(s,h,u,e)&&r[s]&&r[h]){c||(c=this._getDisplacementOffsetMap(r));var l=r[s].midPoints.right,v=r[h].midPoints.left,y=0;this._doesAnyNodeExistInPath(l,v,r)&&(y=f.verticalMargin/2+f.nodeHeight/2+c[s].y);var w=Math.max(l.x+f.horizontalMargin-c[s].x,l.x),p={x:w,y:l.y+y},b=Math.min(v.x-f.horizontalMargin+c[s].x,v.x),k={x:b,y:p.y},d=this._shouldHighlightEdge(s,h,o),g=this._getCrossStageEdges(s+"."+h,d,l,p,k,v);g.forEach(function(n){t.push(n)})}i[s][h]=!1}}},n._shouldHighlightEdge=function(n,t,i){return i&&(s.equals(n,i,!0)||s.equals(t,i,!0))},n._populateInputEdgesOfGraph=function(n,t,i,r){var f=t[s.empty],e,u;if(f){e=r.nodeHeight/2;for(u in f)if(f.hasOwnProperty(u)){var o=i[u],h={x:0,y:e},c={x:o.midPoints.left.x,y:o.midPoints.left.y};n.push({from:h,to:c,key:"entry."+u,fromDepth:0})}}},n._doesAnyNodeExistInPath=function(n,t,i){function f(t){return t.midPoints.left.y===n.y}function e(t){return t.midPoints.left.x>n.x}function o(n){return n.midPoints.left.x<t.x}var u=this._getNodeListFromNodeKeyToNodeNameMap(i),r=u.filter(function(n){return f(n)&&e(n)&&o(n)});return r&&r.length>0},n._getDisplacementOffsetMap=function(n){var f=this._getNodeListFromNodeKeyToNodeNameMap(n);f.sort(function(n,t){return n.topLeftPosition.x-t.topLeftPosition.x});var t={},r=0,u=-1;return f.forEach(function(n){n.topLeftPosition.x!==u&&(r+=i.Constants.verticalDisplacementOffsetIncrementForCrossStageEdges,u=n.topLeftPosition.x);t[n.key]||(t[n.key]={x:0,y:0});t[n.key].y=r}),r=0,u=-1,f.sort(function(n,t){return n.topLeftPosition.y-t.topLeftPosition.y}),f.forEach(function(n){n.topLeftPosition.y!==u&&(r+=i.Constants.horizontalDisplacementOffsetIncrementForCrossStageEdges,u=n.topLeftPosition.y);t[n.key].x=r}),t},n._getNodeListFromNodeKeyToNodeNameMap=function(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(n[i]);return t},n._getCrossStageEdges=function(n,t){for(var f,i,e,r=[],u=2;u<arguments.length;u++)r[u-2]=arguments[u];for(f=[],i=0,e=r.length;i<e-1;i++)f.push({from:r[i],to:r[i+1],key:n+"-part"+(i+1).toString(),isCrossStage:!0,fromDepth:0,highlightEdge:t});return f},n._getNodeMidPoints=function(n,t,i){var r={};return r.left={x:n.x,y:n.y+t/2},r.right={x:n.x+i,y:n.y+t/2},r},n._getAncestors=function(n,t,i){var e=this,u=[],f=t[n];return o.FeatureAvailabilityService.isFeatureEnabled(r.FeatureFlag_CanvasGraphPerformanceImprovement,!1)&&i[n]?i[n]:(f&&f.length>0&&f.forEach(function(n){u=u.concat(n,e._getAncestors(n,t,i));u=h.uniqueSort(u)}),i[n]=u,u)},n._getStagingOrder=function(n,t){for(var o=this,i=[],f={},r=0,u,e;;){if(n.forEach(function(n){if(!f[n.key]){var u=o._areAllDependenciesStaged(n.key,t,f);u&&(i[r]||(i[r]=[]),i[r].push(n))}}),i[r])i[r].forEach(function(n){f[n.key]=!0}),r++;else break;if(r>this.c_maxIterationCount)throw new Error(s.format("Could not layout graph in {0} iterations. There is a bug in the layout logic",this.c_maxIterationCount));}return u=this._getNodesThatAreNotStaged(n,f),e=s.empty,u&&u.length>0&&(e=this._getCyclicDependencyError(u),i[0]||(i[0]=[]),u.forEach(function(n){i[0].push(n)})),this._sortNodesInStages(i),{stagingOrder:i,layoutError:e}},n._getNodesThatAreNotStaged=function(n,t){return n.filter(function(n){return!t[n.key]})},n._getCyclicDependencyError=function(n){if(n.length>0){var t=n.map(function(n){return n.friendlyName||n.key});return s.localeFormat(f.CyclicDependencyErrorMessage,t.join(f.CyclicDependencyErrorMessageNodeSeparator))}return s.empty},n._sortNodesInStages=function(n){for(var t=n.length-1;t>=0;t--)n[t].sort(function(n,t){return n.nodeRank-t.nodeRank})},n._areAllDependenciesStaged=function(n,t,i){var r=!0;return t[n]&&t[n].forEach(function(n){if(!i[n]){r=!1;return}}),r},n._createAndInitializeNodesForLayout=function(n){return n.map(function(n){var t=u.JQueryWrapper.extendDeep({},n);return n.nodeRankHint!==undefined?t.nodeRank=n.nodeRankHint:(e.logError("Node should have a rank hint"),t.nodeRank=0),t})},n._createNodeKeyToNodeMap=function(n){var t={};return n.forEach(function(n){t[n.key]=n}),t},n._extractDependencies=function(n,t){var i={};return n.forEach(function(r){i[r.key]||(i[r.key]=[]);n.forEach(function(n){t[r.key]&&t[r.key][n.key]&&(i[n.key]||(i[n.key]=[]),i[n.key].push(r.key))})}),i},n.c_maxIterationCount=1e4,n}();t.GraphLayoutHelper=c});

define("PipelineWorkflow/Scripts/Common/NavigationStateUtils",["require","exports","VSS/Utils/String","VSS/Navigation/Services"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.NavigationStateUtils=void 0;var u=function(){function n(){}return n.geSourceId=function(){return this._getIntValueFromState(this.c_sourceIdKey)},n.getDefinitionId=function(){return this._getIntValueFromState(this.c_definitionIdKey)},n.getPath=function(){return this._getStringValueFromState(this.c_pathKey)},n.getEnvironmentId=function(){return this._getIntValueFromState(this.c_environmentIdKey)},n.getExtensionId=function(){return this._getStringValueFromState(this.c_extensionIdKey)},n.getBuildDefinitionId=function(){return this._getIntValueFromState(this.c_buildDefinitionIdKey)},n.getDeploymentGroupPhaseId=function(){return this._getIntValueFromState(this.c_deploymentGroupPhaseIdKey)},n.getBuildDefinitionName=function(){return this._getStringValueFromState(this.c_buildDefinitionNameKey)},n.getProjectId=function(){return this._getStringValueFromState(this.c_projectIdKey)},n.getProjectName=function(){return this._getStringValueFromState(this.c_projectNameKey)},n.getReleaseId=function(){return this._getIntValueFromState(this.c_releaseId)},n.getTemplateId=function(){return this._getStringValueFromState(this.c_templateIdKey)},n.canCustomizeCanvas=function(){return i.equals(this._getStringValueFromState(this.c_customizeCanvas),"True",!0)},n.splitGraph=function(){return!i.equals(this._getStringValueFromState(this.c_splitGraph),"False",!0)},n.canZoomCanvas=function(){return i.equals(this._getStringValueFromState(this.c_zoomCanvas),"True",!0)},n.showEnvironmentRank=function(){return i.equals(this._getStringValueFromState(this.c_showEnvironmentRank),"True",!0)},n.getRequestSource=function(){return this._getStringValueFromState(this.c_source)},n.getAgentName=function(){return this._getStringValueFromState(this.c_agentName)},n.getJobStates=function(){return this._getStringValueFromState(this.c_jobStates)},n.getGateSampleRank=function(){return this._getIntValueFromState(this.c_gateSampleRank)},n.getGateName=function(){return this._getStringValueFromState(this.c_gateName)},n.selectGatesItemInLogsView=function(){return i.equals(this._getStringValueFromState(this.c_selectGatesItemInLogsView),"True",!0)},n.isPreDeploymentGatesSelected=function(){return i.equals(this._getStringValueFromState(this.c_isPreDeploymentGatesSelected),"True",!0)},n.getJobTimelineRecordIdToSelect=function(){return this._getStringValueFromState(this.c_jobTimelineRecordIdToSelect)},n.getAction=function(){var n=r.getHistoryService().getCurrentState();return n&&n.action?n.action:i.empty},n.selectFirstErrorFromAllPhases=function(){return i.equals(this._getStringValueFromState(this.c_selectFirstErrorFromAllPhases),"True",!0)},n._getIntValueFromState=function(n){var t=r.getHistoryService().getCurrentState(),i=0;return t&&t[n]&&(i=parseInt(t[n],10)),i},n._getStringValueFromState=function(n){var t=r.getHistoryService().getCurrentState();return t[n]},n.getTaskIndexToSelect=function(){var n=r.getHistoryService().getCurrentState(),t;return n&&n[this.c_taskIndexToSelect]&&(t=parseInt(n[this.c_taskIndexToSelect],10)),t},n.c_projectIdKey="projectId",n.c_buildDefinitionIdKey="buildDefinitionId",n.c_deploymentGroupPhaseIdKey="deploymentGroupPhaseId",n.c_buildDefinitionNameKey="buildDefinitionName",n.c_projectNameKey="projectName",n.c_definitionIdKey="definitionId",n.c_pathKey="path",n.c_sourceIdKey="sourceId",n.c_environmentIdKey="environmentId",n.c_extensionIdKey="extensionId",n.c_templateIdKey="templateId",n.c_customizeCanvas="customizeCanvas",n.c_splitGraph="splitGraph",n.c_zoomCanvas="zoomCanvas",n.c_showEnvironmentRank="showEnvironmentRank",n.c_releaseId="releaseId",n.c_source="source",n.c_mergeUpdatedRelease="mergeRelease",n.c_selectFirstErrorFromAllPhases="selectFirstError",n.c_agentName="agentName",n.c_taskIndexToSelect="selectTaskWithIndex",n.c_jobStates="jobStates",n.c_gateSampleRank="gateSampleRank",n.c_gateName="gateName",n.c_selectGatesItemInLogsView="selectGatesItemInLogsView",n.c_isPreDeploymentGatesSelected="isPreDeploymentGatesSelected",n.c_jobTimelineRecordIdToSelect="jobTimelineRecordIdToSelect",n}();t.NavigationStateUtils=u});

define("PipelineWorkflow/Scripts/Editor/Common/Types",["require","exports","ReleaseManagement/Core/Contracts","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleaseManagement/Core/Constants"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.InputMode=t.DeploymentGatesPhaseTypeString=t.PipelineAuthorizationHeaderType=t.PipelinePullRequestTriggerContractMetadata=t.PipelineDefinitionContractMetadata=t.ReleaseDefinitionExpands=t.ReleaseDefinitionQueryOrder=t.PipelineDeployPhaseTypes=t.PipelineExtensionAreas=t.PipelineDefinitionDesignerActions=t.PipelineReleaseEditorActions=t.PipelineRunOptionsConstants=t.PipelineStringConstants=t.PipelineArtifactDefinitionConstants=t.PipelineArtifactTypes=t.PipelineArtifactConstants=t.PipelineConstants=t.PipelineEnvironmentTriggerConditionEnvironmentStatus=t.PipelineEnvironmentTriggerTypeConstants=t.PipelineEnvironmentTriggerConditionType=t.PipelineTriggerType=t.PipelineDefinitionSource=t.PipelineDefinitionRequestCreationSource_Type=void 0;t.PipelineDefinitionRequestCreationSource_Type=r.ReleaseDefinitionCreationSource;t.PipelineDefinitionSource=i.ReleaseDefinitionSource;t.PipelineTriggerType=i.ReleaseTriggerType;t.PipelineEnvironmentTriggerConditionType=i.ConditionType;t.PipelineEnvironmentTriggerTypeConstants=r.EnvironmentDeploymentConditionsTriggerTypeConstants;t.PipelineEnvironmentTriggerConditionEnvironmentStatus=i.EnvironmentStatus;t.PipelineConstants=r.ReleaseDefinitionConstants;t.PipelineArtifactConstants=r.ArtifactDefaultVersionConstants;t.PipelineArtifactTypes=r.ArtifactTypes;t.PipelineArtifactDefinitionConstants=u.ArtifactDefinitionConstants;t.PipelineStringConstants=r.StringConstants;t.PipelineRunOptionsConstants=u.RunOptionsConstants;t.PipelineReleaseEditorActions=r.ReleaseEditorAction;t.PipelineDefinitionDesignerActions=r.DefinitionDesignerActions;t.PipelineExtensionAreas=r.ExtensionArea;t.PipelineDeployPhaseTypes=i.DeployPhaseTypes;t.ReleaseDefinitionQueryOrder=i.ReleaseDefinitionQueryOrder;t.ReleaseDefinitionExpands=i.ReleaseDefinitionExpands;t.PipelineDefinitionContractMetadata=i.TypeInfo.ReleaseDefinition;t.PipelinePullRequestTriggerContractMetadata=i.TypeInfo.PullRequestTrigger;t.PipelineAuthorizationHeaderType=i.AuthorizationHeaderFor;t.DeploymentGatesPhaseTypeString="DeploymentGates";var f;(function(n){n[n.None=0]="None";n[n.TextBox=10]="TextBox";n[n.PasswordBox=20]="PasswordBox";n[n.Combo=30]="Combo";n[n.RadioButtons=40]="RadioButtons";n[n.CheckBox=50]="CheckBox";n[n.TextArea=60]="TextArea";n[n.PickList=70]="PickList";n[n.Tags=80]="Tags"})(f=t.InputMode||(t.InputMode={}))});

define("DistributedTaskControls/Phase/Actions/DeployPhaseActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.DeployPhaseActionsHub=void 0;var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return r.ActionsKeys.DeployPhaseActions},t.prototype.initialize=function(){this._updateEnableAccessToken=new i.Action;this._updatePhaseName=new i.Action;this._updateSkipArtifactsDownload=new i.Action;this._updatePhaseCondition=new i.Action;this._updateTimeout=new i.Action;this._updateJobCancelTimeout=new i.Action;this._updateTypeOfParallelism=new i.Action;this._updateMaximumNumberOfAgents=new i.Action;this._updateContinueOnError=new i.Action;this._updateMultipliers=new i.Action;this._updateDeploymentMachineGroup=new i.Action;this._updateDeploymentHealthOption=new i.Action;this._updateHealthPercent=new i.Action;this._updateTags=new i.Action;this._updatePhase=new i.Action;this._updateExecutionPlan=new i.Action;this._markPhaseAsDeleting=new i.Action},Object.defineProperty(t.prototype,"updateEnableAccessToken",{get:function(){return this._updateEnableAccessToken},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updatePhaseName",{get:function(){return this._updatePhaseName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateSkipArtifactsDownload",{get:function(){return this._updateSkipArtifactsDownload},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updatePhaseCondition",{get:function(){return this._updatePhaseCondition},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateTimeout",{get:function(){return this._updateTimeout},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateJobCancelTimeout",{get:function(){return this._updateJobCancelTimeout},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateTypeOfParallelism",{get:function(){return this._updateTypeOfParallelism},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateMaximumNumberOfAgents",{get:function(){return this._updateMaximumNumberOfAgents},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateContinueOnError",{get:function(){return this._updateContinueOnError},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateMultipliers",{get:function(){return this._updateMultipliers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateDeploymentMachineGroup",{get:function(){return this._updateDeploymentMachineGroup},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateDeploymentHealthOption",{get:function(){return this._updateDeploymentHealthOption},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateHealthPercent",{get:function(){return this._updateHealthPercent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateTags",{get:function(){return this._updateTags},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updatePhase",{get:function(){return this._updatePhase},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateExecutionPlan",{get:function(){return this._updateExecutionPlan},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"markPhaseAsDeleting",{get:function(){return this._markPhaseAsDeleting},enumerable:!1,configurable:!0}),t}(i.ActionsHubBase);t.DeployPhaseActionsHub=u});

define("DistributedTaskControls/Phase/Actions/DeployPhaseListActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.DeployPhaseListActionsHub=void 0;var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return r.ActionsKeys.DeployPhaseListActions},t.prototype.initialize=function(){this._addPhase=new i.Action;this._deletePhase=new i.Action;this._updatePhases=new i.Action;this._shiftPhase=new i.Action;this._insertPhase=new i.Action;this._startDragPhase=new i.Action;this._endDragPhase=new i.Action;this._completePhaseAddition=new i.Action},Object.defineProperty(t.prototype,"addPhase",{get:function(){return this._addPhase},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deletePhase",{get:function(){return this._deletePhase},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updatePhases",{get:function(){return this._updatePhases},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shiftPhase",{get:function(){return this._shiftPhase},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"insertPhase",{get:function(){return this._insertPhase},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startDragPhase",{get:function(){return this._startDragPhase},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endDragPhase",{get:function(){return this._endDragPhase},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completePhaseAddition",{get:function(){return this._completePhaseAddition},enumerable:!1,configurable:!0}),t}(i.ActionsHubBase);t.DeployPhaseListActionsHub=u});

define("DistributedTaskControls/Actions/ItemSelectorActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.Actions=t.SHIFT_KEY=t.CNTRL_KEY=void 0;t.CNTRL_KEY="ctrl-key";t.SHIFT_KEY="shift-key";var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._selectItem=new u.Action;this._deselectItem=new u.Action;this._multiSelectItem=new u.Action;this._updateSelection=new u.Action;this._updateKeyDownState=new u.Action;this._clearSelection=new u.Action;this._updateItem=new u.Action;this._updateItemList=new u.Action;this._setFocusOnLastSelectedItem=new u.Action},t.getKey=function(){return r.ActionsKeys.ItemSelectorActions},Object.defineProperty(t.prototype,"selectItem",{get:function(){return this._selectItem},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deselectItem",{get:function(){return this._deselectItem},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multiSelectItem",{get:function(){return this._multiSelectItem},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateSelection",{get:function(){return this._updateSelection},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateKeyDownState",{get:function(){return this._updateKeyDownState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateItem",{get:function(){return this._updateItem},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateItemList",{get:function(){return this._updateItemList},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearSelection",{get:function(){return this._clearSelection},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setFocusOnLastSelectedItem",{get:function(){return this._setFocusOnLastSelectedItem},enumerable:!1,configurable:!0}),t}(i.ActionsHubBase);t.Actions=f});

define("DistributedTaskControls/Actions/TaskListActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.TaskListActions=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._addTask=new u.Action;this._removeTask=new u.Action;this._updateTasks=new u.Action;this._shiftTask=new u.Action;this._cloneTasks=new u.Action;this._metaTaskCreated=new u.Action;this._clearAddTaskLocation=new u.Action;this._insertTask=new u.Action;this._completeTaskAddition=new u.Action},t.getKey=function(){return r.ActionsKeys.TaskListActions},Object.defineProperty(t.prototype,"addTask",{get:function(){return this._addTask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"removeTask",{get:function(){return this._removeTask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateTasks",{get:function(){return this._updateTasks},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shiftTask",{get:function(){return this._shiftTask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearAddTaskLocation",{get:function(){return this._clearAddTaskLocation},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cloneTasks",{get:function(){return this._cloneTasks},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metaTaskCreated",{get:function(){return this._metaTaskCreated},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"insertTask",{get:function(){return this._insertTask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completeTaskAddition",{get:function(){return this._completeTaskAddition},enumerable:!1,configurable:!0}),t}(i.ActionsHubBase);t.TaskListActions=f});

define("DistributedTaskControls/Stores/ItemSelectionStore",["require","exports","DistributedTaskControls/Actions/ItemSelectorActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/Base","VSS/Diag","VSS/Utils/Array"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.Store=void 0;var s=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._handleSelectItem=function(n){n.data&&e.logInfo("[ItemSelectionStore._handleSelectItem]: Selecting a new item. ItemKey - "+n.data.getKey());i._singleSelectItem(n);i.emitChanged()},i._updateSelection=function(n){i._state.previouslySelectedItems=[];i._state.previouslySelectedItems.push.apply(i._state.previouslySelectedItems,i._state.selectedItems);i._state.selectedItems=[];n&&n.length>0?i._state.selectedItems.push.apply(i._state.selectedItems,n):i._defaultSelection&&i._defaultSelection.length>0&&i._state.selectedItems.push(i._defaultSelection[0]);i.emitChanged()},i._handleDeselectItem=function(n){i.isItemInSelectedGroup(n.data)?(e.logInfo("[ItemSelectionStore._handleDeselectItem]: Deselecting an item. ItemKey - "+n.data.getKey()),i._state.previouslySelectedItems.push(n),i._state.selectedItems=i._state.selectedItems.filter(function(t){return t.data.getKey()!==n.data.getKey()}),i.emitChanged()):e.logWarning("[ItemSelectionStore._handleDeselectItem]: Atempt to deselect and item which is not part of selected item group. ItemKey - "+n.data.getKey())},i._handleMultiSelectItem=function(n){var e,t,r,f;i._isFirstSelectedItemMultiSelectable(n)?i._items.length>0&&i._multiSelectKeysState[u.SHIFT_KEY]?(e=[],t=[],i._state.previouslySelectedItems=[],r=o.findIndex(i._items,function(t){return t.getKey()===n.data.getKey()}),f=o.findIndex(i._items,function(n){return n.getKey()===i._state.selectedItems[0].data.getKey()}),f>r?(t=i._items.slice(r,f+1),t.reverse()):t=i._items.slice(f,r+1),t.map(function(n){e.push({data:n,canParticipateInMultiSelect:!0})}),i._updateSelection(e)):i.isItemInSelectedGroup(n.data)?i._handleDeselectItem(n):i._state.selectedItems.push(n):i._singleSelectItem(n);i.emitChanged()},i._updateKeyDownState=function(n){i._multiSelectKeysState[n.key]=n.state},i._updateItemList=function(n){i._items=n},i._updateItem=function(n){var t=i._updateSelectedItems(i._state.selectedItems,n),r=i._updateItems(i._items,n);(t||r)&&i.emitChanged()},i._clearSelection=function(){i._state.selectedItems=[];i._state.previouslySelectedItems=[];i.emitChanged()},i._setFocusOnLastSelectedItem=function(n){i._state.setFocusOnLastSelectedItem=n},i._items=[],i._multiSelectKeysState={},i._state={},i._multiSelectKeysState[u.CNTRL_KEY]=!1,i._multiSelectKeysState[u.SHIFT_KEY]=!1,i._defaultSelection=t.defaultSelection||[],i._state={selectedItems:i._defaultSelection,previouslySelectedItems:[],setFocusOnLastSelectedItem:t.setFocusOnLastSelectedItem},i}return __extends(t,n),t.prototype.initialize=function(n){this._actions=r.ActionsHubManager.GetActionsHub(i.Actions,n);this._actions.selectItem.addListener(this._handleSelectItem);this._actions.deselectItem.addListener(this._handleDeselectItem);this._actions.updateSelection.addListener(this._updateSelection);this._actions.multiSelectItem.addListener(this._handleMultiSelectItem);this._actions.updateKeyDownState.addListener(this._updateKeyDownState);this._actions.updateItem.addListener(this._updateItem);this._actions.updateItemList.addListener(this._updateItemList);this._actions.clearSelection.addListener(this._clearSelection);this._actions.setFocusOnLastSelectedItem.addListener(this._setFocusOnLastSelectedItem)},t.prototype.disposeInternal=function(){this._actions.selectItem.removeListener(this._handleSelectItem);this._actions.deselectItem.removeListener(this._handleDeselectItem);this._actions.updateSelection.removeListener(this._updateSelection);this._actions.multiSelectItem.removeListener(this._handleMultiSelectItem);this._actions.updateKeyDownState.removeListener(this._updateKeyDownState);this._actions.updateItem.removeListener(this._updateItem);this._actions.updateItemList.removeListener(this._updateItemList);this._actions.clearSelection.removeListener(this._clearSelection);this._actions.setFocusOnLastSelectedItem.removeListener(this._setFocusOnLastSelectedItem)},t.getKey=function(){return"Common.ItemSelectionStore"},t.prototype.getState=function(){return this._state},t.prototype.getSelectedItem=function(){return this._getLastItem(this.getState().selectedItems)},t.prototype.getPreviouslySelectedItem=function(){return this._getLastItem(this.getState().previouslySelectedItems)},t.prototype.isItemInSelectedGroup=function(n){return n?!!this._state.selectedItems&&this._state.selectedItems.length>0&&this._state.selectedItems.some(function(t){return!!t.data&&t.data.getKey()===n.getKey()}):!1},t.prototype.isItemInPreviouslySelectedGroup=function(n){return n?!!this._state.previouslySelectedItems&&this._state.previouslySelectedItems.length>0&&this._state.previouslySelectedItems.some(function(t){return!!t.data&&t.data.getKey()===n.getKey()}):!1},t.prototype.getKeyDownState=function(n){return this._multiSelectKeysState[n]},t.prototype.shouldClearSelection=function(){return this._state.selectedItems&&this._state.selectedItems.length===0&&this._state.previouslySelectedItems&&this._state.previouslySelectedItems.length===0},t.prototype._getLastItem=function(n){return!n||n.length===0?null:n[0].data},t.prototype._isFirstSelectedItemMultiSelectable=function(n){return this._state.selectedItems&&this._state.selectedItems[0]&&!!this._state.selectedItems[0].canParticipateInMultiSelect&&!!n.canParticipateInMultiSelect},t.prototype._singleSelectItem=function(n){if(!n.data){this._state.selectedItems=[];return}this._state.selectedItems&&this._state.selectedItems.length===1&&this._state.selectedItems[0].data.getKey()===n.data.getKey()||(this._state.previouslySelectedItems=[],this._state.previouslySelectedItems.push.apply(this._state.previouslySelectedItems,this._state.selectedItems),this._state.selectedItems=[],this._state.selectedItems.push(n))},t.prototype._updateItems=function(n,t){var i=-1,r=n.filter(function(n,r){var u=n.getKey()===t.getKey();return u&&(i=r),u});return i>-1?(n[i]=t,!0):!1},t.prototype._updateSelectedItems=function(n,t){var i=-1,r=n.filter(function(n,r){var u=n.data&&n.data.getKey()===t.getKey();return u&&(i=r),u});return i>-1?(n[i]={data:t},!0):!1},t}(f.StoreBase);t.Store=s});

define("DistributedTaskControls/Components/SelectableBase",["require","exports","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Stores/ItemSelectionStore","DistributedTaskControls/Actions/ItemSelectorActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Stores/StoreManager"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.SelectableBase=void 0;var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onchange=function(){var n=t.getItem(),i=t._itemSelectionStore.isItemInSelectedGroup(n);i||t._itemSelectionStore.isItemInPreviouslySelectedGroup(n)?(t._trySetFocus=!0,t.setState({isSelected:i})):t._itemSelectionStore.shouldClearSelection()&&t.setState({isSelected:!1})},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._itemSelectionStore=e.StoreManager.GetStore(r.Store,this.props.instanceId);this._itemSelectorActions=f.ActionsHubManager.GetActionsHub(u.Actions,this.props.instanceId);this.setState({isSelected:this._itemSelectionStore.isItemInSelectedGroup(this.getItem())})},t.prototype.componentDidMount=function(){this._itemSelectionStore.addChangedListener(this._onchange);this._focusLastSelectedItem()},t.prototype.componentWillUnmount=function(){this._itemSelectionStore.removeChangedListener(this._onchange)},t.prototype.componentDidUpdate=function(){this._trySetFocus&&(this._focusLastSelectedItem(),this._trySetFocus=!1)},t.prototype.getItemSelectionStore=function(){return this._itemSelectionStore},t.prototype.getItemSelectorActions=function(){return this._itemSelectorActions},t.prototype._focusLastSelectedItem=function(){if(this._itemSelectionStore.getState().setFocusOnLastSelectedItem){var n=this._itemSelectionStore.getState().selectedItems;n&&n.length!==0&&(!n[n.length-1].data||n[n.length-1].data.getKey()!==this.getItem().getKey()||this._setFocus())}},t.prototype._setFocus=function(){var n=this;document.activeElement!==this.getElement()&&!!this.getElement()&&this.state.isSelected&&(this.getElement().setAttribute("tabindex","-1"),setTimeout(function(){!n.getElement()||n.getElement().focus()},10))},t}(i.Component);t.SelectableBase=o});

define("DistributedTaskControls/Components/Selectable",["require","exports","react","DistributedTaskControls/Common/Common","DistributedTaskControls/Components/SelectableBase","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Check","OfficeFabric/ContextualMenu","VSS/Utils/UI","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/Selectable"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.Selectable=void 0;var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._selectableItemKeyUpHandler=function(n){switch(n.keyCode){case s.KeyCode.SPACE:t._onMultiSelect()}},t._onMouseDown=function(n){t._validateAndFixKeyboardCache(n.ctrlKey,n.shiftKey);n.ctrlKey&&t._onMultiSelect()},t._onGripperMouseDown=function(){t._handleFocus()},t._handleFocus=function(){t.getItemSelectionStore().getKeyDownState(r.SHIFT_KEY)?t._onMultiSelect():t.getItemSelectionStore().getKeyDownState(r.CNTRL_KEY)||t.state.isSelected||t.getItemSelectorActions().selectItem.invoke({data:t.props.item,canParticipateInMultiSelect:t.props.canParticipateInMultiSelect||!1})},t._onContextMenu=function(n){!n||(n.persist(),n.preventDefault(),t._contextMenuItems=!t.props.getContextMenuItems?[]:t.props.getContextMenuItems(),t._contextMenuItems.length>0&&t.setState({isContextMenuVisible:!0,contextMenuTarget:n}))},t._onContextMenuDismiss=function(){t.setState({isContextMenuVisible:!1})},t._onMultiSelect=function(){t.getItemSelectionStore().getState().selectedItems.length===1&&t.getItemSelectionStore().getState().selectedItems[0].data.getKey()===t.props.item.getKey()||t.getItemSelectorActions().multiSelectItem.invoke({data:t.props.item,canParticipateInMultiSelect:t.props.canParticipateInMultiSelect||!1})},t._keyDownHandler=function(n){switch(n.keyCode){case s.KeyCode.CONTROL:t.getItemSelectionStore().getKeyDownState(r.CNTRL_KEY)||t.getItemSelectorActions().updateKeyDownState.invoke({key:r.CNTRL_KEY,state:n.ctrlKey});break;case s.KeyCode.SHIFT:t.getItemSelectionStore().getKeyDownState(r.SHIFT_KEY)||t.getItemSelectorActions().updateKeyDownState.invoke({key:r.SHIFT_KEY,state:n.shiftKey})}},t._keyUpHandler=function(n){t._validateAndFixKeyboardCache(n.ctrlKey,n.shiftKey);switch(n.keyCode){case s.KeyCode.CONTROL:t.getItemSelectionStore().getKeyDownState(r.CNTRL_KEY)&&t._updateKeyDownState(r.CNTRL_KEY,n.ctrlKey);break;case s.KeyCode.SHIFT:t.getItemSelectionStore().getKeyDownState(r.SHIFT_KEY)&&t._updateKeyDownState(r.SHIFT_KEY,n.shiftKey)}},t._contextMenuItems=[],t}return __extends(t,n),t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);$(window).on("keydown",this._keyDownHandler);$(window).on("keyup",this._keyUpHandler)},t.prototype.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this);$(window).off("keydown",this._keyDownHandler);$(window).off("keyup",this._keyUpHandler)},t.prototype.render=function(){var r=this,t="two-panel-selector-selectable",n;return this.state.isSelected&&(t+=" selected"),n={},this.props.ariaProps&&(this.props.ariaProps.labelledBy&&(n["aria-labelledby"]=this.props.ariaProps.labelledBy),this.props.ariaProps.level&&(n["aria-level"]=this.props.ariaProps.level),this.props.ariaProps.expanded&&(n["aria-expanded"]=this.props.ariaProps.expanded),this.props.ariaProps.setSize&&(n["aria-setsize"]=this.props.ariaProps.setSize),this.props.ariaProps.positionInSet&&(n["aria-posinset"]=this.props.ariaProps.positionInSet),this.props.ariaProps.describedBy&&(n["aria-describedby"]=this.props.ariaProps.describedBy)),n["aria-selected"]=this.state.isSelected,i.createElement("div",{className:t,role:"tree"},i.createElement("div",__assign({ref:function(n){return r._element=n},className:"selectable-item-section left",onMouseDown:this._onMouseDown,onFocus:this._handleFocus,onClick:this._handleFocus,onKeyUp:this._selectableItemKeyUpHandler,onContextMenu:this._onContextMenu,role:this.props.ariaProps?this.props.ariaProps.role:null,"data-is-focusable":!0},n),this.props.children,!!this.state.isContextMenuVisible&&this._contextMenuItems.length>0&&i.createElement(o.ContextualMenu,{className:"two-panel-selectable-item-context-menu",target:this.state.contextMenuTarget,items:this._contextMenuItems,onDismiss:this._onContextMenuDismiss,ariaLabel:f.ContextMenuText,isBeakVisible:!0,directionalHint:5})),i.createElement("div",{className:"controls-section right",onContextMenu:function(n){n.persist();n.preventDefault()}},this.props.controlSection,this.props.canParticipateInMultiSelect&&i.createElement("div",{className:"multi-select-check-box left",title:f.SelectTitle,onClick:this._onMultiSelect},i.createElement(e.Check,{checked:this.state.isSelected})),this.props.isDraggable&&i.createElement("i",{className:"bowtie-icon bowtie-resize-grip overview-gripper-icon right",onMouseDown:this._onGripperMouseDown})))},t.prototype.getItem=function(){return this.props.item},t.prototype.getElement=function(){return this._element},t.prototype._updateKeyDownState=function(n,t){this.getItemSelectorActions().updateKeyDownState.invoke({key:n,state:t})},t.prototype._validateAndFixKeyboardCache=function(n,t){var i=this.getItemSelectionStore().getKeyDownState(r.SHIFT_KEY),u=this.getItemSelectionStore().getKeyDownState(r.CNTRL_KEY);n!==u&&this._updateKeyDownState(r.CNTRL_KEY,n);t!==i&&this._updateKeyDownState(r.SHIFT_KEY,t)},t}(u.SelectableBase);t.Selectable=h});

define("DistributedTaskControls/Components/TwoPanelOverviewComponent",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Components/Selectable","DistributedTaskControls/Components/TooltipIfOverflow","DistributedTaskControls/SharedControls/InputControls/Utilities","DistributedTaskControls/Stores/ItemSelectionStore","OfficeFabric/Image","VSS/Utils/String","VSS/Utils/UI","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/TwoPanelOverview"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});t.TwoPanelOverviewComponent=void 0;var a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleSelectionChange=function(){t._itemSelectionStore.isItemInSelectedGroup(t.props.item)?t.setState({isSelected:!0}):t._itemSelectionStore.isItemInPreviouslySelectedGroup(t.props.item)&&t.setState({isSelected:!1})},t._windowResizeHandler=function(){t._adjustOverviewWidth()},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._overviewNameId=o.InputControlUtils.getId("TwoPanel");this._overviewAriaDescriptionContainerId=o.InputControlUtils.getId("TwoPanelOverviewAriaDescriptionContainer");this._itemSelectionStore=u.StoreManager.GetStore(s.Store,this.props.instanceId)},t.prototype.componentDidMount=function(){this._itemSelectionStore.addChangedListener(this._handleSelectionChange);$(window).on("resize",this._windowResizeHandler);this._adjustOverviewWidth()},t.prototype.componentWillUnmount=function(){this._itemSelectionStore.removeChangedListener(this._handleSelectionChange);$(window).off("resize",this._windowResizeHandler)},t.prototype.render=function(){var u=this,s="",t,n,r;s=(this.props.src?"overview-icon-png":"overview-icon-svg")+(" "+this.props.iconClassName+" left");var v=!this.props.iconClassName?null:i.createElement(h.Image,{className:s,src:this.props.src,imageFit:h.ImageFit.contain,alt:c.empty}),y="overview-body "+this.props.overviewClassName+" left",a="overview-description ms-font-s";return a+=" "+(this.state.isSelected?"ms-fontColor-neutralSecondary":"ms-fontColor-neutralTertiary"),t="two-panel-overview"+(!this.props.cssClass?"":" "+this.props.cssClass),l.BrowserCheckUtils.isIE()&&(t+=" ie-browser-bugfix-695231"),n=this.props.ariaProps||{},n.role=n.role||"tab",n.describedBy=n.describedBy||this._overviewAriaDescriptionContainerId,r=o.InputControlUtils.getId("two-panel-overview-describedby"),i.createElement(f.Selectable,{item:this.props.item,instanceId:this.props.instanceId,canParticipateInMultiSelect:this.props.canParticipateInMultiSelect,isDraggable:this.props.isDraggable,controlSection:this.props.controlSection,getContextMenuItems:this.props.getContextMenuItems,ariaProps:n},i.createElement("div",{ref:function(n){return u._overviewElement=n},className:t},v,i.createElement("div",{ref:function(n){return u._overviewBody=n},className:y},i.createElement(e.TooltipIfOverflow,{tooltip:this.props.title,targetElementClassName:"overview-title"},i.createElement("div",{className:"overview-title",id:this._overviewNameId,"aria-describedby":r},this.props.title),i.createElement("div",{className:"hidden",id:r},this.props.ariaDescription)),i.createElement("div",{className:a},this.props.view),i.createElement("div",{className:"hidden",id:this._overviewAriaDescriptionContainerId},this.props.overviewDescription))))},t.prototype._adjustOverviewWidth=function(){var n=$(this._overviewElement).width()*80/100;this.props&&this.props.isDraggable&&(!this.props.isDraggable||(n-=40),!this.props.canParticipateInMultiSelect||(n-=40));$(this._overviewBody).width(n)},t}(r.Component);t.TwoPanelOverviewComponent=a});

define("DistributedTaskControls/Actions/TaskExtensionItemListActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.TaskExtensionItemListActions=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updateExtensionItemList=new u.Action;this._filterExtensionItemList=new u.Action},t.getKey=function(){return r.ActionsKeys.ExtensionItemListActions},Object.defineProperty(t.prototype,"updateExtensionItemList",{get:function(){return this._updateExtensionItemList},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterExtensionItemList",{get:function(){return this._filterExtensionItemList},enumerable:!1,configurable:!0}),t}(i.ActionsHubBase);t.TaskExtensionItemListActions=f});

define("DistributedTaskControls/Common/MarketplaceLinkHelper",["require","exports","q","DistributedTaskControls/Common/Common","VSS/Context","VSS/Diag","VSS/Service","VSS/Contributions/RestClient"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.MarketplaceLinkHelper=void 0;var s=function(){function n(){}return n.getMarketplaceLink=function(){var t=i.defer(),n=r.HelpLinks.DefaultMarketplaceLink+"&utm_source=vstsproduct&utm_medium=TaskGallery";return u.getPageContext().webAccessConfiguration.isHosted?t.resolve(n):this.beginGetMarketPlaceData().then(function(i){i?n=n+"&serverKey="+encodeURIComponent(i.serverKey):f.logError("Marketplace data provider is returning null on onprem");t.resolve(n)},function(){t.resolve(n)}),t.promise},n.beginGetMarketPlaceData=function(){var u=this,n=i.defer(),t,r;return this._dataPromise||(t=e.VssConnection.getConnection().getHttpClient(o.ContributionsHttpClient),r={context:{properties:{}},contributionIds:["ms.vss-tfs.marketplace-data-provider"]},t.queryDataProviders(r).then(function(t){var i=t.data["ms.vss-tfs.marketplace-data-provider"];i?n.resolve({serverKey:i.serverKey,marketplaceUrl:i.marketplaceUrl}):n.resolve(null)},function(t){n.reject(t);u._dataPromise=null}),this._dataPromise=n.promise),this._dataPromise},n}();t.MarketplaceLinkHelper=s});

define("DistributedTaskControls/Sources/ExtensionDefinitionSource",["require","exports","q","DistributedTaskControls/Common/MarketplaceLinkHelper","DistributedTaskControls/Common/Sources/SourceBase","DistributedTaskControls/Common/Sources/SourceManager","VSS/Common/Contracts/Platform","VSS/Context","VSS/Diag","VSS/Gallery/Contracts","VSS/Locations","VSS/Service","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){Object.defineProperty(t,"__esModule",{value:!0});t.ExtensionDefinitionSource=void 0;var v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._category="Build and release",t}return __extends(t,n),t.getKey=function(){return"ExtensionDefinitionSource"},t.prototype.getExtensionsList=function(n){var t=this,r=i.defer();return(n||!this._extensionsPromise)&&(this.getMarketplaceData().then(function(n){if(n){var i=t.getExtensions(n.marketplaceUrl,t._category);i.then(function(n){r.resolve(n)},function(n){r.reject(n);t._extensionsPromise=null})}else s.logError("Unexpected Error: Marketplace data provider is returning null.")},function(n){r.reject(n);t._extensionsPromise=null;s.logError(n)}),this._extensionsPromise=r.promise),this._extensionsPromise},t.prototype.getInstalledExtensionsList=function(n){var u=this,t=i.defer(),r;return(n||!this._installedExtensionsPromise)&&(r=this.getInstalledExtensions(),r.then(function(n){t.resolve(n)},function(n){t.reject(n);u._installedExtensionsPromise=null}),this._installedExtensionsPromise=t.promise),this._installedExtensionsPromise},t.prototype.getRequestedExtensionsList=function(n){var u=this,t=i.defer(),r;return(n||!this._requestedExtensionsPromise)&&(r=this.getRequestedExtensions(),r.then(function(n){t.resolve(n)},function(n){t.reject(n);u._requestedExtensionsPromise=null}),this._requestedExtensionsPromise=t.promise),this._requestedExtensionsPromise},t.prototype.getMarketplaceData=function(){var n=i.defer();return o.getPageContext().webAccessConfiguration.isHosted?this._getGalleryLocation().then(function(t){n.resolve({marketplaceUrl:t,serverKey:null})},function(t){n.reject(t)}):this._beginGetMarketPlaceData().then(function(t){n.resolve(t)},function(t){n.reject(t)}),n.promise},t.instance=function(){return f.SourceManager.getSource(t)},t.prototype._getGalleryLocation=function(){var t=this,n=i.defer();return this._galleryLocationPromise||(a.using(["VSS/Gallery/RestClient"],function(i){var r=i.GalleryHttpClient.serviceInstanceId;c.beginGetServiceLocation(r,e.ContextHostType.Deployment).then(function(t){n.resolve(t)},function(){t._beginGetMarketPlaceData().then(function(t){t?n.resolve(t.marketplaceUrl):s.logError("Unexpected Error: Marketplace data provider is returning null.")},function(i){n.reject(i);t._galleryLocationPromise=null})})},function(i){n.reject(i);t._galleryLocationPromise=null}),this._galleryLocationPromise=n.promise),this._galleryLocationPromise},t.prototype._beginGetMarketPlaceData=function(){var n=i.defer();return r.MarketplaceLinkHelper.beginGetMarketPlaceData().then(function(t){n.resolve(t)},function(t){n.reject(t)}),n.promise},t.prototype.getExtensions=function(n,t){var r=i.defer(),u={filters:[],assetTypes:["Microsoft.VisualStudio.Services.Icons.Small"],flags:h.ExtensionQueryFlags.IncludeCategoryAndTags|h.ExtensionQueryFlags.IncludeFiles|h.ExtensionQueryFlags.IncludeInstallationTargets|h.ExtensionQueryFlags.IncludeLatestVersionOnly|h.ExtensionQueryFlags.IncludeStatistics|h.ExtensionQueryFlags.ExcludeNonValidated};return u.filters.push({criteria:[{filterType:h.ExtensionQueryFilterType.Category,value:t},{filterType:h.ExtensionQueryFilterType.InstallationTarget,value:"Microsoft.VisualStudio.Services.Cloud"},{filterType:h.ExtensionQueryFilterType.ExcludeWithFlags,value:this._getExtensionFlagValue()},],sortBy:h.SortByType.InstallCount,sortOrder:h.SortOrderType.Descending}),this._queryExtensions(n,u).then(function(n){r.resolve(n)},function(n){r.reject(n)}),r.promise},t.prototype._queryExtensions=function(n,t){var r=i.defer();return a.requireModules(["VSS/Gallery/RestClient"]).spread(function(i){var u=new i.GalleryHttpClient3_1(n);u.forceOptionsCallForAutoNegotiate=!1;u.queryExtensions(t).then(function(n){r.resolve(n.results[0].extensions)},function(n){r.reject(n)})}),r.promise},t.prototype.getInstalledExtensions=function(){var n=i.defer();return this._getExtensionManagementClient().then(function(t){t.getInstalledExtensions().then(function(t){n.resolve(t)},function(t){n.reject(t)})},function(t){n.reject(t)}),n.promise},t.prototype.getRequestedExtensions=function(){var n=i.defer();return this._getExtensionManagementClient().then(function(t){t.getRequests().then(function(t){n.resolve(t)},function(t){n.reject(t)})},function(t){n.reject(t)}),n.promise},t.prototype._getExtensionManagementClient=function(){var n=i.defer();return this._extensionManagementClientPromise||(a.requireModules(["VSS/ExtensionManagement/RestClient"]).spread(function(t){n.resolve(l.getClient(t.ExtensionManagementHttpClient))},function(t){n.reject(t)}),this._extensionManagementClientPromise=n.promise),this._extensionManagementClientPromise},t.prototype._getExtensionFlagValue=function(){return(h.PublishedExtensionFlags.BuiltIn|h.PublishedExtensionFlags.System|h.PublishedExtensionFlags.Unpublished).toString()},t}(u.SourceBase);t.ExtensionDefinitionSource=v});

define("DistributedTaskControls/Common/ExtensionUtils",["require","exports","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Types","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Sources/ExtensionDefinitionSource","VSS/Context","VSS/FeatureAvailability/Services","VSS/Gallery/Contracts","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.ExtensionUtils=void 0;var l=function(){function n(){}return n.mapExtensionDefinitionToIExtensionDefinitionItem=function(n,t,i,u){return{id:n.extensionId,friendlyName:n.displayName,name:n.extensionName,iconUrl:this._getExtensionIconUrl(n.versions[0].files),description:n.shortDescription,author:n.publisher.displayName,extensionStatusText:this._getExtensionStatusText(n,t,i,this._getCurrentUserId()),extensionUrl:this._getExtensionUrl(n,u),definitionType:r.TaskItemType.Extension,installCount:this._getExtensionInstallCount(n),tags:n.tags||[]}},n.prefetchExtensions=function(){f.ExtensionDefinitionSource.instance().getExtensionsList();f.ExtensionDefinitionSource.instance().getInstalledExtensionsList();f.ExtensionDefinitionSource.instance().getRequestedExtensionsList()},n.createExtensionIdentifier=function(n,t){return n+"."+t},n._getExtensionInstallCount=function(n){var i=h.first(n.statistics,function(n){return c.ignoreCaseComparer(n.statisticName,r.ExtensionStatisticName.Install)===0}),u=h.first(n.statistics,function(n){return c.ignoreCaseComparer(n.statisticName,r.ExtensionStatisticName.OnpremDownloads)===0}),t=0;return i&&(t+=i.value),u&&(t+=u.value),t},n._getExtensionIconUrl=function(n){var t=h.first(n,function(n){return c.ignoreCaseComparer(n.assetType,"Microsoft.VisualStudio.Services.Icons.Small")===0});return t?t.source:c.empty},n._getExtensionStatusText=function(n,t,i,r){return this._isExtensionInstalled(n,t)?u.InstalledText:this._isExtensionRequested(n,i,r)?u.RequestedText:this.isFirstPartyPaid(n)||this.isThirdPartyPaid(n)?u.GetText:u.GetItFreeText},n._isExtensionInstalled=function(n,t){return n?h.contains(t,this.createExtensionIdentifier(n.publisher.publisherName,n.extensionName),this._extensionIdentityComparer):!1},n._isExtensionRequested=function(n,t,i){for(var f,r,e,s,h=this.createExtensionIdentifier(n.publisher.publisherName,n.extensionName),u=0,o=t;u<o.length;u++)if(f=o[u],c.ignoreCaseComparer(f.id,h)===0)for(r=0,e=f.requestedBy;r<e.length;r++)if(s=e[r],c.equals(i,s.id))return!0;return!1},n._getCurrentUserId=function(){return e.getDefaultWebContext().user.id},n._getExtensionUrl=function(n,t){var u,r,f;return n&&t?(u=t.marketplaceUrl,c.endsWith(u,"/")&&(u=u.slice(0,u.length-1)),r=c.format(this._marketplaceExtensionItemUrlFormat,u,n.publisher.publisherName,n.extensionName),e.getPageContext().webAccessConfiguration.isHosted?(r=c.format(this._marketplaceExtensionItemUrlFormatWithTargetId,r,e.getDefaultWebContext().host.id),o.FeatureAvailabilityService.isFeatureEnabled(i.FeatureFlag_EnableIdentityNavigation,!1)&&(f=e.getDefaultWebContext().host.uri,c.endsWith(f,"/")&&(f=f.slice(0,f.length-1)),r=c.format(this._marketplaceRedirectUrlFormat,f,encodeURIComponent(r))),r):t.serverKey?c.format(this._marketplaceExtensionItemUrlFormatWithSeverKey,r,t.serverKey):r):c.empty},n.isFirstPartyPaid=function(n){return n.publisher.displayName===this._microsoftText&&!this.isPreview(n)&&this.isPaidExtension(n)},n.isThirdPartyPaid=function(n){return n.publisher.displayName!==this._microsoftText&&this.isPaidExtension(n)},n.isPaidExtension=function(n){if((n.flags&s.PublishedExtensionFlags.Paid)!=0)return!0;var t=!1;return n&&n.tags&&h.arrayContains(this._paidTag,n.tags,function(n,t){return c.ignoreCaseComparer(n,t)===0})&&(t=!0),t},n.isPreview=function(n){var t=!1;return t=h.arrayContains(this._previewTag,n.tags,function(n,t){return c.ignoreCaseComparer(n,t)===0}),t||(n.flags&s.PublishedExtensionFlags.Preview)!=0},n._extensionIdentityComparer=function(n,t){return c.ignoreCaseComparer(n,t)},n.extensionsIdentifierText="_extensions",n._marketplaceExtensionItemUrlFormat="{0}/items?itemName={1}.{2}",n._marketplaceExtensionItemUrlFormatWithSeverKey="{0}&serverKey={1}",n._marketplaceExtensionItemUrlFormatWithTargetId="{0}&targetId={1}",n._marketplaceRedirectUrlFormat="{0}/_redirect?target={1}",n._paidTag="$IsPaid",n._previewTag="$preview",n._microsoftText="Microsoft",n}();t.ExtensionUtils=l});

define("DistributedTaskControls/SharedControls/LoadableComponent/LoadableComponentActionsHub",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.LoadableComponentActionsHub=void 0;var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return r.ActionsKeys.LoadableComponentActions},t.prototype.initialize=function(){this._showLoadingExperience=new i.Action;this._hideLoadingExperience=new i.Action},Object.defineProperty(t.prototype,"showLoadingExperience",{get:function(){return this._showLoadingExperience},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hideLoadingExperience",{get:function(){return this._hideLoadingExperience},enumerable:!1,configurable:!0}),t}(i.ActionsHubBase);t.LoadableComponentActionsHub=u});

define("DistributedTaskControls/Actions/TaskExtensionItemListActionsCreator",["require","exports","q","DistributedTaskControls/Actions/TaskExtensionItemListActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/ExtensionUtils","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/SharedControls/LoadableComponent/LoadableComponentActionsHub","DistributedTaskControls/Sources/ExtensionDefinitionSource","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});t.TaskExtensionItemListActionsCreator=void 0;var a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return e.ActionCreatorKeys.ExtensionActionsCreator},t.prototype.initialize=function(n){this._instanceId=n.concat(o.ExtensionUtils.extensionsIdentifierText);this._installedExtensionsIdentifierArray=[];this._requestedExtensionsData=[];this._actions=u.ActionsHubManager.GetActionsHub(r.TaskExtensionItemListActions);this._loadableComponentActionsHub=u.ActionsHubManager.GetActionsHub(h.LoadableComponentActionsHub,this._instanceId)},t.prototype.getExtensions=function(n){var t=this,r,u;return n===void 0&&(n=!1),r=c.ExtensionDefinitionSource.instance(),this._loadableComponentActionsHub.showLoadingExperience.invoke({}),u=Date.now(),i.all([r.getMarketplaceData(),r.getExtensionsList(n)]).spread(function(i,r){t._clearFilter(n);t.updateExtensions(n,i,r,u)},function(){t._clearFilter(n);t._actions.updateExtensionItemList.invoke({isExtensionFetched:!1});t._loadableComponentActionsHub.hideLoadingExperience.invoke({});t._publishMarketplaceExtensionFailedTelemetry()})},t.prototype.filterExtensionItemList=function(n){this._actions.filterExtensionItemList.invoke(n)},t.prototype.updateExtensions=function(n,t,r,u){var f=this,e=c.ExtensionDefinitionSource.instance(),s=e.getInstalledExtensionsList(n),h=e.getRequestedExtensionsList(n);return i.allSettled([s,h]).then(function(n){var i,e;n[0].state==="fulfilled"?(i=n[0].value,f._installedExtensionsIdentifierArray=i.map(function(n){return o.ExtensionUtils.createExtensionIdentifier(n.publisherId,n.extensionId)})):f._publishEMSExtensionFailedTelemetry("Installed");n[1].state==="fulfilled"?(e=n[1].value,f._requestedExtensionsData=e.map(function(n){return f._getRequestedExtensionData(n)})):f._publishEMSExtensionFailedTelemetry("Requested");f._extensionItems=r.map(function(n){return o.ExtensionUtils.mapExtensionDefinitionToIExtensionDefinitionItem(n,f._installedExtensionsIdentifierArray,f._requestedExtensionsData,t)});f._actions.updateExtensionItemList.invoke({extensionItems:f._extensionItems,isExtensionFetched:!0});f._loadableComponentActionsHub.hideLoadingExperience.invoke({});f._publishMarketplaceExtensionResolvedTelemetry(u)})},t.prototype._getRequestedExtensionData=function(n){return{id:o.ExtensionUtils.createExtensionIdentifier(n.publisherName,n.extensionName),requestedBy:this._getExtensionRequestedByArray(n.extensionRequests)}},t.prototype._getExtensionRequestedByArray=function(n){return n.map(function(n){return n.requestedBy})},t.prototype._publishMarketplaceExtensionResolvedTelemetry=function(n){s.Telemetry.instance().publishEvent(s.Feature.MarketplaceExtensionLoad,{},null,!1,n)},t.prototype._publishMarketplaceExtensionFailedTelemetry=function(){s.Telemetry.instance().publishEvent(s.Feature.MarketplaceExtensionFailed)},t.prototype._publishEMSExtensionFailedTelemetry=function(n){var t={};t[s.Properties.extensionStatus]=n;s.Telemetry.instance().publishEvent(s.Feature.EMSExtensionFailed,t)},t.prototype._clearFilter=function(n){n||this.filterExtensionItemList(l.empty)},t}(f.ActionCreatorBase);t.TaskExtensionItemListActionsCreator=a});

define("DistributedTaskControls/Actions/TaskItemListActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.TaskItemListActions=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updateTaskItemList=new u.Action;this._filterTaskItemList=new u.Action},t.getKey=function(){return r.ActionsKeys.TaskItemListActions},Object.defineProperty(t.prototype,"updateTaskItemList",{get:function(){return this._updateTaskItemList},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterTaskItemList",{get:function(){return this._filterTaskItemList},enumerable:!1,configurable:!0}),t}(i.ActionsHubBase);t.TaskItemListActions=f});

define("DistributedTaskControls/Common/TaskItemUtilities",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.TaskItemUtils=void 0;var i=function(){function n(){}return n.mapTaskDefinitionToITaskDefinitionItem=function(n){return{id:n.id,friendlyName:n.friendlyName,name:n.name,iconUrl:n.iconUrl,description:n.description,author:n.author,category:n.category,deprecated:n.deprecated,helpMarkDown:n.helpMarkDown,definitionType:n.definitionType,version:n.version,inputs:n.inputs}},n.tasksIdentifierText="_tasks",n}();t.TaskItemUtils=i});

define("DistributedTaskControls/Actions/TaskItemListActionsCreator",["require","exports","DistributedTasksCommon/TFS.Tasks.Types","DistributedTaskControls/Actions/TaskItemListActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/TaskItemUtilities","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/LoadableComponent/LoadableComponentActionsHub","DistributedTaskControls/Sources/TaskDefinitionSource","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){Object.defineProperty(t,"__esModule",{value:!0});t.TaskItemListActionsCreator=void 0;var y=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return e.ActionCreatorKeys.TaskActionsCreator},t.prototype.initialize=function(n){this._instanceId=n.concat(o.TaskItemUtils.tasksIdentifierText);this._actions=u.ActionsHubManager.GetActionsHub(r.TaskItemListActions);this._loadableComponentActionsHub=u.ActionsHubManager.GetActionsHub(l.LoadableComponentActionsHub,this._instanceId)},t.prototype.updateTaskItemList=function(n,t,i){var r=this,u,f;i===void 0&&(i=!1);u=Date.now();f=a.TaskDefinitionSource.instance().getTaskDefinitionList(!1,n,i);this._loadableComponentActionsHub.showLoadingExperience.invoke({});f.then(function(n){r._clearFilter(i);r._updateTasks(n,t);r._loadableComponentActionsHub.hideLoadingExperience.invoke({});r._publishTasksResolvedTelemetry(u)},function(){r._clearFilter(i);r._actions.updateTaskItemList.invoke({isTaskFetched:!1});r._loadableComponentActionsHub.hideLoadingExperience.invoke({});r._publishTasksFailedTelemetry()})},t.prototype.filterTaskItemList=function(n){this._actions.filterTaskItemList.invoke(n)},t.prototype._updateTasks=function(n,t){var r=n.filter(function(n){return h.DtcUtils.isTaskSupportedForTaskGroup(t,n.runsOn)}),u;(r||[]).forEach(function(n){if(n.definitionType===i.DefinitionType.metaTask&&n.version.isTest){var t=v.localeFormat("({0})",c.DraftText);n.friendlyName&&!v.endsWith(n.friendlyName,t,v.localeIgnoreCaseComparer)&&(n.friendlyName=v.localeFormat(c.DraftedTaskDefinitionFriendlyName,n.friendlyName,t))}});u=r.map(function(n){return o.TaskItemUtils.mapTaskDefinitionToITaskDefinitionItem(n)});this._actions.updateTaskItemList.invoke({taskItems:u,isTaskFetched:!0})},t.prototype._publishTasksResolvedTelemetry=function(n){s.Telemetry.instance().publishEvent(s.Feature.TasksLoad,{},null,!1,n)},t.prototype._publishTasksFailedTelemetry=function(){s.Telemetry.instance().publishEvent(s.Feature.TasksFailed)},t.prototype._clearFilter=function(n){n||this.filterTaskItemList(v.empty)},t}(f.ActionCreatorBase);t.TaskItemListActionsCreator=y});

define("DistributedTaskControls/Actions/ProcessParameterActions",["require","exports","VSS/Flux/Action","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.ProcessParameterActions=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updateInput=new i.Action;this._updateInputError=new i.Action;this._updateInputOptions=new i.Action;this._createProcessParameter=new i.Action;this._initializeProcessParameters=new i.Action;this._unlinkProcessParameter=new i.Action;this._updateReferenceCount=new i.Action;this._removeAllProcessParameters=new i.Action},t.getKey=function(){return u.ActionsKeys.ProcessParameterActions},Object.defineProperty(t.prototype,"updateInput",{get:function(){return this._updateInput},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateInputError",{get:function(){return this._updateInputError},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateInputOptions",{get:function(){return this._updateInputOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"createProcessParameter",{get:function(){return this._createProcessParameter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"initializeProcessParameters",{get:function(){return this._initializeProcessParameters},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateReferenceCount",{get:function(){return this._updateReferenceCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unlinkProcessParameter",{get:function(){return this._unlinkProcessParameter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"removeAllProcessParameters",{get:function(){return this._removeAllProcessParameters},enumerable:!1,configurable:!0}),t}(r.ActionsHubBase);t.ProcessParameterActions=f});

define("DistributedTaskControls/Actions/TaskListActionsCreator",["require","exports","q","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Actions/TaskListActions","DistributedTaskControls/Actions/ProcessParameterActions","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Sources/TaskDefinitionSource"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.TaskListActionsCreator=void 0;var l=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.getKey=function(){return o.ActionCreatorKeys.TaskListActionsCreator},t.prototype.initialize=function(n){this._actions=r.ActionsHubManager.GetActionsHub(u.TaskListActions,n)},t.prototype.addTask=function(n){this._actions.addTask.invoke({task:h.DtcUtils.getTaskFromTaskDefinition(n)})},t.prototype.removeTask=function(n,t,i){t===void 0&&(t=!0);this._actions.removeTask.invoke({taskItemId:n,disposeTaskItem:t});t&&i&&this._updateProcessParametersReference(i)},t.prototype._updateProcessParametersReference=function(n){var t=r.ActionsHubManager.GetActionsHub(f.ProcessParameterActions,n.processInstanceId);t.updateReferenceCount.invoke(n.processParameterReferencePayload)},t.prototype.shiftTask=function(n,t){this._actions.shiftTask.invoke({itemKey:n,shiftBy:t})},t.prototype.clearAddTaskLocation=function(){this._actions.clearAddTaskLocation.invoke(null)},t.prototype.cloneTasks=function(n,t){this._actions.cloneTasks.invoke(n);this._updateProcessParametersReference(t)},t.prototype.createMetaTask=function(n,t,r,u){var f=this;return c.TaskDefinitionSource.instance().saveMetaTaskDefinition(n,r).then(function(n){u(n.id,n.name);var r=h.DtcUtils.getTaskFromTaskDefinition(n);return f._actions.metaTaskCreated.invoke({metaTask:r,taskItemIdList:t}),f._publishCreateTaskGroupTelemetery(n),i.resolve(n)},function(n){return i.reject(n)})},t.prototype.insertTask=function(n,t,i){this._actions.insertTask.invoke(n);t&&i&&this._updateProcessParametersReference(i)},t.prototype._publishCreateTaskGroupTelemetery=function(n){var t={};t[s.Properties.TaskCategory]=n.category;n.tasks&&(t[s.Properties.SelectedTasksLength]=n.tasks.length);s.Telemetry.instance().publishEvent(s.Feature.CreateTaskGroup,t)},t.prototype.completeTaskAddition=function(){this._actions.completeTaskAddition.invoke(null)},t}(e.ActionCreatorBase);t.TaskListActionsCreator=l});

define("DistributedTaskControls/Utilities/MessageBarComponentUtils",["require","exports","VSS/Resources/VSS.Resources.Common","VSS/Utils/String"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.MessageBarComponentUtils=void 0;var u=function(){function n(){}return n.getErrorMessage=function(n){return n===0?i.NetworkConnectionUnavailable:r.empty},n}();t.MessageBarComponentUtils=u});

define("DistributedTaskControls/Components/MessageBarComponent",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Utilities/MessageBarComponentUtils","OfficeFabric/MessageBar"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.MessageBarComponent=void 0;var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=this.props.dismissButtonAriaLabel?this.props.dismissButtonAriaLabel:this._getCloseButtonAriaLabel(this.props.messageBarType);return i.createElement(e.MessageBar,__assign({},this.props,{dismissButtonAriaLabel:n}),f.MessageBarComponentUtils.getErrorMessage(this.props.errorStatusCode)||this.props.children)},t.prototype._getCloseButtonAriaLabel=function(n){return n===e.MessageBarType.error?u.ARIALabelDismissErrorMessage:n===e.MessageBarType.warning||n===e.MessageBarType.severeWarning?u.ARIALabelDismissWarningMessage:u.CloseMessageBarButtonText},t}(r.Component);t.MessageBarComponent=o});

define("DistributedTaskControls/Components/ExternalLink",["require","exports","react","DistributedTaskControls/Components/SafeLink","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/ExternalLink"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.ExternalLink=void 0;var f=function(n){return i.createElement("span",{className:n.className},i.createElement(r.SafeLink,{href:n.href,target:n.newTab?"_blank":"_self",onClick:n.onClick},n.text,i.createElement("span",{className:"external-link-icon bowtie-icon bowtie-navigate-external"})))},e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=this.props.className;return i.createElement(f,__assign({},this.props,{className:u.css("external-link",n)}))},t.prototype.shouldComponentUpdate=function(n){return n.text!==this.props.text||n.href!==this.props.href||n.className!==this.props.className},t}(i.Component);t.ExternalLink=e});

define("DistributedTaskControls/Components/ExtensionDefinitionItem",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Components/ExternalLink","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Utilities","OfficeFabric/Button","OfficeFabric/Image","OfficeFabric/FocusZone","OfficeFabric/Utilities","VSS/Utils/String","VSSUI/VssIcon","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/ExtensionDefinitionItem"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){Object.defineProperty(t,"__esModule",{value:!0});t.ExtensionDefinitionItem=void 0;var y=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._publishExtensionLearnMoreButtonClickedTelemetry=function(){var n={};n[u.Properties.TaskId]=t.props.task?t.props.task.id:a.empty;n[u.Properties.PositionInSet]=t.props.posInSet?t.props.posInSet:a.empty;n[u.Properties.SizeOfSet]=t.props.sizeOfSet?t.props.sizeOfSet:a.empty;u.Telemetry.instance().publishEvent(u.Feature.MarketplaceExtensionLearnMoreButtonClicked,n)},t._publishExtensionInstallButtonClickedTelemetry=function(){var n={};n[u.Properties.TaskId]=t.props.task?t.props.task.id:a.empty;n[u.Properties.PositionInSet]=t.props.posInSet?t.props.posInSet:a.empty;n[u.Properties.SizeOfSet]=t.props.sizeOfSet?t.props.sizeOfSet:a.empty;u.Telemetry.instance().publishEvent(u.Feature.MarketplaceExtensionInstallButtonClicked,n)},t._onSelect=function(n){var i=n.nativeEvent.target;if(t.props.onSelect&&!(i&&i.classList&&(i.classList.contains(t._installExtensionButtonClassName)||i.classList.contains(t._learnMoreButtonClassName))))t.props.onSelect(t.props.task.id)},t._installExtensionButtonClassName="dtc-extension-install-button",t._learnMoreButtonClassName="dtc-extension-learn-more-button",t}return __extends(t,n),t.prototype.componentWillMount=function(){this._extensionNameId=o.InputControlUtils.getId("ExtensionDefinition")},t.prototype.render=function(){var n=i.createElement(f.ExternalLink,{className:this._learnMoreButtonClassName,text:e.LearnMore,href:this.props.task.extensionUrl,onClick:this._publishExtensionLearnMoreButtonClickedTelemetry,newTab:!0});return i.createElement("div",{className:l.css("dtc-extension-item",{"is-selected":this.props.isSelected}),"data-is-focusable":!0,"aria-labelledby":this._extensionNameId,onFocus:this._onSelect,role:"option","aria-posinset":this.props.posInSet,"aria-setsize":this.props.sizeOfSet,"aria-selected":this.props.isSelected},i.createElement(c.FocusZone,{direction:c.FocusZoneDirection.horizontal,isCircularNavigation:!0},i.createElement("div",{className:"dtc-extension-container"},i.createElement("div",{className:"dtc-extension-details"},i.createElement(h.Image,{className:"dtc-extension-icon",src:this.props.task.iconUrl,imageFit:h.ImageFit.contain,alt:a.empty}),i.createElement("div",{className:"dtc-extension-info"},i.createElement("div",{className:"info-name",id:this._extensionNameId},this.props.task.friendlyName),i.createElement("div",{className:"info-description"},this.props.task.description))),i.createElement(s.PrimaryButton,{className:l.css(this._installExtensionButtonClassName,{"is-action-button-enabled":!this._isButtonDisabled()}),disabled:this._isButtonDisabled(),href:this.props.task.extensionUrl,target:"_blank",onClick:this._publishExtensionInstallButtonClickedTelemetry,ariaLabel:this.props.task.extensionStatusText,ariaDescription:a.localeFormat(e.GetExtensionAriaDescription,this.props.task.friendlyName)},this.props.task.extensionStatusText)),i.createElement("div",{className:"dtc-extension-footer"},i.createElement("div",{className:"dtc-extension-footer-left"},i.createElement("div",{className:"dtc-extension-author"},a.format("{0} {1}",e.ByText,this.props.task.author)),i.createElement("div",{className:"separator"}),this._getExtensionInstallCountElement()),n)))},t.prototype._getExtensionInstallCountElement=function(){return i.createElement("div",null,i.createElement(v.VssIcon,{iconName:"bowtie-install",iconType:1}),i.createElement("span",{className:"extension-install-count-text"},a.localeFormat(e.InstallCountText,this.props.task.installCount)))},t.prototype._isButtonDisabled=function(){return a.equals(this.props.task.extensionStatusText,e.InstalledText,!0)||a.equals(this.props.task.extensionStatusText,e.RequestedText,!0)},t}(r.Component);t.ExtensionDefinitionItem=y});

define("DistributedTaskControls/Components/LoadingComponent",["require","exports","react","OfficeFabric/Spinner","OfficeFabric/Overlay","OfficeFabric/Utilities","VSS/Flux/Component","VSS/Utils/Core"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.LoadingComponent=void 0;var s=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.state={show:!1},t}return __extends(t,n),t.prototype.componentWillMount=function(){var n=this;this._waitHandle=o.delay(this,this.props.wait?this.props.wait:t.c_defaultWaitTime,function(){n._waitHandle=null;n.setState({show:!0})})},t.prototype.componentWillUnmount=function(){this._waitHandle&&this._waitHandle.cancel()},t.prototype.render=function(){var n=i.createElement(r.Spinner,{key:"Spinner",size:this.props.size,className:f.css("dt-loading-spinner",this.props.className),label:this.props.label,ariaLabel:this.props.ariaLabel});return this.state.show?this.props.blocking?i.createElement(u.Overlay,null,n):n:null},t.c_defaultWaitTime=100,t}(e.Component);t.LoadingComponent=s});

define("DistributedTaskControls/SharedControls/LoadableComponent/LoadableComponentStore",["require","exports","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/SharedControls/LoadableComponent/LoadableComponentActionsHub"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.LoadableComponentStore=void 0;var e=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleShowLoadingExperience=function(){t._state.isLoading=!0;t.emitChanged()},t._handleHideLoadingExperience=function(){t._state.isLoading=!1;t.emitChanged()},t._state={isLoading:!0},t}return __extends(t,n),t.getKey=function(){return r.StoreKeys.LoadableComponentStore},t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._loadableComponentActionsHub=i.ActionsHubManager.GetActionsHub(f.LoadableComponentActionsHub,t);this._loadableComponentActionsHub.showLoadingExperience.addListener(this._handleShowLoadingExperience);this._loadableComponentActionsHub.hideLoadingExperience.addListener(this._handleHideLoadingExperience)},t.prototype.getState=function(){return this._state},t.prototype.disposeInternal=function(){this._loadableComponentActionsHub.showLoadingExperience.removeListener(this._handleShowLoadingExperience);this._loadableComponentActionsHub.hideLoadingExperience.removeListener(this._handleHideLoadingExperience)},t}(u.StoreBase);t.LoadableComponentStore=e});

define("DistributedTaskControls/SharedControls/LoadableComponent/LoadableComponent",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Components/LoadingComponent","DistributedTaskControls/SharedControls/LoadableComponent/LoadableComponentStore"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.LoadableComponent=void 0;var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleStoreChange=function(){t.setState(t._store.getState())},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._store=u.StoreManager.GetStore(e.LoadableComponentStore,this.props.instanceId);this._store.addChangedListener(this._handleStoreChange);this.setState(this._store.getState())},t.prototype.componentWillUnmount=function(){this._store.removeChangedListener(this._handleStoreChange)},t.prototype.render=function(){return i.createElement("div",{className:"cd-release-progress-loading-container-class"},this.state.isLoading?this._getLoadingComponent():this.props.children)},t.prototype._getLoadingComponent=function(){return i.createElement(f.LoadingComponent,{label:this.props.label,className:this.props.className,wait:this.props.wait,ariaLabel:this.props.ariaLabel})},t}(r.Component);t.LoadableComponent=o});

define("DistributedTaskControls/Components/ExtensionItemList",["require","exports","react","DistributedTaskControls/Actions/TaskExtensionItemListActionsCreator","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/ExtensionUtils","DistributedTaskControls/Components/MessageBarComponent","DistributedTaskControls/Components/ExtensionDefinitionItem","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/LoadableComponent/LoadableComponent","OfficeFabric/MessageBar","OfficeFabric/List","OfficeFabric/Utilities","VSS/Utils/Array","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/ExtensionItemList"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});t.ExtensionItemList=void 0;var p=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t._onRenderListItem=function(n,r){return i.createElement(s.ExtensionDefinitionItem,{key:n.id,task:n,posInSet:r+1,sizeOfSet:t.props.extensions.length,onSelect:t._onSelect,isSelected:t.props.onItemSelect?t.props.selectedItemId===n.id:t.state.selectedExtension===n.id})},t._onSelect=function(n){if(t.props.onItemSelect)t.props.onItemSelect(n);else t.setState({selectedExtension:n})},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._actionCreator=u.ActionCreatorManager.GetActionCreator(r.TaskExtensionItemListActionsCreator,this.props.instanceId)},t.prototype.render=function(){return i.createElement("div",{className:v.css("dtc-extension-list",this.props.className)},i.createElement(c.LoadableComponent,{instanceId:this.props.instanceId.concat(e.ExtensionUtils.extensionsIdentifierText),label:h.FetchingExtensionsText},i.createElement("div",null,!this.props.isExtensionFetched&&this._getErrorElement(),this._getExtensions())))},t.prototype._getExtensions=function(){return this.props.extensions.length>0?this._getExtensionsList():this.props.isExtensionFetched?this._getNoExtensionAvailableElement():null},t.prototype._getErrorElement=function(){return i.createElement(o.MessageBarComponent,{className:"extension-error-element",messageBarType:l.MessageBarType.error},h.ExtensionCallFailedDisplayErrorMessage)},t.prototype._getNoExtensionAvailableElement=function(){return i.createElement("div",{className:"no-extension-available"},h.NoExtensionAvailableText)},t.prototype._getExtensionsList=function(){return i.createElement(a.List,{items:y.clone(this.props.extensions),onRenderCell:this._onRenderListItem,role:"listbox"})},t}(f.Component);t.ExtensionItemList=p});

define("DistributedTaskControls/Components/NoSearchResults",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/NoSearchResults"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.NoSearchResults=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",{className:"no-search-results-section"},i.createElement("div",{className:"info-name"},i.createElement("i",{className:"bowtie-icon bowtie-status-info-outline no-search-results-warning-icon"}),u.NoSearchResultsFoundText,i.createElement("span",{className:"search-text"},this.props.searchText)),i.createElement("div",{className:"info-description"},u.NoSearchResultsFoundDescription))},t}(r.Component);t.NoSearchResults=f});

define("DistributedTaskControls/Common/DragDropManager",["require","exports","DistributedTaskControls/Common/Factory","DistributedTaskControls/Common/Types","VSS/Utils/String","VSS/Utils/UI"],function(n,t,i,r,u,f){var e,o;Object.defineProperty(t,"__esModule",{value:!0});t.DragDropManager=t.DropStatus=t.ScrollTolerance=t.LocationLineBottomClassName=t.LocationLineTopClassName=void 0;t.LocationLineTopClassName="location-line-top";t.LocationLineBottomClassName="location-line-bottom";t.ScrollTolerance=20,function(n){n[n.None=0]="None";n[n.Rejected=1]="Rejected";n[n.Accepted=2]="Accepted";n[n.Failed=3]="Failed"}(e=t.DropStatus||(t.DropStatus={}));o=function(n){function i(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._isCustomScrollingPerformed=!1,t}return __extends(i,n),i.instance=function(){return n.getInstance.call(this,i)},i.dispose=function(){return this.instance()._dropAbove=!1,this.instance()._insertMap=null,this.instance()._removeMap=null,this.instance()._sourceData=null,this.instance()._targetData=null,n.dispose.call(this)},i.prototype.registerInsertCallback=function(n,t){this._insertMap||(this._insertMap={});this._insertMap[n.toLowerCase()]=t},i.prototype.registerRemoveCallback=function(n,t){this._removeMap||(this._removeMap={});this._removeMap[n.toLowerCase()]=t},i.prototype.unregisterInsertCallback=function(n){this._insertMap&&delete this._insertMap[n.toLowerCase()]},i.prototype.unregisterRemoveCallback=function(n){this._removeMap&&delete this._removeMap[n.toLowerCase()]},i.prototype.getSource=function(){return this._sourceData},i.prototype.setSource=function(n){this._sourceData=n},i.prototype.getTarget=function(){return this._targetData},i.prototype.setTarget=function(n,t){this._targetData=n;this._dropAbove=t},i.prototype.isCopyAction=function(){return this._isCopyAction},i.prototype.executeDragDrop=function(){if(!this._insertMap||!this._removeMap||!this._targetData||!this._sourceData){this._sourceData=null;this._targetData=null;this._dropAbove=!1;this._dropStatus=this._dropStatus===e.Accepted?e.Failed:this._dropStatus;return}var n=null;this._isCopyAction?(n={sourceItem:this._sourceData,targetItem:this._targetData,shouldInsertBefore:this._dropAbove,shouldInsertCopy:!0},this._insertMap[this._targetData.listId.toLowerCase()](n)):this._sourceData.key!==this._targetData.key&&(this._removeMap[this._sourceData.listId.toLowerCase()]&&this._removeMap[this._sourceData.listId.toLowerCase()](this._sourceData.data),this._insertMap[this._targetData.listId.toLowerCase()]&&(n={sourceItem:this._sourceData,targetItem:this._targetData,shouldInsertBefore:this._dropAbove,shouldInsertCopy:!1},this._insertMap[this._targetData.listId.toLowerCase()](n)));this._sourceData=null;this._targetData=null;this._dropAbove=!1;this._isCopyAction=!1},i.prototype.onDragStart=function(n,t,i,r){this._dropStatus=e.None;n.dataTransfer&&(n.dataTransfer.setData("text",u.empty),n.dataTransfer.effectAllowed=r?r:"copyMove");this._isCopyAction=i;this.setSource(t)},i.prototype.onDragOver=function(n,t){this._allowParentScroll=!0;this._scrollIfNeeded(n);t(this.getSource(),this._isCopyAction)?(this._stop(n),this._setDropEffect(n),this._setDraggedOverRegionIndicator(n.currentTarget,this._getDraggedOverRegion(n))):this._setDraggedOverRegionIndicator(n.currentTarget,r.DraggedOverRegion.None)},i.prototype.onDragLeave=function(n,t){t(this.getSource(),this._isCopyAction)?(this._stop(n),this._setDraggedOverRegionIndicator(n.currentTarget,r.DraggedOverRegion.None)):this._setDraggedOverRegionIndicator(n.currentTarget,r.DraggedOverRegion.None)},i.prototype.onDrop=function(n,t,i){if(this._allowParentScroll=!1,i(this.getSource(),this._isCopyAction||n.ctrlKey)){this._stop(n);this._isCopyAction=this._isCopyAction||n.ctrlKey;this._setDropEffect(n);var u=this._getDraggedOverRegion(n);this.setTarget(t,u===r.DraggedOverRegion.Top);this._setDraggedOverRegionIndicator(n.currentTarget,r.DraggedOverRegion.None);this._dropStatus=e.Accepted}else this._setDraggedOverRegionIndicator(n.currentTarget,r.DraggedOverRegion.None);this._dropStatus=e.Rejected},i.prototype.onDragEnd=function(){return this.executeDragDrop(),this._dropStatus},i.prototype._stop=function(n){n.preventDefault();n.stopPropagation()},i.prototype._setDraggedOverRegionIndicator=function(n,i){switch(i){case r.DraggedOverRegion.Top:n.classList.remove(t.LocationLineBottomClassName);this._addClassToTarget(n,t.LocationLineTopClassName);break;case r.DraggedOverRegion.Bottom:n.classList.remove(t.LocationLineTopClassName);this._addClassToTarget(n,t.LocationLineBottomClassName);break;default:this._clearDragOverClasses(n)}},i.prototype._addClassToTarget=function(n,t){n.classList.contains(t)||n.classList.add(t)},i.prototype._clearDragOverClasses=function(n){n.classList.remove(t.LocationLineTopClassName);n.classList.remove(t.LocationLineBottomClassName)},i.prototype._getDraggedOverRegion=function(n){var i=r.DraggedOverRegion.Bottom,t;return!isNaN(n.clientY)&&n.currentTarget&&(t=n.currentTarget.getBoundingClientRect(),i=n.clientY-t.top>t.height/2?r.DraggedOverRegion.Bottom:r.DraggedOverRegion.Top),i},i.prototype._setDropEffect=function(n){var i=n.dataTransfer,t;if(i){t=n.ctrlKey||this._isCopyAction?"copy":"move";try{i.dropEffect=f.BrowserCheckUtils.isSafari()&&t==="copy"?"all":t}catch(r){}}},i.prototype._scrollIfNeeded=function(n){if(f.BrowserCheckUtils.isIE()&&n.currentTarget){var i=n.currentTarget.getBoundingClientRect(),r=n.currentTarget.offsetParent.getBoundingClientRect();this._allowParentScroll&&(i.top-r.top<t.ScrollTolerance?this._scroll(-1,n.currentTarget.offsetParent):r.bottom-i.bottom<t.ScrollTolerance?this._scroll(1,n.currentTarget.offsetParent):this._allowParentScroll=!1)}},i.prototype._scroll=function(n,t){var u=this,i,r;this._isCustomScrollingPerformed=!0;i=$(t);r=i.scrollTop();i.scrollTop(r+n);this._allowParentScroll&&setTimeout(function(){u._scroll(n,t)},20)},i.prototype.isCustomScrollingPerformed=function(){return this._isCustomScrollingPerformed},i}(i.Singleton);t.DragDropManager=o});

define("DistributedTaskControls/Components/ButtonCallout",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/CalloutComponent","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Common/JQueryWrapper","OfficeFabric/Utilities","OfficeFabric/Button","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/ButtonCallout"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});t.ButtonCallout=void 0;var c=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._toggleButtonCalloutState=function(){t.setState({isCalloutVisible:!t.state.isCalloutVisible})},t._onCalloutDismiss=function(){t.setState({isCalloutVisible:!1})},t._onCalloutFooterOnClick=function(){t.setState({isCalloutVisible:!1});t.props.calloutContent.calloutFooterOnClick&&t.props.calloutContent.calloutFooterOnClick()},t}return __extends(t,n),t.prototype.render=function(){var t=o.css("dtc-button-callout",this.props.cssClass),r=this.props.calloutContent.calloutContentAriaLabel?this.props.calloutContent.calloutContentAriaLabel:this.props.calloutContent.calloutHeader?h.format(f.InfoCalloutAriaLabel,this.props.calloutContent.calloutHeader):this.props.buttonTextAriaLabel?this.props.buttonTextAriaLabel:f.MoreInformation,n=e.JQueryWrapper.extendDeep({},this.props.calloutContent);return n.calloutContentAriaLabel=r,n.calloutFooterOnClick=this._onCalloutFooterOnClick,!!this.props.buttonText||!!this.props.iconClassName?i.createElement("div",{className:t,ref:this._resolveRef("_buttonElement")},i.createElement(s.ActionButton,__assign({className:this.props.buttonClassName},!!this.props.iconClassName&&{iconProps:{className:this.props.iconClassName}},!!this.props.buttonText&&{text:this.props.buttonText},{onClick:this._toggleButtonCalloutState,ariaLabel:this.props.buttonTextAriaLabel,ariaDescription:this.props.buttonAriaDescription,tabIndex:0})),this.state.isCalloutVisible&&i.createElement(u.CalloutComponent,{targetElement:this._buttonElement,calloutDismissDelegate:this._onCalloutDismiss,calloutContentProps:n})):null},t.prototype.isCalloutVisible=function(){return this.state.isCalloutVisible},t}(r.Component);t.ButtonCallout=c});

define("DistributedTaskControls/Components/TaskDefinitionItem",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/DragDropManager","DistributedTaskControls/Components/ButtonCallout","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Utilities","OfficeFabric/Button","OfficeFabric/Image","OfficeFabric/FocusZone","OfficeFabric/Utilities","VSS/Utils/String","VSS/Utils/UI","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/TaskDefinitionItem"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});t.TaskDefinitionItem=void 0;var p=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onAddTask=function(){if(t.props.onAddTask)t.props.onAddTask(t.props.task)},t._onSelect=function(n){var i=n.nativeEvent.target;if(!(i&&i.classList&&(i.classList.contains(t._addTaskButtonClassName)||i.classList.contains(t._learnMoreButtonClassName))))t.props.onSelect(t.props.task.id)},t._onDragStart=function(n){t.props.onDragTask();f.DragDropManager.instance().onDragStart(n,{listId:t.props.taskListStoreInstanceId,key:u.TASK_DEFINITION_DATA_KEY,data:t.props.task},!0)},t._onDragEnd=function(n){var i=f.DragDropManager.instance().onDragEnd(n);if(i===f.DropStatus.Accepted)t.props.onAddTaskByDragDrop(t.props.task,!0);else if(i===f.DropStatus.Rejected)t.props.onAddTaskByDragDrop(t.props.task,!1)},t._handleKeyDown=function(n){if(n){var i=n.nativeEvent.target;if(i&&i.classList&&(i.classList.contains(t._addTaskButtonClassName)||i.classList.contains(t._learnMoreButtonClassName)))n.shiftKey&&n.keyCode===y.KeyCode.TAB&&(n.currentTarget.tabIndex=-1);else if(n.keyCode===y.KeyCode.ENTER&&t.props.onAddTask)t.props.onAddTask(t.props.task)}},t._addTaskButtonClassName="dtc-task-list-item-buttons",t._learnMoreButtonClassName="dtc-task-learn-more-button",t}return __extends(t,n),t.prototype.componentWillMount=function(){this._taskNameId=s.InputControlUtils.getId("TaskDefinition")},t.prototype.render=function(){var n=this,t;return this.props.task.helpMarkDown&&(t=i.createElement("div",{className:"dtc-task-learn-more"},i.createElement(e.ButtonCallout,{iconClassName:"bowtie-icon bowtie-status-info-outline dtc-task-learn-more-info-icon",buttonClassName:this._learnMoreButtonClassName,buttonText:o.TaskLearnMoreText,calloutContent:{calloutMarkdown:this.props.task.helpMarkDown},buttonTextAriaLabel:o.TaskLearnMoreText,buttonAriaDescription:v.localeFormat(o.TaskLearnMoreDescription,this.props.task.friendlyName)}))),i.createElement("div",{className:a.css("dtc-task-item",{"is-selected":this.props.isSelected}),"data-is-focusable":!0,"aria-labelledby":this._taskNameId,onFocus:this._onSelect,role:"option","aria-posinset":this.props.posInSet,"aria-setsize":this.props.sizeOfSet,"aria-selected":this.props.isSelected,onKeyDown:function(t){n._handleKeyDown(t)}},i.createElement(l.FocusZone,{direction:l.FocusZoneDirection.horizontal,isCircularNavigation:!0},i.createElement("div",{className:"dtc-task-details"},i.createElement("div",{className:"dtc-task-draggable",draggable:!0,onDragStart:this._onDragStart,onDragEnd:this._onDragEnd,ref:function(t){return n._elementInstance=t}},i.createElement("i",{className:"bowtie-icon bowtie-resize-grip left gripper-icon"}),i.createElement(c.Image,{className:"dtc-task-icon",src:this.props.task.iconUrl,imageFit:c.ImageFit.contain,alt:v.empty}),i.createElement("div",{className:"dtc-task-info"},i.createElement("div",{className:"info-name",id:this._taskNameId},this.props.task.friendlyName),i.createElement("div",{className:"info-description"},this.props.task.description))),i.createElement(h.PrimaryButton,{className:this._addTaskButtonClassName,onClick:this._onAddTask,ariaLabel:o.AddTaskLinkText,ariaDescription:v.localeFormat(o.AddTaskDescription,this.props.task.friendlyName)},o.AddTaskLinkText)),i.createElement("div",{className:"dtc-task-footer"},i.createElement("div",{className:"dtc-task-author"},v.format("{0} {1}",o.ByText,this.props.task.author)),t)))},t}(r.Component);t.TaskDefinitionItem=p});

define("DistributedTaskControls/SharedControls/Collapsible/Collapsible",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/InfoButton","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/SafeLink","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Utilities","VSSUI/Tooltip","OfficeFabric/Utilities","VSS/Utils/String","VSS/Utils/UI","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/Collapsible/Collapsible"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){var v,y;Object.defineProperty(t,"__esModule",{value:!0});t.Collapsible=void 0;v=function(n){function t(t){var r=__construct(this,n,[t]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.showContent=function(n){r.props.expanded===undefined&&r.setState({expanded:n})},r._toggle=function(){var n=!r.isExpanded();if(r.props.expanded===undefined&&r.setState({expanded:n}),r.props.onHeaderClick)r.props.onHeaderClick(n)},r._handleKeyPress=function(n){(n.keyCode===a.KeyCode.SPACE||n.keyCode===a.KeyCode.ENTER)&&(r._toggle(),n.preventDefault(),n.stopPropagation())},r._getDefaultSectionHeaderLabel=function(n){var t=n.label,f=n.addSectionHeaderLine,u=r.isExpanded(),e=l.format("chevron bowtie-icon bowtie-chevron-{0}-light",u?"up":"down"),s=r._getBowtieHeader(n),a=u?o.ExpandText:o.CollapseText;return i.createElement("div",{tabIndex:0,className:"collapsible-section-header",role:"button",onClick:r._toggle,onKeyDown:r._handleKeyPress,id:r._titleId,"aria-label":t,"aria-expanded":u,"aria-controls":r._contentId,"data-first-focus-element":!0},i.createElement("div",{className:c.css(r.props.headerLabelCssClass,"collapsible-section-label")},s,r.props.customLabel?r.props.customLabel:i.createElement(h.TooltipHost,{content:t,overflowMode:h.TooltipOverflowMode.Parent},t)),i.createElement("div",{className:c.css(r.props.headerChevronCssClass,e)}),f&&i.createElement("div",{className:"collapsible-section-line"},i.createElement("hr",null)))},r._titleId=t.titleId?t.titleId:s.InputControlUtils.getId("Collapsible"),r._contentId=s.InputControlUtils.getId("CollapsibleContent"),r.state={expanded:!!(t.expanded!==undefined?t.expanded:t.initiallyExpanded)},r}return __extends(t,n),t.prototype.componentWillReceiveProps=function(n){n.expanded!==undefined&&this.setState({expanded:!!n.expanded})},t.prototype.componentDidUpdate=function(n,t){this._contentContainer&&(this.props.expanded?n&&n.expanded===this.props.expanded||f.DtcUtils.scrollElementToView(this._contentContainer,this.props.scrollBehavior):this.state&&this.state.expanded&&(t&&t.expanded===this.state.expanded||f.DtcUtils.scrollElementToView(this._contentContainer,this.props.scrollBehavior)))},t.prototype.render=function(){var r="collapsible-description-".concat(f.DtcUtils.getUniqueInstanceId()),u=this._getHeaderContent(),e=this._getDescriptionContent(),n=this.props,o=n.cssClass,s=n.headingLevel,h=n.addSeparator,l=n.children,t=this.isExpanded(),a=this._getDescription(),v=this.props.noHeadingRole?null:"heading",p=this.props.noHeadingRole?null:s;return i.createElement("div",{className:c.css("dtc-collapsible",o),ref:this._resolveRef("_contentContainer")},i.createElement("div",{className:c.css(this.props.headerContainerCssClass,"title-container",t?"dtc-collapsible-expanded":"dtc-collapsible-collapsed"),role:v,"aria-expanded":t,"aria-level":p,"aria-describedby":r},i.createElement("div",{className:"hidden",id:r},a),u,e),i.createElement("div",{id:this._contentId},t&&i.createElement("div",{className:"content-container"},l)),h&&i.createElement(y,null))},t.prototype.isExpanded=function(){var n=!1;return n=this.props.expanded===undefined?this.state?this.state.expanded:this.props.initiallyExpanded:this.props.expanded,!!n},t.prototype._getHeaderContent=function(){return this.props.onRenderHeader?this.props.onRenderHeader(this.props,this._getDefaultSectionHeaderLabel):this._getDefaultSectionHeaderLabel(this.props)},t.prototype._getDescriptionContent=function(){var n=this._getDescription(),u=this._getDescriptionInfoButton(),r=this._getDescriptionHelpLinkContent(),t;return typeof n=="string"&&r&&(n=l.localeFormat("{0} ",n)),t=null,n&&(t=i.createElement("div",{className:"description-container"},n,r,u)),t},t.prototype._getDescriptionInfoButton=function(){var n=null;return!this.props.descriptionInfoText||(n=i.createElement(u.Component,{calloutContent:s.InputControlUtils.getCalloutContentProps(this.props.descriptionInfoText),cssClass:"description-info-button",isIconFocusable:!0,iconAriaLabel:o.InfoIconAriaLabel})),n},t.prototype._getDescriptionHelpLinkContent=function(){var n=null,t="gates-link-description",r={"aria-labelledby":t};return this.props.helpLink&&(n=i.createElement("div",null,i.createElement(e.SafeLink,{className:"description-help-link",target:"_blank",href:this.props.helpLink,ariaProps:r},o.CollapsibleDescriptionLearnMore),i.createElement("div",{className:"hidden",id:t},o.CollapsibleLearnMoreLinkDescription))),n},t.prototype._getDescription=function(){var t=!this.isExpanded(),n=this.props.description?this.props.description:l.empty;return t&&this.props.descriptionOnCollapse&&(n=this.props.descriptionOnCollapse),n},t.prototype._getBowtieHeader=function(n){var t=n.bowtieIconName?c.css("collapsible-section-icon","bowtie-icon",n.bowtieIconName):l.empty;return n.bowtieIconName&&i.createElement("i",{className:t})},t}(r.Component);t.Collapsible=v;y=function(){return i.createElement("div",{className:"empty-separator"})}});

define("DistributedTaskControls/Components/TaskItemList",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/TaskItemUtilities","DistributedTaskControls/Components/ExtensionItemList","DistributedTaskControls/Components/MessageBarComponent","DistributedTaskControls/Components/TaskDefinitionItem","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/Collapsible/Collapsible","DistributedTaskControls/SharedControls/LoadableComponent/LoadableComponent","OfficeFabric/MessageBar","OfficeFabric/FocusZone","OfficeFabric/List","OfficeFabric/Utilities","VSS/Utils/Array","VSS/Utils/UI","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/TaskItemList"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){Object.defineProperty(t,"__esModule",{value:!0});t.TaskItemList=void 0;var b=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t._onRenderListItem=function(n,r){return i.createElement(o.TaskDefinitionItem,{key:n.id,task:n,posInSet:r+1,sizeOfSet:n.deprecated?t.props.deprecatedTasks.length:t.props.tasks.length,onAddTask:t.props.onAddTask,onSelect:t._onSelect,isSelected:t.state.selectedTask===n.id,taskListStoreInstanceId:t.props.taskListStoreInstanceId,onDragTask:t.props.onDragTask,onAddTaskByDragDrop:t.props.onAddTaskByDragDrop})},t._onSelect=function(n){t.setState({selectedTask:n})},t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",{className:y.css("dtc-task-list",this.props.cssClass)},i.createElement(c.LoadableComponent,{instanceId:this.props.taskListStoreInstanceId.concat(u.TaskItemUtils.tasksIdentifierText),label:s.FetchingTasksText},i.createElement("div",null,!this.props.isTaskFetched&&this._getErrorComponent(),this._getTaskListComponent())))},t.prototype._getTaskListComponent=function(){return i.createElement(a.FocusZone,{direction:a.FocusZoneDirection.vertical,isInnerZoneKeystroke:function(n){return n.which===y.getRTLSafeKeyCode(39)}},i.createElement(v.List,{items:p.clone(this.props.tasks),onRenderCell:this._onRenderListItem,role:"listbox","aria-label":s.FetchingTasksText}),this.props.showExtension&&i.createElement(h.Collapsible,{label:s.Task_MarketplaceCategoryText,initiallyExpanded:!0,headingLevel:2,scrollBehavior:w.Positioning.VerticalScrollBehavior.Top,addSectionHeaderLine:!0},i.createElement(f.ExtensionItemList,{instanceId:this.props.taskListStoreInstanceId,extensions:this.props.extensions,isExtensionFetched:this.props.isExtensionFetched,onItemSelect:this._onSelect,selectedItemId:this.state.selectedTask,className:"dtc-task-extension-list"})),(this.props.deprecatedTasks||[]).length>0&&i.createElement(h.Collapsible,{label:s.DeprecatedTasksText,initiallyExpanded:!1,headingLevel:2,addSeparator:!0,scrollBehavior:w.Positioning.VerticalScrollBehavior.Top,addSectionHeaderLine:!0},i.createElement(v.List,{items:p.clone(this.props.deprecatedTasks),onRenderCell:this._onRenderListItem,role:"listbox"})))},t.prototype._getErrorComponent=function(){return i.createElement(e.MessageBarComponent,{className:"task-error-element",messageBarType:l.MessageBarType.error},s.TaskCallFailedDisplayErrorMessage)},t}(r.Component);t.TaskItemList=b});

define("DistributedTaskControls/Common/FilteringUtils",["require","exports","VSS/Utils/String"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.FilteringUtils=void 0;var r=function(){function n(){}return n.performFilteringWithScore=function(t,r,u,f,e){var c=[],s=[],o,l,h;if(u){if(!i.equals(u,f,!0)&&(c=f&&u.length>f.length&&u.indexOf(f)>=0?t:r,!!c))for(o=u.split(n._stringSpace),s=c.map(function(n){return{item:n,score:e(n,u,!0)}}),l=function(n){o[n]!==i.empty&&(s=s.filter(function(t){return e(t.item,o[n])!==0}).map(function(t){var i=e(t.item,o[n]);return{item:t.item,score:t.score+i}}))},h=0;h<o.length;h++)l(h)}else return r;return s.sort(function(n,t){return t.score-n.score}).map(function(n){return n.item})},n.getStringMatchScore=function(n,t,r){var f,u,e;if(r===void 0&&(r=!1),f=t?t.length:0,n=n?n.toLowerCase().trim():i.empty,f<=0||!n)return 0;for(u=0,e=f;u<f;u++,e--)if(t[u]=t[u]?t[u].toLowerCase().trim():i.empty,t[u]){if(!!r&&i.equals(t[u],n,!0))return e+f;if(!r&&t[u].indexOf(n)>=0)return e}return 0},n._stringSpace=" ",n}();t.FilteringUtils=r});

define("DistributedTaskControls/Stores/TaskExtensionItemListStore",["require","exports","DistributedTaskControls/Actions/TaskExtensionItemListActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/FilteringUtils","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/Stores/Base","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.TaskExtensionItemListStore=void 0;var h=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleUpdateExtensionItemList=function(n){n&&(n.extensionItems&&(t._completeExtensionItemList=n.extensionItems,t._extensionItemList=t._lastFilter?f.FilteringUtils.performFilteringWithScore([],t._completeExtensionItemList,t._lastFilter,s.empty,t._getMatchScore)||[]:t._completeExtensionItemList),t._isExtensionFetched=n.isExtensionFetched,t.emitChanged())},t._handleFilterExtensionItemList=function(n){t._extensionItemList=f.FilteringUtils.performFilteringWithScore(t._extensionItemList,t._completeExtensionItemList,n,t._lastFilter,t._getMatchScore)||[];t._publishFilteredExtensionTelemetry(t._extensionItemList.length);t.emitChanged();t._lastFilter=n},t._lastFilter="",t._extensionItemList=[],t._completeExtensionItemList=[],t._isExtensionFetched=!1,t}return __extends(t,n),t.prototype.initialize=function(){this._extensionItemListActions=r.ActionsHubManager.GetActionsHub(i.TaskExtensionItemListActions);this._extensionItemListActions.updateExtensionItemList.addListener(this._handleUpdateExtensionItemList);this._extensionItemListActions.filterExtensionItemList.addListener(this._handleFilterExtensionItemList)},t.prototype.disposeInternal=function(){this._extensionItemListActions.updateExtensionItemList.removeListener(this._handleUpdateExtensionItemList);this._extensionItemListActions.filterExtensionItemList.removeListener(this._handleFilterExtensionItemList)},t.getKey=function(){return u.StoreKeys.ExtensionItemListStore},t.prototype.getExtensionItemList=function(){return this._extensionItemList},t.prototype.isExtensionFetched=function(){return this._isExtensionFetched},t.prototype._publishFilteredExtensionTelemetry=function(n){var t={};t[e.Properties.Length]=n;e.Telemetry.instance().publishEvent(e.Feature.MarketplaceExtensionInSearch,t)},t.prototype._getMatchScore=function(n,t,i){var r=n.friendlyName||n.name||s.empty,u=n.description||s.empty;return f.FilteringUtils.getStringMatchScore(t,[r,u,n.tags.join(" ")],i)},t}(o.StoreBase);t.TaskExtensionItemListStore=h});

define("DistributedTaskControls/Stores/TaskItemListStore",["require","exports","DistributedTaskControls/Actions/TaskItemListActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/FilteringUtils","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s){function h(n){return n&&s.localeIgnoreCaseComparer(n,s.empty)!==0?(n=n.trim(),n.toLowerCase()):null}function c(n,t){n[t]||(n[t]={tasks:[],deprecatedTasks:[]})}Object.defineProperty(t,"__esModule",{value:!0});t.TaskItemListStore=t.Key_PreDefinedTaskListCategories_AllTasks=t.Key_PreDefinedTaskListCategories_MarketplaceTasks=t.PreDefinedTaskListCategories=void 0;t.PreDefinedTaskListCategories={all:o.TaskItemListAllText,build:o.Task_BuildCategoryText,utility:o.Task_UtilityCategoryText,test:o.Task_TestCategoryText,package:o.Task_PackageCategoryText,deploy:o.Task_DeployCategoryText,tool:o.Task_ToolCategoryText,marketplace:o.Task_MarketplaceCategoryText};t.Key_PreDefinedTaskListCategories_MarketplaceTasks="marketplace";t.Key_PreDefinedTaskListCategories_AllTasks="all";var l=function(n){function e(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleUpdateTaskItemList=function(n){if(n){if(n.taskItems){var i=[],r=[];(n.taskItems||[]).forEach(function(n){n.deprecated?r.push(n):i.push(n)});t._completeTaskItemList=i;t._completeDeprecatedTaskItemList=r;t._taskItemList=t._lastFilter?f.FilteringUtils.performFilteringWithScore([],t._completeTaskItemList,t._lastFilter,s.empty,t._getMatchScore)||[]:t._completeTaskItemList;t._deprecatedTaskItemList=t._lastFilter?f.FilteringUtils.performFilteringWithScore([],t._completeDeprecatedTaskItemList,t._lastFilter,s.empty,t._getMatchScore)||[]:t._completeDeprecatedTaskItemList}t._isTaskFetched=n.isTaskFetched;t.emitChanged()}},t._handleFilterTaskItemList=function(n){t._taskItemList=f.FilteringUtils.performFilteringWithScore(t._taskItemList,t._completeTaskItemList,n,t._lastFilter,t._getMatchScore)||[];t._deprecatedTaskItemList=f.FilteringUtils.performFilteringWithScore(t._deprecatedTaskItemList,t._completeDeprecatedTaskItemList,n,t._lastFilter,t._getMatchScore)||[];t.emitChanged();t._lastFilter=n},t._lastFilter="",t._deprecatedTaskItemList=[],t._taskItemList=[],t._completeDeprecatedTaskItemList=[],t._completeTaskItemList=[],t._isTaskFetched=!1,t}return __extends(e,n),e.prototype.initialize=function(){this._taskItemListActions=r.ActionsHubManager.GetActionsHub(i.TaskItemListActions);this._taskItemListActions.updateTaskItemList.addListener(this._handleUpdateTaskItemList);this._taskItemListActions.filterTaskItemList.addListener(this._handleFilterTaskItemList)},e.prototype.disposeInternal=function(){this._taskItemListActions.updateTaskItemList.removeListener(this._handleUpdateTaskItemList);this._taskItemListActions.filterTaskItemList.removeListener(this._handleFilterTaskItemList)},e.getKey=function(){return u.StoreKeys.TaskItemListStore},e.prototype.getDeprecatedTaskItemList=function(){return this._deprecatedTaskItemList},e.prototype.getTaskItemList=function(){return this._taskItemList},e.prototype.isTaskFetched=function(){return this._isTaskFetched},e.prototype.getTaskListPerCategory=function(){var n={},t;this._categorize(n);for(t in n)(n[t].tasks||[]).sort(function(n,t){return s.localeIgnoreCaseComparer(n.friendlyName,t.friendlyName)}),(n[t].deprecatedTasks||[]).sort(function(n,t){return s.localeIgnoreCaseComparer(n.friendlyName,t.friendlyName)});return n},e.prototype._categorize=function(n){n[t.Key_PreDefinedTaskListCategories_AllTasks]={tasks:[],deprecatedTasks:[]};this._taskItemList.forEach(function(i){var r=h(i.category);r&&(c(n,r),n[t.Key_PreDefinedTaskListCategories_AllTasks].tasks.push(i),n[r].tasks.push(i))});this._deprecatedTaskItemList.forEach(function(i){var r=h(i.category);r&&(c(n,r),n[t.Key_PreDefinedTaskListCategories_AllTasks].deprecatedTasks.push(i),n[r].deprecatedTasks.push(i))})},e.prototype._getMatchScore=function(n,t,i){var r=n.friendlyName||n.name||s.empty,u=n.description||s.empty;return f.FilteringUtils.getStringMatchScore(t,[r,u],i)},e}(e.StoreBase);t.TaskItemListStore=l});

define("DistributedTaskControls/ControllerViews/TaskItemListControllerView",["require","exports","react","DistributedTasksCommon/TFS.Tasks.Types","DistributedTaskControls/Actions/TaskExtensionItemListActionsCreator","DistributedTaskControls/Actions/TaskItemListActionsCreator","DistributedTaskControls/Actions/TaskListActionsCreator","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/AppContext","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/MarketplaceLinkHelper","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Components/ExtensionItemList","DistributedTaskControls/Components/ExternalLink","DistributedTaskControls/Components/NoSearchResults","DistributedTaskControls/Components/TaskItemList","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Stores/TaskExtensionItemListStore","DistributedTaskControls/Stores/TaskItemListStore","OfficeFabric/Button","OfficeFabric/Fabric","OfficeFabric/FocusZone","OfficeFabric/SearchBox","OfficeFabric/Utilities","VSS/Diag","VSSUI/PivotBar","VSS/Utils/Accessibility","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/ControllerViews/TaskItemListControllerView"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st){Object.defineProperty(t,"__esModule",{value:!0});t.TaskItemListControllerView=void 0;var ht=function(n){var t=n.marketplaceLink;return i.createElement("div",{className:"dtc-task-list-description"},i.createElement("span",null,k.TaskItemListDescription," "),i.createElement(p.ExternalLink,{className:"dtc-task-list-description-link",text:k.CheckoutMarketPlaceText,href:t,newTab:!0}))},ct=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onPivotClicked=function(n,i){t.setState({selectedPivotkey:i});t._publishTaskTabClickedTelemetry(i)},t._updateExtensionList=function(){t.setState({extensions:t._extensionListStore.getExtensionItemList(),isExtensionFetched:t._extensionListStore.isExtensionFetched()})},t._updateTaskList=function(){ft.logVerbose("[TasksControllerView._updateTasksList]: method called");t.setState({currentTasks:t._store.getTaskItemList(),currentDeprecatedTasks:t._store.getDeprecatedTaskItemList(),taskListPerCategory:t._store.getTaskListPerCategory(),isTaskFetched:t._store.isTaskFetched()})},t._onAddTask=function(n){ft.logVerbose("[TasksControllerView._onAddTask]: method called");t._taskListActionCreator.addTask(n);ot.announce(k.TaskAdded,!0);t._publishAddTaskTelemetry(n,!1,!0)},t._onDragTask=function(){ft.logVerbose("[TasksControllerView._onDragTask]: method called");t._taskListActionCreator.clearAddTaskLocation()},t._onAddTaskByDragDrop=function(n,i){ft.logVerbose("[TasksControllerView._onAddTaskByDragDrop]: method called");t._publishAddTaskTelemetry(n,!0,i)},t._onValueChanged=function(n){t._delayedOnChange(n)},t._onFilterTextChanged=function(n){ft.logVerbose("[TasksControllerView._onFilterTextChanged]: method called");t._filterText=n;t._extensionActionCreator.filterExtensionItemList(n);t._actionCreator.filterTaskItemList(n)},t._onRefresh=function(){t._actionCreator.updateTaskItemList(t.props.visibilityFilter,t.props.taskGroupType?t.props.taskGroupType:r.TaskGroupType.RunOnAny,!0);t._extensionActionCreator.getExtensions(!0);t._publishRefreshTaskTelemetry()},t._filterText=st.empty,t}return __extends(t,n),t.prototype.componentWillMount=function(){this._actionCreator=o.ActionCreatorManager.GetActionCreator(f.TaskItemListActionsCreator,this.props.taskListStoreInstanceId);this._extensionActionCreator=o.ActionCreatorManager.GetActionCreator(u.TaskExtensionItemListActionsCreator,this.props.taskListStoreInstanceId);this._store=a.StoreManager.GetStore(g.TaskItemListStore);this._extensionListStore=a.StoreManager.GetStore(d.TaskExtensionItemListStore);this._taskListActionCreator=o.ActionCreatorManager.GetActionCreator(e.TaskListActionsCreator,this.props.taskListStoreInstanceId);this._actionCreator.updateTaskItemList(this.props.visibilityFilter,this.props.taskGroupType?this.props.taskGroupType:r.TaskGroupType.RunOnAny);this._isMarketplaceCapabilitySupported=h.AppContext.instance().isCapabilitySupported(h.AppCapability.MarketplaceExtensions);this._isMarketplaceCapabilitySupported&&this._extensionActionCreator.getExtensions();this.setState({currentTasks:this._store.getTaskItemList(),currentDeprecatedTasks:this._store.getDeprecatedTaskItemList(),extensions:this._extensionListStore.getExtensionItemList(),isExtensionFetched:this._extensionListStore.isExtensionFetched(),taskListPerCategory:this._store.getTaskListPerCategory(),selectedPivotkey:g.Key_PreDefinedTaskListCategories_AllTasks,isTaskFetched:this._store.isTaskFetched()})},t.prototype.componentDidMount=function(){var t=this,n;ft.logVerbose("[TasksControllerView.componentDidMount]: method called");this._store.addChangedListener(this._updateTaskList);this._extensionListStore.addChangedListener(this._updateExtensionList);n=new ut.Async;this._delayedOnChange=n.debounce(this._onFilterTextChanged,500);this._searchButton&&this._searchButton.focus();this._isMarketplaceCapabilitySupported||l.MarketplaceLinkHelper.getMarketplaceLink().then(function(n){t.setState({marketplaceLink:n})})},t.prototype.componentWillUnmount=function(){ft.logVerbose("[TasksControllerView.componentWillUnmount]: method called");this._store.removeChangedListener(this._updateTaskList);this._extensionListStore.removeChangedListener(this._updateExtensionList)},t.prototype.render=function(){var e,u,r,n,t,f;if(ft.logVerbose("[TasksControllerView.render]: method called"),this._filterText)e=this.state.currentTasks.length>0||this.state.currentDeprecatedTasks.length>0||!this._isExtensionListEmpty()?i.createElement(b.TaskItemList,{key:g.Key_PreDefinedTaskListCategories_AllTasks,tasks:this.state.currentTasks,deprecatedTasks:this.state.currentDeprecatedTasks,extensions:this.state.extensions,isExtensionFetched:this.state.isExtensionFetched,isTaskFetched:this.state.isTaskFetched,showExtension:!this._isExtensionListEmpty(),taskListStoreInstanceId:this.props.taskListStoreInstanceId,onAddTask:this._onAddTask,onDragTask:this._onDragTask,onAddTaskByDragDrop:this._onAddTaskByDragDrop,cssClass:"dtc-filtered-task-list"}):i.createElement("div",{className:"dtc-tasks-no-search-results"},i.createElement(w.NoSearchResults,{searchText:this._filterText}));else{u=this.state.taskListPerCategory;r=[];for(n in g.PreDefinedTaskListCategories)g.PreDefinedTaskListCategories.hasOwnProperty(n)&&!!u&&u.hasOwnProperty(n)&&(t=this._getCategoryTitle(n),f=this._getTaskItemList(n,u[n]),r.push(i.createElement(et.PivotBarItem,{key:n,itemKey:n,name:t,className:"pivot-item-class",ariaLabel:t},f)));this._isMarketplaceCapabilitySupported&&(t=this._getCategoryTitle(g.Key_PreDefinedTaskListCategories_MarketplaceTasks),f=this._getMarketplaceTabItem(),r.push(i.createElement(et.PivotBarItem,{key:g.Key_PreDefinedTaskListCategories_MarketplaceTasks,itemKey:g.Key_PreDefinedTaskListCategories_MarketplaceTasks,name:t,className:"pivot-item-class",ariaLabel:t},f)));r.length>0&&(e=i.createElement(tt.Fabric,{className:"dtc-task-pivot-bar-container"},i.createElement(et.PivotBar,{className:"add-task-pivot-bar",selectedPivot:this.state.selectedPivotkey,onPivotClicked:this._onPivotClicked,autoFocus:!1},r)))}return i.createElement("div",{className:"dtc-add-task-container"},i.createElement("div",{className:"dtc-task-item-list-top-strip"},i.createElement("div",{className:"dtc-task-list-header"},i.createElement("div",{className:"dtc-task-list-header-content"},i.createElement("div",{className:"dtc-task-list-title"},k.TaskItemListTitle),this._isMarketplaceCapabilitySupported&&i.createElement("div",{className:"add-task-refresh-separator"},i.createElement("div",{className:"separator"}),i.createElement(nt.ActionButton,{className:"refresh-button",iconProps:{className:"bowtie-icon bowtie-navigate-refresh"},text:k.Refresh,onClick:this._onRefresh}))),!this._isMarketplaceCapabilitySupported&&i.createElement(ht,{marketplaceLink:this.state.marketplaceLink||s.HelpLinks.DefaultMarketplaceLink})),i.createElement("div",{className:"dtc-task-list-search fabric-style-overrides",role:"search","aria-label":k.SearchTaskAriaLabel},i.createElement(rt.SearchBox,{componentRef:this._resolveRef("_searchButton"),placeholder:k.SearchLabel,onChange:this._onValueChanged}))),i.createElement("div",{className:"dtc-task-item-list-content"},e))},t.prototype._isExtensionListEmpty=function(){return this._isMarketplaceCapabilitySupported?this.state.isExtensionFetched&&this.state.extensions.length===0:!0},t.prototype._getMarketplaceTabItem=function(){return i.createElement(it.FocusZone,{direction:it.FocusZoneDirection.vertical,isInnerZoneKeystroke:function(n){return n.which===ut.getRTLSafeKeyCode(39)}},i.createElement(y.ExtensionItemList,{extensions:this.state.extensions,isExtensionFetched:this.state.isExtensionFetched,instanceId:this.props.taskListStoreInstanceId,className:"dtc-task-item-list"}))},t.prototype._getTaskItemList=function(n,t){var r=!1;return this._isMarketplaceCapabilitySupported&&(r=st.equals(n,g.Key_PreDefinedTaskListCategories_AllTasks,!0)),i.createElement(b.TaskItemList,{key:n,cssClass:"dtc-task-item-list",tasks:t.tasks,deprecatedTasks:t.deprecatedTasks,extensions:this.state.extensions,isExtensionFetched:this.state.isExtensionFetched,isTaskFetched:this.state.isTaskFetched,showExtension:r,taskListStoreInstanceId:this.props.taskListStoreInstanceId,onAddTask:this._onAddTask,onDragTask:this._onDragTask,onAddTaskByDragDrop:this._onAddTaskByDragDrop})},t.prototype._getCategoryTitle=function(n){var t=g.PreDefinedTaskListCategories[n];return st.toSentenceCase(t)},t.prototype._publishAddTaskTelemetry=function(n,t,i){var u={},f=v.Source.CommandButton;t&&(f=v.Source.DragAndDrop);u[v.Properties.TaskCategory]=n.category;u[v.Properties.SelectedCategoryTab]=this.state.selectedPivotkey;n.definitionType!==r.DefinitionType.metaTask&&(u[v.Properties.TaskId]=n.id);u[v.Properties.TaskDefinitionType]=n.definitionType;u[v.Properties.TaskAccepted]=i;v.Telemetry.instance().publishEvent(v.Feature.AddTask,u,f)},t.prototype._publishRefreshTaskTelemetry=function(){v.Telemetry.instance().publishEvent(v.Feature.RefreshTask)},t.prototype._publishTaskTabClickedTelemetry=function(n){var t={};t[v.Properties.selectedTab]=n;v.Telemetry.instance().publishEvent(v.Feature.TaskTab,t)},t}(c.Component);t.TaskItemListControllerView=ct});

define("DistributedTaskControls/Components/Task/AddTaskItem",["require","exports","react","DistributedTaskControls/Components/TwoPanelOverviewComponent","DistributedTaskControls/ControllerViews/TaskItemListControllerView","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/Task/AddTaskItem"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.AddTaskItem=void 0;var e=function(){function n(n){this._itemDetails=n}return n.prototype.getOverview=function(n){if(this._itemDetails.hideOverview)return null;if(!this._overView){var t={title:f.AddTask,view:null,item:this,instanceId:n,iconClassName:"bowtie-icon bowtie-math-plus add-task-icon",overviewClassName:"add-task-item-overview-body"};this._overView=i.createElement("div",{className:"addtask-item-overview"},i.createElement(r.TwoPanelOverviewComponent,__assign({},t)))}return this._overView},n.prototype.getDetails=function(){return this._details||(this._details=i.createElement(u.TaskItemListControllerView,{key:this.getKey(),taskListStoreInstanceId:this._itemDetails.taskListStoreInstanceId,visibilityFilter:this._itemDetails.visibilityFilter,taskGroupType:this._itemDetails.taskGroupType})),this._details},n.prototype.getAddTaskItemDetails=function(){return this._itemDetails},n.prototype.getKey=function(){return"common.addtaskitem"+this._itemDetails.taskListStoreInstanceId},n}();t.AddTaskItem=e});

define("DistributedTaskControls/Components/Task/TaskActionsCreatorBase",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.TaskActionsCreatorBase=void 0;var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){return},t.getKey=function(){return r.ActionCreatorKeys.TaskDetailsActionsCreator},t.prototype.updateTaskInputValue=function(){throw new Error("Error: This should be invoked in derived class.");},t.prototype.updateTaskInputError=function(){throw new Error("Error: This should be invoked in derived class.");},t.prototype.updateTaskInputOptions=function(){throw new Error("Error: This should be invoked in derived class.");},t}(i.ActionCreatorBase);t.TaskActionsCreatorBase=u});

define("DistributedTaskControls/Components/Task/TaskActionsCreator",["require","exports","VSS/Flux/Action","DistributedTaskControls/Components/Task/TaskActionsCreatorBase","DistributedTaskControls/Sources/TaskDefinitionSource"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.TaskActionCreator=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this.renameTaskAction=new i.Action;this.updateTaskRefNameAction=new i.Action;this.updateTaskStateAction=new i.Action;this.updateTaskInputErrorAction=new i.Action;this.updateTaskInputValueAction=new i.Action;this.updateTaskInputOptionsAction=new i.Action;this.addTaskEnvironmentVariableAction=new i.Action;this.updateTaskEnvironmentVariableNameAction=new i.Action;this.updateTaskEnvironmentVariableValueAction=new i.Action;this.deleteTaskEnvironmentVariableAction=new i.Action;this.linkToProcessParameterAction=new i.Action;this.unlinkFromProcessParameterAction=new i.Action;this.updateTaskDefinitionAction=new i.Action;this.markTaskAsDeletingAction=new i.Action},t.prototype.renameTask=function(n){this.renameTaskAction.invoke(n)},t.prototype.updateTaskRefName=function(n){this.updateTaskRefNameAction.invoke(n)},t.prototype.updateTaskState=function(n){this.updateTaskStateAction.invoke(n)},t.prototype.updateTaskInputError=function(n,t,i){this.updateTaskInputErrorAction.invoke({name:n,message:t,value:i})},t.prototype.updateTaskInputValue=function(n,t){this.updateTaskInputValueAction.invoke({name:n,value:t})},t.prototype.updateTaskInputOptions=function(n,t){this.updateTaskInputOptionsAction.invoke({name:n,options:t})},t.prototype.addTaskEnvironmentVariable=function(){this.addTaskEnvironmentVariableAction.invoke({})},t.prototype.updateTaskEnvironmentVariableName=function(n,t){this.updateTaskEnvironmentVariableNameAction.invoke({index:n,name:t})},t.prototype.updateTaskEnvironmentVariableValue=function(n,t){this.updateTaskEnvironmentVariableValueAction.invoke({index:n,value:t})},t.prototype.deleteTaskEnvironmentVariable=function(n,t){this.deleteTaskEnvironmentVariableAction.invoke({index:n,name:t})},t.prototype.linkToProcessParameter=function(n,t){this.linkToProcessParameterAction.invoke({inputName:n,processParametername:t})},t.prototype.unlinkFromProcessParameter=function(n){this.unlinkFromProcessParameterAction.invoke(n)},t.prototype.updateTaskDefinition=function(n,t){var i=u.TaskDefinitionSource.instance().getTaskDefinition(n,t||"*");this.updateTaskDefinitionAction.invoke(i)},t.prototype.markTaskAsDeleting=function(){this.markTaskAsDeletingAction.invoke({})},t}(r.TaskActionsCreatorBase);t.TaskActionCreator=f});

define("DistributedTaskControls/Common/InputValidation",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.InputValidation=void 0;var i=function(){function n(){this._inputInvalidStates={};this._inputLatestValue={};this._pendingInputErrorPayloadDispatch={}}return n.prototype.updateInputValue=function(n,t){this._inputLatestValue[n]=t},n.prototype.isValid=function(n){return!this._inputInvalidStates[n]},n.prototype.clear=function(n){delete this._inputInvalidStates[n];delete this._inputLatestValue[n]},n.prototype.tryHandlePendingInputErrorDispatch=function(n){var t=this._pendingInputErrorPayloadDispatch[n];if(!t)return!1;this._tryUpdateInputValidationInvalidState(t);delete this._pendingInputErrorPayloadDispatch[t.name]},n.prototype.tryHandleUpdateInputError=function(n){return this._tryUpdateInputValidationInvalidState(n)?!0:(this._pendingInputErrorPayloadDispatch[n.name]=n,!1)},n.prototype._tryUpdateInputValidationInvalidState=function(n){var t=!1;return n.value===this._inputLatestValue[n.name]&&(this._updateInputInvalidState(n),t=!0),t},n.prototype._updateInputInvalidState=function(n){n.message?this._inputInvalidStates[n.name]=!!n.message:delete this._inputInvalidStates[n.name]},n}();t.InputValidation=i});

define("DistributedTaskControls/Components/Task/VisibilityHelper",["require","exports","VSS/Utils/String","VSS/Utils/Array"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.VisibilityHelper=void 0;var u="&&",f="||",e=function(){function n(){}return n.getVisibilityRule=function(n){var t=null,i,r,e;return n&&(n.indexOf(u)!==-1?(i=n.split(u),r=i.map(this.getPredicateRule),t={operator:u,predicateRules:r}):n.indexOf(f)!==-1?(i=n.split(f),r=i.map(this.getPredicateRule),t={operator:f,predicateRules:r}):(e=this.getPredicateRule(n),e&&(t={operator:null,predicateRules:[e]}))),t},n.getPredicateRule=function(n){var i=null,t=/([a-zA-Z0-9 ]+)([!=<>]+)([a-zA-Z0-9. ]+)|([a-zA-Z0-9 ]+(?=NotContains|NotEndsWith|NotStartsWith))(NotContains|NotEndsWith|NotStartsWith)([a-zA-Z0-9. ]+)|([a-zA-Z0-9 ]+(?=Contains|EndsWith|StartsWith))(Contains|EndsWith|StartsWith)([a-zA-Z0-9. ]+)/g.exec(n);return t&&t.length===10&&(i=t[1]?{inputName:t[1].trim(),condition:t[2].trim(),expectedValue:t[3].trim()}:t[4]?{inputName:t[4].trim(),condition:t[5].trim(),expectedValue:t[6].trim()}:{inputName:t[7].trim(),condition:t[8].trim(),expectedValue:t[9].trim()}),i},n.isSourcedInput=function(n,t){var i=!1;return Object.keys(t).forEach(function(r){var u=t[r].some(function(t){return t===n});u&&(i=!0)}),i},n.getVisibility=function(n,t,f,e){for(var l,o=n.operator===u,a=function(u){var l=n.predicateRules[u],h=r.first(t,function(n){return i.equals(n.inputName,l.inputName,!0)}),c,a;if(h)c=i.equals(h.inputName,e,!0)||!h.isHidden()||f&&s.isSourcedInput(h.inputName,f),c?(a=s._getPredicateResult(l,h.inputValue),o=s._evaluate(o,a,n.operator)):o=s._evaluate(o,c,n.operator);else return o=!1,"break"},s=this,h=0,c=n.predicateRules.length;h<c;h++)if(l=a(h,c),l==="break")break;return o},n._getPredicateResult=function(n,t){var r=!1,f=t?t.toString().toLowerCase():t,u;if(n){u=n.expectedValue?n.expectedValue.toString().toLowerCase():n.expectedValue;switch(n.condition){case"=":case"==":r=f===u;break;case"!=":r=f!==u;break;case"<":r=f<u;break;case">":r=f>u;break;case"<=":r=f<=u;break;case">=":r=f>=u;break;case"Contains":r=t&&t.indexOf(u)>=0;break;case"StartsWith":r=t&&i.startsWith(t,u,i.ignoreCaseComparer);break;case"EndsWith":r=t&&i.endsWith(t,u,i.ignoreCaseComparer);break;case"NotContains":r=!(t&&t.indexOf(u)>=0);break;case"NotStartsWith":r=!(t&&i.startsWith(t,u,i.ignoreCaseComparer));break;case"NotEndsWith":r=!(t&&i.endsWith(t,u,i.ignoreCaseComparer))}}return r},n._evaluate=function(n,t,i){return i===u?n&&t:i===f?n||t:i===null?t:void 0},n}();t.VisibilityHelper=e});

define("DistributedTaskControls/SharedControls/InputControls/Components/DataSourceBindingUtility",["require","exports","q","DistributedTaskControls/Sources/ConnectedServiceEndpointSource","DistributedTaskControls/Common/Utilities","DistributedTasksCommon/TFS.Tasks.Utils","DistributedTasksCommon/TFS.Tasks.Common.Variables","VSS/Utils/String","VSS/Context"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.DataSourceBindingUtility=void 0;var h=function(){function n(){}return n.getDataSourceBindingDependency=function(t,i){var u=[],r,f,e;if(!t)return u;for(f in t.parameters)t.parameters.hasOwnProperty(f)&&(r=t.parameters[f].match(n._parameterRegex),r?(e=r[1]||r[2],u.push(e)):i&&(i[f]=t.parameters[f]));return r=t.endpointId.match(n._parameterRegex),!r||(e=r[1]||r[2],u.push(e)),!t.endpointUrl||(u=u.concat(n._getSourceDefinitionDependency(t.endpointUrl))),u},n._getSourceDefinitionDependency=function(t){for(var i,r=[],u;(i=n._parameterRegex_ig.exec(t))!==null;)u=i[1]||i[2],r.push(u);return r},n._getUnmatchedDataSourceBindingInputParameters=function(t,i,r){var f,h=i||{},o={},u,e,s;if(!r)return o;for(u in r.parameters)r.parameters.hasOwnProperty(u)&&(f=r.parameters[u].match(n._parameterRegex),!f||(e=f[1]||f[2],!!t&&t.hasOwnProperty(e)&&e!==u&&(s=n._getResolvedValueOfInput(t[e],h),s&&(o[u]=s.trim()))));return o},n.refreshDataSourceBindingPickList=function(t,u,f,e,s,h){var l={},d=n.getDataSourceBindingDependency(f,l),w=!0,c=i.defer(),y,p,a,k;if(d.forEach(function(i){if(t.hasOwnProperty(i)){var r=n._getResolvedValueOfInput(t[i],u);h||r?l[i]=r?r.trim():o.empty:w=!1}}),w){y=n._getUnmatchedDataSourceBindingInputParameters(t,u,f);for(p in y)l[p]=y[p];if(a=n._getSourceTokenValue(t,u,f.endpointId),!(a==="")){var g={dataSourceName:f.dataSourceName,dataSourceUrl:f.endpointUrl,resourceUrl:o.empty,requestContent:f.requestContent,requestVerb:f.requestVerb,parameters:l,resultSelector:f.resultSelector,headers:f.headers,initialContextTemplate:f.initialContextTemplate},nt={resultTemplate:f.resultTemplate,callbackContextTemplate:f.callbackContextTemplate,callbackRequiredTemplate:f.callbackRequiredTemplate},b={serviceEndpointDetails:null,dataSourceDetails:g,resultTransformationDetails:nt},v=void 0;e?(k=void 0,v=n.recursivelyExecuteServiceEndpointRequest(b,a,k),v.then(function(n){var t=n.result;c.resolve(t)},function(n){c.reject(n)})):(v=r.ConnectedServiceEndpointSource.instance().executeServiceEndpointRequest(b,a),v.then(function(n){o.equals(n.statusCode,"ok",!0)?(!s||(s.isMoreDataAvailable=n.callbackRequired),c.resolve(n.result)):c.resolve(n.result)},function(n){c.reject(n)}))}}else c.resolve([]);return c.promise},n.prepareServiceEndpointExecution=function(t,u,f,e){var c={},y=n.getDataSourceBindingDependency(f,c),s=i.defer(),h=jQuery.extend(!0,{},t),l,a,v;h.searchText=e;h.name=e;y.forEach(function(t){if(h.hasOwnProperty(t)){var i=n._getResolvedValueOfInput(h[t],u);i?c[t]=i.trim():s.resolve([])}});l=n._getUnmatchedDataSourceBindingInputParameters(h,u,f);for(a in l)c[a]=l[a];if(v=n._getSourceTokenValue(t,u,f.endpointId),!(v===o.empty)){var p={dataSourceName:f.dataSourceName,dataSourceUrl:f.endpointUrl,resourceUrl:o.empty,requestContent:f.requestContent,requestVerb:f.requestVerb,parameters:c,resultSelector:f.resultSelector,headers:f.headers,initialContextTemplate:f.initialContextTemplate},w={resultTemplate:f.resultTemplate,callbackContextTemplate:f.callbackContextTemplate,callbackRequiredTemplate:f.callbackRequiredTemplate},b={serviceEndpointDetails:null,dataSourceDetails:p,resultTransformationDetails:w},k=r.ConnectedServiceEndpointSource.instance().executeServiceEndpointRequest(b,v);k.then(function(n){o.equals(n.statusCode,"ok",!0)?s.resolve(n.result):s.resolve(n.result)},function(n){s.reject(n)})}return s.promise},n.recursivelyExecuteServiceEndpointRequest=function(n,t,u){var e=this,f=i.defer(),s=r.ConnectedServiceEndpointSource.instance().executeServiceEndpointRequest(n,t);return s.then(function(i){if(u=e.updateResultSet(i,u),i.callbackRequired){for(var r in i.callbackContextParameters)n.dataSourceDetails.parameters[r]=i.callbackContextParameters[r];n.dataSourceDetails.parameters=Object.assign(n.dataSourceDetails.parameters,i.callbackContextParameters);e.recursivelyExecuteServiceEndpointRequest(n,t,u).then(function(n){f.resolve(n)},function(n){f.reject(n)})}else o.equals(i.statusCode,"ok",!0)?(i.result=u,f.resolve(i)):f.resolve(i)},function(n){f.reject(n)}),f.promise},n.updateResultSet=function(n,t){var i=n.result;return i&&i.length>0&&(t=t?t.concat(n.result):n.result),t},n.refreshSourceDefinitionPickList=function(t,u,f,e){var h=[],s=e.endpoint,c;return s=n._expandImplicitVariables(s),c=this._getSourceDefinitionDependency(s),c.length===0?n._queryOnRefresh(t,u,f,e,s):(c.forEach(function(f){var y="\\{\\$"+f+"\\}|\\$\\("+f+"\\)",v=new RegExp(y,"ig"),c,l,a;if(t.hasOwnProperty(f))c=n._getResolvedValueOfInput(t[f],u),c&&(s=s.replace(v,c.trim()),h.push(i.resolve(s)));else if(l=n._getAuthKeyInputName(f,e.authKey),t.hasOwnProperty(l)){if(a=n._getResolvedValueOfInput(t[l],u),!a)return i.resolve([]);h.push(r.ConnectedServiceEndpointSource.instance().getServiceEndpoint(a).then(function(n){var t,i;if(n)return t=f.split(".")[1],n.data[t]||(t=t[0].toLowerCase()+t.substring(1)),i=!n.data[t]?o.empty:n.data[t],o.ignoreCaseComparer(t,"subscriptionId")===0&&(i=i.toLowerCase()),s=s.replace(v,i.trim())},function(n){return i.reject(n)}))}}),h.length?i.all(h).then(function(){return n._queryOnRefresh(t,u,f,e,s)},function(n){return i.reject(n)}):i.resolve([]))},n._getAuthKeyInputName=function(t,i){var u="",f=t.split(".")[0],e,r;return(o.equals(f,"authKey",!0)||o.equals(f,"endpoint",!0))&&(e=i||"",r=e.match(n._parameterRegex),r&&(u=r[1]||r[2])),u},n._queryOnRefresh=function(t,u,f,e,o){var s=n._getSourceTokenValue(t,u,e.authKey);return s===""?i.resolve([]):r.ConnectedServiceEndpointSource.instance().queryEndpoint({url:o,selector:e.selector,connectionId:s,scope:null,taskId:f,keySelector:e.keySelector})},n._expandImplicitVariables=function(n){var t="\\$\\("+e.ImplicitVariableNames.TeamProject+"\\)",i=e.ImplicitVariables.GetImplicitVariables(s.getDefaultWebContext()).filter(function(n){return o.localeIgnoreCaseComparer(n.name,e.ImplicitVariableNames.TeamProject)===0})[0],r=new RegExp(t,"ig");return n.replace(r,i.value)},n.getInternalServiceDetailsMap=function(){var t="tfs:",n={};return n["tfs:devtestlabs"]={authKey:t+"0000000e-0000-8888-8000-000000000000",manageLink:f.ActionUrlResolver.getActionUrl(null,null,"machines")},n["tfs:teamfoundation"]={authKey:t+"00025394-6065-48CA-87D9-7F5672854EF7",manageLink:f.ActionUrlResolver.getActionUrl(null,null,"testmanagement")},n["tfs:feed"]={authKey:t+"00000036-0000-8888-8000-000000000000",manageLink:null},n["tfs:governance"]={authKey:t+"00000049-0000-8888-8000-000000000000",manageLink:null},n["tfs:rm"]={authKey:t+"0000000D-0000-8888-8000-000000000000",manageLink:null},n["tfs:ems"]={authKey:t+"00000028-0000-8888-8000-000000000000",manageLink:null},n},n._getSourceTokenValue=function(t,i,r){var f,u,e;return r=r||"",f=r.match(n._parameterRegex),u="",f?(u=f[1]||f[2],t.hasOwnProperty(u)&&(u=n._getResolvedValueOfInput(t[u],i))):(e=n.getInternalServiceDetailsMap()[r.toLowerCase()],e&&(u=e.authKey)),o.startsWith(u,"$(")||o.ignoreCaseComparer(u,"$")===0?o.empty:u},n.getDependencyToTargetsMap=function(t,i,r){var u={};return!i||i.forEach(function(i){var r=n.getDataSourceBindingDependency(i);r.forEach(function(n){t.hasOwnProperty(n)&&(u.hasOwnProperty(n)||(u[n]=[]),u[n].push(i.target))})}),!r||r.forEach(function(i){var r=n._getSourceDefinitionDependency(n._expandImplicitVariables(i.endpoint));r.forEach(function(r){if(t.hasOwnProperty(r))u.hasOwnProperty(r)||(u[r]=[]),u[r].push(i.target);else{var f=n._getAuthKeyInputName(r,i.authKey);t.hasOwnProperty(f)&&(u.hasOwnProperty(f)||(u[f]=[]),u[f].push(i.target))}})}),u},n.getInputNameToDependentParentNamesMap=function(t,i,r,u){var e={},f=n.getDependencyToTargetsMap(i,r,u);return t&&t.length>0&&t.forEach(function(n){e[n]||(e[n]=[]);f&&Object.keys(f).length>0&&Object.keys(f).forEach(function(t){f[t]&&f[t].length>0&&f[t].forEach(function(i){o.ignoreCaseComparer(i,n)===0&&e[n].push(t)})})}),e},n._getResolvedValueOfInput=function(n,t){var i=u.DtcUtils.resolveTaskInputValueByProcessParameters(n,t);return i&&i.resolvedValue},n._parameterRegex=/\{\$(.*?)\}|\$\((.*?)\)/,n._parameterRegex_ig=/\{\$(.*?)\}|\$\((.*?)\)/ig,n}();t.DataSourceBindingUtility=h});

define("DistributedTaskControls/SharedControls/InputControls/Components/PickListInputUtility",["require","exports","q","DistributedTaskControls/SharedControls/InputControls/Components/DataSourceBindingUtility","DistributedTaskControls/Common/UrlUtilities","DistributedTaskControls/Common/Common","VSS/Diag","DistributedTaskControls/Common/Utilities","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.PickListInputUtility=void 0;var h=function(){function n(){}return n.getPickListOptions=function(t,i,u,e){var h={sourceDefintion:null,dataSourceBinding:null,enableRefresh:!1,manageLink:null,enableManage:!1},y=o.DtcUtils.isTaskInputSearchable(t),a=o.DtcUtils.getSearchDataSourceName(t),v=t.name,p=y&&e,c,l;return p&&a&&(v=a),!i||i.forEach(function(i){if(s.equals(v,i.target,!0)){var u=r.DataSourceBindingUtility.getInternalServiceDetailsMap()[i.endpointId.toLowerCase()];n._updatePickListOptions(t,u,h);h.dataSourceBinding=i;h.enableRefresh=!0}}),!u||u.forEach(function(i){var u,f;s.equals(t.name,i.target,!0)&&(u=r.DataSourceBindingUtility.getInternalServiceDetailsMap()[i.authKey.toLowerCase()],n._updatePickListOptions(t,u,h),f=u&&u.manageLink,f&&(h.enableRefresh=!0),h.sourceDefintion=i)}),t&&t.properties&&(c=t.properties[f.INPUT_TYPE_PROPERTY_ENABLE_MANAGE],c&&c.toLowerCase()==="true"&&(h.enableManage=!0,l=t.properties[f.INPUT_TYPE_PROPERTY_MANAGE_LINK],l&&(h.manageLink=l))),h},n.onRefresh=function(t,u,f){var o=n.getPickListOptions(t,u.dataSourceBindings,u.sourceDefinitions,s.empty),h;return o.sourceDefintion?(h=u.taskDefinitionId,!h)?(e.logWarning("[PickListInputComponent._onRefresh]: No taskDefinitionId found for input: "+t.name),i.resolve({})):r.DataSourceBindingUtility.refreshSourceDefinitionPickList(u.taskInputToValueMap,u.processParametersToValueMap,h,o.sourceDefintion).then(function(t){var r={};return t&&t.forEach(function(t){var f=t,u=t,i;n.isEmpty(o.sourceDefintion.keySelector)||(i=n.extractKeyAndValue(u),i.length>=2&&(f=i[0],u=i[1]));r[f]=u}),i.resolve(r)},function(n){return i.reject(n)}):o.dataSourceBinding?r.DataSourceBindingUtility.refreshDataSourceBindingPickList(u.taskInputToValueMap,u.processParametersToValueMap,o.dataSourceBinding,!0,null,f).then(function(t){var r={};return t&&t.forEach(function(t){var u=t,f=t,i;if(!n.isEmpty(o.dataSourceBinding.resultTemplate))try{i=JSON.parse(t);u=i.Value.toString();f=i.DisplayValue.toString()}catch(s){e.logWarning("[PickListInputComponent._onRefresh]: json parse failed. Option: "+t)}r[u]=f}),i.resolve(r)},function(n){return i.reject(n)}):i.resolve({})},n.onSearch=function(t,u,f){var s=n.getPickListOptions(t,u.dataSourceBindings,u.sourceDefinitions,f),o=i.defer();return r.DataSourceBindingUtility.prepareServiceEndpointExecution(u.taskInputToValueMap,u.processParametersToValueMap,s.dataSourceBinding,f).then(function(n){var t={};n&&n.forEach(function(n){var r=n,u=n,i;try{i=JSON.parse(n);r=i.Value.toString();u=i.DisplayValue.toString()}catch(f){e.logWarning("[SearchableComboboxInputComponent._onRefresh]: json parse failed. Option: "+n)}t[r]=u});o.resolve(t)},function(n){o.reject(n)}),o.promise},n.searchableComboboxOnRefresh=function(t,u,f,o){var h=n.getPickListOptions(t,u.dataSourceBindings,u.sourceDefinitions,s.empty),c=i.defer();return h.dataSourceBinding?(r.DataSourceBindingUtility.refreshDataSourceBindingPickList(u.taskInputToValueMap,u.processParametersToValueMap,h.dataSourceBinding,!1,f,o).then(function(t){var i={};t&&t.forEach(function(t){var u=t,f=t,r;if(!n.isEmpty(h.dataSourceBinding.resultTemplate))try{r=JSON.parse(t);u=r.Value.toString();f=r.DisplayValue.toString()}catch(o){e.logWarning("[PickListInputComponent._onRefresh]: json parse failed. Option: "+t)}i[u]=f});c.resolve(i)},function(n){c.reject(n)}),c.promise):i.resolve({})},n.getDependentInputsToValueMap=function(n,t,i,u){var f=this.getPickListOptions(n,t,i,s.empty),e={},o;return!f.dataSourceBinding||(o=r.DataSourceBindingUtility.getDataSourceBindingDependency(f.dataSourceBinding),o.forEach(function(n){e[n]=u[n]})),e},n.areDataSourceDependentValuesMapEqual=function(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(var i in n)if(n.hasOwnProperty(i)&&n[i]!==t[i])return!1;return!0},n.enableRefresh=function(t,i,r){var u=n.getPickListOptions(t,i,r,s.empty);return u.enableRefresh},n.enableManageLink=function(t,i,r){var u=n.getPickListOptions(t,i,r,s.empty);return u.enableManage},n.onManageLink=function(t,i,r){var f=n.getPickListOptions(t,i,r,s.empty);u.UrlUtilities.openInNewWindow(f.manageLink,!0)},n.extractKeyAndValue=function(t){var i=[],r=n._getDelimiterIndex(t);if(r===-1)i.push(t),i.push(t);else{var f=t.substr(0,r+1),u=r+n._delimStr.length+1,e=t.substr(u,t.length-u);i.push(n._unescapeDelimiter(f));i.push(n._unescapeDelimiter(e))}return i},n.isEmpty=function(n){return!n||0===n.length},n.tryParseJSON=function(n){try{var t=JSON.parse(n);return t&&typeof t=="object"&&t!==null?{error:!1,jsonObject:t}:{error:!0,jsonObject:null}}catch(i){return{error:!0,jsonObject:null}}},n.findIds=function(t,i){for(var e,u,f=[],r=0,o=t.length;r<o;r++)e=t[r].split("\\")||[],u=n.getIdsFromNestedObject(i,e,0),u!==-1&&f.push(u);return f},n.getIdsFromNestedObject=function(t,i,r){if(t&&t.length>0)for(var u=0,f=t.length;u<f;u++)if(t[u].text===i[r])return r===i.length-1?t[u].id:n.getIdsFromNestedObject(t[u].children,i,r+1);return-1},n.findItems=function(t,i){var f=[],r,e,u;if(t&&t.length>0)for(r=0,e=t.length;r<e;r++)u=n.getItemNamesFromNestedObject(i,t[r]),u&&f.push(u);return f},n.getItemNamesFromNestedObject=function(t,i){var r,u,f;if(t&&t.length>0){for(r=0,u=t.length;r<u;r++)if(t[r].id===parseInt(i,10))return t[r].text;for(r=0,u=t.length;r<u;r++)if(t[r].children&&t[r].children.length>0&&(f=n.getItemNamesFromNestedObject(t[r].children,i),f))return t[r].text+"\\"+f}return null},n._getDelimiterIndex=function(t){var i=new RegExp(n._delimRegex,"g");return t.search(i)},n._unescapeDelimiter=function(t){var i=new RegExp(n._unescapeRegex,"g");return t.replace(i,n._delimStr)},n._updatePickListOptions=function(n,t,i){var r=t&&t.manageLink,u=n.properties&&n.properties.DisableManageLink&&n.properties.DisableManageLink.toLowerCase()==="true";i.enableManage=r&&!u?!0:!1;i.enableManage&&(i.manageLink=t.manageLink)},n.getMultiSelectType=function(n){var t;return n&&(n[f.INPUT_TYPE_PROPERTY_MULTI_SELECT]&&n[f.INPUT_TYPE_PROPERTY_MULTI_SELECT].toLowerCase()===f.BOOLEAN_TRUE?t=f.PICKLIST_MULTI_SELECT_TREE_TYPE:n[f.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST]&&n[f.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST].toLowerCase()===f.BOOLEAN_TRUE&&(t=f.PICKLIST_MULTI_SELECT_FLAT_LIST_TYPE)),t},n._delimStr="|",n._delimRegex="[^\\\\]\\|",n._unescapeRegex="\\\\\\|",n}();t.PickListInputUtility=h});

define("DistributedTaskControls/Components/Task/TaskStoreBase",["require","exports","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Task/VisibilityHelper","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/PickListInputUtility","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});t.TaskStoreBase=void 0;var c=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._taskContext=t,i}return __extends(t,n),t.getKey=function(){return i.StoreKeys.TaskDetailsStore},t.prototype.getTaskInputState=function(){throw new Error("Error:Value should be given by derived class.");},t.prototype.getTaskContext=function(){return this._taskContext},t.prototype.setTaskContext=function(n){this._taskContext=n},t.prototype.getActionForInputField=function(){throw new Error("Error:Value should be given by derived class.");},t.prototype.getSourceDefinitions=function(){throw new Error("Error:Value should be given by derived class.");},t.prototype.getDataSourceBindings=function(){throw new Error("Error:Value should be given by derived class.");},t.prototype.disposeInternal=function(){return},t.prototype.getTaskDefinitionId=function(){throw new Error("Error:Value should be given by derived class.");},t.prototype.getProcessParameterToValueMap=function(){throw new Error("Error:Value should be given by derived class.");},t.prototype.isVisible=function(n,t,i){var o=this,u=!0,r=e.VisibilityHelper.getVisibilityRule(n),f;return r&&(f=r.predicateRules.map(function(n){return o.getTaskInputState(n.inputName)}),u=e.VisibilityHelper.getVisibility(r,f,t,i)),u},t.prototype.getInputToValueMap=function(){throw new Error("Error:Value should be given by derived class.");},t.prototype.isDirty=function(){throw new Error("Error:Value should be given by derived class.");},t.prototype.getInputState=function(n,t){return!n?r.InputState.Valid:this._getInputState(n,t)},t.prototype.isInputValid=function(n){var i=!0,t=this.getTaskInputState(n.name),u,f;return t?(u=this.getInputState(n,t.inputValue),f=t.isHidden?t.isHidden():!1,f||u===r.InputState.Valid||(i=!1)):i=!1,i},t.prototype.canShowLinkOptions=function(){return this._taskContext.donotShowLinkOptions!==!0},t.prototype.canShowVersions=function(){return this._taskContext.donotShowVersions!==!0},t.prototype.canShowControlOptions=function(){return this._taskContext.donotShowControlOptions!==!0},t.prototype.canShowOutputVariables=function(){return this._taskContext.donotShowOutputVariables!==!0},t.prototype.canShowYAMLFeature=function(){return this._taskContext.donotShowYAMLFeature!==!0},t.prototype.canShowTaskGroupOptions=function(){return this._taskContext.donotShowTaskGroupOptions!==!0},t.prototype._getInputState=function(n,t){if(n.required&&(!t||t.trim()===h.empty))return r.InputState.Invalid_InputRequired;var i=f.DtcUtils.getTaskInputType(n);return h.ignoreCaseComparer(i,o.InputControlType.INPUT_TYPE_PICK_LIST)===0&&!s.PickListInputUtility.enableRefresh(n,this.getDataSourceBindings(),this.getSourceDefinitions())&&f.DtcUtils.isSimplePicklistValueInvalidOption(n.properties,n.options,t)?r.InputState.Invalid_SelectedOptionNotPresent:n.properties?this._validateInputDefinitionProperties(t,n.properties):r.InputState.Valid},t.prototype._validateInputDefinitionProperties=function(n,i){if(n){var u=f.DtcUtils.getValueForCaseInsensitiveKey(i,t._inputDefinitionNonNegativeProperties);if(h.ignoreCaseComparer(u,"true")===0)return f.DtcUtils.isValidNonNegativeIntegerInRange(n,0,r.MaxPositiveNumber,!0);if(u=f.DtcUtils.getValueForCaseInsensitiveKey(i,t._inputDefinitionIsVariableOrNonNegativeNumberProperties),h.ignoreCaseComparer(u,"true")===0)return f.DtcUtils.isValueInVariableFormat(n)===!0||f.DtcUtils.isValidNonNegativeIntegerInRange(n,0,r.MaxPositiveNumber,!0)===r.InputState.Valid?r.InputState.Valid:r.InputState.Invalid_VariableOrNonPositiveNumber}return r.InputState.Valid},t._inputDefinitionNonNegativeProperties="isNonNegativeNumber",t._inputDefinitionIsVariableOrNonNegativeNumberProperties="isVariableOrNonNegativeNumber",t}(u.StoreBase);t.TaskStoreBase=c});

define("DistributedTaskControls/Phase/PhaseCache",["require","exports","DistributedTaskControls/Common/Factory","DistributedTaskControls/Sources/AgentsSource"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.PhaseCache=void 0;var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._defaultAgentQueueId=null,t._permissibleQueues=null,t._allQueues=null,t._defaultAgentSpecification=null,t}return __extends(t,n),t.instance=function(){return n.getInstance.call(this,t)},t.prototype.updateDefaultQueueIdIfUndefined=function(n){this._defaultAgentQueueId||(this._defaultAgentQueueId=n)},t.prototype.updateDefaultQueueIdAndAgentSpecifications=function(n){return __awaiter(this,void 0,void 0,function(){var t,u,i;return __generator(this,function(f){switch(f.label){case 0:return!this._defaultAgentQueueId?(this._defaultAgentQueueId=n,[4,r.AgentsSource.instance().getTaskAgentQueue(n)]):[3,4];case 1:return(t=f.sent(),u=this,i=t&&t.pool&&t.pool.isHosted,!i)?[3,3]:[4,r.AgentsSource.instance().getAgentSpecifications(t)];case 2:i=f.sent();f.label=3;case 3:u._defaultAgentSpecifications=i;f.label=4;case 4:return[2]}})})},t.prototype.updateDefaultAgentSpecificationIfUndefined=function(n){this._defaultAgentSpecification||(this._defaultAgentSpecification=n)},t.prototype.getDefaultAgentQueueId=function(){return this._defaultAgentQueueId},t.prototype.getDefaultAgentSpecification=function(){return this._defaultAgentSpecification},t.prototype.updatePermissibleQueues=function(n){this._permissibleQueues=n},t.prototype.getPermissibleQueues=function(){return this._permissibleQueues},t.prototype.getDefaultAgentSpecifications=function(){return this._defaultAgentSpecifications},t.prototype.updateAllQueues=function(n){this._allQueues=n},t.prototype.getAllQueues=function(){return this._allQueues},t}(i.Singleton);t.PhaseCache=u});

define("DistributedTaskControls/Phase/DeployPhaseUtilities",["require","exports","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Phase/PhaseCache","DistributedTaskControls/Phase/Types","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Utilities","VSS/Context","VSS/Utils/String","DistributedTasksCommon/TFS.Tasks.Utils"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});t.DeployPhaseUtilities=void 0;var c=function(){function n(){}return n.getPhaseTypeTitleString=function(n){var t=s.empty;switch(n){case u.DeployPhaseTypes.MachineGroupBasedDeployment:t=f.DeploymentGroupPhaseTitle;break;case u.DeployPhaseTypes.RunOnServer:t=f.AgentlessPhaseTitle;break;case u.DeployPhaseTypes.AgentBasedDeployment:default:t=f.AgentPhaseTitle}return t},n.getPhaseHelpMarkdown=function(n){var t=s.empty;switch(n){case u.DeployPhaseTypes.MachineGroupBasedDeployment:t=f.DeploymentGroupPhaseHelpMarkDown;break;case u.DeployPhaseTypes.RunOnServer:t=f.RunOnServerPhaseHelpMarkDown;break;case u.DeployPhaseTypes.AgentBasedDeployment:default:t=f.AgentPhaseHelpMarkDown}return t},n.getPhaseTypeTitleDescription=function(n){var t=s.empty;switch(n){case u.DeployPhaseTypes.MachineGroupBasedDeployment:t=f.PhaseRunOnMachineGroupDeploymentTitle;break;case u.DeployPhaseTypes.RunOnServer:t=f.PhaseRunOnServerTitle;break;case u.DeployPhaseTypes.AgentBasedDeployment:default:t=f.PhaseRunOnAgentDeploymentTitle}return t},n.getPhaseTypeDescription=function(n){var t=s.empty;switch(n){case u.DeployPhaseTypes.MachineGroupBasedDeployment:t=f.RunOnMachineGroupDescriptionText;break;case u.DeployPhaseTypes.RunOnServer:t=f.RunOnServerDescriptionText;break;case u.DeployPhaseTypes.AgentBasedDeployment:default:t=f.RunOnAgentDescriptionText}return t},n.getPhaseTypeIconName=function(n){var t=s.empty;switch(n){case u.DeployPhaseTypes.MachineGroupBasedDeployment:t=e.css("bowtie-icon","bowtie-environment","left");break;case u.DeployPhaseTypes.RunOnServer:t=e.css("bowtie-icon","bowtie-server"," left");break;case u.DeployPhaseTypes.AgentBasedDeployment:default:t=e.css("bowtie-icon","bowtie-server-remote","left")}return t},n.createDeployPhaseCopy=function(n){return!n?n:i.JQueryWrapper.extendDeep({},n)},n.getParallelExecutionTypeKey=function(n){var t=s.empty;switch(n){case u.ParallelExecutionTypes.MultiConfiguration:t=u.ParallelExecutionTypeKeys.MultiConfiguration;break;case u.ParallelExecutionTypes.MultiMachine:t=u.ParallelExecutionTypeKeys.MultiMachine;break;case u.ParallelExecutionTypes.None:default:t=u.ParallelExecutionTypeKeys.None}return t},n.getParallelExecutionTypeString=function(n){var t=s.empty;switch(n){case u.ParallelExecutionTypes.MultiConfiguration:t=f.ParallelismMultiConfigurationOptionText;break;case u.ParallelExecutionTypes.MultiMachine:t=f.ParallelismMultiAgentsOptionText;break;case u.ParallelExecutionTypes.None:default:t=f.ParallelismNoneOptionText}return t},n.getPhaseConditionTypeText=function(n){var t=f.PhaseConditionOnSucceededText;if(n===undefined||n===null)return t;switch(n){case u.PhaseConditionTypeKeys.Succeeded:t=f.PhaseConditionOnSucceededText;break;case u.PhaseConditionTypeKeys.SucceededOrFailed:t=f.PhaseConditionAlwaysText;break;case u.PhaseConditionTypeKeys.Failed:t=f.PhaseConditionOnFailureText;break;default:t=f.PhaseConditionCustomConditionText}return t},n.getPhaseConditionTypeValue=function(n){var t=n;switch(n){case f.PhaseConditionOnSucceededText:t=u.PhaseConditionTypeKeys.Succeeded;break;case f.PhaseConditionAlwaysText:t=u.PhaseConditionTypeKeys.SucceededOrFailed;break;case f.PhaseConditionOnFailureText:t=u.PhaseConditionTypeKeys.Failed;break;case f.PhaseConditionCustomConditionText:t=s.empty}return t},n.getDefaultDeployPhase=function(n,t,i){var r,f=this.getDefaultJobCancelTimeout(i);switch(n){case u.DeployPhaseTypes.MachineGroupBasedDeployment:r=this._getDefaultMachineGroupBasedDeployPhase(f);break;case u.DeployPhaseTypes.RunOnServer:r=this._getDefaultRunOnServerDeployPhase(f);break;case u.DeployPhaseTypes.AgentBasedDeployment:case u.DeployPhaseTypes.DefaultPhase:r=this._getDefaultAgentBasedDeployPhase(f)}return t&&t.contributedPhaseInputs&&(r.phaseInputs={},t.contributedPhaseInputs.forEach(function(n){r.phaseInputs[n]={}})),r},n.getDefaultJobCancelTimeout=function(n){return n!==undefined&&n!==null?n:u.DeployPhaseSectionConstants.MinJobCancelTimeout},n.getPhaseCondition=function(n){var t=null,i=s.empty;return n.phaseType===u.DeployPhaseTypes.AgentBasedDeployment?(t=n.deploymentInput,i=t.condition):n.phaseType===u.DeployPhaseTypes.MachineGroupBasedDeployment?(t=n.deploymentInput,i=t.condition):n.phaseType===u.DeployPhaseTypes.RunOnServer&&(t=n.deploymentInput,i=t?t.condition:undefined),i},n._getDefaultAgentBasedDeployPhase=function(n){return{name:f.AgentPhaseTitle,refName:null,phaseType:u.DeployPhaseTypes.AgentBasedDeployment,rank:-1,tasks:[],deploymentInput:{demands:[],dependencies:[],condition:u.PhaseConditionTypeKeys.Succeeded,enableAccessToken:!1,queueId:r.PhaseCache.instance().getDefaultAgentQueueId(),agentSpecification:r.PhaseCache.instance().getDefaultAgentSpecification(),skipArtifactsDownload:!1,timeoutInMinutes:0,jobCancelTimeoutInMinutes:n}}},n._getDefaultRunOnServerDeployPhase=function(n){return{name:f.AgentlessPhaseTitle,refName:null,phaseType:u.DeployPhaseTypes.RunOnServer,rank:-1,tasks:[],deploymentInput:{dependencies:[],condition:u.PhaseConditionTypeKeys.Succeeded,jobCancelTimeoutInMinutes:n}}},n._getDefaultMachineGroupBasedDeployPhase=function(n){return{name:f.DeploymentGroupPhaseTitle,phaseType:u.DeployPhaseTypes.MachineGroupBasedDeployment,rank:-1,tasks:[],deploymentInput:{demands:[],enableAccessToken:!1,queueId:0,skipArtifactsDownload:!1,timeoutInMinutes:0,healthPercent:0,deploymentHealthOption:u.DeploymentHealthOptionConstants.AllTargetsInParallel,tags:[],jobCancelTimeoutInMinutes:n}}},n.createDeploymentMachineGroupCopy=function(n){var t={id:n.id,name:n.name};return n.pool&&(t.pool={id:n.pool.id,name:n.pool.name}),t},n.createDeploymentMachineGroupListCopy=function(n){return!n?n:i.JQueryWrapper.extendDeep({},n)},n.getPhaseTypeAsEnum=function(n){return s.ignoreCaseComparer(u.DeployPhaseTypes[u.DeployPhaseTypes.AgentBasedDeployment],u.DeployPhaseTypes[n]||n.toString())===0?u.DeployPhaseTypes.AgentBasedDeployment:s.ignoreCaseComparer(u.DeployPhaseTypes[u.DeployPhaseTypes.RunOnServer],u.DeployPhaseTypes[n]||n.toString())===0?u.DeployPhaseTypes.RunOnServer:s.ignoreCaseComparer(u.DeployPhaseTypes[u.DeployPhaseTypes.MachineGroupBasedDeployment],u.DeployPhaseTypes[n]||n.toString())===0?u.DeployPhaseTypes.MachineGroupBasedDeployment:u.DeployPhaseTypes.Undefined},n.getPhaseOverrideInputs=function(n){var t={},i,r,f;switch(n.phaseType){case u.DeployPhaseTypes.AgentBasedDeployment:i=n;t=i.deploymentInput.overrideInputs?i.deploymentInput.overrideInputs:{};break;case u.DeployPhaseTypes.RunOnServer:r=n;t=r.deploymentInput.overrideInputs?r.deploymentInput.overrideInputs:{};break;case u.DeployPhaseTypes.MachineGroupBasedDeployment:f=n;t=f.deploymentInput.overrideInputs?f.deploymentInput.overrideInputs:{}}return t},n.getMachinePageUrl=function(n,t){if(!n||n<0)return s.empty;var i={};return i.project=o.getDefaultWebContext()&&o.getDefaultWebContext().project?o.getDefaultWebContext().project.name:s.empty,i.view="MachineGroupView",i.mgid=n.toString(),i.tab="Machines",t&&(i.machineid=t.toString()),h.ActionUrlResolver.getActionUrl(null,null,"machinegroup",i)},n}();t.DeployPhaseUtilities=c});

define("DistributedTaskControls/Stores/ProcessParameterStore",["require","exports","DistributedTaskControls/Actions/ProcessParameterActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/InputValidation","DistributedTaskControls/Common/Types","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Task/TaskStoreBase","DistributedTaskControls/Phase/DeployPhaseUtilities","DistributedTaskControls/SharedControls/InputControls/Components/DataSourceBindingUtility","DistributedTaskControls/SharedControls/InputControls/Components/PickListInputUtility","VSS/Diag","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){var b,w;Object.defineProperty(t,"__esModule",{value:!0});t.ProcessParametersUtilities=t.ProcessParameterStore=void 0;b=function(n){function t(t){var i=n.call(this,{isFileSystemBrowsable:t.appContext.isFileSystemBrowsable,taskDelegates:t.appContext.taskDelegates,processInstanceId:t.appContext.processInstanceId})||this;return i._handleRemoveAllProcessParameters=function(){i._handleInitializeProcessParameters({processParameters:{dataSourceBindings:[],inputs:[],sourceDefinitions:[]},phaseList:[]})},i._handleUpdateInputError=function(n){i._inputValidation.tryHandleUpdateInputError(n)&&i.emitChanged()},i._handleUpdateInput=function(n){i._inputValidation.updateInputValue(n.name,n.value);i._updateInput(n);i._inputValidation.tryHandlePendingInputErrorDispatch(n.name,n.value);i.emitChanged()},i._handleUpdateInputOptions=function(n){i._updateInputOptions(n);i.emitChanged()},i._handleUpdateReferenceUsage=function(n){!n||!n.processParameterReferenceData||(n.shouldReferencesIncrease?n.processParameterReferenceData.forEach(function(n){i._increaseProcessParameterNameToUsageCount(n.processParameterName,n.referenceCount)}):n.processParameterReferenceData.forEach(function(n){i._decreaseProcessParameterNameToUsageCount(n.processParameterName,n.referenceCount)}),i._pruneProcessParameters(),i.emitChanged())},i._handleCreateProcessParameter=function(n){if(n){if(i._increaseProcessParameterNameToUsageCount(n.input.name,1),i._currentState.inputs){var t=y.first(i._currentState.inputs,function(t){return p.equals(t.name,n.input.name,!0)});if(t){i._updateProcessParameterInputDefinition(t,n.input);return}}else i._currentState.inputs=[];i._nameToInputDefnMap[n.input.name]=s.DtcUtils.createInputDefinitionCopy(n.input);i._currentState.inputs.push(i._nameToInputDefnMap[n.input.name]);n.sourceDefinition&&(i._sourceDefinitions||(i._sourceDefinitions=[]),i._sourceDefinitions.push(s.DtcUtils.createSourceDefinitionCopy(n.sourceDefinition)));n.dataSourceBinding&&(i._dataSourceBindings||(i._dataSourceBindings=[]),i._dataSourceBindings.push(s.DtcUtils.createDataSourceBindingCopy(n.dataSourceBinding)));i._dependencyToTargetMap=l.DataSourceBindingUtility.getDependencyToTargetsMap(i.getInputToValueMap(),i.getDataSourceBindings(),i.getSourceDefinitions());i.emitChanged()}},i._handleInitializeProcessParameters=function(n){i.initializeProcessParameters(n.processParameters);i._initializeProcessParametersToUsageCount(n.phaseList);n.forceUpdate&&i.emitChanged()},i._handleRemoveTaskReference=function(n){n&&(i._decreaseProcessParameterNameToUsageCount(n.name,1),i._pruneProcessParameters(),i.emitChanged())},i._inputValidation=new e.InputValidation,i._currentState={inputs:null},i._originalState={inputs:null},i._nameToInputDefnMap={},!t.phaseList||i._handleInitializeProcessParameters({phaseList:t.phaseList,processParameters:t.processParameters}),i}return __extends(t,n),t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._processParameterActions=r.ActionsHubManager.GetActionsHub(i.ProcessParameterActions,t);this._processParameterActions.updateInput.addListener(this._handleUpdateInput);this._processParameterActions.updateInputError.addListener(this._handleUpdateInputError);this._processParameterActions.updateInputOptions.addListener(this._handleUpdateInputOptions);this._processParameterActions.createProcessParameter.addListener(this._handleCreateProcessParameter);this._processParameterActions.initializeProcessParameters.addListener(this._handleInitializeProcessParameters);this._processParameterActions.unlinkProcessParameter.addListener(this._handleRemoveTaskReference);this._processParameterActions.updateReferenceCount.addListener(this._handleUpdateReferenceUsage);this._processParameterActions.removeAllProcessParameters.addListener(this._handleRemoveAllProcessParameters)},t.prototype.initializeProcessParameters=function(n){var t=this;!n||(n.inputs?(this._updateOptionsIfRequired(n.inputs),this._originalState={inputs:n.inputs.map(function(n){return s.DtcUtils.createInputDefinitionCopy(n)})},this._nameToInputDefnMap={},this._currentState={inputs:n.inputs.map(function(n){return t._nameToInputDefnMap[n.name]=s.DtcUtils.createInputDefinitionCopy(n),t._nameToInputDefnMap[n.name]})}):(this._currentState={inputs:null},this._originalState={inputs:null}),this._sourceDefinitions=n.sourceDefinitions,this._dataSourceBindings=n.dataSourceBindings,this._dependencyToTargetMap=l.DataSourceBindingUtility.getDependencyToTargetsMap(this.getInputToValueMap(),this.getDataSourceBindings(),this.getSourceDefinitions()))},t.prototype.getProcessParameters=function(){var n;return!this._currentState||!this._currentState.inputs||(n=this._currentState.inputs.map(function(n){return s.DtcUtils.createInputDefinitionCopy(n)})),this._removeInputOptionsIfRequired(n),{inputs:n,sourceDefinitions:this._sourceDefinitions,dataSourceBindings:this._dataSourceBindings}},t.prototype.getProcessParameterToValueMap=function(){return{}},t.prototype.getInputToValueMap=function(){var t={};for(var n in this._nameToInputDefnMap)this._nameToInputDefnMap.hasOwnProperty(n)&&(t[n]=this._nameToInputDefnMap[n].defaultValue);return t},t.prototype.getSourceDefinitions=function(){return this._sourceDefinitions},t.prototype.getDataSourceBindings=function(){return this._dataSourceBindings},t.prototype.getState=function(){return this._currentState},t.prototype.getInputDefinition=function(n){return this._nameToInputDefnMap[n]},t.prototype.getInputState=function(t,i){var r=n.prototype.getInputState.call(this,t,i);return r!==f.InputState.Valid||this._inputValidation.isValid(t.name)||(r=f.InputState.Invalid),r},t.prototype.isDirty=function(){return!this._currentState||!this._originalState||!this._currentState.inputs||!this._originalState.inputs?!1:!y.arrayEquals(this._originalState.inputs,this._currentState.inputs,function(n,t){return p.equals(n.name,t.name,!0)&&p.equals(n.defaultValue,t.defaultValue)})},t.prototype.isValid=function(){var n=this,t=!0;return this._currentState&&this._currentState.inputs&&this._currentState.inputs.length>0&&this._currentState.inputs.forEach(function(i){if(n.isVisible(i.visibleRule,n._dependencyToTargetMap,i.name)&&n.getInputState(i,i.defaultValue)!==u.InputState.Valid){t=!1;return}}),t},t.prototype.getTaskInputState=function(n){var t=this;return{inputName:n,inputValue:this._getTaskInputValue(n),options:this._getTaskInputOptions(n),isHidden:function(){return v.logVerbose("InputName: "+n),t._nameToInputDefnMap[n]?!t.isVisible(t._nameToInputDefnMap[n].visibleRule,t._dependencyToTargetMap,n):!1}}},t.prototype.getActionForInputField=function(){return o.ActionForTaskInput.NavigateToVariablesTab},t.prototype.getDependencyToTargetsMap=function(){return this._dependencyToTargetMap},t.prototype.getInputNameToUsageCount=function(n){if(n)return this._nameToUsageCount[n.toLowerCase()]},t.prototype.disposeInternal=function(){this._processParameterActions.updateInput.removeListener(this._handleUpdateInput);this._processParameterActions.updateInputError.removeListener(this._handleUpdateInputError);this._processParameterActions.updateInputOptions.removeListener(this._handleUpdateInputOptions);this._processParameterActions.createProcessParameter.removeListener(this._handleCreateProcessParameter);this._processParameterActions.initializeProcessParameters.removeListener(this._handleInitializeProcessParameters);this._processParameterActions.unlinkProcessParameter.removeListener(this._handleRemoveTaskReference);this._processParameterActions.updateReferenceCount.removeListener(this._handleUpdateReferenceUsage);this._processParameterActions.removeAllProcessParameters.removeListener(this._handleRemoveAllProcessParameters)},t.prototype._getTaskInputValue=function(n){return this._nameToInputDefnMap&&this._nameToInputDefnMap[n]?this._nameToInputDefnMap[n].defaultValue:p.empty},t.prototype._getTaskInputOptions=function(n){return this._nameToInputDefnMap&&this._nameToInputDefnMap[n]?this._nameToInputDefnMap[n].options:{}},t.prototype._updateInput=function(n){this._nameToInputDefnMap&&this._nameToInputDefnMap[n.name]&&(this._nameToInputDefnMap[n.name].defaultValue=n.value)},t.prototype._updateInputOptions=function(n){this._nameToInputDefnMap&&this._nameToInputDefnMap[n.name]&&(this._nameToInputDefnMap[n.name].options=n.options)},t.prototype._removeInputOptionsIfRequired=function(n){var t=this;n&&n.forEach(function(n){var r=s.DtcUtils.getTaskInputType(n),i;switch(r){case f.INPUT_TYPE_CONNECTED_SERVICE:case f.INPUT_TYPE_AZURE_CONNECTION:n.options=null;break;case f.INPUT_TYPE_PICK_LIST:i=a.PickListInputUtility.getPickListOptions(n,t.getDataSourceBindings(),t.getSourceDefinitions(),p.empty);!i.dataSourceBinding&&!i.sourceDefintion||(n.options=null)}})},t.prototype._updateOptionsIfRequired=function(n){var t=this;n&&this._nameToInputDefnMap&&n.forEach(function(n){n.options&&Object.keys(n.options).length!==0||t._nameToInputDefnMap.hasOwnProperty(n.name)&&(n.options=t._nameToInputDefnMap[n.name].options)})},t.prototype._updateProcessParameterInputDefinition=function(n,t){n&&t&&(n.required=!!n.required||!!t.required)},t.prototype._initializeProcessParametersToUsageCount=function(n){n&&(this._nameToUsageCount={},this._updateProcParamNameToUsageMap(n),this._pruneProcessParameters())},t.prototype._updateProcParamNameToUsageMap=function(n){var t=this;this._currentState&&this._currentState.inputs&&n&&this._currentState.inputs.map(function(i){var r=p.format(f.ProcessParameterConstants.NewProcessParameterBoundInputValueFormat,i.name);n.map(function(n){w.searchPhaseProcessParametersReferences(n,r,function(){t._increaseProcessParameterNameToUsageCount(i.name,1)});n.tasks&&n.tasks.map(function(n){w.searchTaskInputProcessParametersReferences(n,r,function(){t._increaseProcessParameterNameToUsageCount(i.name,1)})})})})},t.prototype._pruneProcessParameters=function(){var t=this,n;this._nameToUsageCount&&this._currentState&&this._currentState.inputs&&(n=[],this._currentState.inputs.map(function(i){t._nameToUsageCount[i.name.toLowerCase()]&&t._nameToUsageCount[i.name.toLowerCase()]>0&&n.push(i)}),this._currentState.inputs=n)},t.prototype._increaseProcessParameterNameToUsageCount=function(n,t){this._nameToUsageCount||(this._nameToUsageCount={});var i=n.toLowerCase();this._nameToUsageCount[i]||(this._nameToUsageCount[i]=0);this._nameToUsageCount[i]=this._nameToUsageCount[i]+t},t.prototype._decreaseProcessParameterNameToUsageCount=function(n,t){var i=n.toLowerCase();this._nameToUsageCount&&this._nameToUsageCount[i]&&(this._nameToUsageCount[i]=this._nameToUsageCount[i]-t,this._nameToUsageCount[i]<=0&&delete this._nameToUsageCount[i])},t}(h.TaskStoreBase);t.ProcessParameterStore=b;w=function(){function n(){}return n.searchPhaseProcessParametersReferences=function(t,i,r){var u=c.DeployPhaseUtilities.getPhaseOverrideInputs(t);return n.searchProcessParametersInInputs(u,i,r)},n.searchTaskInputProcessParametersReferences=function(t,i,r){var u=t.inputs;return n.searchProcessParametersInInputs(u,i,r)},n.searchProcessParametersInInputs=function(n,t,i){var r,u;for(r in n)n.hasOwnProperty(r)&&(u=n[r],p.equals(t,u,!0)&&i())},n}();t.ProcessParametersUtilities=w});

define("DistributedTaskControls/Actions/ProcessParameterActionsCreator",["require","exports","DistributedTaskControls/Components/Task/TaskActionsCreatorBase","DistributedTaskControls/Actions/ProcessParameterActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Stores/ProcessParameterStore","DistributedTaskControls/Common/Stores/StoreManager","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.ProcessParameterActionsCreator=void 0;var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(n){this._actions=u.ActionsHubManager.GetActionsHub(r.ProcessParameterActions,n);this._instanceId=n},t.prototype.createProcessParameter=function(n){this._actions.createProcessParameter.invoke(n)},t.prototype.removeAllProcessParameters=function(){this._actions.removeAllProcessParameters.invoke(null)},t.prototype.updateTaskInputError=function(n,t,i){this._actions.updateInputError.invoke({name:n,message:t,value:i})},t.prototype.updateTaskInputValue=function(n,t){var r=this,i;this._actions.updateInput.invoke({name:n,value:t});this._processParameterStore||(this._processParameterStore=o.StoreManager.GetStore(e.ProcessParameterStore,this._instanceId));i=this._processParameterStore.getDependencyToTargetsMap();i&&i.hasOwnProperty(n)&&i[n].forEach(function(n){var t=r._processParameterStore.getTaskInputState(n);t&&t.inputValue&&(r._actions.updateInput.invoke({name:n,value:s.empty}),r._actions.updateInputOptions.invoke({name:n,options:null}))})},t.prototype.updateTaskInputOptions=function(n,t){this._actions.updateInputOptions.invoke({name:n,options:t})},t.prototype.unlinkProcessParameter=function(n){this._actions.unlinkProcessParameter.invoke({name:n})},t.prototype.initializeProcessParameters=function(n,t,i){this._actions.initializeProcessParameters.invoke({processParameters:n,phaseList:t,forceUpdate:i})},t.prototype.updateReferenceCount=function(n){this._actions.updateReferenceCount.invoke(n)},t.getKey=function(){return f.ActionCreatorKeys.ProcessParameterActionsCreator},t}(i.TaskActionsCreatorBase);t.ProcessParameterActionsCreator=h});

define("DistributedTaskControls/Common/VariableScopeContext",["require","exports","react"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.VariableScopeContext=void 0;t.VariableScopeContext=i.createContext({})});

define("DistributedTaskControls/Components/Task/PredicateExpressionHelper",["require","exports","DistributedTaskControls/Common/RegexConstants"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.PredicateExpressionHelper=void 0;var r="&&",u="||",f=function(){function n(){}return n.getPredicateExpression=function(n){var t=null,i,f,e;return n&&(n.indexOf(r)!==-1?(i=n.split(r),f=i.map(this.getPredicateRule),t={operator:r,predicateRules:f}):n.indexOf(u)!==-1?(i=n.split(u),f=i.map(this.getPredicateRule),t={operator:u,predicateRules:f}):(e=this.getPredicateRule(n),t={operator:null,predicateRules:[e]})),t},n.getPredicateRule=function(n){var r=i.PredicateRuleRegEx,u=null,t;return!n||!n.trim()?null:(r.lastIndex=0,n=n.trim(),t=r.exec(n),t&&t.length===4&&(u={inputName:t[1].trim(),condition:t[2].trim(),expectedValue:t[3].trim()}),u)},n.getPredicateResult=function(n,t){var i=!1,u=t?t.toLowerCase():t,r;if(n){r=n.expectedValue?n.expectedValue.toLowerCase():n.expectedValue;switch(n.condition){case"=":case"==":i=u===r;break;case"!=":i=u!==r;break;case"<":i=u<r;break;case">":i=u>r;break;case"<=":i=u<=r;break;case">=":i=u>=r}}return i},n.evaluate=function(n,t,i){return i===r?n&&t:i===u?n||t:i===null?t:void 0},n}();t.PredicateExpressionHelper=f});

define("DistributedTaskControls/Components/Task/FilterHelper",["require","exports","DistributedTaskControls/Components/Task/PredicateExpressionHelper"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.FilterHelper=void 0;var r="&&",u=function(){function n(){}return n.getValueToCheck=function(n,t){var i=n.inputName;return this.getPropertyValue(t,i)},n.getFilteredObjects=function(n,t){var l=[],u=i.PredicateExpressionHelper.getPredicateExpression(n),f,h,c,e,o,s,a,v;if(!u)return t;for(f=0,h=t;f<h.length;f++){for(c=h[f],e=u.operator===r?!0:!1,o=0;o<u.predicateRules.length;o++)s=u.predicateRules[o],!s||(a=this.getValueToCheck(s,c),v=i.PredicateExpressionHelper.getPredicateResult(s,a),e=i.PredicateExpressionHelper.evaluate(e,v,u.operator));e&&l.push(c)}return l},n.getPropertyValue=function(n,t){var i=null,u,f,r;if(!n)return i;if(n instanceof Array){for(u=0;u<n.length;u++)if(i=this.getPropertyValue(n[u],t),i)return i}else for(f in n)if(n.hasOwnProperty(f))if(r=n[f],r instanceof Object||r instanceof Array){if(i=this.getPropertyValue(r,t),i)return i}else if(f.trim().toLowerCase()===t.trim().toLowerCase())return r;return i},n}();t.FilterHelper=u});

define("DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceComponentUtility",["require","exports","q","DistributedTasksCommon/TFS.Tasks.Utils","DistributedTasksCommon/ServiceEndpoints/ServiceEndpoint.Common","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Common/UrlUtilities","DistributedTaskControls/Sources/ConnectedServiceEndpointSource","DistributedTaskControls/Common/Common","DistributedTaskControls/Components/Task/FilterHelper","VSS/Utils/String","VSS/Utils/Array","VSS/VSS","VSS/Diag","VSS/Context"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){var p,w,b;Object.defineProperty(t,"__esModule",{value:!0});t.ConnectedServiceComponentUtility=t.ConnectedServiceComponentUtilityConstants=void 0;p=function(){function n(){}return n.Subscription="Subscription",n.EndpointFilterRule="EndpointFilterRule",n.AzureRMEndpointDefaultFilterRule="ScopeLevel != ManagementGroup && ScopeLevel != AzureMLWorkspace",n}();t.ConnectedServiceComponentUtilityConstants=p;w="?resourceId=";b=function(){function n(){}return n.getConnectedServiceOptions=function(t,e,h,l,y){var w=i.defer(),k=!y?null:y[p.EndpointFilterRule],g;c.equals(h,u.ServiceEndpointType.AzureRM,!0)&&!k&&(k=p.AzureRMEndpointDefaultFilterRule);l&&(g=l.split(","));var d=t,b={},nt=e?o.ConnectedServiceEndpointSource.instance().getServiceEndpoints(h,g):o.ConnectedServiceEndpointSource.instance().beginGetSubscriptionNames();return nt.then(function(i){var u=e?n._getMapForServiceEndPoints(i,k):n._getMapForServiceMetaData(i),y=t.split(s.CommaSeparator),h=[],l=[];y.forEach(function(n){!n||u[n]||r.VariableExtractor.containsVariable(n)||f.DtcUtils.containsProcessParameter(n)?l.push(n):h.push(n)});h.length>0?o.ConnectedServiceEndpointSource.instance().getServiceEndpoints(undefined,undefined,h).then(function(n){n.forEach(function(n){if(n){var t=n.id;u[t]=n.name;l.push(t)}});b=u;d=l.join(s.CommaSeparator);w.resolve({optionsMap:b,value:d})},function(n){w.reject(n);v.logError(n);a.handleError({name:c.empty,message:n})}):(b=u,w.resolve({optionsMap:b,value:d}))},function(n){w.reject(n);v.logError(n);a.handleError(n)}),w.promise},n.getConnectedServiceType=function(n){return n.type.split(":")[1]||c.empty},n.getConnectedServiceAuthSchemes=function(n){return n.type.split(":")[2]||c.empty},n.openManageLink=function(n){var t=r.ActionUrlResolver.getActionUrl(null,null,"services",{area:"admin"});!!n&&t&&(t=t.concat(w,n));e.UrlUtilities.openInNewWindow(t,!0)},n.showAddServiceEndpointLink=function(t,r){var f=this,e;return c.equals(t,u.ServiceEndpointType.GitHub,!0)?i.resolve({showAddServiceEndpointLink:!0}):n._isAddServiceConnectionNotSupported(t)?this._hideAddServiceEndpointLink():(r&&(e=r.split(",")),o.ConnectedServiceEndpointSource.instance().getServiceEndpointTypes(t).then(function(n){var t,r;return!!n&&n.length>=1?(t=n[0],e&&t.authenticationSchemes&&(t.authenticationSchemes=t.authenticationSchemes.filter(function(n){return l.contains(e,n.scheme,c.localeIgnoreCaseComparer)})),!!t.authenticationSchemes&&t.authenticationSchemes.length>=1?(r={showAddServiceEndpointLink:!0,endpointType:t},i.resolve(r)):f._hideAddServiceEndpointLink()):f._hideAddServiceEndpointLink()},function(n){return v.logError(n),f._hideAddServiceEndpointLink()}))},n._getMapForServiceEndPoints=function(n,t){for(var r,u={},e=h.FilterHelper.getFilteredObjects(t,n),i=0,f=e;i<f.length;i++)r=f[i],u[r.id]=r.name;return u},n._getMapForServiceMetaData=function(n){var t={};return n.forEach(function(n){t[n.name]=n.friendlyName}),t},n._isAddServiceConnectionNotSupported=function(n){return c.equals(n,u.ServiceEndpointType.Generic,!0)||c.equals(n,u.ServiceEndpointType.ExternalGit,!0)||c.equals(n,u.ServiceEndpointType.SSH,!0)||c.equals(n,u.ServiceEndpointType.Subversion,!0)||y.getPageContext().webAccessConfiguration.isHosted&&c.equals(n,u.ServiceEndpointType.AzureRM,!0)},n._hideAddServiceEndpointLink=function(){return i.resolve({showAddServiceEndpointLink:!1})},n.getSourceFromMap=function(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(n[i]);return t.sort(c.ignoreCaseComparer)},n.getKeyFromValue=function(n,t){var i,u;if(r.VariableExtractor.containsVariable(t)||f.DtcUtils.containsProcessParameter(t))return t;i=c.empty;for(u in n)if(n[u]===t){i=u;break}return i},n.getValueFromKey=function(n,t){var i,u;if(r.VariableExtractor.containsVariable(t)||f.DtcUtils.containsProcessParameter(t))return t;i=c.empty;for(u in n)if(u===t){i=n[t];break}return i},n}();t.ConnectedServiceComponentUtility=b});

define("DistributedTaskControls/Actions/SecureFileActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.SecureFileActions=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updateSecureFiles=new u.Action;this._secureFileUploaded=new u.Action},Object.defineProperty(t.prototype,"updateSecureFiles",{get:function(){return this._updateSecureFiles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"secureFileUploaded",{get:function(){return this._secureFileUploaded},enumerable:!1,configurable:!0}),t.getKey=function(){return r.ActionsKeys.SecureFileActions},t}(i.ActionsHubBase);t.SecureFileActions=f});

define("DistributedTaskControls/Stores/SecureFilesStore",["require","exports","DistributedTaskControls/Actions/SecureFileActions","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Stores/Base","VSS/Utils/String"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.SecureFilesStore=void 0;var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._secureFiles=[],t._onUpdateSecureFiles=function(n){t._secureFiles=n.secureFiles||[];t._errorMessage=n.errorMessage;t.emitChanged()},t._onSecureFileUploaded=function(n){if(t._errorMessage=n.errorMessage,!!n.secureFile){for(var i=0,r=t._secureFiles.length;i<r;++i)if(e.localeComparer(t._secureFiles[i].name,n.secureFile.name)>0)break;t._secureFiles.splice(i,0,n.secureFile)}t.emitChanged()},t}return __extends(t,n),t.getKey=function(){return r.StoreKeys.SecureFilesStore},t.prototype.getSecureFiles=function(){return this._secureFiles},t.prototype.getErrorMessage=function(){return this._errorMessage||e.empty},t.prototype.initialize=function(n){this._actionHub=u.ActionsHubManager.GetActionsHub(i.SecureFileActions,n);this._actionHub.updateSecureFiles.addListener(this._onUpdateSecureFiles);this._actionHub.secureFileUploaded.addListener(this._onSecureFileUploaded)},t.prototype.disposeInternal=function(){this._actionHub&&(this._actionHub.updateSecureFiles.removeListener(this._onUpdateSecureFiles),this._actionHub.secureFileUploaded.removeListener(this._onSecureFileUploaded))},t}(f.ViewStoreBase);t.SecureFilesStore=o});

define("DistributedTaskControls/Common/YamlHelper",["require","exports","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceComponentUtility","DistributedTaskControls/Common/Primitives","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Phase/Types","DistributedTaskControls/Stores/SecureFilesStore","DistributedTasksCommon/TFS.Tasks.Types","VSS/Controls/Dialogs","VSS/FeatureAvailability/Services","VSS/Utils/Clipboard","VSS/Utils/Number","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/CopyDialogueStyles"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){function nt(n,t){if(ft(r.Feature.CopyYaml,n),y.FeatureAvailabilityService.isFeatureEnabled("DistributedTask.ViewYamlHasMoved",!1))v.showMessageDialog(f.ViewYamlMessage,{title:f.ViewYamlTitle,buttons:[v.MessageDialog.buttons.ok]});else var u=v.show(v.CopyContentDialog,{dialogLabel:f.CopyContentHelpText,dialogLabelExtend:b.format(f.CopyContentHelpDocsLink,f.CopyContentHelpDocsLinkTitle),data:t,disableEdit:!0,preventAutoTextSelection:!0,textAreaCopyClass:"dtc-copy-dialogue-text-area",buttons:[{id:i.KEY_COPY_AS_YAML,text:f.CopyToClipboard,click:function(){p.copyToClipboard(t);ft(r.Feature.ViewAsYaml,n);u.close()}}]})}function ft(n,t){var i={};t&&(i[r.Properties.ViewYamlArtifact]=t);r.Telemetry.instance().publishEvent(n,i,r.Source.CommandButton)}function ot(n,t,i,r,u){et(n,t,i,r,u).then(function(n){nt(k.ProcessCIKey,n)})}function st(n,t,i,r,u,f,e,o,s,h,c){var l=new rt(n,t,i,r,u,f,e,o,s,h,c);l.getValue(!1).then(function(n){nt(k.jobCIKey,n)})}function et(n,t,i,r,u){var f="",o=[],e;return n=n||[],n.forEach(function(t){o.push(t.getValue(n.length>1))}),t!==s.Boolean.trueString&&(f+=k.resourcesKey+k.colon+b.newLine+k.repoKey+k.colon+k.singleSpace+k.syncSourcesValue+b.newLine,i&&i!==s.Boolean.falseString&&(f+=d(k.cleanOption)+k.colon+k.singleSpace+i+b.newLine),r===s.Boolean.trueString&&(f+=d(k.lfsOption)+k.colon+k.singleSpace+r+b.newLine),e=u?w.parseInvariant(u):0,e>0&&(f+=d(k.fetchDepthOption)+k.colon+k.singleSpace+e+b.newLine),f+=b.newLine),n.length>1&&(f+=k.jobsProperty+b.newLine+b.newLine),Promise.all(o).then(function(n){return n.forEach(function(n){f+=n+b.newLine}),f})}function ht(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){var p=new ut(n,t,i,r,u,f,e,o,s,h,c,l,a,!1,0,v,y);p.getValue(!0).then(function(n){nt(k.TaskCIKey,n)})}function d(n,t){if(t){while(t>0)n=k.singleSpace+n,t--;return n}return k.spaces+n}function g(n){return n+k.spaces}function it(n){return/[^A-Za-z0-9\./.]/.test(n)?"'"+n.replace(/'/g,"''")+"'":n}var rt,ut,tt,k;Object.defineProperty(t,"__esModule",{value:!0});t.escapeValue=t.YamlTask=t.YamlJob=t.handleViewTaskAsYaml=t.getProcessSnippet=t.handleViewJobAsYaml=t.handleViewProcessAsYaml=t.showCopyDialog=void 0;t.showCopyDialog=nt;t.handleViewProcessAsYaml=ot;t.handleViewJobAsYaml=st;t.getProcessSnippet=et;t.handleViewTaskAsYaml=ht;rt=function(){function n(n,t,i,r,u,f,e,o,s,h,c){this._timeoutInMinutes=0;this._variables={};this._variablesComments="";this._dependencies=[];this._condition=b.empty;this._refName=n.replace(new RegExp(" "),"_");this._name=t;this._jobType=i;this._tasks=r||[];this._demands=u;this._poolName=f;this._poolIsHosted=e;this._timeoutInMinutes=o;this._dependencies=s;this._condition=h;this._executionPlanType=c}return n.prototype.getValue=function(n){var u=this,t=this._getExecutionPlanTypeComment(),r,i;return n&&(t+=k.jobProperty+this._refName+b.newLine,t+=d(k.displayNameProperty)+k.colon+k.singleSpace+this._name+b.newLine),r=this._getDependencies(n),t+=r,this._condition&&this._condition!==b.empty&&n&&(t+=g(""),t+=k.conditionProperty+k.colon+k.singleSpace+this._condition+b.newLine),n&&(t+=g("")),this._jobType===c.DeployPhaseTypes.RunOnServer?t+=k.poolProperty+k.singleSpace+k.serverValue+b.newLine:(t+=k.poolProperty+b.newLine,n&&(t+=g("")),t+=d(k.nameProperty)+this._poolName+b.newLine),i=this._getDemands(n),t+=i,i&&i!==b.empty&&(t+=b.newLine),this._timeoutInMinutes>0&&(n&&(t+=g("")),t+=d(k.timeoutInMinutesProperty)+k.colon+k.singleSpace+this._timeoutInMinutes+b.newLine+b.newLine),this._getTasks().then(function(i){return t+u._getVariablesText(n)+i})},n.prototype._getDemands=function(n){var t="",i;return this._demands&&this._demands.length>0&&(i=this._demands.length>1,n&&(t=g(t)),t+=d(k.demandsProperty+k.colon),i&&(t+=b.newLine),this._demands.forEach(function(r){r!==b.empty&&r.length>0&&(i&&(t+=d("-",n?4:2)),t+=k.singleSpace+r+b.newLine)})),t},n.prototype._getDependencies=function(n){var t="",i;return this._dependencies&&this._dependencies.length>0&&(i=this._dependencies.length>1,n&&(t=g(t)),t+=k.dependencyProperty+k.colon,i&&(t+=b.newLine),this._dependencies.forEach(function(r){r!==b.empty&&r.length>0&&(i&&(t+=d("-",n?2:undefined)),t+=k.singleSpace+r+b.newLine)})),t},n.prototype._getTasks=function(){var n=this,t="",i,r;return this._tasks&&this._tasks.length>0?(i=[],r=0,this._tasks.forEach(function(n){i.push(n.getValue());r++}),Promise.all(i).then(function(i){return i.forEach(function(n){t+=n+b.newLine}),n._tasks.forEach(function(t){var r,u,i;n._variablesComments+=t.getVariablesComments();r=t.getVariables();u=Object.keys(n._variables);for(i in r)u.length!==0&&!n._variables[i]||(n._variables[i]=r[i])}),t})):Promise.resolve(t)},n.prototype._getVariablesText=function(n){var r=this,t="",i=Object.keys(this._variables);return i.length>0&&(n&&(t=g(t)),t+=k.VariablesProperty+k.colon+b.newLine,i.forEach(function(i){n&&(t=g(t));t+=d(i)+k.colon+k.singleSpace+"'"+r._variables[i].replace("'","''")+"'"+b.newLine})),this._variablesComments||t?this._variablesComments+t+b.newLine:""},n.prototype._getExecutionPlanTypeComment=function(){return this._executionPlanType!==c.ParallelExecutionTypes.None?"#"+f.ParallelExecutionYamlComment+b.newLine+b.newLine:b.empty},n}();t.YamlJob=rt;ut=function(){function n(n,t,i,r,u,f,e,o,s,h,c,l,v,y,p,w,k){this._isTaskGroup=!1;this._multiplePhases=!1;this._enabled=!0;this._continueOnError=!1;this._timeout=0;this._retryCountOnTaskFailure=0;this._taskIndex=0;this._usedVariables={};this._variablesComments="";this._hasAlias=!1;this._skipSyncSources=!1;this._majorVersion=this._getTaskVersion(u);this._inputs=n;this._taskDefinition=t;this._enabled=f;this._continueOnError=e;this._condition=o;this._timeout=s;this._multiplePhases=y;this._taskIndex=p;this._inputsStates=h;this._variables=c;this._processParameters=l;this._displayName=r;this._environmentVariables=v;this._skipSyncSources=w;this._retryCountOnTaskFailure=k;this._name=this._taskDefinition.contributionIdentifier&&this._taskDefinition.contributionIdentifier!==b.empty?this._taskDefinition.contributionIdentifier+"."+this._taskDefinition.name:this._taskDefinition?this._taskDefinition.name:i;this._taskDefinition&&this._taskDefinition.definitionType===a.DefinitionType.metaTask&&(this._isTaskGroup=!0)}return n.prototype.getValue=function(n){var e=this,t="",i,u,r,o,s;return this._isTaskGroup?(t+="#"+f.TaskGroupViewYamlError+b.newLine,Promise.resolve(t)):(this._taskIndex===0&&(this._multiplePhases&&(t=g(t)),t+=k.stepsProperty+k.colon+b.newLine,this._skipSyncSources&&(t+=k.skipSyncKey+k.colon+k.singleSpace+k.skipSyncValue+b.newLine)),this._multiplePhases&&(t=g(t)),i=this._name+"@"+this._majorVersion,u=this._resolveTaskName(i),i===u?t+=k.taskProperty+k.colon+k.singleSpace+i+b.newLine:(t+=u+k.colon+k.singleSpace,this._hasAlias=!0),r="",this._hasAlias?(this._multiplePhases&&(r+=g("")),r+=d(k.displayNameProperty)+k.colon+k.singleSpace+it(this._displayName)+b.newLine):(this._multiplePhases&&(t=g(t)),t+=d(k.displayNameProperty)+k.colon+k.singleSpace+it(this._displayName)+b.newLine),o=this._getControlOptions(),s=this._getEnvironmentVariables(),this._getInputs().then(function(i){var u="";return n&&(u=e._getVariablesText()),e._hasAlias&&i.indexOf(b.newLine)<0&&(i=b.newLine),u+t+i+r+o+s}))},n.prototype.getVariables=function(){return this._usedVariables},n.prototype.getVariablesComments=function(){return this._variablesComments},n.prototype._resolveTaskName=function(n){var t=k.TasksAliasLookup[n];return(n==="PowerShell@2"||n==="Bash@3")&&this._inputs[k.TargetTypeInputName]&&this._inputs[k.TargetTypeInputName]===k.TargetTypeInputFilePathValue?n:n==="PowerShell@2"&&this._inputs[k.PwshInputName]&&this._inputs[k.PwshInputName]===s.Boolean.trueString?k.PwshAlias:t?t:n},n.prototype._getControlOptions=function(){var f="",n,t,r,u;return this._enabled||(this._multiplePhases&&(f=g(f)),f+=d(k.enabledProperty)+k.colon+k.singleSpace+this._enabled+b.newLine),n="",this._continueOnError&&(this._multiplePhases&&(n=g(n)),n+=d(k.continueOnErrorProperty)+k.colon+k.singleSpace+this._continueOnError+b.newLine),t="",this._condition&&this._condition!==i.TaskConditions.Succeeded&&(this._multiplePhases&&(t=g(t)),t+=d(k.conditionProperty)+k.colon+k.singleSpace+this._condition+b.newLine),r="",this._timeout>0&&(this._multiplePhases&&(r=g(r)),r+=d(k.timeoutInMinutesProperty)+k.colon+k.singleSpace+this._timeout+b.newLine),u="",this._retryCountOnTaskFailure>0&&(this._multiplePhases&&(u=g(u)),u+=d(k.retryCountOnTaskFailure)+k.colon+k.singleSpace+this._retryCountOnTaskFailure+b.newLine),f+n+t+r+u},n.prototype._getVariablesText=function(){var i=this,n="",t=Object.keys(this._usedVariables);return t.length>0&&(n+=k.VariablesProperty+k.colon+b.newLine,t.forEach(function(t){n+=d(t)+k.colon+k.singleSpace+"'"+i._usedVariables[t].replace("'","''")+"'"+b.newLine})),this._variablesComments||n?this._variablesComments+n+b.newLine:""},n.prototype._getEnvironmentVariables=function(){var t=this,n="";return this._environmentVariables&&Object.keys(this._environmentVariables).length>0&&(n+=d(k.environmentVariablesProperty)+k.colon+b.newLine,Object.keys(this._environmentVariables).forEach(function(i){n+=d(d(i))+k.colon+k.singleSpace+t._environmentVariables[i]+b.newLine})),n},n.prototype._getInputs=function(){var n=this,t="",i;return this._inputs&&Object.keys(this._inputs).length>0?(i=[],Object.keys(this._inputs).forEach(function(t){if(t&&t!==b.empty&&n._inputs.hasOwnProperty(t)&&n._inputs[t]&&n._inputs[t]!==b.empty&&!n._inputsStates[t]){var r=n._getInputDefinition(t),u=r&&r.defaultValue?r.defaultValue===n._inputs[t]:!1,f=t===k.TargetTypeInputName&&n._inputs[t]===k.TargetTypeInputInlineValue;if(n._hasAlias&&t===k.PwshInputName)return;(t!==k.TargetTypeInputName||!u)&&(u||f)||i.push(n._getInputValue(t,r))}}),Promise.all(i).then(function(i){return i.forEach(function(i){var e=i.getName(),a=e.toLowerCase()===k.ScriptInputName,v=e===k.TargetTypeInputName,y=e===k.TargetTypeInputFilePathValue,u,s,o,h,c,r,l;if(n._hasAlias&&(a||v||y)?t+=i.getValue()+b.newLine:(u=d(e),n._hasAlias?n._multiplePhases&&(u=d(u)):u=n._multiplePhases?d(u,4):d(u),t+=u+k.colon+k.singleSpace+i.getValue()+b.newLine),s=n._removeCharsFromBegining(i.getValue()),o=n._removeFromEnd(s,s.length-1),o&&o.indexOf(k.VariablePrefix)>=0){h=n._getVariableNames(o);for(c in h)r=h[c],l=Object.keys(n._usedVariables),l.length!==0&&n._usedVariables[r]||(n._variables&&!!n._variables[r]?n._variables[r].isSecret||n._variables[r].allowOverride?n._variablesComments+=n._variables[r].isSecret?"#"+b.format(f.SecretVariableYamlComment,r)+b.newLine:"#"+b.format(f.OverrideVariableYamlComment,r)+b.newLine:n._usedVariables[r]=n._variables[r].value:n._processParameters&&!!n._processParameters[r]?n._usedVariables[r]=n._processParameters[r]:n._isPredefinedVariable(r)||(n._variablesComments+="#"+b.format(f.UndefinedVariableYamlComment,r)+b.newLine))}}),t!==b.empty&&(n._hasAlias||(t=d(k.inputsProperty)+k.colon+b.newLine+t),n._multiplePhases&&!n._hasAlias&&(t=d(t))),t})):Promise.resolve(t)},n.prototype._isPredefinedVariable=function(n){var t=!1;return k.PredefinedVariablesPrefixes.some(function(i){if(b.startsWith(n,i,b.ignoreCaseComparer))return t=!0,!0}),t},n.prototype._removeCharsFromBegining=function(n,t){if(t===void 0&&(t=1),!n)return n;while(t>0&&n)n=n.substr(1),t--;return n},n.prototype._removeFromEnd=function(n,t){return!n||n.length<=t||t===-1?n:n.substr(0,t)},n.prototype._getVariableNames=function(n){var u=[],t,r,i;if(n)for(t=n.indexOf("$("),r=0;t!==-1&&r<n.length;)r++,i=n.substr(t),i=this._removeCharsFromBegining(i,2),t=i.indexOf(")"),u.push(this._removeFromEnd(i,t)),t=n.indexOf(")"),t!==-1&&(n=n.substr(t+1),t=n.indexOf("$("));return u},n.prototype._getInputDefinition=function(n){var t=null;return this._taskDefinition&&this._taskDefinition.inputs&&this._taskDefinition.inputs.forEach(function(i){i.name===n&&(t=i)}),t},n.prototype._getInputType=function(n){return n?u.DtcUtils.getTaskInputType(n):""},n.prototype._getInputValue=function(n,t){var i=this._inputs[n],r=this._getInputType(t);if(r===e.InputControlType.INPUT_TYPE_CONNECTED_SERVICE.toLowerCase()||r===e.InputControlType.INPUT_TYPE_AZURE_CONNECTION.toLowerCase())return this._getConnectedServiceInputValue(t);if(r===e.InputControlType.INPUT_TYPE_SECURE_FILE.toLowerCase()){var u=h.StoreManager.GetStore(l.SecureFilesStore),f=u&&u.getSecureFiles(),o=f&&f.find(function(n){return n.id===i}),s=o&&o.name||i;return Promise.resolve(new tt(t,s,this._multiplePhases,this._hasAlias))}return n===k.TargetTypeInputFilePathValue&&this._inputs[k.TargetTypeInputName]===k.TargetTypeInputFilePathValue&&i&&!i.trim().startsWith("./")&&(i="./"+i),Promise.resolve(new tt(t,i,this._multiplePhases,this._hasAlias))},n.prototype._getConnectedServiceInputValue=function(n){var t=this,r=n.name,u=this._inputs[r].split(","),i=[];return u.forEach(function(n){n&&n.trim()!==b.empty&&i.push(t._getSingleConnectionServiceEndpointName(n.trim()))}),Promise.all(i).then(function(i){var r=b.empty;return i.forEach(function(n){r!==b.empty&&(r+=", ");r+=n}),new tt(n,r,t._multiplePhases,t._hasAlias)})},n.prototype._getSingleConnectionServiceEndpointName=function(n){return o.ConnectedServiceComponentUtility.getConnectedServiceOptions(n,!0,"Generic","",{}).then(function(t){return o.ConnectedServiceComponentUtility.getValueFromKey(t.optionsMap,n)},function(){return b.empty})},n.prototype._getTaskVersion=function(n){var i="",t;return n&&(t=n.indexOf("."),i=t>-1?n.substr(0,t):n),i},n}();t.YamlTask=ut;tt=function(){function n(n,t,i,r){this._name=n.aliases&&n.aliases.length>0?n.aliases[0]:n.name;this._value=this._formatInputValue(t,i,r)}return n.prototype.getName=function(){return this._name},n.prototype.getValue=function(){return this._value},n.prototype._formatInputValue=function(n,t,i){var r,u;return n.indexOf(b.lineFeed)>-1?(r="|",t&&(r=g(r)),u=n.split(b.lineFeed),u.forEach(function(n){r+=i&&!t?b.lineFeed+d(n,3):t?b.lineFeed+d(n,7):b.lineFeed+d(n,5)}),r):it(n)},n}(),function(n){n.spaces="  ";n.singleSpace=" ";n.jobProperty="- job: ";n.poolProperty="pool:";n.serverValue="server";n.nameProperty="name: ";n.vmImageProperty="vmImage: ";n.jobsProperty="jobs:";n.demandsProperty="demands";n.dependencyProperty="dependsOn";n.stepsProperty="steps";n.inputsProperty="inputs";n.environmentVariablesProperty="env";n.enabledProperty="enabled";n.continueOnErrorProperty="continueOnError";n.conditionProperty="condition";n.timeoutInMinutesProperty="timeoutInMinutes";n.displayNameProperty="displayName";n.taskProperty="- task";n.colon=":";n.resourcesKey="resources";n.ProcessCIKey="process";n.repoKey="- repo";n.cleanOption="clean";n.lfsOption="lfs";n.fetchDepthOption="fetchDepth";n.jobCIKey="job";n.skipSyncKey="- checkout";n.skipSyncValue="none";n.syncSourcesValue="self";n.TaskCIKey="task";n.VariablesProperty="variables";n.VariablePrefix="$";n.ProcessParametersPrefix="Parameters.";n.TasksAliasLookup={"CmdLine@2":"- script","PowerShell@2":"- powershell","Bash@3":"- bash"};n.TargetTypeInputName="targetType";n.TargetTypeInputInlineValue="inline";n.TargetTypeInputFilePathValue="filePath";n.PredefinedVariablesPrefixes=["agent.","build.","common.","release.","system."];n.ScriptInputName="script";n.PwshInputName="pwsh";n.PwshAlias="- pwsh";n.retryCountOnTaskFailure="retryCountOnTaskFailure"}(k||(k={}));t.escapeValue=it});

define("DistributedTaskControls/SharedControls/InputControls/Components/ComboBoxInputComponent",["require","exports","react","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Common","OfficeFabric/Icon","OfficeFabric/Utilities","VSS/Controls/Combos","VSS/Diag","VSS/Flux/PlatformComponent","VSS/Controls","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/ComboBoxInputComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){var d,g,b,nt,k;Object.defineProperty(t,"__esModule",{value:!0});t.ComboBox=t.ComboBoxInputComponent=t.ComboBoxType=void 0;d=function(n){var t=n.comboBoxContainerCssClass,r=n.props;return i.createElement("div",__assign({className:t},r))};g=function(n){var u=n.hideErrorMessage,c=n.errorMessageCss,f=n.errorMessageString,e=n.isComboBoxSearchable,s=n.required,t=n.value,l=n.errorMessageId,a=n.errorMessageKey,h=n.isValid,v=n.ariaLabel;return i.createElement("div",{role:"alert","aria-label":(e||s&&!(t&&t.trim()))&&!u&&!h?p.localeFormat(r.InputFieldAlertDefinition,v):null},(e||s&&!(t&&t.trim()))&&!u&&!h&&i.createElement("div",{className:c},i.createElement(o.Icon,{iconName:"Error",className:"combobox-input-component-error-icon"}),i.createElement("span",{id:l,key:a},f?f:r.ComboBoxInvalidErrorMessage)))},function(n){n[n.Editable=1]="Editable";n[n.Searchable=2]="Searchable"}(b=t.ComboBoxType||(t.ComboBoxType={}));nt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getType=function(){return e.InputControlType.INPUT_TYPE_COMBO_BOX},t.prototype.getControl=function(){return c.logVerbose("[ComboBoxInputComponent.getControl]: Method called."),i.createElement(k,__assign({ref:this._resolveRef("_comboBox"),required:!1,enabled:!this.props.disabled,ariaDescribedBy:this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId()},this.props))},t.prototype.getBehavior=function(){return this._comboBox.getBehavior()},t.prototype.getDropButton=function(){return this._comboBox.getDropButton()},t}(f.InputBase);t.ComboBoxInputComponent=nt;k=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._handleKeydown=function(n){var t,r;i.props.comboBoxType!==b.Editable&&(n.which===w.KeyCode.LEFT?(t=i._control.getInput()[0],t.setSelectionRange&&t.setSelectionRange(0,0)):n.which===w.KeyCode.RIGHT&&(t=i._control.getInput()[0],r=t.value?t.value.length:0,t.setSelectionRange&&t.setSelectionRange(r,r)))},i._handleInputChange=function(){if(i.props.onValueChanged)if(i.props.allowEdit!==!1&&i._delayedOnChange)i._delayedOnChange(i.getValue());else i.props.onValueChanged(i.getValue())},i._isValid=function(){return i._isComboBoxSearchable()&&i._control.getInputText().length>0?!!i.props.textfieldOnEmptySource&&i._control.getBehavior()&&i._control.getBehavior().getDataSource().getCount()===0?!0:!i.props.isCaseSensitive&&i._control.getBehavior()&&i._control.getBehavior().getDataSource().getItemIndex(i._control.getInputText())!==-1?!0:i.props.isCaseSensitive?i._isValidWithCaseSensitive():!1:!!i.props.required&&i._control.getInputText().trim().length===0?!1:!0},i._onFocus=function(){i.setState({isFocussed:!0})},i._onFocusLost=function(){i._checkValidity();i.setState({isFocussed:!1,isValid:i.state.isValid})},i._comboBoxDescribedById="combo-box-description",i._errorMessageId="combo-error-message",i._comboBoxId=p.generateUID(),i.state={isValid:!0,isFocussed:!1},i._errorMessageKey=p.generateUID(),i}return __extends(t,n),t.prototype.createControl=function(n){if(!this._control){var i={itemCss:s.css("combo-box-item",this._getDefaultValueOnUndefined(this.props.comboBoxDropOptions?this.props.comboBoxDropOptions.itemCss:null,p.empty)),maxRowCount:this._getDefaultValueOnUndefined(this.props.comboBoxDropOptions?this.props.comboBoxDropOptions.maxRowCount:undefined,undefined)},r=u.JQueryWrapper.extend(this.props.comboBoxDropOptions,i),f={type:this.props.type,enableFilter:this._getDefaultValueOnUndefined(this.props.enableFilter,!0),autoComplete:this._getDefaultValueOnUndefined(this.props.autoComplete,!1),enabled:this._getDefaultValueOnUndefined(this.props.enabled,!0),invalidCss:s.css("invalid-css",this._getDefaultValueOnUndefined(this.props.invalidCss,p.empty)),cssClass:s.css("combo-box-container",this._getDefaultValueOnUndefined(this.props.cssClass,p.empty)),inputCss:s.css("combo-box-input",this._getDefaultValueOnUndefined(this.props.inputCss,p.empty)),value:this._getDefaultValueOnUndefined(this.props.value,p.empty),dropOptions:r,onKeyDown:this._handleKeydown,ariaAttributes:__assign(__assign(__assign(__assign({},this.props.ariaLabel&&{label:this.props.ariaLabel}),this.props.ariaLabelledBy&&{labelledby:this.props.ariaLabelledBy}),this.props.ariaDescribedBy&&{describedby:this.props.ariaDescribedBy}),this.props.required&&{required:this.props.required})},t=u.JQueryWrapper.extend(f,this.props);t.change=this._handleInputChange;this._control=a.create(h.Combo,n,t)}return this._control},t.prototype.getBehavior=function(){return this._control.getBehavior()},t.prototype.getDropButton=function(){return this._control.getDropButton()},t.prototype.render=function(){var t=this,r={ref:function(n){t.onRef(n)}},n=this._errorMessageId+this._comboBoxId,u=this._getDefaultValueOnUndefined(this.props.enabled,!0),f=s.css("combo-box-container-parent",{"combo-box-focus":this.state.isFocussed},{"is-disabled":!u},{"invalid-css":!this.state.isValid});return i.createElement("div",{className:this.props.comboBoxStyle,"aria-describedby":this._comboBoxDescribedById},i.createElement(d,{comboBoxContainerCssClass:f,props:r,"aria-describedby":n}),i.createElement("div",{className:"hidden",id:this._comboBoxDescribedById},this.props.ariaDescription),i.createElement(g,{errorMessageKey:this._errorMessageKey,errorMessageId:n,errorMessageCss:"combo-error-message",isValid:this.state.isValid,errorMessageString:this.props.errorMessage,hideErrorMessage:this.props.hideErrorMessage,isComboBoxSearchable:this._isComboBoxSearchable(),required:this.props.required,value:this.props.value,ariaLabel:this.props.ariaLabel}))},t.prototype.componentWillReceiveProps=function(n){this._control&&!this._control.isDisposed()&&(this._errorMessageKey=this.props.value!==n.value?p.generateUID():this._errorMessageKey,y.equals(this.props.source,n.source)||this._control.setSource(n.source),this._control.setText(this._getDefaultValueOnUndefined(n.value,p.empty)),this._control.setEnabled(this._getDefaultValueOnUndefined(n.enabled,!0)),this._setAriaLabel(n.ariaLabel),this._checkValidity())},t.prototype.shouldComponentUpdate=function(n){return this.props.allowEdit!==!1&&this.props.deferredOnChangeTime!==0&&this._async&&!v.arrayEquals(this.props.source,n.source)&&(this._delayedOnChange=this._async.debounce(this.props.onValueChanged,this.props.deferredOnChangeTime||t.c_defaultDeferredOnChangeTime)),!0},t.prototype.componentDidMount=function(){var t=this;n.prototype.componentDidMount.call(this);this._checkValidity();this._control.getInput().focus(function(){t._control.getEnabled()&&t._onFocus()});this._control.getInput().blur(function(){t._control.getEnabled()&&t._onFocusLost()});this._control.getInput().attr({"aria-describedby":this.props.ariaDescribedBy})},t.prototype.componentWillUnmount=function(){this._control.getInput().off("focus");this._control.getInput().off("blur");this._async&&this._async.dispose();n.prototype.componentWillUnmount.call(this)},t.prototype.componentWillMount=function(){this.props.allowEdit!==!1&&this.props.deferredOnChangeTime!==0&&(this._async=new s.Async,this._delayedOnChange=this._async.debounce(this.props.onValueChanged,this.props.deferredOnChangeTime||t.c_defaultDeferredOnChangeTime))},t.prototype.getValue=function(){return this._control.getValue()},t.prototype._setAriaLabel=function(n){this._control.getInput().attr("aria-label",n)},t.prototype._getDefaultValueOnUndefined=function(n,t){return n===undefined?t:n},t.prototype._isComboBoxSearchable=function(){return this.props.comboBoxType===b.Searchable},t.prototype._checkValidity=function(){this._control.getEnabled()&&(this._isValid()?(this._updateStateValidityInParent(!0),this._control.setInvalid(!1),this.setState({isValid:!0,isFocussed:this.state.isFocussed})):(this._updateStateValidityInParent(!1),this._control.setInvalid(!0),this.setState({isValid:!1,isFocussed:this.state.isFocussed})))},t.prototype._updateStateValidityInParent=function(n){if(this.props.onValidation)this.props.onValidation(n)},t.prototype._isValidWithCaseSensitive=function(){var n=this.props.source,t=this._control.getInputText();return n?!!v.first(n,function(n){return p.equals(t,n,!1)}):!1},t.c_defaultDeferredOnChangeTime=300,t}(l.Component);t.ComboBox=k});

define("DistributedTaskControls/Components/FlatViewDropdown",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/SharedControls/InputControls/Components/ComboBoxInputComponent","OfficeFabric/Utilities","VSS/Controls/Combos","VSS/Utils/String","VSSUI/Dropdown","VSSUI/Utilities/DropdownSelection","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/FlatViewDropdown"],function(n,t,i,r,u,f,e,o,s,h){var y;Object.defineProperty(t,"__esModule",{value:!0});t.FlatViewDropdown=void 0;var c="flat-view-table-dropdown-row",l="flat-view-table-dropdown-row-hover",a="flat-view-table-dropdown-row-error",v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.upKey=function(t){(t.altKey||this.isDropVisible())&&n.prototype.upKey.call(this,t)},t.prototype.downKey=function(t){(t.altKey||this.isDropVisible())&&n.prototype.downKey.call(this,t)},t.prototype.keyDown=function(n){if(n.keyCode===13){if(!this.isDropVisible())return this.showDropPopup(),!1}else n.keyCode===32&&this.toggleDropDown()},t.Type="dtc-flat-view-drop-down",t}(e.ComboListBehavior);e.Combo.registerBehavior(v.Type,v);y=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._onChange=function(n){i.props.onValueChanged(n)},i._onDropdownSelect=function(n,t){i._setDropdownSelection(t.id);i._onChange(t.id)},i._onKeyDown=function(n){if(i._comboBoxInputComponent){var t=i._comboBoxInputComponent.getBehavior();t.isDropVisible()&&n.stopPropagation()}},i._dropdownSelection=new h.DropdownSelection,i}return __extends(t,n),t.prototype.render=function(){var t=this,n;return this._underLineRow(this._element,this.props.rowSelected),n=this.props.staticFlatViewDropdown?this._getStaticFlatViewDropdown():this._getDefaultFlatViewDropdown(),i.createElement("div",{className:"flatview-dropdown-container",onKeyDown:this._onKeyDown,ref:function(n){t._element=$(n)}},n)},t.prototype.componentDidMount=function(){if(this._underLineRow(this._element,this.props.rowSelected),this._comboBoxInputComponent){var n=this._comboBoxInputComponent.getDropButton();n.attr("data-is-visible","false")}},t.prototype.componentWillUnmount=function(){var n=!this._element?null:this._element.closest(".flat-view-table-cell");n.removeClass(c);n.removeClass(a);n.removeClass(l)},t.prototype._getDefaultFlatViewDropdown=function(){return i.createElement(u.ComboBoxInputComponent,{ref:this._resolveRef("_comboBoxInputComponent"),enabled:!this.props.isDisabled,value:this.props.selectedCondition,comboBoxType:this.props.type||u.ComboBoxType.Searchable,source:this.props.conditions,onValueChanged:this._onChange,enableFilter:this.props.enableFilter||!1,allowEdit:this.props.allowEdit||!1,hideErrorMessage:!0,ariaDescription:this.props.ariaDescription,ariaLabel:this.props.ariaLabel,type:this._getType(),maxAutoExpandDropWidth:this.props.maxAutoExpandDropWidth})},t.prototype._getStaticFlatViewDropdown=function(){var n=this.props.isDisabled?"flatview-dropdown-static-disabled":o.empty;return this.props.selectedCondition?this._setDropdownSelection(this.props.selectedCondition):this._dropdownSelection.select(0),i.createElement(s.Dropdown,{"data-is-focusable":!0,ref:this._resolveRef("_dropdown"),className:f.css("flatview-dropdown-static",n),ariaLabel:this.props.ariaLabel,items:this._getDropdownItems(),selection:this._dropdownSelection,onSelect:this._onDropdownSelect,"aria-disabled":this.props.isDisabled,disabled:this.props.isDisabled,calloutContentClassName:"flatview-dropdown-static-callout-style"})},t.prototype._getDropdownItems=function(){var n=this,t=[];return this.props.conditions&&this.props.conditions.forEach(function(i){var r=!1;n.props.disabledConditions&&n.props.disabledConditions.indexOf(i)!==-1&&(r=!0);t.push({id:i,text:i,disabled:r})}),t},t.prototype._setDropdownSelection=function(n){var t=this;this.props.conditions.map(function(i,r){i===n&&t._dropdownSelection.select(r)})},t.prototype._underLineRow=function(n,t){var i=!n?null:n.closest(".flat-view-table-cell"),r;!i||(r=c,this.props.hasErrors?r=a:t&&(r=l),i.removeClass(c),i.removeClass(a),i.removeClass(l),i.addClass(r))},t.prototype._getType=function(){var n;return this.props.allowEdit||(n=v.Type),n},t}(r.Component);t.FlatViewDropdown=y});

define("DistributedTaskControls/Components/Task/TaskStoreUtility",["require","exports","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/PickListInputUtility","VSS/Utils/String"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.TaskStoreUtility=void 0;var o=function(){function n(){}return n.createTaskInstanceCopy=function(n,t){var i={},r={},u={};return n===null?null:(n.inputs&&Object.keys(n.inputs).length>0&&Object.keys(n.inputs).forEach(function(t){i[t]=n.inputs[t]}),n.overrideInputs&&Object.keys(n.overrideInputs).length>0&&Object.keys(n.overrideInputs).forEach(function(t){r[t]=n.overrideInputs[t]}),n.environment&&Object.keys(n.environment).length>0&&Object.keys(n.environment).forEach(function(t){u[t]=n.environment[t]}),{displayName:n.displayName||t.friendlyName,refName:n.refName,enabled:n.enabled,continueOnError:n.continueOnError,timeoutInMinutes:n.timeoutInMinutes,retryCountOnTaskFailure:n.retryCountOnTaskFailure,alwaysRun:n.alwaysRun,condition:n.condition,order:n.order,inputs:i,overrideInputs:r,environment:u,task:{id:n.task.id,definitionType:n.task.definitionType,versionSpec:n.task.versionSpec}})},n.areTaskInstanceInputsEqual=function(n,t){if(Object.keys(n.inputs).length!==Object.keys(t.inputs).length)return!1;for(var i in n.inputs)if(n.inputs[i]!==t.inputs[i])return!1;return!0},n.areTaskInstanceOverrideInputsEqual=function(n,t){if(!n.overrideInputs&&!t.overrideInputs)return!0;if(n.overrideInputs&&t.overrideInputs&&Object.keys(n.overrideInputs).length===Object.keys(t.overrideInputs).length){for(var i in n.overrideInputs)if(!t.overrideInputs.hasOwnProperty(i)||!e.equals(n.overrideInputs[i],t.overrideInputs[i],!0))return!1;return!0}return!1},n.areVersionsEqual=function(n,t){return n.major===t.major&&n.minor===t.minor&&n.patch===t.patch&&n.isTest===t.isTest},n.getPickListRefreshOptions=function(n,t){return{sourceDefinitions:t.getSourceDefinitions(),dataSourceBindings:t.getDataSourceBindings(),taskInputToValueMap:t.getInputToValueMap(),processParametersToValueMap:t.getProcessParameterToValueMap(),taskDefinitionId:t.getTaskDefinitionId(n)}},n.mergeInputOptions=function(n,t){var r=this;n&&n.inputs&&t&&n.inputs.forEach(function(u){var f,o,s;r._doesInputSupportDynamicOptions(u,n)&&(f=t[u.name],f&&e.ignoreCaseComparer(i.DtcUtils.getTaskInputType(u),i.DtcUtils.getTaskInputType(f))===0&&(o=f.options,o&&(s={},Object.keys(o).forEach(function(n){s[n]=o[n]}),u.options=s)))})},n.isTaskSectionInitiallyCollapsed=function(n){var t=!1,i;return n&&n.isExpanded!==undefined?!n.isExpanded:(n&&n.displayName&&(i=n.displayName.trim().toLowerCase(),i&&(t=t||i.indexOf(r.ControlOptionsText.toLowerCase())!==-1,t||(t=t||i.indexOf(r.AdvancedOptionText.toLowerCase())!==-1))),t)},n._doesInputSupportDynamicOptions=function(n,t){var r=i.DtcUtils.getTaskInputType(n),o;return r===u.InputControlType.INPUT_TYPE_AZURE_CONNECTION||r===u.InputControlType.INPUT_TYPE_CONNECTED_SERVICE?!0:r===u.InputControlType.INPUT_TYPE_PICK_LIST&&(o=f.PickListInputUtility.getPickListOptions(n,t.dataSourceBindings,t.sourceDefinitions,e.empty),o.sourceDefintion||o.dataSourceBinding)?!0:!1},n}();t.TaskStoreUtility=o});

define("DistributedTaskControls/Components/Task/TaskStore",["require","exports","DistributedTaskControls/Actions/ProcessParameterActions","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/InputValidation","DistributedTaskControls/Common/Primitives","DistributedTaskControls/Common/RegexConstants","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Types","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Task/TaskActionsCreator","DistributedTaskControls/Components/Task/TaskStoreBase","DistributedTaskControls/Components/Task/TaskStoreUtility","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/DataSourceBindingUtility","DistributedTaskControls/Sources/TaskDefinitionSource","DistributedTaskControls/Stores/ProcessParameterStore","DistributedTasksCommon/TFS.Tasks.Types","DistributedTasksCommon/TFS.Tasks.Utils","VSS/Diag","VSS/FeatureAvailability/Services","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut){Object.defineProperty(t,"__esModule",{value:!0});t.TaskStore=void 0;var ft=function(n){function t(t){var i=n.call(this,t.taskContext)||this;return i._updateTaskDefinition=function(n){y.TaskStoreUtility.mergeInputOptions(n,i._taskInputDefinitionMap);i._taskDefinition=n;i._setInputDefinitionMap();i._updateTaskInputsFromDefinition(!0);i._dependencyToTargetMap=b.DataSourceBindingUtility.getDependencyToTargetsMap(i.getTaskInstance().inputs,i.getDataSourceBindings(),i.getSourceDefinitions());i._checkVisibilitychanged();i.emitChanged()},i._handleRenameTaskAction=function(n){n!==i._currentTaskInstance.displayName&&(i._currentTaskInstance.displayName=n,n!==i._getComputedInstanceNameAndInputName(i._currentTaskInstance).computedName&&(i._computeInstanceName=!1),i.emitChanged())},i._handleUpdateTaskRefNameAction=function(n){n!==i._currentTaskInstance.refName&&(i._currentTaskInstance.refName=n,i.emitChanged())},i._handleUpdateTaskStateAction=function(n){var t=!!n,r=!!i._currentTaskInstance.enabled;t!==r&&(i._currentTaskInstance.enabled=t,i.emitChanged())},i._handleUpdateTaskInputValue=function(n){var t,r;i._inputValidation.updateInputValue(n.name,n.value);switch(n.name){case f.TaskControlOptionsConstants.ControlOptionsInputName_AlwaysRun:i.getTaskInstance().alwaysRun=ut.ignoreCaseComparer(n.value,"true")===0;break;case f.TaskControlOptionsConstants.ControlOptionsInputName_ContinueOnError:i.getTaskInstance().continueOnError=ut.ignoreCaseComparer(n.value,"true")===0;break;case f.TaskControlOptionsConstants.ControlOptionsInputName_Enabled:i.getTaskInstance().enabled=ut.ignoreCaseComparer(n.value,"true")===0;break;case f.TaskControlOptionsConstants.ControlOptionsInputName_TimeOut:i._timeOutStringValue=n.value;t=i._getTimeOut(n.value);t===null&&i._timeOutStringValue?(i.getTaskInstance().overrideInputs[f.TaskControlOptionsOverridInputConstants.TimeoutInMinutes]=i._timeOutStringValue,i.getTaskInstance().timeoutInMinutes=i._originalTaskInstance.timeoutInMinutes):(i.getTaskInstance().timeoutInMinutes=t,delete i.getTaskInstance().overrideInputs[f.TaskControlOptionsOverridInputConstants.TimeoutInMinutes]);break;case f.TaskControlOptionsConstants.ControlOptionsInputName_RetryCount:i._retryCountStringValue=n.value;r=i._getRetryCount(n.value);r===null&&i._retryCountStringValue?(i.getTaskInstance().overrideInputs[f.TaskControlOptionsOverridInputConstants.RetryCount]=i._retryCountStringValue,i.getTaskInstance().retryCountOnTaskFailure=i._originalTaskInstance.retryCountOnTaskFailure):(i.getTaskInstance().retryCountOnTaskFailure=r,delete i.getTaskInstance().overrideInputs[f.TaskControlOptionsOverridInputConstants.RetryCount]);break;case f.TaskControlOptionsConstants.ControlOptionsInputName_ConditionEditor:i.getTaskInstance().condition=n.value;break;case f.TaskControlOptionsConstants.ControlOptionsInputName_ConditionSelector:i.getTaskInstance().condition=n.value;i._inputValidation.clear(f.TaskControlOptionsConstants.ControlOptionsInputName_ConditionEditor);break;default:i.getTaskInstance().inputs[n.name]=n.value}i._inputsUsedForComputation[n.name]&&i._computeInstanceName&&(i._currentTaskInstance.displayName=i._getComputedInstanceNameAndInputName(i._currentTaskInstance).computedName);i._checkVisibilitychanged();i._removeInputOptionsIfRequired(n.name);i._inputValidation.tryHandlePendingInputErrorDispatch(n.name,n.value);i.emitChanged()},i._handleUpdateTaskInputError=function(n){i._inputValidation.tryHandleUpdateInputError(n)&&i.emitChanged()},i._handleUpdateTaskInputOptionsAction=function(n){var t=i._taskInputDefinitionMap&&i._taskInputDefinitionMap[n.name];t&&(t.options=n.options);i._checkVisibilitychanged();i.emitChanged()},i._handleAddEnvironmentVariable=function(){i._environmentVariableState==null&&(i._environmentVariableState=[]);i._environmentVariableState.push({name:ut.empty,value:ut.empty});i.emitChanged()},i._handleUpdateEnvironmentVariableName=function(n){n.name!==undefined&&n.name!==null&&(i._environmentVariableState[n.index].name=n.name,i._updateTaskInstanceEnvironmentVariables(),i.emitChanged())},i._handleUpdateEnvironmentVariableValue=function(n){n.value!==undefined&&n.value!==null&&(i._environmentVariableState[n.index].value=n.value,i._updateTaskInstanceEnvironmentVariables(),i.emitChanged())},i._handleDeleteEnvironmentVariable=function(n){i._environmentVariableState.splice(n.index,1);i._updateTaskInstanceEnvironmentVariables();i.emitChanged()},i._handleCreateProcessParameter=function(n){n&&n.input&&(i._processParameterToValueMap.hasOwnProperty(n.input.name.toLowerCase())||(i._processParameterToValueMap[n.input.name.toLowerCase()]=n.input.defaultValue))},i._handleUpdateProcessParameter=function(n){i._updateProcessParameterInput(n);i.emitChanged()},i._handleLinkToProcessParameter=function(n){var r=ut.format(f.ProcessParameterConstants.NewProcessParameterBoundInputValueFormat,n.processParametername),t;i._currentTaskInstance.inputs&&(i._currentTaskInstance.inputs[n.inputName]=r,i._inputToProcessParameterMap[n.inputName]=n.processParametername,t=n.processParametername.toLowerCase(),i._processParamToInputsMap[t]?i._processParamToInputsMap[t].push(n.inputName):i._processParamToInputsMap[t]=[n.inputName]);i.emitChanged()},i._handleUnlinkFromProcessParameter=function(n){i._unlinkFromProcessParameter(n);i.emitChanged()},i._handleRemoveAllProcessParameters=function(){i._inputToProcessParameterMap&&Object.keys(i._inputToProcessParameterMap).forEach(function(n){i._unlinkFromProcessParameter(n)});i.emitChanged()},i._handleMarkTaskAsDeleting=function(){i._isDeleting=!0;i.emitChanged()},i._instanceNameFormatRegex=/\$\((.+?)\)/g,i._isVisibilityChanged=!1,i._isDeprecated=!1,i._inputsUsedForComputation={},i._inputToProcessParameterMap={},i._processParamToInputsMap={},i._pendingTaskInputErrorPayloadDispatch={},i._inputValidation=new e.InputValidation,i._isDeleting=!1,i._taskInstance=t.taskInstance,i._taskDefinition=t.taskDefinition,i._processParameterToValueMap={},i._setInputDefinitionMap(),i._setTaskVersionList(t.taskVersionInfoList),i}return __extends(t,n),t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._actionCreator=r.ActionCreatorManager.GetActionCreator(a.TaskActionCreator,t);this._actionCreator.updateTaskDefinitionAction.addListener(this._updateTaskDefinition);this._actionCreator.renameTaskAction.addListener(this._handleRenameTaskAction);this._actionCreator.updateTaskRefNameAction.addListener(this._handleUpdateTaskRefNameAction);this._actionCreator.updateTaskStateAction.addListener(this._handleUpdateTaskStateAction);this._actionCreator.updateTaskInputErrorAction.addListener(this._handleUpdateTaskInputError);this._actionCreator.updateTaskInputValueAction.addListener(this._handleUpdateTaskInputValue);this._actionCreator.updateTaskInputOptionsAction.addListener(this._handleUpdateTaskInputOptionsAction);this._actionCreator.addTaskEnvironmentVariableAction.addListener(this._handleAddEnvironmentVariable);this._actionCreator.updateTaskEnvironmentVariableNameAction.addListener(this._handleUpdateEnvironmentVariableName);this._actionCreator.updateTaskEnvironmentVariableValueAction.addListener(this._handleUpdateEnvironmentVariableValue);this._actionCreator.deleteTaskEnvironmentVariableAction.addListener(this._handleDeleteEnvironmentVariable);this._actionCreator.markTaskAsDeletingAction.addListener(this._handleMarkTaskAsDeleting);var f=h.StoreManager.GetStore(d.ProcessParameterStore,this.getTaskContext().processInstanceId),e=f.getProcessParameters();this._updateProcessParametersValueMap(e);this._processParameterActions=u.ActionsHubManager.GetActionsHub(i.ProcessParameterActions,this.getTaskContext().processInstanceId);this._processParameterActions.updateInput.addListener(this._handleUpdateProcessParameter);this._processParameterActions.createProcessParameter.addListener(this._handleCreateProcessParameter);this._processParameterActions.removeAllProcessParameters.addListener(this._handleRemoveAllProcessParameters);this._createTaskInputToProcessParameterNameMap(this._taskInstance,this._processParameterToValueMap);this._taskInstance&&this._updateCurrentAndOriginalTaskInstances(this._taskInstance);this._dependencyToTargetMap=b.DataSourceBindingUtility.getDependencyToTargetsMap(this.getTaskInstance().inputs,this.getDataSourceBindings(),this.getSourceDefinitions());this._setVisibility();this._actionCreator.linkToProcessParameterAction.addListener(this._handleLinkToProcessParameter);this._actionCreator.unlinkFromProcessParameterAction.addListener(this._handleUnlinkFromProcessParameter)},t.prototype.isDirty=function(){return this.isTaskDefinitionValid()?this._currentTaskInstance&&!0?!(this._currentTaskInstance.displayName===this._originalTaskInstance.displayName&&this._currentTaskInstance.refName===this._originalTaskInstance.refName&&this._currentTaskInstance.alwaysRun===this._originalTaskInstance.alwaysRun&&this._currentTaskInstance.continueOnError===this._originalTaskInstance.continueOnError&&this._currentTaskInstance.enabled===this._originalTaskInstance.enabled&&this._currentTaskInstance.order===this._originalTaskInstance.order&&this._currentTaskInstance.timeoutInMinutes===this._originalTaskInstance.timeoutInMinutes&&this._currentTaskInstance.retryCountOnTaskFailure===this._originalTaskInstance.retryCountOnTaskFailure&&this._currentTaskInstance.task.versionSpec===this._originalTaskInstance.task.versionSpec&&this._currentTaskInstance.condition===this._originalTaskInstance.condition&&!this._areTaskInputsDirty()&&!this._areTaskEnvironmentVariablesDirty()&&y.TaskStoreUtility.areTaskInstanceOverrideInputsEqual(this._currentTaskInstance,this._originalTaskInstance)):!1:!1},t.prototype.isDisabled=function(){var n=this.getTaskInstance();return n&&!n.enabled},t.prototype.isValid=function(){if(this.isDisabled())return!0;if(!this.isTaskDefinitionValid())return!1;var n=this._currentTaskInstance?this._currentTaskInstance.displayName:ut.empty;return(n&&n.trim())?this._hasValidControlOptions()?this._hasValidOutputVariableOptions()?this._hasValidEnvironmentVariables()?this._hasValidInputs():!1:!1:!1:!1},t.prototype.isValidForCreatingTaskGroup=function(){var n=this.isValid();for(var t in this._inputToProcessParameterMap)if(this._inputToProcessParameterMap.hasOwnProperty(t)){n=!1;break}return n},t.prototype.getProcessParameterToValueMap=function(){return this._processParameterToValueMap},t.prototype.getProcessParameterToInputsMap=function(){return this._processParamToInputsMap},t.prototype.getInputToValueMap=function(){return this.getTaskInstance().inputs},t.prototype.getInputToResolvedValueMap=function(){var i=this,n={},t=this.getInputToValueMap();return Object.keys(t).forEach(function(r){n[r]=l.DtcUtils.resolveTaskInputValueByProcessParameters(t[r],i._processParameterToValueMap).resolvedValue}),n},t.prototype.getTaskInstance=function(){return this._currentTaskInstance},t.prototype.getTaskPayload=function(){var n=this,t,i;return this.isMetaTask()?(t=y.TaskStoreUtility.createTaskInstanceCopy(this._currentTaskInstance,this._taskDefinition),this._taskDefinition.inputs.forEach(function(i){var r=n._currentTaskInstance.inputs[i.name];i.defaultValue===r&&(n._taskInstance.inputs[i.name]===undefined&&it.FeatureAvailabilityService.isFeatureEnabled(f.FeatureFlag_ExcludeDefaultTaskGroupParameters,!1)?delete t.inputs[i.name]:nt.VariableExtractor.containsVariable(r)||(t.inputs[i.name]=ut.empty))}),t):(i=y.TaskStoreUtility.createTaskInstanceCopy(this._currentTaskInstance,this._taskDefinition),this._taskDefinition.inputs.forEach(function(t){var r=n._currentTaskInstance.inputs[t.name];t.defaultValue===r&&n._taskInstance.inputs[t.name]===undefined&&it.FeatureAvailabilityService.isFeatureEnabled(f.FeatureFlag_ExcludeTaskNewDefaultInput,!1)&&delete i.inputs[t.name]}),i)},t.prototype.getClonedTaskInstance=function(){var n=y.TaskStoreUtility.createTaskInstanceCopy(this._currentTaskInstance,this._taskDefinition);return n.displayName=ut.format(p.CopyTaskDisplayNameFormat,n.displayName),n.refName=null,n},t.prototype.getTaskDefinition=function(){return this._taskDefinition},t.prototype.getTaskInputState=function(n){var t=this,r=l.DtcUtils.resolveTaskInputValueByProcessParameters(this.getTaskInstance().inputs[n],this._processParameterToValueMap),i=r.resolvedValue;return(i===undefined||i===null)&&(i=this._getControlOptionsInputValue(n)),{inputName:n,inputValue:i,isHidden:function(){return tt.logVerbose("InputName: "+n),t._taskInputDefinitionMap[n]?!t.isVisible(t._taskInputDefinitionMap[n].visibleRule,t._dependencyToTargetMap,n):!1},disabled:r.isResolved,options:this._taskInputDefinitionMap[n]?this._taskInputDefinitionMap[n].options:null}},t.prototype.getEnvironmentVariableState=function(){return this._environmentVariableState==null&&(this._environmentVariableState=[]),this._environmentVariableState||[]},t.prototype.getTaskInstanceId=function(){var n=this.getTaskInstance();return n?n.task.id:ut.empty},t.prototype.getVisibility=function(){return this._taskInputVisibility},t.prototype.getTaskDisplayName=function(){var n=this.getTaskInstance();return n?n.displayName:ut.empty},t.prototype.getTaskRefName=function(){var n=this.getTaskInstance();return n?n.refName:ut.empty},t.prototype.getTaskVersion=function(){return this._currentTaskInstance.task.versionSpec},t.prototype.getTaskVersionDisplaySpec=function(){var t=nt.isPreview(this._taskDefinition),n=this._currentTaskInstance?this._currentTaskInstance.task.versionSpec:"";return t?ut.format(p.Task_PreviewMajorVersionSpecFormat,n):n},t.prototype.getTaskVersionSpec=function(n){if(this._taskVersionSpecToInfo){var t=this._taskVersionSpecToInfo[n];if(t)return t.versionSpec}return null},t.prototype.getTaskVersionDisplaySpecs=function(){return this._taskVersionDisplaySpecs},t.prototype.getTaskItemOverviewState=function(){return{name:this.getTaskDisplayName(),refName:this.getTaskRefName(),isValid:this.isValid(),isDisabled:this.isDisabled(),isDefinitionValid:this.isTaskDefinitionValid(),isOnLatestMajorVersion:this.isTaskOnLatestMajorVersion(),isPreview:this.isPreview(),isTest:this.isTest(),isDeprecated:this.isDeprecated(),isDeleting:this.isDeleting()}},t.prototype.updateTask=function(n){n&&this._updateCurrentAndOriginalTaskInstances(n)},t.prototype.getActionForInputField=function(n){if(this._taskContext.processParametersNotSupported)return this._inputToProcessParameterMap[n]?c.ActionForTaskInput.NavigateToVariablesTab:c.ActionForTaskInput.None;if(this.isMetaTask())return c.ActionForTaskInput.None;switch(n){case f.TaskControlOptionsConstants.ControlOptionsInputName_AlwaysRun:case f.TaskControlOptionsConstants.ControlOptionsInputName_ContinueOnError:case f.TaskControlOptionsConstants.ControlOptionsInputName_Enabled:case f.TaskControlOptionsConstants.ControlOptionsInputName_TimeOut:case f.TaskControlOptionsConstants.ControlOptionsInputName_ConditionSelector:case f.TaskControlOptionsConstants.ControlOptionsInputName_ConditionEditor:case f.TaskControlOptionsConstants.ControlOptionsInputName_RetryCount:return c.ActionForTaskInput.None}return this._inputToProcessParameterMap[n]?c.ActionForTaskInput.UnlinkFromProcessParameter:c.ActionForTaskInput.LinkToProcessParameter},t.prototype.getProcessParameterName=function(n){return this._inputToProcessParameterMap[n]},t.prototype.getInputNameToProcessParameterNameMap=function(){return this._inputToProcessParameterMap},t.prototype.disposeInternal=function(){this._actionCreator.updateTaskDefinitionAction.removeListener(this._updateTaskDefinition);this._processParameterActions.updateInput.removeListener(this._handleUpdateProcessParameter);this._processParameterActions.createProcessParameter.removeListener(this._handleCreateProcessParameter);this._processParameterActions.removeAllProcessParameters.removeListener(this._handleRemoveAllProcessParameters);this._actionCreator.updateTaskInputErrorAction.removeListener(this._handleUpdateTaskInputError);this._actionCreator.updateTaskInputValueAction.removeListener(this._handleUpdateTaskInputValue);this._actionCreator.renameTaskAction.removeListener(this._handleRenameTaskAction);this._actionCreator.updateTaskRefNameAction.removeListener(this._handleUpdateTaskRefNameAction);this._actionCreator.updateTaskStateAction.removeListener(this._handleUpdateTaskStateAction);this._actionCreator.linkToProcessParameterAction.removeListener(this._handleLinkToProcessParameter);this._actionCreator.unlinkFromProcessParameterAction.removeListener(this._handleUnlinkFromProcessParameter);this._actionCreator.updateTaskInputOptionsAction.removeListener(this._handleUpdateTaskInputOptionsAction);this._actionCreator.addTaskEnvironmentVariableAction.removeListener(this._handleAddEnvironmentVariable);this._actionCreator.updateTaskEnvironmentVariableNameAction.removeListener(this._handleUpdateEnvironmentVariableName);this._actionCreator.updateTaskEnvironmentVariableValueAction.removeListener(this._handleUpdateEnvironmentVariableValue);this._actionCreator.deleteTaskEnvironmentVariableAction.removeListener(this._handleDeleteEnvironmentVariable);this._actionCreator.markTaskAsDeletingAction.removeListener(this._handleMarkTaskAsDeleting);this._currentTaskInstance=null;this._originalTaskInstance=null;this._actionCreator=null;this._processParameterToValueMap=null;this._taskInputDefinitionMap=null;this._inputsUsedForComputation={};n.prototype.disposeInternal.call(this)},t.prototype.getSourceDefinitions=function(){return this.getTaskDefinition().sourceDefinitions},t.prototype.getDataSourceBindings=function(){return this.getTaskDefinition().dataSourceBindings},t.prototype.getTaskDefinitionId=function(){return this.getTaskDefinition().id},t.prototype.getTaskInputDefinitionMap=function(){return this._taskInputDefinitionMap},t.prototype.isDeprecated=function(){return this._isDeprecated},t.prototype.isPreview=function(){return this._taskDefinition&&this._taskDefinition.preview},t.prototype.isTest=function(){return this._taskDefinition&&this._taskDefinition.version&&this._taskDefinition.version.isTest},t.prototype.isTaskOnLatestMajorVersion=function(){return this._taskDefinition&&this._taskDefinition.version?this._taskDefinition.version.major===this._latestMajorTaskVersion:!0},t.prototype.isGroupOrInputVisible=function(n,t){return this.isVisible(n,this._dependencyToTargetMap,t)},t.prototype.getLatestMajorTaskVersionReleaseNotes=function(){return this._latestMajorTaskVersionReleaseNotes},t.prototype.getLatestMajorTaskVersionDisplaySpec=function(){return this._latestMajorTaskVersionDisplaySpec},t.prototype.isMetaTask=function(){return!!this._taskDefinition&&this._taskDefinition.definitionType===g.DefinitionType.metaTask},t.prototype.isTaskDefinitionValid=function(){return!!this._taskDefinition&&!!this._taskDefinition.id},t.prototype.getProcessParameterNameToReferenceCount=function(){var n=this.getProcessParameterToInputsMap(),t=[];return Object.keys(n).forEach(function(i){t.push({processParameterName:i,referenceCount:n[i].length})}),t},t.prototype.getInputState=function(t,i){var u=l.DtcUtils.resolveTaskInputValueByProcessParameters(this.getTaskInstance().inputs[t.name],this._processParameterToValueMap),e=u.isResolved?u.resolvedValue:i,r=n.prototype.getInputState.call(this,t,e);return r!==f.InputState.Valid||this._inputValidation.isValid(t.name)||(r=f.InputState.Invalid),r},t.prototype.isVisibilityChanged=function(){return this._isVisibilityChanged},t.prototype.getTaskTimeoutInMinutes=function(){var t=this.getTaskInstance(),n=this.getTaskInstance().overrideInputs&&this.getTaskInstance().overrideInputs[f.TaskControlOptionsOverridInputConstants.TimeoutInMinutes];return n?l.DtcUtils.getInteger(n):this.getTaskInstance().timeoutInMinutes},t.prototype.getTaskRetryCountOnTaskFailure=function(){var n=this.getTaskInstance().overrideInputs&&this.getTaskInstance().overrideInputs[f.TaskControlOptionsOverridInputConstants.RetryCount];return n?l.DtcUtils.getInteger(n):this.getTaskInstance().retryCountOnTaskFailure},t.prototype.getEnvironmentVariableNameInvalidErrorMessage=function(n){return!n?p.EnvironmentVariableNameEmptyErrorTooltip:n.trim()===ut.empty?p.EnvironmentVariableNameEmptyErrorTooltip:/\s/g.test(n.trim())?p.EnvironmentVariableNameSpaceErrorTooltip:ut.empty},t.prototype.getEnvironmentVariableValueInvalidErrorMessage=function(n){return!n?p.EnvironmentVariableValueEmptyErrorTooltip:n.trim()===ut.empty?p.EnvironmentVariableValueEmptyErrorTooltip:ut.empty},t.prototype._areTaskInputsDirty=function(){if(Object.keys(this._currentTaskInstance.inputs).length!==Object.keys(this._originalTaskInstance.inputs).length)return!0;for(var n in this._currentTaskInstance.inputs)if(!this._isInputHidden(n)&&this._currentTaskInstance.inputs[n]!==this._originalTaskInstance.inputs[n])return!0;return!1},t.prototype._areTaskEnvironmentVariablesDirty=function(){if(this._currentTaskInstance.environment==null&&this._originalTaskInstance.environment==null)return!1;if(this._currentTaskInstance.environment!=null&&this._originalTaskInstance.environment==null||this._currentTaskInstance.environment==null&&this._originalTaskInstance.environment!=null||Object.keys(this._currentTaskInstance.environment).length!==Object.keys(this._originalTaskInstance.environment).length)return!0;for(var n in this._currentTaskInstance.environment)if(this._currentTaskInstance.environment[n]!==this._originalTaskInstance.environment[n])return!0;return!1},t.prototype._isInputHidden=function(n){var i=!1,t=this.getTaskInputState(n);return t&&(i=t.isHidden?t.isHidden():!1),i},t.prototype._isGroupVisible=function(n){return this._taskInputVisibility.hasOwnProperty(n)?this._taskInputVisibility[n]:!0},t.prototype._setInputDefinitionMap=function(){var n=this;this._taskInputDefinitionMap={};this._taskDefinition.inputs.forEach(function(t){n._taskInputDefinitionMap[t.name]=l.DtcUtils.createInputDefinitionCopy(t)})},t.prototype._setVisibility=function(){this._taskInputVisibility={};this._updateVisbility()},t.prototype._updateTaskInputsFromDefinition=function(n){var r=this,t,i;n===void 0&&(n=!1);!this._currentTaskInstance||!this._originalTaskInstance||!this._taskDefinition||!this._taskDefinition.inputs||(t={},i={},this._taskDefinition.inputs.forEach(function(n){r._currentTaskInstance.inputs[n.name]===undefined||r._taskDefinition.definitionType===g.DefinitionType.metaTask&&r._currentTaskInstance.inputs[n.name]===ut.empty?(t[n.name]=n.defaultValue,i[n.name]=n.defaultValue):(t[n.name]=r._currentTaskInstance.inputs[n.name],i[n.name]=r._originalTaskInstance.inputs[n.name]);ut.equals(n.type,w.InputControlType.INPUT_TYPE_BOOLEAN,!0)&&(t[n.name]||(n.defaultValue?(t[n.name]=n.defaultValue,i[n.name]=n.defaultValue):(t[n.name]=o.Boolean.falseString,i[n.name]=o.Boolean.falseString)))}),this._currentTaskInstance.inputs=t,this._originalTaskInstance.inputs=!n?i:this._originalTaskInstance.inputs,this._currentTaskInstance.task.versionSpec=this._getMajorVersionString(this._taskDefinition.version),this._initializeInstanceName(this._currentTaskInstance))},t.prototype._updateProcessParametersValueMap=function(n){var t=this;!n||!n.inputs||(this._processParameterToValueMap={},n.inputs.forEach(function(n){var i=n.name.toLowerCase();t._processParameterToValueMap[i]=n.defaultValue}))},t.prototype._createTaskInputToProcessParameterNameMap=function(n,t){var i,u,f,r;if(n.inputs)for(i in n.inputs)n.inputs.hasOwnProperty(i)&&(u=l.DtcUtils.resolveTaskInputValueByProcessParameters(n.inputs[i],t),u.isResolved&&(f=u.boundProcessParameterName,r=f.toLowerCase(),this._inputToProcessParameterMap[i]=f,this._processParamToInputsMap[r]||(this._processParamToInputsMap[r]=[]),this._processParamToInputsMap[r].push(i)))},t.prototype._updateProcessParameterInput=function(n){var i=this,t;!this._processParameterToValueMap||(t=n.name.toLowerCase(),this._processParameterToValueMap[t]=n.value,this._processParamToInputsMap.hasOwnProperty(t)&&this._processParamToInputsMap[t].forEach(function(n){i._removeInputOptionsIfRequired(n)}),this._processParamToInputsMap[t]&&this._computeInstanceName&&this._processParamToInputsMap[t].forEach(function(n){if(i._inputsUsedForComputation[n]){i._currentTaskInstance.displayName=i._getComputedInstanceNameAndInputName(i._currentTaskInstance).computedName;return}}))},t.prototype._getControlOptionsInputValue=function(n){var s=this,t,r,e,u,i,o;switch(n){case f.TaskControlOptionsConstants.ControlOptionsInputName_AlwaysRun:t=this.getTaskInstance().alwaysRun.toString();break;case f.TaskControlOptionsConstants.ControlOptionsInputName_ContinueOnError:t=this.getTaskInstance().continueOnError.toString();break;case f.TaskControlOptionsConstants.ControlOptionsInputName_Enabled:t=this.getTaskInstance().enabled.toString();break;case f.TaskControlOptionsConstants.ControlOptionsInputName_TimeOut:r=this._getOverrideTimeoutValue();r?t=r:(e=this.getTaskInstance().timeoutInMinutes!==null&&this.getTaskInstance().timeoutInMinutes!==undefined?this.getTaskInstance().timeoutInMinutes.toString():ut.empty,t=!this._timeOutStringValue?e:this._timeOutStringValue);break;case f.TaskControlOptionsConstants.ControlOptionsInputName_RetryCount:u=this._getOverrideRetryValue();u?t=u:(i=this.getTaskInstance().retryCountOnTaskFailure,o=i!==null&&i!==undefined?i.toString():ut.empty,t=!this._retryCountStringValue?o:this._retryCountStringValue);break;case f.TaskControlOptionsConstants.ControlOptionsInputName_ConditionSelector:this._taskInputDefinitionMap[n]||(this._taskInputDefinitionMap[n]=l.DtcUtils.getRunThisTaskInputDefinition());t=l.DtcUtils.getTaskConditionOptions().some(function(n){return n===s.getTaskInstance().condition})?this.getTaskInstance().condition:ut.empty;break;case f.TaskControlOptionsConstants.ControlOptionsInputName_ConditionEditor:this._taskInputDefinitionMap[n]||(this._taskInputDefinitionMap[n]=l.DtcUtils.getCustomConditionInputDefinition());t=this.getTaskInstance().condition||ut.empty}return t},t.prototype._getOverrideTimeoutValue=function(){return this.getTaskInstance().overrideInputs&&this.getTaskInstance().overrideInputs.hasOwnProperty(f.TaskControlOptionsOverridInputConstants.TimeoutInMinutes)?this.getTaskInstance().overrideInputs[f.TaskControlOptionsOverridInputConstants.TimeoutInMinutes]:ut.empty},t.prototype._getOverrideRetryValue=function(){return this.getTaskInstance().overrideInputs&&this.getTaskInstance().overrideInputs.hasOwnProperty(f.TaskControlOptionsOverridInputConstants.RetryCount)?this.getTaskInstance().overrideInputs[f.TaskControlOptionsOverridInputConstants.RetryCount]:ut.empty},t.prototype._hasValidControlOptions=function(){var n=!0,t=this._getOverrideTimeoutValue(),i;return t?n=l.DtcUtils.isValueInVariableFormat(t)||l.DtcUtils.isValidNonNegativeIntegerInRange(t,0,f.MaxPositiveNumber,!0)===f.InputState.Valid?!0:!1:(i=this.getTaskInstance().timeoutInMinutes,n=i!==null&&l.DtcUtils.isNumberInRange(i,0,f.MaxPositiveNumber)?!0:!1),n&&(n=this._inputValidation.isValid(f.TaskControlOptionsConstants.ControlOptionsInputName_ConditionEditor)),n},t.prototype._hasValidOutputVariableOptions=function(){if(it.FeatureAvailabilityService.isFeatureEnabled(f.FeatureFlag_TaskShowOutputVariables,!1)&&it.FeatureAvailabilityService.isFeatureEnabled(f.FeatureFlag_TaskValidateOutputVariables,!1)){var n=this.getTaskRefName();return!n||l.DtcUtils.isValidRefName(n)}return!0},t.prototype._hasValidInputs=function(){var i=!0,n,r,t;if(!!this._currentTaskInstance.inputs)for(n in this._currentTaskInstance.inputs)if(this._currentTaskInstance.inputs.hasOwnProperty(n)&&(r=this._currentTaskInstance.inputs[n],t=this._taskInputDefinitionMap[n],t&&this.isVisible(t.visibleRule,this._dependencyToTargetMap,n)&&this._isGroupVisible(t.groupName)&&this.getInputState(t,r)!==f.InputState.Valid)){i=!1;break}return i},t.prototype._hasValidEnvironmentVariables=function(){var r=!0,n,t,i;if(!!this._environmentVariableState)for(n=0,t=this._environmentVariableState;n<t.length;n++)if(i=t[n],!!this.getEnvironmentVariableNameInvalidErrorMessage(i.name)||!!this.getEnvironmentVariableValueInvalidErrorMessage(i.value)){r=!1;break}return r},t.prototype._updateEnvironmentVariableState=function(){if(this._environmentVariableState=[],!!this._currentTaskInstance.environment)for(var n in this._currentTaskInstance.environment)this._environmentVariableState.push({name:n,value:this._currentTaskInstance.environment[n]})},t.prototype._updateTaskInstanceEnvironmentVariables=function(){var n=this;this.getTaskInstance().environment={};!this._environmentVariableState||this._environmentVariableState.forEach(function(t){n.getTaskInstance().environment[t.name.trim()]=t.value.trim()})},t.prototype._updateCurrentAndOriginalTaskInstances=function(n){this._initializeInstanceName(n);this._currentTaskInstance=y.TaskStoreUtility.createTaskInstanceCopy(n,this._taskDefinition);this._originalTaskInstance=y.TaskStoreUtility.createTaskInstanceCopy(n,this._taskDefinition);this._updateTaskInputsFromDefinition();this._updateTaskVersion();this._updateEnvironmentVariableState()},t.prototype._updateTaskVersion=function(){this._currentTaskInstance&&(this._currentTaskInstance.task.versionSpec=this._getMajorVersionString(this._taskDefinition.version));this._originalTaskInstance&&(this._originalTaskInstance.task.versionSpec=this._getMajorVersionString(this._taskDefinition.version))},t.prototype._initializeInstanceName=function(n){var i=this,t;n&&(t=this._getComputedInstanceNameAndInputName(n),t.inputsUsedForComputation.forEach(function(n){i._inputsUsedForComputation[n]=!0}),n.displayName&&t.computedName!==n.displayName||(this._computeInstanceName=!0,n.displayName=t.computedName))},t.prototype._getComputedInstanceNameAndInputName=function(n){var i=this,r=[],t=ut.empty;return this._taskDefinition.instanceNameFormat&&(t=this._taskDefinition.instanceNameFormat.replace(this._instanceNameFormatRegex,function(t,u){var f,e,o;return r.push(u),f=ut.empty,n.inputs&&(e=i._inputToProcessParameterMap[u],f=e?i._processParameterToValueMap[e.toLowerCase()]:n.inputs[u]),f||(o=i._taskInputDefinitionMap[u],o&&(f=o.defaultValue)),f||ut.empty})),t||(t=this._taskDefinition.friendlyName),{computedName:t.replace(s.TaskNameRegex," "),inputsUsedForComputation:r}},t.prototype._getTimeOut=function(n){return l.DtcUtils.isValidNonNegativeIntegerInRange(n,0,f.MaxPositiveNumber,!0)===f.InputState.Valid?l.DtcUtils.getInteger(n):null},t.prototype._getRetryCount=function(n){return l.DtcUtils.isValidNonNegativeIntegerInRange(n,0,f.MaxPositiveNumber,!0)===f.InputState.Valid?l.DtcUtils.getInteger(n):null},t.prototype._unlinkFromProcessParameter=function(n){var r=this._inputToProcessParameterMap[n],t,i,u;r&&(t=r.toLowerCase(),i=this._processParameterToValueMap[t],this._currentTaskInstance.inputs&&(u=this._taskInputDefinitionMap[n]?this._taskInputDefinitionMap[n].defaultValue:ut.empty,this._currentTaskInstance.inputs[n]=i?i:u),delete this._inputToProcessParameterMap[n],this._processParamToInputsMap[t]&&this._processParamToInputsMap[t].length>0&&(rt.remove(this._processParamToInputsMap[t],n),this._processParamToInputsMap[t].length===0&&(delete this._processParamToInputsMap[t],delete this._processParameterToValueMap[t])))},t.prototype._removeInputOptionsIfRequired=function(n){var t=this;this._dependencyToTargetMap.hasOwnProperty(n)&&this._dependencyToTargetMap[n].forEach(function(n){var i=t._taskInputDefinitionMap[n];i&&(i.options=null,nt.VariableExtractor.containsVariable(t.getTaskInstance().inputs[i.name])||(t.getTaskInstance().inputs[i.name]=i.defaultValue))})},t.prototype._setTaskVersionList=function(n){var t=this;this._taskVersionDisplaySpecs=[];this._taskVersionSpecToInfo={};this._latestMajorTaskVersion=-1;this._latestMajorTaskVersionDisplaySpec=ut.empty;this._latestMajorTaskVersionReleaseNotes=ut.empty;n&&Object.keys(n).forEach(function(i){var r=n[i],f,u,e;r&&(f=nt.getMajorVersion(r.versionSpec),u=r.isPreview?ut.format(p.Task_PreviewMajorVersionSpecFormat,r.versionSpec):r.versionSpec,t._taskVersionDisplaySpecs.push(u),t._taskVersionSpecToInfo[u]=r,t._latestMajorTaskVersion<f&&(t._latestMajorTaskVersion=f,t._latestMajorTaskVersionDisplaySpec=u,e=k.TaskDefinitionSource.instance().getTaskDefinition(t._taskDefinition.id,t._latestMajorTaskVersion.toString()||"*"),e&&(t._latestMajorTaskVersionReleaseNotes=e.releaseNotes),t._isDeprecated=r.isDeprecated))});this._taskVersionDisplaySpecs.reverse()},t.prototype._getMajorVersionString=function(n){return n?nt.getMajorVersionSpec(n):"*"},t.prototype._checkVisibilitychanged=function(){var n=this;this._isVisibilityChanged=!1;this._taskDefinition&&this._taskDefinition.inputs&&this._taskDefinition.inputs.forEach(function(t){n._taskInputVisibility[t.name]!==n.isVisible(t.visibleRule,n._dependencyToTargetMap,t.name)&&(n._isVisibilityChanged=!0)});!this._isVisibilityChanged&&this._taskDefinition&&this._taskDefinition.groups&&this._taskDefinition.groups.forEach(function(t){n._taskInputVisibility[t.name]!==n.isVisible(t.visibleRule,n._dependencyToTargetMap)&&(n._isVisibilityChanged=!0)});this._updateVisbility()},t.prototype._updateVisbility=function(){var n=this;this._taskDefinition&&this._taskDefinition.inputs&&this._taskDefinition.inputs.forEach(function(t){n._taskInputVisibility[t.name]=!!n.isVisible(t.visibleRule,n._dependencyToTargetMap,t.name)});this._taskDefinition&&this._taskDefinition.groups&&this._taskDefinition.groups.forEach(function(t){n._taskInputVisibility[t.name]=!!n.isVisible(t.visibleRule,n._dependencyToTargetMap)})},t.prototype.isDeleting=function(){return this._isDeleting},t}(v.TaskStoreBase);t.TaskStore=ft});

define("DistributedTaskControls/ProcessManagement/ProcessManagementActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.ProcessManagementActions=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updateCapabilities=new u.Action},t.getKey=function(){return r.ActionsKeys.ProcessManagementActions},Object.defineProperty(t.prototype,"updateCapabilities",{get:function(){return this._updateCapabilities},enumerable:!1,configurable:!0}),t}(i.ActionsHubBase);t.ProcessManagementActions=f});

define("DistributedTaskControls/ProcessManagement/ProcessManagementUtils",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.ProcessManagementUtils=void 0;var i=function(){function n(){}return n.isCapabilitySupported=function(n,t){return(n&t)===t},n}();t.ProcessManagementUtils=i});

define("DistributedTaskControls/ProcessManagement/ProcessManagementStore",["require","exports","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/ProcessManagement/ProcessManagementActions","DistributedTaskControls/ProcessManagement/ProcessManagementUtils","DistributedTaskControls/ProcessManagement/Types"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.ProcessManagementStore=void 0;var s=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._handleUpdateCapabilities=function(n){i._processManagementCapabilities=n;i.emitChanged()},i._processManagementCapabilities=t.processManagementCapabilities,i}return __extends(t,n),t.prototype.initialize=function(n){this._processManagementActions=i.ActionsHubManager.GetActionsHub(f.ProcessManagementActions,n);this._processManagementActions.updateCapabilities.addListener(this._handleUpdateCapabilities)},t.getKey=function(){return r.StoreKeys.ProcessManagementStore},Object.defineProperty(t.prototype,"processManagementCapabilities",{get:function(){return this._processManagementCapabilities},enumerable:!1,configurable:!0}),t.prototype.canEditProcess=function(){return e.ProcessManagementUtils.isCapabilitySupported(this._processManagementCapabilities,o.ProcessManagementCapabilities.EditProcess)},t.prototype.canEditProcessInputs=function(){return e.ProcessManagementUtils.isCapabilitySupported(this._processManagementCapabilities,o.ProcessManagementCapabilities.EditProcessInputs)},t.prototype.canEditPhases=function(){return e.ProcessManagementUtils.isCapabilitySupported(this._processManagementCapabilities,o.ProcessManagementCapabilities.EditPhases)},t.prototype.canEditPhaseInputs=function(){return e.ProcessManagementUtils.isCapabilitySupported(this._processManagementCapabilities,o.ProcessManagementCapabilities.EditPhaseInputs)},t.prototype.canEditTasks=function(){return e.ProcessManagementUtils.isCapabilitySupported(this._processManagementCapabilities,o.ProcessManagementCapabilities.EditTasks)},t.prototype.canEditTaskInputs=function(){return e.ProcessManagementUtils.isCapabilitySupported(this._processManagementCapabilities,o.ProcessManagementCapabilities.EditTaskInputs)},t.prototype.canEditTaskGroups=function(){return e.ProcessManagementUtils.isCapabilitySupported(this._processManagementCapabilities,o.ProcessManagementCapabilities.EditTaskGroups)},t.prototype.disposeInternal=function(){this._processManagementActions.updateCapabilities.removeListener(this._handleUpdateCapabilities)},t}(u.StoreBase);t.ProcessManagementStore=s});

define("DistributedTaskControls/Components/Task/TaskDetailsHeader",["require","exports","react","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/YamlHelper","DistributedTaskControls/Components/FlatViewDropdown","DistributedTaskControls/Components/InfoButton","DistributedTaskControls/Components/MarkdownRenderer","DistributedTaskControls/Components/SafeLink","DistributedTaskControls/Components/Task/TaskActionsCreator","DistributedTaskControls/Components/Task/TaskStore","DistributedTaskControls/Components/TooltipIfOverflow","DistributedTaskControls/ProcessManagement/ProcessManagementStore","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Components/StringInputComponent","DistributedTaskControls/Stores/ItemSelectionStore","DistributedTaskControls/Variables/ProcessVariables/DataStore","OfficeFabric/Button","OfficeFabric/Label","OfficeFabric/Utilities","VSS/Context","VSS/Diag","VSS/Utils/Accessibility","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/Task/TaskDetailsHeader"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft){Object.defineProperty(t,"__esModule",{value:!0});t.TaskDetailsHeader=void 0;var et=function(n){function t(){var r=__construct(this,n,arguments);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._onNameChanged=function(n){r._actionCreator.renameTask(n)},r._onGetErrorMessage=function(n){return(n&&n.trim())?ft.empty:(r._actionCreator.renameTask(n),w.RequiredInputErrorMessage)},r._onVersionChanged=function(n){var t=r._store.getTaskVersionSpec(n);r._actionCreator.updateTaskDefinition(r._store.getTaskInstanceId(),t)},r._onRemove=function(){if(!r._store.getTaskContext().onRemoveDelegate)rt.logError("[TaskDetailsHeader._onRemove]: onRemoveDelegate has not been initialized.");else{r._store.getTaskContext().onRemoveDelegate(r.props.controllerInstanceId);ut.announce(w.TaskRemoved,!0);e.Telemetry.instance().publishEvent(e.Feature.RemoveTask,{},e.Source.CommandButton)}},r._onLinkSettingClicked=function(){r.props.onLinkSettingClicked?r.props.onLinkSettingClicked():rt.logError("[TaskDetailsHeader._onLinkSettingClicked]: onLinkSettingClicked method has not been initialized.")},r._onViewYAMLClicked=function(){var i=r._store.getInputToValueMap(),h=r._store.getTaskDefinition(),c=r._store.getTaskRefName(),l=r._store.getTaskVersion(),a=!r._store.isDisabled(),n=r._store.getTaskInstance(),v=n.continueOnError,y=n.condition,p=r._store.getTaskTimeoutInMinutes(),w=r._store.getTaskRetryCountOnTaskFailure(),b=r._store.getTaskDisplayName(),u={},s;Object.keys(i).forEach(function(n){u[n]=r._store.getTaskInputState(n).isHidden()});var k=r._store.getProcessParameterToValueMap(),g=f.StoreManager.GetStore(d.ProcessVariablesStore),e=g.getVariableList(),nt=n.environment,t={},tt=e.filter(function(n){return n.variable.scope&&n.variable.scope.isDefault});tt.forEach(function(n){return t[n.name]=n.variable});r.props.variableScopeKey&&(s=e.filter(function(n){return n.variable.scope&&n.variable.scope.key===r.props.variableScopeKey}),s.forEach(function(n){return t[n.name]=n.variable}));o.handleViewTaskAsYaml(i,h,c,b,l,a,v,y,p,u,t,k,nt,!1,w)},r._setState=function(){var n=r._itemSelectionStore.getState().selectedItems;r.setState({isTaskDisabled:r._store.isDisabled(),displayName:r._store.getTaskDisplayName(),version:r._store.getTaskVersionDisplaySpec(),isOnLatestMajorVersion:r._store.isTaskOnLatestMajorVersion(),isPreview:r._store.isPreview(),isMultipleTasksSelected:n&&n.length>1})},r._getTaskGroupLink=function(n,r){var u=it.getDefaultWebContext(),f=ft.format(t._taskGroupUrl,u.collection.uri+u.project.name,n);return i.createElement("p",null,i.createElement("span",{className:"callout-taskgroup-link"},w.View,i.createElement(l.SafeLink,{href:f,target:"_blank"},r)))},r}return __extends(t,n),t.prototype.componentWillMount=function(){this._domId=ft.generateUID();this._store=f.StoreManager.GetStore(v.TaskStore,this.props.controllerInstanceId);this._actionCreator=r.ActionCreatorManager.GetActionCreator(a.TaskActionCreator,this.props.controllerInstanceId);var n=this._store.getTaskContext().processInstanceId;this._processManagementStore=f.StoreManager.GetStore(p.ProcessManagementStore,n);this._itemSelectionStore=f.StoreManager.CreateStore(k.Store,n,{defaultSelection:[]});this._setState()},t.prototype.componentDidMount=function(){this._store.addChangedListener(this._setState);this._processManagementStore.addChangedListener(this._setState);this._itemSelectionStore.addChangedListener(this._setState)},t.prototype.componentWillUnmount=function(){this._store.removeChangedListener(this._setState);this._processManagementStore.removeChangedListener(this._setState);this._itemSelectionStore.removeChangedListener(this._setState)},t.prototype.render=function(){var t=this,r={calloutDescription:this.props.taskDescription,calloutMarkdown:this.props.taskHelpMarkDown,calloutAdditionalContent:function(){return t._getWhatsNewContent(t.props.taskVersionDisplaySpec,t.props.taskReleaseNotes)}},u={calloutAdditionalContent:function(){return t._getWhatsNewContent(t._store.getLatestMajorTaskVersionDisplaySpec(),t._store.getLatestMajorTaskVersionReleaseNotes(),w.Task_VersionSelectorHelp)}},n=this.props.taskType;return!this.state.isTaskDisabled||(n=ft.format("{0} ({1})",n,w.DisabledText)),this.state.isPreview&&(n=ft.format("{0} ({1})",n,w.PreviewText)),i.createElement("div",{className:"task-details-header"},i.createElement("div",{className:"heading-row"},i.createElement("div",{className:"task-type-label-container"},i.createElement(y.TooltipIfOverflow,{tooltip:n,targetElementClassName:"task-type-label"},i.createElement("label",{tabIndex:0,role:"heading","aria-level":2,className:"task-type-label","aria-disabled":this.state.isTaskDisabled},n))),i.createElement(h.Component,{cssClass:"task-type-info",calloutContent:r,iconStyle:"task-type-info-icon",isIconFocusable:!0,iconAriaLabel:ft.format(w.InfoCalloutAriaLabel,n)}),i.createElement("div",{className:"float-right"},this._isLinkSettingsVisible()&&i.createElement(g.CommandButton,{className:tt.css("remove-linkSettings-button","fabric-style-overrides","linkSettings-button"),ariaLabel:w.LinkSettings,iconProps:{iconName:"Link"},ariaDescription:w.LinkSettingsDescription,onClick:this._onLinkSettingClicked},w.LinkSettings),this._isYAMLFeatureVisible()&&i.createElement(g.CommandButton,{className:tt.css("remove-linkSettings-button","fabric-style-overrides","linkSettings-button"),ariaLabel:w.MenuViewAsYaml,iconProps:{iconName:"Paste"},disabled:!this._store.isValid(),ariaDescription:w.ViewAsYamlDescription,onClick:this._onViewYAMLClicked},w.MenuViewAsYaml),this._store.canShowLinkOptions()&&this._processManagementStore.canEditTasks()&&i.createElement(g.CommandButton,{className:tt.css("remove-linkSettings-button","fabric-style-overrides","remove-task-button"),ariaDescription:w.RemoveTaskDescription,ariaLabel:w.RemoveText,iconProps:{iconName:"Delete"},onClick:this._onRemove},w.RemoveText)),this._isVersionsSettingsVisible()&&i.createElement("span",{className:"task-version-span"},!this.state.isOnLatestMajorVersion&&i.createElement(h.Component,{calloutContent:u,cssClass:"task-version-upsell",iconName:"Flag",iconStyle:"task-version-upsell-icon",isIconFocusable:!0,iconAriaLabel:w.NewerVersionAvailableFlagAriaLabel}),i.createElement(nt.Label,{className:"task-version-dropdown-label"},w.Task_VersionSelectorLabel),i.createElement("span",{className:"task-version-dropdown"},i.createElement(s.FlatViewDropdown,{conditions:this.props.taskVersions,selectedCondition:this.state.version,rowSelected:!0,onValueChanged:this._onVersionChanged,ariaDescription:w.SelectVersionDescription,ariaLabel:w.Task_VersionSelectorLabel,isDisabled:!this._processManagementStore.canEditTasks()})))),i.createElement("div",{className:"task-name"},i.createElement(b.StringInputComponent,{label:w.DisplayNameText,value:this.state.displayName,onValueChanged:this._onNameChanged,required:!0,getErrorMessage:this._onGetErrorMessage,deferredValidationTime:500,readOnly:!this._processManagementStore.canEditTaskInputs()})))},t.prototype._isYAMLFeatureVisible=function(){return this._store.canShowYAMLFeature()&&!this.state.isMultipleTasksSelected},t.prototype._isVersionsSettingsVisible=function(){return this._store.canShowVersions()&&this._store.isTaskDefinitionValid()},t.prototype._isLinkSettingsVisible=function(){return this._store.canShowLinkOptions()&&!this._store.isMetaTask()&&this._store.isTaskDefinitionValid()&&!this.props.processParametersNotSupported&&this._processManagementStore.canEditProcess()},t.prototype._getTaskDisplayNameElementId=function(){return"task-display-name-"+this._domId},t.prototype._getWhatsNewContent=function(n,t,r){return i.createElement("div",null,r&&i.createElement("div",null,r),r&&t&&i.createElement("br",null),t&&i.createElement("div",null,i.createElement("div",{className:"version-info-whats-new"}," ",ft.format(w.WhatsNewInVersionText,n)," "),i.createElement(c.Component,{markdown:t})),this.props.taskId&&this._getTaskGroupLink(this.props.taskId,this.props.taskType))},t._taskGroupUrl="{0}/_taskgroups?_a=properties&taskGroupId={1}",t}(u.Component);t.TaskDetailsHeader=et});

define("DistributedTaskControls/Common/FlatViewTableTypes",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.ContentType=t.HighContrastSelectionClass=void 0;t.HighContrastSelectionClass="high-contrast-is-selected";var i;(function(n){n[n.SimpleText=0]="SimpleText";n[n.PasswordText=1]="PasswordText";n[n.JsxElement=2]="JsxElement"})(i=t.ContentType||(t.ContentType={}))});

define("DistributedTaskControls/Components/FlatViewButton",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/FlatViewTableTypes","OfficeFabric/Button","VSSUI/Tooltip","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/FlatViewButton"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.FlatViewButton=void 0;var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=o.css("flat-view-button",u.HighContrastSelectionClass);return n+=this.props.rowSelected?"":" hide",i.createElement("div",{className:"flat-view-button-container"},i.createElement(e.TooltipHost,{content:this.props.tooltip},i.createElement(f.IconButton,{ariaLabel:this.props.tooltip,className:n,iconProps:this.props.iconProps,onClick:this.props.onClick,disabled:this.props.disabled})))},t}(r.Component);t.FlatViewButton=s});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__decorate=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};define("DistributedTaskControls/Components/FlatViewIcon",["require","exports","react","DistributedTaskControls/Common/Components/Base","OfficeFabric/Icon","OfficeFabric/Utilities","VSS/Utils/Accessibility","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/FlatViewIcon"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.FlatViewIcon=void 0;var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.componentWillMount=function(){this._flatViewIconDescribedById=o.generateUID();this._announceLiveRegion(this.props.ariaLiveRegionMessage)},t.prototype.componentWillReceiveProps=function(n){o.defaultComparer(n.ariaLiveRegionMessage,this.props.ariaLiveRegionMessage)!==0&&this._announceLiveRegion(n.ariaLiveRegionMessage)},t.prototype.render=function(){return i.createElement("div",{ref:this._resolveRef("_flatViewIconContainer"),"data-is-focusable":!0,role:"presentation",className:f.css("flat-view-icon-container",this.props.className),"aria-describedby":this._getDescriptionUniqueId(),onFocus:this._onFocus,onBlur:this._onBlur},i.createElement("div",{className:"hidden",id:this._getDescriptionUniqueId()},this.props.ariaLiveRegionMessage),i.createElement(u.Icon,__assign({className:"flat-view-icon"},this.props)))},t.prototype._onFocus=function(){this.setState({isSelected:!0})},t.prototype._onBlur=function(n){this._flatViewIconContainer.contains(n.relatedTarget||document.activeElement)||this.setState({isSelected:!1})},t.prototype._announceLiveRegion=function(n,t){t===void 0&&(t=!0);n&&e.announce(n,t)},t.prototype._getDescriptionUniqueId=function(){return this._flatViewIconDescribedById},__decorate([f.autobind],t.prototype,"_onFocus",null),__decorate([f.autobind],t.prototype,"_onBlur",null),t}(r.Component);t.FlatViewIcon=s});

define("DistributedTaskControls/Common/ReactFocus",["require","exports","VSS/Diag","VSS/Utils/String"],function(n,t,i,r){function u(n){if(!n){i.logError("ReactFocus: focusFocusableElement: There is no element to focus.");return}var t=n.querySelector("[data-is-focusable]");t&&(t.setAttribute("tabindex","-1"),t.focus())}function f(n,t){if(!n){i.logError("ReactFocus: focusDetailsListRow: There is no element to focus.");return}var f=n.querySelector(r.format('[data-list-index="{0}"]',t));u(f)}Object.defineProperty(t,"__esModule",{value:!0});t.focusDetailsListRow=t.focusFocusableElement=void 0;t.focusFocusableElement=u;t.focusDetailsListRow=f});

define("DistributedTaskControls/Components/FlatViewText",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/FlatViewTableTypes","DistributedTaskControls/Components/TooltipIfOverflow","OfficeFabric/Utilities","OfficeFabric/Label","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/FlatViewText"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.FlatViewText=void 0;var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=this.props.disabled?"flat-view-text-disabled":s.empty;return i.createElement(o.Label,{disabled:this.props.disabled,className:e.css("flat-view-text",u.HighContrastSelectionClass,this.props.className,n)},i.createElement(f.TooltipIfOverflow,{tooltip:this.props.text,targetElementClassName:"flat-view-text-preserve",containerClassName:"flat-view-text-preserve-container"},i.createElement("div",{className:"flat-view-text-preserve-container"},i.createElement("pre",{className:"flat-view-text-preserve"},this.props.text))))},t}(r.Component);t.FlatViewText=h});

define("DistributedTaskControls/Components/FlatViewTextInput",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/FlatViewText","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Common/FlatViewTableTypes","OfficeFabric/Button","OfficeFabric/Utilities","OfficeFabric/Label","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/FabricStyleOverrides","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/FlatViewTextInput"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.FlatViewTextInputCell=t.editInline=t.focus=t.errorUnderLine=t.selectedUnderLine=t.hoverUnderLine=t.noUnderLine=void 0;t.noUnderLine="flat-view-table-input-row";t.hoverUnderLine="flat-view-table-input-row-hover";t.selectedUnderLine="flat-view-table-input-row-selected";t.errorUnderLine="flat-view-table-input-row-error";t.focus="flat-view-table-input-row-focus";t.editInline="flat-view-table-input-edit-inline";var l=function(n){function r(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._cellStyleClass="input-cell-style",i.state={value:i.props.value,isSelected:!1},i._flatViewTextInputAriaDescribedById=c.generateUID(),i}return __extends(r,n),r.prototype.componentWillReceiveProps=function(n){n.value!==this.props.value&&this.setState(function(t){return{value:n.value,isSelected:t.isSelected}})},r.prototype.render=function(){var n=this;return this._updateInputProperties(),this._underLineRow(this.props.rowHighLighted),i.createElement("div",{className:s.css("flat-view-text-input-container"),ref:function(t){n._flatViewTextInput=$(t)}},!this.state.editInline&&i.createElement("div",null,i.createElement("div",{className:"propagate-keydown-event","data-is-focusable":"true",tabIndex:0,role:"button","aria-label":this._getAriaLabel(),"aria-disabled":this.props.disabled,"aria-describedby":this.props.disabled?null:this._flatViewTextInputAriaDescribedById,onClick:this._onReadOnlyInputClicked,onKeyDown:this._onReadOnlyInputKeyDown,onFocus:this._onInputFocus,onBlur:this._onReadOnlyInputBlur,ref:function(t){n._readOnlyInput=$(t)}},this._getReadonlyInput()),i.createElement("div",{id:this._flatViewTextInputAriaDescribedById,className:"hidden"},f.FlatViewTextInputCellDescription)),this.state.editInline&&this._getEditableInputWithControlIcons())},r.prototype.componentDidMount=function(){this._underLineRow(this.props.rowHighLighted);this._asyncUtil=new s.Async;this._delayedInputChanged=this._asyncUtil.debounce(this.props.onValueChanged,r.c_defaultDeferredOnChangeTime)},r.prototype.componentWillUnmount=function(){this._removeStylesFromParentElement();this._asyncUtil&&this._asyncUtil.dispose();this._asyncUtil=null},r.prototype._getAriaLabel=function(){return this._isInputSecret()?f.SecretValueText:this._inputValue?this._inputValue.toString():f.EmptyText},r.prototype._updateInputProperties=function(){this._inputValue=this.state.value?this.state.value:c.empty},r.prototype._onInputChanged=function(n){var t=$(n.target).val();this.setState(function(n){return{value:t,isSelected:n.isSelected}});this._delayedInputChanged(t,this.props.cellIndex)},r.prototype._onInputFocus=function(){this._hasFocus=!0;this.setState(function(n){return{value:n.value,isSelected:!0}})},r.prototype._onReadOnlyInputBlur=function(n){var t=this._readOnlyInput[0];t.contains(n.relatedTarget||document.activeElement)||(this._hasFocus=!1,this.setState(function(n){return{value:n.value,isSelected:!1}}))},r.prototype._onReadOnlyInputClicked=function(){this.props.disabled||this._setFocusOnEditableInput()},r.prototype._onControlClicked=function(n){if(this.props.onControlClicked)this.props.onControlClicked(this.props.cellIndex);n.stopPropagation()},r.prototype._onControlIconsMouseDown=function(){this.setState({editInline:!0})},r.prototype._onControlIconsKeyDown=function(n){switch(n.which){case 39:n.stopPropagation();break;case 13:n.stopPropagation()}},r.prototype._onReadOnlyInputKeyDown=function(n){switch(n.which){case 13:if(!!this.props.disabled)return;this._setFocusOnEditableInput();n.stopPropagation()}},r.prototype._onEditableInputMouseDown=function(){this._setFocusOnEditableInput()},r.prototype._onEditableInputKeyDown=function(n){switch(n.which){case 36:case 35:n.stopPropagation();break;case 13:case 27:this._setFocusOnReadOnlyInput();n.stopPropagation();n.preventDefault();break;case 37:n.stopPropagation();break;case 39:this.props.controlIconClassName||n.stopPropagation()}},r.prototype._setFocusOnReadOnlyInput=function(){var n=this;this.state.editInline!==!1&&this.setState({editInline:!1},function(){n._readOnlyInput.focus()})},r.prototype._setFocusOnEditableInput=function(){var n=this;this.setState({editInline:!0},function(){n._editableInput.focus()})},r.prototype._getReadonlyInput=function(){var n=this,t=function(t){return i.createElement("div",{className:!n.props.cssClass?n._cellStyleClass:s.css(n._cellStyleClass,n.props.cssClass)},t)},l=this.props.disabled?"flat-view-text-input-read-only-disabled":c.empty,r,f,o;return this._isInputSecret()?(r=i.createElement(h.Label,{disabled:this.props.disabled,className:s.css("flat-view-text-input-read-only",e.HighContrastSelectionClass,l)},"********"),t(r)):(f=this._inputValue.toString(),o=i.createElement(u.FlatViewText,{text:f,disabled:this.props.disabled}),t(o))},r.prototype._getEditableInputWithControlIcons=function(){var n=this;return i.createElement("div",{ref:function(t){n._editableInputWithControlIcon=$(t)},onFocus:this._onInputFocus,onBlur:this._onInputBlur,className:!this.props.cssClass?this._cellStyleClass:s.css(this._cellStyleClass,this.props.cssClass)},this._getEditableInput(),this._getControlIcons())},r.prototype._onInputBlur=function(n){var t=this._editableInputWithControlIcon[0];t.contains(n.relatedTarget||document.activeElement)||(this._hasFocus=!1,this.setState(function(n){return{value:n.value,isSelected:!1,editInline:!1}}))},r.prototype._getEditableInput=function(){var n=this,t=s.css("flat-view-text-input propagate-keydown-event",e.HighContrastSelectionClass,{"flat-view-text-input-padding":!!this.props.controlIconClassName});return i.createElement("input",{className:t,ref:function(t){n._editableInput=$(t)},onMouseDown:this._onEditableInputMouseDown,onKeyDown:this._onEditableInputKeyDown,"aria-disabled":this.props.disabled,disabled:this.props.disabled,type:this.props.type||"text",spellCheck:!1,value:this._inputValue,onInput:this._onInputChanged,onChange:function(){},tabIndex:0,placeholder:this._getPlaceHolder(),"aria-label":this.props.ariaLabel})},r.prototype._getControlIcons=function(){var n=s.css("control-button",{hide:!this._isInputHighlighted(this.props.rowHighLighted,this.props.ignoreParentHighlight)});return this.props.controlIconClassName&&i.createElement("span",{onKeyDown:this._onControlIconsKeyDown,onMouseDown:this._onControlIconsMouseDown,className:"input-control-button-container"},i.createElement(o.CommandButton,{className:s.css(n,"control-button-icon"),iconProps:{iconName:this.props.controlIconClassName},ariaLabel:this.props.controlTitle,tabIndex:0,disabled:!!this.props.disabled,onClick:this._onControlClicked,"aria-disabled":!!this.props.disabled}))},r.prototype._underLineRow=function(n){var r=this._getParentElement(),i;r&&(i=t.noUnderLine,this.props.rowHasErrors?i=t.errorUnderLine:this.state.isSelected?i=t.selectedUnderLine:(this._isInputHighlighted(n,this.props.ignoreParentHighlight)||!this._isInputSecret()&&this.state.value===c.empty)&&(i=t.hoverUnderLine),!this.state.isSelected||(i=s.css(i,t.focus)),this.state.editInline&&(i=s.css(i,t.editInline)),this._removeStylesFromParentElement(),r.addClass(i))},r.prototype._isInputHighlighted=function(n,t){return this.state.isSelected||n&&!t},r.prototype._getPlaceHolder=function(){return this._isInputSecret()?"********":this._hasFocus?this.props.placeHolder:c.empty},r.prototype._isInputSecret=function(){return c.localeIgnoreCaseComparer(this.props.type||"text","password")===0},r.prototype._getParentElement=function(){return this._flatViewTextInput&&this._flatViewTextInput.closest(".flat-view-table-cell")},r.prototype._removeStylesFromParentElement=function(){var n=this._getParentElement();n&&(n.removeClass(t.noUnderLine),n.removeClass(t.errorUnderLine),n.removeClass(t.hoverUnderLine),n.removeClass(t.selectedUnderLine),n.removeClass(t.focus),n.removeClass(t.editInline))},r.c_defaultDeferredOnChangeTime=500,__decorate([s.autobind],r.prototype,"_onInputChanged",null),__decorate([s.autobind],r.prototype,"_onInputFocus",null),__decorate([s.autobind],r.prototype,"_onReadOnlyInputBlur",null),__decorate([s.autobind],r.prototype,"_onReadOnlyInputClicked",null),__decorate([s.autobind],r.prototype,"_onControlClicked",null),__decorate([s.autobind],r.prototype,"_onControlIconsMouseDown",null),__decorate([s.autobind],r.prototype,"_onControlIconsKeyDown",null),__decorate([s.autobind],r.prototype,"_onReadOnlyInputKeyDown",null),__decorate([s.autobind],r.prototype,"_onEditableInputMouseDown",null),__decorate([s.autobind],r.prototype,"_onEditableInputKeyDown",null),__decorate([s.autobind],r.prototype,"_onInputBlur",null),r}(r.Component);t.FlatViewTextInputCell=l});

define("DistributedTaskControls/Components/FlatViewTableRow",["require","exports","react","DistributedTaskControls/Components/FlatViewTextInput","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/FlatViewTableTypes","OfficeFabric/DetailsList","OfficeFabric/Utilities","OfficeFabric/utilities/selection/interfaces","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/FlatViewTableRow"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.FlatViewTableRow=void 0;var h=function(n){function t(t){var u=__construct(this,n,[t]);for(var e in u)u.hasOwnProperty(e)&&(this[e]=u[e]);return u._renderCell=function(n,t,e){var s={};if(n&&n.cells){var c=n.cells,o=c[e.key],h=o.content,l=o.contentType;switch(l){case f.ContentType.SimpleText:case f.ContentType.PasswordText:s=i.createElement(r.FlatViewTextInputCell,{cssClass:o.cssClass,placeHolder:o.placeHolder,type:o.contentType===f.ContentType.PasswordText?"password":"text",value:o.content,cellIndex:{rowIndex:t,columnKey:e.key},onValueChanged:u.props.onCellValueChanged,rowHasErrors:o.contentHasErrors,rowHighLighted:!!u.state.isActive,controlIconClassName:o.controlIcon,controlTitle:o.controlTitle,disabled:o.isTextDisabled||u.props.disabled,onControlClicked:function(n){!o.controlClickCallback||o.controlClickCallback({rowIndex:n.rowIndex,columnKey:n.columnKey})},ariaLabel:o.ariaLabel||e.name,ignoreParentHighlight:o.ignoreParentHighlight});break;case f.ContentType.JsxElement:s=h&&i.cloneElement(h,{rowSelected:!!u.state.isActive,ariaLabel:o.ariaLabel||e.name})}}return s},u.state={isActive:!1,isRowSelected:!1},u._events=new o.EventGroup(u),u}return __extends(t,n),t.prototype.componentDidMount=function(){this._events.on(this.props.rowProps.selection,s.SELECTION_CHANGE,this._onSelectionChanged)},t.prototype.componentWillUnmount=function(){this._events.dispose()},t.prototype._onMouseOver=function(){(this._isHovered=!0,this.props.rowProps.selection.isIndexSelected(this.props.rowProps.itemIndex))||this.setState({isActive:!0})},t.prototype._onMouseLeave=function(){this._isHovered=!1;this._setBlur()},t.prototype._setBlur=function(){this.props.rowProps.selection.isIndexSelected(this.props.rowProps.itemIndex)||this._isHovered===!0||this.setState({isActive:!1})},t.prototype._onSelectionChanged=function(){if(this.props.rowProps.selection.isIndexSelected(this.props.rowProps.itemIndex)){if(this.props.onRowSelected)this.props.onRowSelected(this.props.rowProps.itemIndex);this.state.isActive!==!0&&this.setState({isActive:!0,isRowSelected:!0})}else this.state.isActive!==!1&&this.setState({isActive:!1,isRowSelected:!1})},t.prototype.render=function(){var n=this;return i.createElement("div",{className:this.state.isRowSelected?"is-selected":"",onMouseOver:function(){return n._onMouseOver()},onBlur:function(){return n._setBlur()},onMouseLeave:function(){return n._onMouseLeave()}},i.createElement(e.DetailsRow,__assign({},this.props.rowProps,{onRenderItemColumn:this._renderCell})))},t}(u.Component);t.FlatViewTableRow=h});

define("DistributedTaskControls/Components/FlatViewTable",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/FlatViewTableRow","OfficeFabric/DetailsList","OfficeFabric/Selection","VSS/Utils/String","VSSUI/VssDetailsList","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/FlatViewTable","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/FabricStyleOverrides"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.FlatViewTable=void 0;var h=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t._getRowAriaLabel=function(n){return n.rowAriaLabel||o.empty},t._onRenderRow=function(n){var r="flatViewRow-"+n.itemIndex;return i.createElement("div",{className:"fabric-style-overrides"},i.createElement("div",{className:"flat-view-row",key:r},i.createElement(u.FlatViewTableRow,{rowProps:n,onCellValueChanged:t.props.onCellValueChanged,onRowSelected:t.props.onRowSelected,disabled:t.props.disabled})))},t}return __extends(t,n),t.prototype.render=function(){var n=t._flatViewContainerTableClassName+(!this.props.cssClass?"":" "+this.props.cssClass);return i.createElement("div",{className:n,ref:t._flatViewContainerTableClassName},i.createElement(s.VssDetailsList,{ref:this._resolveRef("_detailsList"),compact:!0,selectionMode:e.SelectionMode.single,setKey:this.props.setKey,className:"flat-view-table",items:this.props.rows,initialFocusedIndex:this.props.initialFocusedIndex>=0?this.props.initialFocusedIndex:-1,columns:this._getColumnList(),layoutMode:this._getLayoutMode(),checkboxVisibility:f.CheckboxVisibility.hidden,isHeaderVisible:this.props.isHeaderVisible,constrainMode:f.ConstrainMode.unconstrained,onRenderRow:this._onRenderRow,getRowAriaLabel:this._getRowAriaLabel,onRowWillUnmount:this.props.onRowWillUnmount,ariaLabelForGrid:this.props.ariaLabel}))},t.prototype.scrollToIndex=function(n){this._detailsList&&this._detailsList.scrollToIndex&&this._detailsList.scrollToIndex(n)},t.prototype._getLayoutMode=function(){var n=this.props.layoutMode;return(n===undefined||n===null)&&(n=f.DetailsListLayoutMode.justified),n},t.prototype._getColumnList=function(){for(var n,r=[],i=0,u=this.props.headers;i<u.length;i++)n=u[i],r.push({key:n.key,name:n.name,fieldName:n.name,minWidth:typeof n.minWidth=="number"?n.minWidth:100,maxWidth:typeof n.maxWidth=="number"?n.maxWidth:400,isResizable:n.isFixedColumn?!n.isFixedColumn:!0,className:t._flatViewTableCellClassName,isIconOnly:n.isIconOnly,iconClassName:n.iconClassName,iconName:n.iconName,onColumnClick:n.onColumnClick,isSorted:n.isSorted,columnActionsMode:n.columnActionsMode,isSortedDescending:n.isSortedDescending,headerClassName:n.headerClassName,isMultiline:n.isMultiline,ariaLabel:n.ariaLabel||n.name});return r},t._flatViewTableCellClassName="flat-view-table-cell",t._flatViewContainerTableClassName="flat-view-table-container",t}(r.Component);t.FlatViewTable=h});

define("DistributedTaskControls/Components/FlatViewTableWithAddButton",["require","exports","react","react-dom","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/ReactFocus","DistributedTaskControls/Components/FlatViewTable","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Button","OfficeFabric/Utilities","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.FlatViewTableWithAddButton=void 0;var l=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._isRowDeleted=!1,i._isRowAdded=!1,i._async=new h.Async,i}return __extends(t,n),t.prototype.componentWillMount=function(){this.setState({setFocusOnRow:this.props.setFocusOnRender,setKey:"flat-view-table-with-add-button"})},t.prototype.componentWillUnmount=function(){this._async.dispose()},t.prototype.componentDidUpdate=function(){var n=this;this.props.stopAutoFocus||(this._isRowDeleted&&(this._numberOfRows>0?this._selectedRowIndex===this._numberOfRows?this._setFocusOnAddButton():this._selectedRowIndex<this._numberOfRows&&f.focusDetailsListRow(this._table,this._selectedRowIndex):this._numberOfRows===0&&this._setFocusOnAddButton(),this._isRowDeleted=!1),this._isRowAdded&&(this._numberOfRows>0&&this._flatViewTable.scrollToIndex(this.props.rows.length-1),this.props.focusSelectorOnAddRow&&this._async.setTimeout(function(){var u=r.findDOMNode(n),i=u.querySelectorAll(c.format(".ms-DetailsRow[data-item-index='{0}'] {1}",n.props.rows.length-1,n.props.focusSelectorOnAddRow)),t;i&&(t=i[0],t&&t.click())},0),this._isRowAdded=!1))},t.prototype._onRowWillUnmount=function(){this._isRowDeleted=!0},t.prototype.render=function(){var n=this._setInitialFocus();return this._numberOfRows=this.props.rows.length,i.createElement("div",{className:this.props.containerClass},i.createElement("div",{className:this.props.flatViewContainerClass,ref:this._resolveRef("_table")},i.createElement(e.FlatViewTable,{ref:this._resolveRef("_flatViewTable"),layoutMode:this.props.layoutMode,setKey:this.state.setKey,isHeaderVisible:this.props.isHeaderVisible,headers:this.props.headers,rows:this.props.rows,onCellValueChanged:this.props.onCellValueChanged,initialFocusedIndex:n,ariaLabel:this.props.ariaLabel,onRowWillUnmount:this._onRowWillUnmount,onRowSelected:this._onRowSelected,disabled:this.props.disabled})),!this.props.disabled&&i.createElement(s.CommandButton,{className:this.props.addButtonClass,componentRef:this._resolveRef("_addButton"),iconProps:{iconName:"Add"},ariaDescription:this.props.addButtonDescription?this.props.addButtonDescription:o.Add,ariaLabel:this.props.addButtonDisplayValue?this.props.addButtonDisplayValue:o.Add,onClick:this._onAdd},this.props.addButtonDisplayValue?this.props.addButtonDisplayValue:o.Add))},t.prototype._onAdd=function(n){if(this._isRowAdded=!0,this.setState({setFocusOnRow:!0,setKey:c.generateUID()}),this.props.onAdd)this.props.onAdd(n)},t.prototype._onRowSelected=function(n){this._selectedRowIndex=n},t.prototype._setInitialFocus=function(){if(this.state.setFocusOnRow===!1)return-1;var n=-1;return this.props.rows&&this.props.rows.length>0&&(n=this._isRowAdded?this.props.rows.length-1:0),n},t.prototype._setFocusOnAddButton=function(){this._addButton&&this._addButton.focus()},__decorate([h.autobind],t.prototype,"_onRowWillUnmount",null),__decorate([h.autobind],t.prototype,"_onAdd",null),__decorate([h.autobind],t.prototype,"_onRowSelected",null),t}(u.Component);t.FlatViewTableWithAddButton=l});

define("DistributedTaskControls/SharedControls/Accordion/Accordion",["require","exports","react","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/SharedControls/InputControls/Utilities","DistributedTaskControls/Common/Utilities","VSSUI/Tooltip","VSS/Utils/String","VSS/Utils/UI","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/Accordion/Accordion"],function(n,t,i,r,u,f,e,o,s,h,c){var l,a;Object.defineProperty(t,"__esModule",{value:!0});t.Accordion=void 0;l=function(n){function t(t){var r=__construct(this,n,[t]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._toggle=function(){var n=!r.state.expanded;if(r.setState({expanded:n}),r.props.onHeaderClick)r.props.onHeaderClick(n)},r.showContent=function(n){r.setState({expanded:n})},r._handleKeyPress=function(n){(n.keyCode===h.KeyCode.SPACE||n.keyCode===h.KeyCode.ENTER)&&(r._toggle(),n.preventDefault(),n.stopPropagation())},r._getDefaultSectionHeaderLabel=function(n){return i.createElement("div",{className:"accordion-section-label"},r._getBowtieHeader(n),i.createElement(o.TooltipHost,{content:n.label,overflowMode:o.TooltipOverflowMode.Parent},n.label))},r._titleId=f.InputControlUtils.getId("Accordion"),r._contentId=f.InputControlUtils.getId("AccordionContent"),r.state={expanded:t.initiallyExpanded||!1},r}return __extends(t,n),t.prototype.componentDidUpdate=function(n,t){this.state&&this.state.expanded&&(!t||t.expanded!==this.state.expanded&&this._contentContainer)&&e.DtcUtils.scrollElementToView(this._contentContainer)},t.prototype.render=function(){var t=this,u=s.format("chevron bowtie-icon bowtie-chevron-{0}-light",this.state.expanded?"up":"down"),f=this._getHeaderContent(),o=this._getHeaderContentEnd(),n="accrodion-description"+e.DtcUtils.getUniqueInstanceId();return i.createElement("div",{className:c.css("dtc-accordion",this.props.cssClass),ref:function(n){t._contentContainer=n}},i.createElement("div",{className:"title-container",role:"heading","aria-level":this.props.headingLevel,"aria-describedby":n},i.createElement("div",{className:"hidden",id:n},this.state.expanded?this.props.description:this.props.descriptionOnCollapse),i.createElement("div",{tabIndex:0,className:"accordion-section-header",role:"button",onClick:this._toggle,onKeyDown:this._handleKeyPress,id:this._titleId,"aria-label":this.props.label,"aria-controls":this._contentId,"aria-expanded":this.state.expanded,"data-first-focus-element":!0},f,i.createElement("div",{className:u,role:"region","aria-labelledby":this.state.expanded?r.ExpandText:r.CollapseText}),this.props.addSectionHeaderLine&&i.createElement("div",{className:"accordion-section-line"},i.createElement("hr",null))),o,this.state.expanded&&this.props.description?i.createElement("div",{className:"description-container"},this.props.description):null,!this.state.expanded&&this.props.descriptionOnCollapse?i.createElement("div",{className:"description-container"},this.props.descriptionOnCollapse):null,!this.state.expanded&&!this.props.descriptionOnCollapse&&this.props.description?i.createElement("div",{className:"description-container"},this.props.description):null),i.createElement("div",{id:this._contentId},this.state.expanded&&i.createElement("div",{className:"content-container","aria-labelledby":this._titleId},this.props.children)),this.props.addSeparator&&i.createElement(a,null))},t.prototype.isExpanded=function(){return this.state?!!this.state.expanded:!!this.props.initiallyExpanded},t.prototype._getHeaderContent=function(){return this.props.onRenderHeader?this.props.onRenderHeader(this.props,this._getDefaultSectionHeaderLabel):this._getDefaultSectionHeaderLabel(this.props)},t.prototype._getHeaderContentEnd=function(){if(this.props.onRenderHeaderEnd){var n=this.props.onRenderHeaderEnd(this.props);return i.createElement("div",{className:"accordion-section-header-end"},n)}return i.createElement("div",null)},t.prototype._getBowtieHeader=function(n){var t=n.bowtieIconName?s.format("accordion-section-icon bowtie-icon {0}",n.bowtieIconName):s.empty;return n.bowtieIconName&&i.createElement("i",{className:t})},t}(u.Component);t.Accordion=l;a=function(){return i.createElement("div",{className:"empty-separator"})}});

define("DistributedTaskControls/Components/Task/TaskDetailsEnvironmentVariables",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Components/Task/TaskActionsCreator","DistributedTaskControls/Components/Task/TaskStore","DistributedTaskControls/Common/Common","DistributedTaskControls/Components/FlatViewButton","DistributedTaskControls/Components/FlatViewIcon","DistributedTaskControls/Components/FlatViewTableWithAddButton","DistributedTaskControls/Common/FlatViewTableTypes","DistributedTaskControls/ProcessManagement/ProcessManagementStore","DistributedTaskControls/Variables/ProcessVariablesV2/ValidationHelper","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/Accordion/Accordion","OfficeFabric/Utilities","OfficeFabric/components/DetailsList/DetailsList.types","VSSUI/Tooltip","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/Task/TaskDetailsEnvironmentVariables"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var it,tt;Object.defineProperty(t,"__esModule",{value:!0});t.EnvironmentVariableUtils=t.TaskDetailsEnvironmentVariables=void 0;it=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._getEnvironmentVariableRows=function(){return tt.getRowData(i.state.environmentVariables,i._store,i._actionCreator,!i._processManagementStore.canEditTaskInputs())},i._onCellValueChanged=function(n,t){switch(t.columnKey){case h.EnvironmentVariableConstants.nameColumnKey:i._actionCreator.updateTaskEnvironmentVariableName(t.rowIndex,n);break;case h.EnvironmentVariableConstants.valueColumnKey:i._actionCreator.updateTaskEnvironmentVariableValue(t.rowIndex,n)}},i._onChange=function(){i.setState({environmentVariables:i._store.getEnvironmentVariableState()})},i._actionCreator=u.ActionCreatorManager.GetActionCreator(o.TaskActionCreator,i.props.controllerInstanceId),i._store=e.StoreManager.GetStore(s.TaskStore,i.props.controllerInstanceId),i._processManagementStore=e.StoreManager.GetStore(y.ProcessManagementStore,i._store.getTaskContext().processInstanceId),i.state={environmentVariables:i._store.getEnvironmentVariableState()},i}return __extends(t,n),t.prototype.componentDidMount=function(){this._store.addChangedListener(this._onChange);this._processManagementStore.addChangedListener(this._onChange)},t.prototype.componentWillUnmount=function(){this._store.removeChangedListener(this._onChange);this._processManagementStore.removeChangedListener(this._onChange)},t.prototype.render=function(){var t="flatview-header",n=[];return n.push({key:h.EnvironmentVariableConstants.iconColumnKey,name:w.EnvironmentVariableErrorMessageColumnHeader,isIconOnly:!0,columnActionsMode:d.ColumnActionsMode.disabled,isFixedColumn:!0,minWidth:20,maxWidth:20}),n.push({key:h.EnvironmentVariableConstants.nameColumnKey,name:w.NameLabel,isFixedColumn:!0,headerClassName:t,columnActionsMode:d.ColumnActionsMode.disabled}),n.push({key:h.EnvironmentVariableConstants.deleteColumnKey,name:w.DeleteEnvironmentVariableColumnHeader,isIconOnly:!0,columnActionsMode:d.ColumnActionsMode.disabled,isFixedColumn:!0,minWidth:32,maxWidth:32}),n.push({key:h.EnvironmentVariableConstants.valueColumnKey,name:w.ValueLabel,isFixedColumn:!0,headerClassName:t,columnActionsMode:d.ColumnActionsMode.disabled}),i.createElement("div",{className:"fabric-style-overrides task-details-environment-variables"},i.createElement(b.Accordion,{label:w.EnvironmentVariablesHeader,initiallyExpanded:!this.props.isSectionAutoCollapsed,headingLevel:2,addSeparator:!1,addSectionHeaderLine:!0},i.createElement(a.FlatViewTableWithAddButton,{containerClass:"task-details-environment-variables",flatViewContainerClass:"environment-variables-list",isHeaderVisible:!0,headers:n,rows:this._getEnvironmentVariableRows(),onCellValueChanged:this._onCellValueChanged,onAdd:this._onAddEnvironmentVariableClick,addButtonClass:"fabric-style-overrides add-new-item-button add-new-environment-variable-button",addButtonDescription:w.AddEnvironmentVariableDescription,ariaLabel:w.ARIALabelEnvironmentVariablesTable,setFocusOnRender:!1,focusSelectorOnAddRow:".dtc-environment-variable-name-cell .flat-view-text-input-read-only",disabled:!this._processManagementStore.canEditTaskInputs()})))},t.prototype._onAddEnvironmentVariableClick=function(n){this._actionCreator.addTaskEnvironmentVariable();f.DtcUtils.scrollElementToView(n.currentTarget)},__decorate([k.autobind],t.prototype,"_onAddEnvironmentVariableClick",null),t}(r.Component);t.TaskDetailsEnvironmentVariables=it;tt=function(){function n(){}return n.getRowData=function(n,t,i,r){var u=this,f=[];return(n||[]).forEach(function(n,e){var o={cells:{}};o.rowAriaLabel=u._getRowAriaLabel(n);o.cells[h.EnvironmentVariableConstants.iconColumnKey]=u._getIconCellContent(n,t);o.cells[h.EnvironmentVariableConstants.nameColumnKey]=u._getNameCellContent(n,t);o.cells[h.EnvironmentVariableConstants.deleteColumnKey]=u._getDeleteCellContent(n,i,e,r);o.cells[h.EnvironmentVariableConstants.valueColumnKey]=u._getValueCellContent(n,t);f.push(o)}),f},n._getIconCellContent=function(n,t){var r=this._getMessageIconProps(n,t),u=null;if(r){var f=r.message,e=r.iconName,o=r.className;u=i.createElement(g.TooltipHost,{content:f,directionalHint:5},i.createElement(l.FlatViewIcon,{ariaLiveRegionMessage:f,rowSelected:!0,iconName:e,className:o}))}return{content:u,contentType:v.ContentType.JsxElement}},n._getMessageIconProps=function(n,t){var i=this._getFieldValidationState(n,t);return i.state===p.ValidState.Invalid?{iconName:"Error",className:"environment-variable-validation-error",message:i.message}:null},n._getFieldValidationState=function(n,t){var i=t.getEnvironmentVariableNameInvalidErrorMessage(n.name),r=t.getEnvironmentVariableValueInvalidErrorMessage(n.value);return!!i||!!r?{state:p.ValidState.Invalid,message:!i?r:i}:{state:p.ValidState.Valid,message:nt.empty}},n._getNameCellContent=function(n,t){return{cssClass:"dtc-environment-variable-name-cell",content:n.name,isTextDisabled:!1,contentType:v.ContentType.SimpleText,contentHasErrors:!!t.getEnvironmentVariableNameInvalidErrorMessage(n.name)}},n._getDeleteCellContent=function(n,t,r,u){return{content:i.createElement(c.FlatViewButton,{tooltip:this._getDeleteIconAriaLabel(n),rowSelected:!1,iconProps:{iconName:"Delete"},onClick:function(){t.deleteTaskEnvironmentVariable(r,n.name)},disabled:u}),contentType:v.ContentType.JsxElement}},n._getDeleteIconAriaLabel=function(n){var t=!n.name?nt.empty:n.name.trim();return t?nt.format(w.DeleteEnvironmentVariableTooltip,t):w.DeleteEmptyEnvironmentVariableTooltip},n._getValueCellContent=function(n,t){return{cssClass:"dtc-environment-variable-value-cell",content:n.value,isTextDisabled:!1,contentHasErrors:!!t.getEnvironmentVariableValueInvalidErrorMessage(n.value),contentType:v.ContentType.SimpleText}},n._getRowAriaLabel=function(n){return!!n.name&&n.name.trim()!==nt.empty?nt.format(w.EnvironmentVariableRowAriaLabel,n.name):w.EmptyEnvironmentVariableRowAriaLabel},n}();t.EnvironmentVariableUtils=tt});

define("DistributedTaskControls/Components/Task/TaskDetailsOutputGroup",["require","exports","react","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/InfoButton","DistributedTaskControls/Components/MarkdownRenderer","DistributedTaskControls/Components/Task/TaskActionsCreator","DistributedTaskControls/Components/Task/TaskStore","DistributedTaskControls/ProcessManagement/ProcessManagementStore","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/Accordion/Accordion","DistributedTaskControls/SharedControls/InputControls/Components/StringInputComponent","OfficeFabric/GroupedList","OfficeFabric/Label","OfficeFabric/utilities/selection/interfaces","VSS/FeatureAvailability/Services","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/Task/TaskDetailsOutputGroup"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g){Object.defineProperty(t,"__esModule",{value:!0});t.TaskDetailsOutputGroup=void 0;var nt=function(){function n(){}return n.RefName="REF_NAME",n.OutputVariables="OUTPUT_VARIABLES",n}(),tt=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t._onToggleCollapse=function(n){t.setState({isCollapsed:!n.isCollapsed})},t._getOutputItems=function(n){var t={task:n};return[{type:nt.RefName},{type:nt.OutputVariables,data:t}]},t._getOutputComponent=function(n,r){var e,c,l,u,f,o;return r.type===nt.RefName?(c={calloutDescription:v.ChangeRefName},l={calloutContentProps:c},e=i.createElement("div",{className:"task-ref-name task-input-flex"},i.createElement("div",{className:"input-grow"},i.createElement(p.StringInputComponent,{label:v.ReferenceNameText,value:t.state.refName||g.empty,onValueChanged:t._onRefNameChanged,required:!1,disabled:!t._processManagementStore.canEditTaskInputs(),infoProps:l,getErrorMessage:t._getRefNameErrorMessage})))):(u=r.data,u&&u.task&&(f=t._getTaskOutputVariableElementId(),o=void 0,o=u.task.outputVariables&&u.task.outputVariables.length>0?i.createElement("table",{className:"task-output-variable-table",id:f},i.createElement("tbody",null,u.task.outputVariables.map(function(n){var r={calloutMarkdown:n.description};return i.createElement("tr",{className:"output-variable"},i.createElement("td",null,t.state.refName+"."+n.name),i.createElement("td",null,i.createElement(s.Component,{cssClass:"task-type-info",calloutContent:r,iconStyle:"task-type-info-icon",isIconFocusable:!0})))}))):i.createElement(b.Label,{className:"task-output-variables-empty-label",htmlFor:f},i.createElement(h.Component,{markdown:v.EmptyOutputVariablesList})),e=i.createElement("div",null,i.createElement(b.Label,{className:"task-output-variables-label",htmlFor:f},v.VariablesList),o))),e},t._onRefNameChanged=function(n){t._actionCreator.updateTaskRefName(n)},t._getRefNameErrorMessage=function(n){var t=g.empty;return d.FeatureAvailabilityService.isFeatureEnabled(u.FeatureFlag_TaskValidateOutputVariables)&&n&&!o.DtcUtils.isValidRefName(n)&&(t=v.InvalidRefNameInput),t},t._setState=function(){t.setState({refName:t._store.getTaskRefName(),isCollapsed:t.state.isCollapsed})},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._domId=g.generateUID();this._store=e.StoreManager.GetStore(l.TaskStore,this.props.controllerInstanceId);this._actionCreator=r.ActionCreatorManager.GetActionCreator(c.TaskActionCreator,this.props.controllerInstanceId);this._processManagementStore=e.StoreManager.GetStore(a.ProcessManagementStore,this._store.getTaskContext().processInstanceId);this._setState()},t.prototype.componentDidMount=function(){this._store.addChangedListener(this._setState);this._processManagementStore.addChangedListener(this._setState)},t.prototype.componentWillUnmount=function(){this._store.removeChangedListener(this._setState);this._processManagementStore.removeChangedListener(this._setState)},t.prototype.componentWillReceiveProps=function(n){this.setState({refName:n.refName,isCollapsed:!1})},t.prototype.render=function(){var n={key:"outputGroup",name:v.OutputGroup,startIndex:0,count:2,isCollapsed:!!this.state.isCollapsed,level:0},t={headerProps:{onToggleCollapse:this._onToggleCollapse,isCollapsedGroupSelectVisible:!1},onRenderHeader:function(){return null}};return i.createElement("div",{className:"fabric-style-overrides task-details-output-group"},i.createElement(y.Accordion,{label:v.OutputGroup,initiallyExpanded:!this.props.isSectionAutoCollapsed,headingLevel:2,addSeparator:!1,addSectionHeaderLine:!0},i.createElement(w.GroupedList,{className:"task-input-group",groups:[n],groupProps:t,items:this._getOutputItems(this.props.taskDefinition),onRenderCell:this._getOutputComponent,selectionMode:k.SelectionMode.single})))},t.prototype._getTaskRefNameElementId=function(){return"task-ref-name-"+this._domId},t.prototype._getTaskOutputVariableElementId=function(){return"task-output-variable-"+this._domId},t}(f.Component);t.TaskDetailsOutputGroup=tt});

define("DistributedTaskControls/Components/ComboLoadingComponent",["require","exports","react","react-dom","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Components/LoadingComponent","OfficeFabric/Spinner","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/ComboLoadingComponent"],function(n,t,i,r,u,f,e,o){var s,h,c;Object.defineProperty(t,"__esModule",{value:!0});t.ComboLoadingHelper=t.ComboNoResultsComponent=t.ComboLoadingComponent=void 0;s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",{className:"combo-loading-component"},i.createElement(e.LoadingComponent,{className:"combo-loading-content",size:o.SpinnerSize.xSmall,wait:t._waitTime,label:f.Loading}))},t._waitTime=500,t}(u.Component);t.ComboLoadingComponent=s;h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",{className:"combo-no-results-component"},i.createElement("div",{className:"combo-no-results-content"},f.NoResultsFoundText))},t}(u.Component);t.ComboNoResultsComponent=h;c=function(){function n(){var n=this;this._hideLoadingComponent=function(){n.removeLoadingComponent(!0,n._loadingContainer.parentElement,!0)};this._loadingComponentDismissed=!1}return n.prototype.removeLoadingComponent=function(n,t,i){this._loadingContainer&&(this._detachGlobalEvent(),this._loadingComponentDismissed=!!i,r.unmountComponentAtNode(this._loadingContainer),!n&&t?(t.removeChild(this._loadingContainer),this._loadingContainer=null):(this._loadingContainer.remove(),this._loadingContainer=null))},n.prototype.createLoadingComponent=function(n){!this._loadingContainer&&n&&(this._loadingContainer=document.createElement("div"),this._loadingContainer.className="combo-loading-container",n.appendChild(this._loadingContainer),this._loadingElement=r.render(i.createElement(s),this._loadingContainer),this._attachGlobalEvent())},n.prototype.showNoResultsSection=function(n){!this._noResultsContainer&&n&&(this._noResultsContainer=document.createElement("div"),this._noResultsContainer.className="combo-no-results-container",n.appendChild(this._noResultsContainer),this._noResultsElement=r.render(i.createElement(h),this._noResultsContainer))},n.prototype.removeNoResultsComponent=function(n,t){this._noResultsContainer&&(r.unmountComponentAtNode(this._noResultsContainer),!n&&t?(t.removeChild(this._noResultsContainer),this._noResultsContainer=null):(this._noResultsContainer.remove(),this._noResultsContainer=null))},n.prototype.isLoadingComponentDismissed=function(){return this._loadingComponentDismissed},n.prototype.setLoadingComponentDismissed=function(n){this._loadingComponentDismissed=n},n.prototype._attachGlobalEvent=function(){$(this._loadingContainer).parents().on("click",this._hideLoadingComponent)},n.prototype._detachGlobalEvent=function(){var n=$(this._loadingContainer).parents();n&&n.off("click",this._hideLoadingComponent)},n}();t.ComboLoadingHelper=c});

define("DistributedTaskControls/Components/FetchingCombo",["require","exports","DistributedTaskControls/Components/ComboLoadingComponent","OfficeFabric/Utilities","VSS/Controls/Combos"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.FetchingCombo=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t._loadingHelper=new i.ComboLoadingHelper,t._isLoadingVisible=!1,t}return __extends(t,n),t.prototype.toggleDropDown=function(){var t=this,i,r;this._loadingHelper.setLoadingComponentDismissed(!1);i=this.getBehavior()&&this.getBehavior().getDataSource()?this.getBehavior().getDataSource().getSource():[];this.isDropVisible()||i&&i.length!==0||this._isLoadingVisible?this._removeCustomComponents():this._createLoadingComponent();r=this._options.refreshData();r?r.then(function(){t.removeLoadingComponent();t.isDisposed()||t._loadingHelper.isLoadingComponentDismissed()||(n.prototype.toggleDropDown.call(t),t.isDropVisible()&&t._options.hasNoResultsSection&&t._showNoResultsSectionIfRequired())},function(){t._removeCustomComponents()}):this.isDisposed()||(this.removeLoadingComponent(),this._loadingHelper.isLoadingComponentDismissed()||n.prototype.toggleDropDown.call(this))},t.prototype.hideDropPopup=function(){this._removeCustomComponents();n.prototype.hideDropPopup.call(this)},t.prototype.dispose=function(){this._removeCustomComponents();n.prototype.dispose.call(this)},t.prototype._onInputKeyDown=function(t){if((t.keyCode===r.getRTLSafeKeyCode(40)||t.keyCode===r.getRTLSafeKeyCode(38))&&t.preventDefault(),t.keyCode===r.getRTLSafeKeyCode(27)&&this.isDropVisible()&&t.stopPropagation(),t.keyCode===r.getRTLSafeKeyCode(40)&&t.altKey){this.toggleDropDown();return}n.prototype._onInputKeyDown.call(this,t)},t.prototype.removeLoadingComponent=function(){this._isLoadingVisible=!1;var n=this.isDisposed()?null:this.getElement()[0].parentElement;this._loadingHelper.removeLoadingComponent(this.isDisposed(),n)},t.prototype._createLoadingComponent=function(){this._isLoadingVisible=!0;var n=this.isDisposed()?null:this.getElement()[0].parentElement;this._loadingHelper.createLoadingComponent(n)},t.prototype._showNoResultsSectionIfRequired=function(){var n=this.getBehavior()&&this.getBehavior().getDataSource()?this.getBehavior().getDataSource().getSource():[],t;n&&n.length!==0||(t=this.isDisposed()?null:this.getElement()[0].parentElement,this._loadingHelper.showNoResultsSection(t))},t.prototype._removeNoResultsSection=function(){var n=this.isDisposed()?null:this.getElement()[0].parentElement;this._loadingHelper.removeNoResultsComponent(this.isDisposed(),n)},t.prototype._removeCustomComponents=function(){this.removeLoadingComponent();this._options.hasNoResultsSection&&this._removeNoResultsSection()},t}(u.ComboO);t.FetchingCombo=f});

define("DistributedTaskControls/Components/PickList",["require","exports","q","DistributedTaskControls/Common/Common","DistributedTaskControls/Components/FetchingCombo","DistributedTaskControls/SharedControls/InputControls/Components/PickListInputUtility","VSS/Controls","VSS/Controls/Combos","VSS/Controls/TreeView","VSS/Flux/PlatformComponent","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.PickList=void 0;var l=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._data=[],t._type=o.ComboTypeOptionsConstants.ListType,t._editable=!1,t}return __extends(t,n),t.prototype.componentWillMount=function(){var n=this.props.properties;this._multiSelectType=f.PickListInputUtility.getMultiSelectType(n);n&&(n[r.INPUT_TYPE_PROPERTY_MULTI_SELECT]&&n[r.INPUT_TYPE_PROPERTY_MULTI_SELECT].toLowerCase()===r.BOOLEAN_TRUE?this._type=s.ComboTreeMultivalueBehaviorName:n[r.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST]&&n[r.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST].toLowerCase()===r.BOOLEAN_TRUE&&(this._type=o.ComboTypeOptionsConstants.MultiValueType),n[r.INPUT_TYPE_PROPERTY_EDITABLE_OPTIONS]&&n[r.INPUT_TYPE_PROPERTY_EDITABLE_OPTIONS].toLowerCase()===r.BOOLEAN_TRUE&&(this._editable=!0))},t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._updateAriaAttributes();this.props.options&&this.updateSource(this.props.options,this.props.selectedValues,this.props.enabled)},t.prototype.createControl=function(n){var t=this,i;if(!this._control)return i=e.BaseControl.createIn(u.FetchingCombo,n,{change:function(){var u,e,n,o,l,s,i,h;switch(t._multiSelectType){case r.PICKLIST_MULTI_SELECT_TREE_TYPE:if(u=t._control.getText().split(r.SemiColonWithSpace)||[],e=f.PickListInputUtility.findIds(u,t._data),t._setValue((e||[]).join(r.CommaSeparator)),u.length===e.length)t.props.onChanged(t._getValue());else t.props.onChanged("");break;case r.PICKLIST_MULTI_SELECT_FLAT_LIST_TYPE:if(n=[],o=t._control.getText().split(r.CommaSeparatorWithSpace)||[],o.forEach(function(i){var u;for(var f in t._options)if(t._options.hasOwnProperty(f)&&t._options[f]===i.trim()){u=f;n.push(u);break}t._editable&&(u===null||u===undefined)&&i.trim()!==c.empty&&i[i.length-1]!==r.CommaSeparator&&n.push(i)}),t._editable&&o.length!==n.length){l=t._control.getText();t._setValue(l);t.props.onChanged("")}else{t._setValue(n.join(r.CommaSeparator));t.props.onChanged(t._getValue())}break;default:s=t._control.getText();i=void 0;for(h in t._options)t._options[h]===s&&(i=h);i!==null&&i!==undefined?t._setValue(i):t._setValue(s);t.props.onChanged(t._getValue())}},type:this._type,refreshData:function(){return t._refreshDataSource()},hasNoResultsSection:!0,enabled:this.props.enabled,allowEdit:this._editable,ariaAttributes:{label:this.props.ariaLabel,labelledby:this.props.ariaLabelledBy,describedby:this.props.ariaDescribedBy,required:this.props.ariaRequired},maxAutoExpandDropWidth:300}),this._setValue(this.props.selectedValues||c.empty),i},t.prototype.updateSource=function(n,t,i){var v=this,a,e,s,o,l,u,h;if(!this._control.isDisposed()){this._data=[];this._options=n;this._setValue(t);this._control.setEnabled(i);switch(this._multiSelectType){case r.PICKLIST_MULTI_SELECT_TREE_TYPE:for(u in n)n.hasOwnProperty(u)&&this._data.push(f.PickListInputUtility.tryParseJSON(n[u]).jsonObject);this._control.setSource(this._data);a=this._value||this._value===c.empty?this._getValue().split(r.CommaSeparator):this.props.selectedValues.split(r.CommaSeparator)||[];this._editable&&this._control&&this._control.getText()!==c.empty||this._control.setText(f.PickListInputUtility.findItems(a,this._data).join(r.SemiColonWithSpace));break;case r.PICKLIST_MULTI_SELECT_FLAT_LIST_TYPE:e=[];for(u in n)n.hasOwnProperty(u)&&e.push(n[u]);e=e.sort(c.ignoreCaseComparer);this._control.setSource(e);s=this._value||this._value===c.empty?this._getValue().split(r.CommaSeparator):this.props.selectedValues.split(r.CommaSeparator)||[];o=[];s&&s.forEach(function(t){n.hasOwnProperty(t)?o.push(n[t]):t!==c.empty&&v._editable&&o.push(t)});this._editable&&s.length!==o.length||this._control.setText(o.join(r.CommaSeparatorWithSpace));break;default:l=[];for(u in n)n.hasOwnProperty(u)&&l.push(n[u]);this._control.setSource(l);h=this._value||this._value===c.empty?this._getValue():this.props.selectedValues||c.empty;n[h]?this._control.setText(n[h]):this._control.setText(h)}}},t.prototype._updateAriaAttributes=function(){this._control&&this._control.getInput().attr({"aria-describedby":this.props.ariaDescribedBy})},t.prototype._getValue=function(){var n=this._value;return n?n:c.empty},t.prototype._refreshDataSource=function(){var n=i.defer(),t;return this.props.refreshCallback?(t=this.props.refreshCallback(),t?t.then(function(){n.resolve(!0)},function(t){n.reject(t)}):n.resolve(!0)):n.resolve(!1),n.promise},t.prototype._setValue=function(n){this._value=n},t}(h.Component);t.PickList=l});

define("DistributedTaskControls/SharedControls/InputControls/Components/PickListDropdown",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/SharedControls/InputControls/Components/PickListInputUtility","DistributedTaskControls/SharedControls/ErrorComponent/ErrorComponent","OfficeFabric/Utilities","OfficeFabric/Selection","VSSUI/Components/PickList/PickListDropdown"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});t.PickListDropdown=void 0;var c=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onChanged=function(n){var i=n.selectedItems,r=t._getSelectedItemsKeysFromValues(i);if(t.props.onChanged)t.props.onChanged(r.join(u.CommaSeparator))},t._getSelectedValues=function(){var n=t.props.selectedValues&&t.props.selectedValues.split(u.CommaSeparator)||[],i=t._getSelectedItemValuesFromKeys(n);return n.length!==i.length&&(i=n),i},t._getPickListDisplayOptions=function(){var n=t.props.options,i,r;if(t.props.getPickListItems)return t.props.getPickListItems(n);i=[];for(r in n)n.hasOwnProperty(r)&&i.push(n[r]);return i},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._multiSelectType=f.PickListInputUtility.getMultiSelectType(this.props.properties)},t.prototype.render=function(){return this._getPickListComponent()},t.prototype._getPickListComponent=function(){var n;switch(this._multiSelectType){case u.PICKLIST_MULTI_SELECT_TREE_TYPE:n=this._getTreeViewPickList();break;case u.PICKLIST_MULTI_SELECT_FLAT_LIST_TYPE:n=this._getPickListDropDown(s.SelectionMode.multiple);break;default:n=this._getPickListDropDown(s.SelectionMode.single)}return n},t.prototype._getTreeViewPickList=function(){return i.createElement(e.ErrorComponent,{cssClass:"tree-dropdown-not-implement",errorMessage:"Tree dropdown is not implemented yet."})},t.prototype._getPickListDropDown=function(n){return i.createElement(h.PickListDropdown,{className:o.css("dtc-picklist-dropdown",this.props.cssClass),selectionMode:n,getPickListItems:this._getPickListDisplayOptions,selectedItems:this._getSelectedValues(),onSelectionChanged:this._onChanged,ariaLabelFormat:this.props.ariaLabel,ariaDescribedBy:this.props.ariaDescribedBy,showSelectAll:this.props.showSelectAll})},t.prototype._getSelectedItemValuesFromKeys=function(n){var t=[],i=this.props.options;return n&&i&&n.forEach(function(n){var r=i[n];r!==null&&r!==undefined&&t.push(r)}),t},t.prototype._getSelectedItemsKeysFromValues=function(n){var i=[],t=this.props.options;return n&&t&&n.forEach(function(n){var r,u;for(r in t)u=t[r],u===n&&i.push(r)}),i},t}(r.Component);t.PickListDropdown=c});

define("DistributedTaskControls/SharedControls/InputControls/Components/RequiredIndicator",["require","exports","react","DistributedTaskControls/Common/Components/Base","OfficeFabric/Icon","OfficeFabric/components/TextField/TextField.scss","OfficeFabric/Utilities","VSS/Utils/String","DistributedTaskControls/Components/MarkdownRenderer"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.Component=void 0;var h=function(n){function t(i){var r=__construct(this,n,[i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._setErrorMessage=function(n){var t,i;n===void 0&&(n=!1);r.props.onGetErrorMessage&&(t=r.props.onGetErrorMessage()||o.empty,(t||t===o.empty)&&(typeof t=="string"?r._setErrorMessageState(t,!n):(i=++r._lastValidation,t.then(function(t){i===r._lastValidation&&r._setErrorMessageState(t,!n)}))))},r._lastValidation=0,r.state={errorMessage:""},r._delayedSetErrorMessage=(new e.Async).debounce(r._setErrorMessage,t.__validationDelayMs),r}return __extends(t,n),t.prototype.render=function(){var n="required-indicator",t=this.state.errorMessage,r=null,o=i.createElement(s.Component,{ariaLabel:this.props.ariaLabel,markdown:t});return t&&(n+=" required-value-missing",r=i.createElement("p",{className:e.css("ms-TextField-errorMessage ms-u-slideDownIn20 ms-slideDownIn20 required-indicator-error-message",this.props.cssClass,f.errorMessage)},i.createElement(u.Icon,{iconName:"Error",className:"required-indicator-error-icon"}),o)),i.createElement("div",{className:"fabric-style-overrides"},i.createElement("div",{className:n},this.props.children,i.createElement("div",{"aria-live":"assertive"},r)))},t.prototype.componentDidMount=function(){this._isMounted=!0;this._setErrorMessage(!0)},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.componentWillReceiveProps=function(){this._delayedSetErrorMessage()},t.prototype._setErrorMessageState=function(n,t){var i=this.state.errorMessage;if(this._isMounted&&!o.equals(n,i,!0)&&(this.setState({errorMessage:n}),t&&this.props.onNotifyValidationResult))this.props.onNotifyValidationResult(n,this.props.value)},t.__validationDelayMs=500,t}(r.Component);t.Component=h});

define("DistributedTaskControls/SharedControls/InputControls/Components/PickListInputComponent",["require","exports","react","q","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/Components/PickList","DistributedTaskControls/SharedControls/InputControls/Components/PickListDropdown","DistributedTaskControls/SharedControls/InputControls/Components/RequiredIndicator","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Common/Common","VSS/Utils/Core","VSS/Utils/String","VSS/Diag","OfficeFabric/Button","OfficeFabric/Utilities","VSSUI/Tooltip","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/FabricStyleOverrides","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/ComboBox","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/PickListInputComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){var d,k;Object.defineProperty(t,"__esModule",{value:!0});t.PickListInputBaseComponent=t.PickListInputComponent=void 0;d=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._getErrorMessage=function(){return t.getErrorMessage(t.getInputValue())},t}return __extends(t,n),t.prototype.getType=function(){return e.InputControlType.INPUT_TYPE_PICK_LIST},t.prototype.getControl=function(){return y.logVerbose("[PickListInputComponent.getControl]: Method called."),i.createElement(k,{properties:this.props.properties,value:this.state.value,label:this.props.label,onChanged:this.onValueChanged,getErrorMessage:this._getErrorMessage,options:this.props.options,disabled:this.props.disabled,enableRefresh:this.props.enableRefresh,onRefresh:this.props.onRefresh,enableManage:this.props.enableManage,onManageClick:this.props.onManageClick,onOptionsChanged:this.props.onOptionsChanged,ariaLabelledBy:this.props.ariaLabelledBy||this.getInputFieldLabelElementId(),ariaDescribedBy:this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId(),ariaLabel:this.props.ariaLabel,useNewPickListDropdown:this.props.useNewPickListDropdown,pickListInputClassName:this.props.pickListInputClassName,required:this.props.required,onNotifyValidationResult:this.props.onNotifyValidationResult,showSelectAll:this.props.showSelectAll,getPickListItems:this.props.getPickListItems})},t}(f.InputBase);t.PickListInputComponent=d;k=function(n){function t(t){var i=__construct(this,n,[t]);for(var u in i)i.hasOwnProperty(u)&&(this[u]=i[u]);return i._onRefreshClick=function(){i._optionsRefreshed=!1;i.props.onRefresh(!0).then(function(n){if(i._optionsRefreshed=!0,i.setState({showLoadingIcon:!1}),i.props.onOptionsChanged)i.props.onOptionsChanged(n)},function(){i._optionsRefreshed=!0;i.setState({showLoadingIcon:!1})});a.delay(i,500,function(){i._optionsRefreshed||i.setState({showLoadingIcon:!0})})},i._onManageClick=function(){i.props.onManageClick&&i.props.onManageClick()},i._onChanged=function(n){if(i.props.onChanged)i.props.onChanged(n)},i._getErrorMessage=function(){if(i.props.getErrorMessage)return i.props.getErrorMessage()},i._refreshCallback=function(){return i._refreshIfRequired(!0)},i._refreshIfRequired=function(n){var t=r.defer();return i.props.onRefresh&&i.state.optionsMap&&Object.keys(i.state.optionsMap).length===0?i.props.onRefresh(n).then(function(n){if(n&&Object.keys(n).length>0&&i.props.onOptionsChanged)i.props.onOptionsChanged(n);t.resolve(!0)},function(n){t.reject(n)}):t.resolve(!0),t.promise},i._optionsRefreshed=!1,i.state={value:t.value||v.empty,optionsMap:t.options||{}},i}return __extends(t,n),t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._refreshIfRequired(!1)},t.prototype.componentWillReceiveProps=function(n){this.setState({value:n.value||v.empty,optionsMap:n.options||{}})},t.prototype.render=function(){var t=this,r=this.state.showLoadingIcon?"bowtie-icon bowtie-spinner":"picklist-refresh-icon",u=w.css({Refresh:!this.state.showLoadingIcon}),n=this._useNewPickListDropdown(),f=w.css("picklist-container",{"legacy-picklist":!n});return i.createElement("div",{className:f},i.createElement("div",{className:"picklist-dropdown"},i.createElement(h.Component,{value:this.state.value,onGetErrorMessage:this._getErrorMessage,onNotifyValidationResult:this.props.onNotifyValidationResult},n?this._getNewPickListDropdown():this._getPickList())),i.createElement("div",{className:"input-control-buttons"},this.props.enableRefresh&&!this.props.disabled&&i.createElement(b.TooltipHost,{content:v.localeFormat(c.RefreshInputDescription,this.props.label)},i.createElement(p.IconButton,{disabled:this.props.disabled,onClick:function(n){return t._onRefreshClick(n)},iconProps:{iconName:u,className:r},className:w.css("input-control-icon-button","fabric-style-overrides","icon-button-override","disabled-button-fix"),ariaLabel:c.Refresh,ariaDescription:v.localeFormat(c.RefreshInputDescription,this.props.label),"aria-disabled":this.props.disabled})),this.props.enableManage&&this._getManageButton()))},t.prototype._getManageButton=function(){var t=this,n=this.props.properties,r=n&&n[l.INPUT_TYPE_PROPERTY_MANAGE_BUTTON_NAME],u=n&&n[l.INPUT_TYPE_PROPERTY_MANAGE_ICON]||"Settings";return r?i.createElement(p.CommandButton,{disabled:this.props.disabled,onClick:function(n){return t._onManageClick(n)},iconProps:{iconName:u},className:w.css("input-control-icon-button","fabric-style-overrides","command-button-override"),ariaLabel:c.Manage,ariaDescription:v.localeFormat(c.ManageInputDescription,this.props.label),"aria-disabled":this.props.disabled},r):i.createElement(p.IconButton,{disabled:this.props.disabled,onClick:function(n){return t._onManageClick(n)},iconProps:{iconName:u},className:w.css("input-control-icon-button","fabric-style-overrides","icon-button-override","disabled-button-fix"),ariaLabel:c.Manage,ariaDescription:v.localeFormat(c.ManageInputDescription,this.props.label),"aria-disabled":this.props.disabled})},t.prototype._getPickList=function(){var n=this;return this._pickList?this._pickListControl.updateSource(this.state.optionsMap,this.state.value,!this.props.disabled):this._pickList=i.createElement("div",{className:"input-control-dropdown input-field-picklist"},i.createElement(o.PickList,{key:"pick-list-component",ref:function(t){n._pickListControl=t},selectedValues:this.state.value,refreshCallback:this._refreshCallback,properties:this.props.properties,onChanged:this._onChanged,enabled:!this.props.disabled,options:this.state.optionsMap,ariaLabel:this.props.ariaLabel,ariaLabelledBy:this.props.ariaLabelledBy,ariaDescribedBy:this.props.ariaDescribedBy,ariaRequired:this.props.required})),this._pickList},t.prototype._getNewPickListDropdown=function(){return i.createElement("div",{className:"input-control-dropdown input-field-picklist"},i.createElement(s.PickListDropdown,{selectedValues:this.state.value,properties:this.props.properties,onChanged:this._onChanged,options:this.state.optionsMap,cssClass:this.props.pickListInputClassName,ariaLabel:this.props.ariaLabel,ariaDescribedBy:this.props.ariaDescribedBy,showSelectAll:this.props.showSelectAll,getPickListItems:this.props.getPickListItems}))},t.prototype._useNewPickListDropdown=function(){var n=this.props.properties&&this.props.properties[l.INPUT_TYPE_PROPERTY_MULTI_SELECT];return n&&n.toLowerCase()===l.BOOLEAN_TRUE?!1:!!this.props.useNewPickListDropdown},t}(u.Component);t.PickListInputBaseComponent=k});

define("DistributedTaskControls/SharedControls/InputControls/Components/SearchableComboBoxInputComponent",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/ComboBoxInputComponent","OfficeFabric/Button","OfficeFabric/Utilities","VSS/Diag","VSS/Utils/Array","VSS/Utils/String","DistributedTaskControls/Common/Telemetry","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/SearchableComboBoxInputComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var p,y,w;Object.defineProperty(t,"__esModule",{value:!0});t.SearchableComboBoxInputComponentBase=t.SearchableComboBoxInputComponent=void 0;p=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getType=function(){return e.InputControlType.INPUT_TYPE_SEARCHABLE_COMBO_BOX},t.prototype.getControl=function(){return c.logVerbose("[SearchableComboBoxInputComponent.getControl]: Method called."),i.createElement(y,__assign({ref:this._resolveRef("_searchableComboBox"),ariaDescribedBy:this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId()},this.props))},t.prototype.getBehavior=function(){return this._searchableComboBox.getBehavior()},t.prototype.getDropButton=function(){return this._searchableComboBox.getDropButton()},t}(f.InputBase);t.SearchableComboBoxInputComponent=p;y=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._onValueChanged=function(n){var f=!!n,t,r=a.empty;t=i.state.items.some(function(t){return a.equals(t,n)});t||(r=i.props.getSearchButtonState().isMoreDataAvailable?u.SearchableComboGuidance:u.RequiredInputErrorMessage);i.setState({text:n,searchEnabled:i.props.getSearchButtonState().isMoreDataAvailable&&f,showErrorMessage:!t,errorMessage:!r?i.state.errorMessage:r},function(){if(!i.props.onCustomValueChanged){if(!!i.props.onValueChanged)i.props.onValueChanged(n)}else i.props.onCustomValueChanged(n)})},i._onSearchClick=function(){i._publishTelemetry(i.props.label);var n=i.state.text;i._mounted&&(i.setState({searchInProgress:!0,searchText:n}),i.props.onSearch(n).then(function(n){if(typeof n=="boolean")i._handleSearchCompletion(n);else{var t=!!n&&n.length>0;t?i._appendItems(n):i._handleSearchCompletion(t,n)}},function(){i._handleSearchCompletion(!1)}))},i._onDropShow=function(){i.state.loadInProgress||!i.props.onDropdownOpened||!i._fireDropdownOpened||(i.setState({loadInProgress:!0}),i.props.onDropdownOpened().then(function(n){if(!!n){i.setState({items:n.slice()},function(){return i.getBehavior().showDropPopup()});var t=!!i.props.getSearchButtonState&&i.props.getSearchButtonState().isMoreDataAvailable;i.setState({loadInProgress:!1,searchEnabled:t})}}))},i._fireDropdownOpened=!0,i.state={items:i.props.source.slice(),loadInProgress:!1,searchEnabled:!1,searchInProgress:!1,errorMessage:i.props.errorMessage,searchText:a.empty,text:i.props.value,showErrorMessage:!1},i}return __extends(t,n),t.prototype.componentDidMount=function(){if(this._mounted=!0,!!this.props.onRefresh)this.props.onRefresh(!1)},t.prototype.componentWillUnmount=function(){this._mounted=!1},t.prototype.componentWillReceiveProps=function(n){this._mounted&&this.setState({items:n.source||[],errorMessage:!n.errorMessage?u.SearchableComboGuidance:n.errorMessage,text:!this.props.updateSelectedValue?n.value:this.props.updateSelectedValue()})},t.prototype.render=function(){var n=this.state.searchInProgress?"bowtie-icon bowtie-spinner":"searchable-comboBox-search-icon",t=h.css({Search:!this.state.searchInProgress});return i.createElement("div",null,i.createElement("div",{className:"searchable-comboBox-container"},i.createElement("div",{className:"searchable-comboBox-dropdown"},i.createElement(w,{ref:this._resolveRef("_comboBox"),label:this.props.label,infoProps:this.props.infoProps,key:this.props.key,maxAutoExpandDropWidth:this.props.maxAutoExpandDropWidth,value:this.state.text,allowEdit:this.props.allowEdit,comboBoxType:this.props.comboBoxType,compareInputToItem:this.props.compareInputToItem,enabled:this.props.enabled,required:this.props.required,hideErrorMessage:!this.state.showErrorMessage,source:this.state.items,onValueChanged:this._onValueChanged,errorMessage:this.state.errorMessage,"aria-label":this.props.ariaLabel,isCaseSensitive:this.props.isCaseSensitive,comboBoxDropOptions:this.props.comboBoxDropOptions,onValidation:this.props.onValidation,dropShow:this._onDropShow})),i.createElement("div",{className:"input-control-buttons"},this.props.showSearchButton!==!1&&i.createElement(s.IconButton,{disabled:!this.state.searchEnabled,onClick:this._onSearchClick,iconProps:{iconName:t,className:n},className:h.css("input-control-icon-button","fabric-style-overrides","icon-button-override"),ariaLabel:u.SearchInputText,ariaDescription:a.localeFormat(u.SearchInputDescription,this.props.label),"aria-disabled":!this.props.enabled}))))},t.prototype.getBehavior=function(){return this._comboBox.getBehavior()},t.prototype.getDropButton=function(){return this._comboBox.getDropButton()},t.prototype._handleSearchCompletion=function(n,t){if(this._mounted){var i=a.empty,r=this.state.searchText;n?this.state.searchText?this.props.searchString?this._comboBox.reapplyFilter(this.props.searchString):this.state.searchText&&this._comboBox.reapplyFilter(this.state.searchText):i=!this.props.errorMessage?u.SearchableComboGuidance:this.props.errorMessage:i=a.localeFormat(u.SearchableComboSearchFailed,this.state.searchText);this.setState({searchInProgress:!1,errorMessage:i,text:r});t&&t.length===1&&this.props.compareInputToItem(t[0],this.state.searchText,!1)===0?this._onValueChanged(t[0]):(this._fireDropdownOpened=!1,this.getDropButton().click())}},t.prototype._appendItems=function(n){var t=this,i=this.state.items.slice();n.forEach(function(n){l.first(t.state.items,function(i){return t.props.compareInputToItem(i,n,!1)===0})||i.push(n)});this.setState({items:i},function(){t._handleSearchCompletion(!0,n)})},t.prototype._publishTelemetry=function(n){var t={};t[v.Properties.InputName]=n;v.Telemetry.instance().publishEvent(v.Feature.SearchableDropDown,t)},t}(r.Component);t.SearchableComboBoxInputComponentBase=y;w=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.reapplyFilter=function(n){!n||this._control.getInput().trigger(jQuery.Event("keyup",{keyCode:n.charCodeAt(0)}))},t}(o.ComboBox)});

define("DistributedTaskControls/SharedControls/InputControls/Components/TaskSearchableComboBoxInputComponent",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/SharedControls/InputControls/Components/SearchableComboBoxInputComponent","DistributedTaskControls/SharedControls/InputControls/Common","VSS/Diag","q","DistributedTaskControls/SharedControls/InputControls/Components/PickListInputUtility","VSS/Utils/String","DistributedTaskControls/Common/Utilities"],function(n,t,i,r,u,f,e,o,s,h,c){var l,a;Object.defineProperty(t,"__esModule",{value:!0});t.TaskSearchableComboBoxInputComponent=t.SearchableComboBoxSearchState=void 0;l=function(){function n(){}return n}();t.SearchableComboBoxSearchState=l;a=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._onRefresh=function(n){!i.props.getRefreshOptions||i.state.inputItems&&Object.keys(i.state.inputItems).length!==0||s.PickListInputUtility.searchableComboboxOnRefresh(i.props.inputDefinition,i.props.getRefreshOptions(),i._searchState,n).then(function(n){if(i.setState({inputItems:n}),!!i.props.onOptionsChanged)i.props.onOptionsChanged(n)})},i._getSelectedValueDisplayValue=function(){var t=h.empty,n,r;if(!!i.state&&!!i.state.inputItems){if(n=i.state.inputItems,!!n)for(r in n)n.hasOwnProperty(r)&&r===i.state.inputText&&(t=n[r].toString());t||(t=i.state.inputText)}return t},i._onCustomSearch=function(n){var t=[],r=o.defer();return!i.props.getRefreshOptions||s.PickListInputUtility.onSearch(i.props.inputDefinition,i.props.getRefreshOptions(),n).then(function(n){if(i._appendItems(n),!!n)for(var u in n)t.push(n[u].toString());t.sort(function(n,t){return h.localeIgnoreCaseComparer(n,t)});r.resolve(t)},function(n){r.reject(n)}),r.promise},i._onCustomDropdownOpened=function(){var n=[],t=o.defer(),r;if(!i.props.getRefreshOptions||i.state.inputItems&&Object.keys(i.state.inputItems).length!==0){for(r in i.state.inputItems)n.push(i.state.inputItems[r].toString());t.resolve(n)}else i.setState({inputItems:{}},function(){var r=i.props.getRefreshOptions();s.PickListInputUtility.searchableComboboxOnRefresh(i.props.inputDefinition,r,i._searchState,!0).then(function(r){if(i.setState({inputItems:r}),!!i.props.onOptionsChanged)i.props.onOptionsChanged(r);if(!!r)for(var u in r)n.push(r[u].toString());n.sort(function(n,t){return h.localeIgnoreCaseComparer(n,t)});t.resolve(n)},function(n){t.reject(n)})});return t.promise},i._onCustomValueChanged=function(n){var t=h.empty,r;if(!!i.state.inputItems)for(r in i.state.inputItems)i.state.inputItems[r]===n&&(t=r);if(t||i.setState({inputText:n}),!!t&&!!i.props.onDropdownValueChanged)i.props.onDropdownValueChanged(t)},i._getSearchButtonState=function(){return(c.DtcUtils.getSearchDataSourceName(i.props.inputDefinition)||c.DtcUtils.isTaskInputSearchable(i.props.inputDefinition))&&(i._searchState.isMoreDataAvailable=!0),i._searchState},i._searchState={isMoreDataAvailable:!1},i.state={inputItems:t.options||{},searchText:t.value||h.empty,inputText:t.value||h.empty},i}return __extends(t,n),t.prototype.componentWillReceiveProps=function(n){this._mounted&&this.setState({inputItems:n.options||this.state.inputItems?this.state.inputItems:{},searchText:n.value||h.empty,inputText:n.value||h.empty})},t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._mounted=!0},t.prototype.getType=function(){return f.InputControlType.INPUT_TYPE_PICK_LIST},t.prototype.render=function(){return e.logVerbose("[TaskSearchableComboBoxInputComponent.getControl]: Method called."),i.createElement(u.SearchableComboBoxInputComponent,__assign({source:this.getDisplayValueFromKeyValuePairs(this.state.inputItems)||[],onSearch:this._onCustomSearch,onRefresh:this._onRefresh,onDropdownOpened:this._onCustomDropdownOpened,onCustomValueChanged:this._onCustomValueChanged,getSearchButtonState:this._getSearchButtonState,updateSelectedValue:this._getSelectedValueDisplayValue,value:this.state.inputText},this.props))},t.prototype.getDisplayValueFromKeyValuePairs=function(n){var i=[],t;if(n&&Object.keys(n).length>0)for(t in n)n.hasOwnProperty(t)&&i.push(n[t].toString());return i},t.prototype._appendItems=function(n){var t,i;if(n){t=this.state.inputItems;for(i in n)t.hasOwnProperty(i)||(t[i]=n[i]);this.setState({inputItems:t})}},t.prototype.clone=function(n){var i,t;if(null==n||"object"!=typeof n)return n;if(n instanceof Object){i={};for(t in n)n.hasOwnProperty(t)&&(i[t]=this.clone(n[t]));return i}throw new Error("Unable to copy obj! Its type isn't supported.");},t}(r.Component);t.TaskSearchableComboBoxInputComponent=a});

define("DistributedTaskControls/SharedControls/InputControls/Components/PickListBaseComponent",["require","exports","react","DistributedTaskControls/SharedControls/InputControls/Components/PickListInputComponent","DistributedTaskControls/Components/Task/TaskStoreUtility","DistributedTaskControls/SharedControls/InputControls/Components/TaskSearchableComboBoxInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/ComboBoxInputComponent","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/SharedControls/InputControls/Components/PickListInputUtility","VSS/Utils/String","DistributedTaskControls/Common/JQueryWrapper","VSS/Diag","DistributedTaskControls/Common/Utilities","VSS/Utils/UI"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){Object.defineProperty(t,"__esModule",{value:!0});t.PickListBaseComponent=void 0;var y=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._maxDropdownWidth=588,i}return __extends(t,n),t.prototype.render=function(){var t,n,u,e;if(l.logVerbose("[PickListBaseComponent.getControl]: Method called."),t=a.DtcUtils.isTaskInputSearchable(this.props.args.inputDefinition),n=null,t)u=this._getSearchableDropdownProps(this.props.args),n=i.createElement(f.TaskSearchableComboBoxInputComponent,__assign({key:this.props.args.inputDefinition.name,"aria-label":this.props.args.inputControlProps.label},u));else return e=this._getPickListInputControlProps(this.props.args),i.createElement(r.PickListInputComponent,__assign({key:this.props.args.inputDefinition.name},e));return n},t.prototype._getPickListInputControlProps=function(n){return c.JQueryWrapper.extend(n.inputControlProps,{options:n.inputControlProps.inputOptions,properties:n.inputDefinition.properties,enableRefresh:s.PickListInputUtility.enableRefresh(n.inputDefinition,n.controllerStore.getDataSourceBindings(),n.controllerStore.getSourceDefinitions()),onRefresh:function(t){return s.PickListInputUtility.onRefresh(n.inputDefinition,u.TaskStoreUtility.getPickListRefreshOptions(n.inputDefinition,n.controllerStore),t)},enableManage:s.PickListInputUtility.enableManageLink(n.inputDefinition,n.controllerStore.getDataSourceBindings(),n.controllerStore.getSourceDefinitions()),onManageClick:function(){return s.PickListInputUtility.onManageLink(n.inputDefinition,n.controllerStore.getDataSourceBindings(),n.controllerStore.getSourceDefinitions())}})},t.prototype._getSearchableDropdownProps=function(n){var t={maxRowCount:v.BrowserCheckUtils.isEdge()&&window.screen.availHeight<=640?5:undefined},i=e.ComboBoxType.Searchable;return c.JQueryWrapper.extend(n.inputControlProps,{label:n.inputControlProps.label,infoProps:n.inputControlProps.infoProps,maxAutoExpandDropWidth:this._maxDropdownWidth,value:n.inputControlProps.value,allowEdit:!0,comboBoxType:i,compareInputToItem:function(n,t,i){return i?h.caseInsensitiveContains(n,t)?0:-1:h.localeIgnoreCaseComparer(n,t)},enabled:!n.inputControlProps.disabled,errorMessage:n.inputControlProps.getErrorMessage(n.inputControlProps.value),required:n.inputControlProps.required,hideErrorMessage:n.inputControlProps.disabled,comboBoxDropOptions:t,inputDefinition:n.inputDefinition,inputControlProps:n.inputControlProps,options:n.inputControlProps.inputOptions,getRefreshOptions:function(){return u.TaskStoreUtility.getPickListRefreshOptions(n.inputDefinition,n.controllerStore)},onDropdownValueChanged:function(t){n.inputControlProps.onValueChanged(t)}})},t}(o.Component);t.PickListBaseComponent=y});

define("DistributedTaskControls/Common/IdentityUtils",["require","exports","DistributedTaskControls/Common/Common","VSS/Utils/String"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.IdentityUtils=void 0;var u=function(){function n(){}return n.convertJsonArrayIdentitiesStringToSemicolonSeperatedString=function(n){var t;if(!!n)try{t=JSON.parse(n)}catch(u){}return t&&t.length?t.join(i.SemiColon):r.empty},n.getUserIdsAsJSONString=function(n){for(var f,i=[],u=n?n.length:0,t=0;t<u;t++)f=n[t].localId,i.push(f);return u?JSON.stringify(i):r.empty},n}();t.IdentityUtils=u});

define("DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceInputActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.ConnectedServiceInputActions=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updateAddServiceEndpointLink=new u.Action},t.getKey=function(){return r.ActionsKeys.ConnectedServiceInputActions},Object.defineProperty(t.prototype,"updateAddServiceEndpointLink",{get:function(){return this._updateAddServiceEndpointLink},enumerable:!1,configurable:!0}),t}(i.ActionsHubBase);t.ConnectedServiceInputActions=f});

define("DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceInputStore",["require","exports","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceInputActions"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.ConnectedServiceInputStore=void 0;var e=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._updateAddServiceEndpointLink=function(n){t._state=n;t.emitChanged()},t._state={showAddServiceEndpointLink:null,endpointType:null},t}return __extends(t,n),t.prototype.getState=function(){return this._state},t.getKey=function(){return u.StoreKeys.ConnectedServiceInputStore},t.prototype.initialize=function(n){this._actions=r.ActionsHubManager.GetActionsHub(f.ConnectedServiceInputActions,n);this._actions.updateAddServiceEndpointLink.addListener(this._updateAddServiceEndpointLink)},t.prototype.disposeInternal=function(){this._actions.updateAddServiceEndpointLink.removeListener(this._updateAddServiceEndpointLink)},t}(i.StoreBase);t.ConnectedServiceInputStore=e});

define("DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceInputActionsCreator",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceInputActions","DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceComponentUtility"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.ConnectedServiceInputActionsCreator=void 0;var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return u.ActionCreatorKeys.ConnectedServiceInputActionsCreator},t.prototype.initialize=function(n){this._actions=r.ActionsHubManager.GetActionsHub(f.ConnectedServiceInputActions,n)},t.prototype.updateAddServiceEndpointLink=function(n,t){var i=this;e.ConnectedServiceComponentUtility.showAddServiceEndpointLink(n,t).then(function(n){i._actions.updateAddServiceEndpointLink.invoke(n)})},t}(i.ActionCreatorBase);t.ConnectedServiceInputActionsCreator=o});

define("DistributedTaskControls/Components/ManageLink",["require","exports","react","DistributedTasksCommon/TFS.Tasks.Utils","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Link","OfficeFabric/Utilities","VSS/Context","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/ManageLink"],function(n,t,i,r,u,f,e,o,s,h){var c,l,a;Object.defineProperty(t,"__esModule",{value:!0});t.ManageLink=t.ManageLinkType=void 0;c="?resourceId=",function(n){n[n.EndPoint=0]="EndPoint";n[n.AgentQueue=1]="AgentQueue"}(l=t.ManageLinkType||(t.ManageLinkType={}));a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return i.createElement("span",{className:"manage-link"},this.props.displaySeperator&&i.createElement("span",{className:"seperator"},"|"," "),i.createElement(e.Link,{href:this._getManageLink(),className:o.css("fabric-style-overrides"),"aria-label":this.props.label?h.localeFormat(f.ManageLinkDescription,this.props.label):f.Manage,target:"_blank"},f.Manage,i.createElement("span",{className:"bowtie-icon bowtie-navigate-external"})))},t.prototype._getManageLink=function(){var n;return this.props.manageLinkType===l.EndPoint?(n=r.ActionUrlResolver.getActionUrl(null,null,"services",{area:"admin"}),!!this.props.resourceId&&n&&(n=n.concat(c,this.props.resourceId))):n=r.ActionUrlResolver.getActionUrl(null,null,"AgentQueue",{project:s.getDefaultWebContext().project.name,area:"admin",queueId:this.props.resourceId,_a:"agents"}),n},t}(u.Component);t.ManageLink=a});

define("DistributedTaskControls/Components/BasicAuthDialog",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Components/StringInputComponent","OfficeFabric/Button","OfficeFabric/Dialog"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.BasicDialog=void 0;var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onUserNameChanged=function(n){t._userName=n;t.setState({isAuthorizeDisabled:!t._accessToken||!t._userName})},t._onAccessTokenChanged=function(n){t._accessToken=n;t.setState({isAuthorizeDisabled:!t._accessToken||!t._userName})},t._onAuthorizeClick=function(){if(t.props.onAuthorized)t.props.onAuthorized(t._userName,t._accessToken)},t}return __extends(t,n),t.prototype.componentWillMount=function(){this.setState({isAuthorizeDisabled:!0})},t.prototype.render=function(){var n="dtc-basic-username-textfield";return i.createElement(o.Dialog,{hidden:!this.props.showDialog,dialogContentProps:{type:o.DialogType.close,subText:u.UseBasicDescription},modalProps:{className:"bowtie-fabric",containerClassName:"dtc-Basic-dialog"},title:u.UseBasic,onDismiss:this.props.onCloseDialog,firstFocusableSelector:n,closeButtonAriaLabel:u.CloseButtonText},i.createElement(f.StringInputComponent,{label:u.UserName,onValueChanged:this._onUserNameChanged,inputClassName:n}),i.createElement(f.StringInputComponent,{label:u.PasswordLabel,type:"password",onValueChanged:this._onAccessTokenChanged,inputClassName:"dtc-basic-token-textfield"}),i.createElement(o.DialogFooter,null,i.createElement(e.PrimaryButton,{onClick:this._onAuthorizeClick,disabled:!!this.state.isAuthorizeDisabled,ariaLabel:u.Authorize,"aria-disabled":!!this.state.isAuthorizeDisabled},u.Authorize),i.createElement(e.PrimaryButton,{onClick:this.props.onCloseDialog,ariaLabel:u.CancelButtonText},u.CancelButtonText)))},t}(r.Component);t.BasicDialog=s});

define("DistributedTaskControls/Actions/ConnectedServiceEndpointActions",["require","exports","VSS/Flux/Action","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.ConnectedServiceEndpointActions=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._addedNewServiceEndpoint=new i.Action;this._updateServiceEndpoints=new i.Action;this._updateNewConnectionInfo=new i.Action},t.getKey=function(){return u.ActionsKeys.ConnectedServiceEndpointActions},Object.defineProperty(t.prototype,"UpdateNewConnectionInfo",{get:function(){return this._updateNewConnectionInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"AddedNewServiceEndpoint",{get:function(){return this._addedNewServiceEndpoint},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"UpdateServiceEndpoints",{get:function(){return this._updateServiceEndpoints},enumerable:!1,configurable:!0}),t}(r.ActionsHubBase);t.ConnectedServiceEndpointActions=f});

define("DistributedTaskControls/Stores/ConnectedServiceStore",["require","exports","DistributedTasksCommon/ServiceEndpoints/ServiceEndpoint.Common","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Actions/ConnectedServiceEndpointActions","DistributedTaskControls/Common/Actions/ActionsHubManager","VSS/Utils/String"],function(n,t,i,r,u,f,e,o){var s,h;Object.defineProperty(t,"__esModule",{value:!0});t.ConnectedServiceStore=t.IConnectedServiceEndPointState=void 0;s=function(){function n(){}return n}();t.IConnectedServiceEndPointState=s;h=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleUpdateNewConnectionInfo=function(n){t._connectionInfo.type===n.type&&t._updateConnectionInfo(n);t.emitChanged()},t._handleAddNewServiceEndpoint=function(){t._connectionInfo={scheme:r.EndpointAuthorizationSchemes.PersonalAccessToken,type:t._connectionInfo.type};t.emitChanged()},t._connectionInfo={scheme:r.EndpointAuthorizationSchemes.PersonalAccessToken},t}return __extends(t,n),t.getKey=function(){return r.StoreKeys.ConnectedServiceEndpointStore},t.prototype.initialize=function(n){this._connectionInfo.type=n;this._connectedServiceEndpointActions=e.ActionsHubManager.GetActionsHub(f.ConnectedServiceEndpointActions);this._connectedServiceEndpointActions.UpdateNewConnectionInfo.addListener(this._handleUpdateNewConnectionInfo);this._connectedServiceEndpointActions.AddedNewServiceEndpoint.addListener(this._handleAddNewServiceEndpoint)},t.prototype.disposeInternal=function(){this._connectedServiceEndpointActions.UpdateNewConnectionInfo.removeListener(this._handleUpdateNewConnectionInfo);this._connectedServiceEndpointActions.AddedNewServiceEndpoint.removeListener(this._handleAddNewServiceEndpoint)},t.prototype.getState=function(){return{isAuthorized:this._isAuthorized(),canAddNewConnection:this._canAddNewConnection(),connectionInfo:this._connectionInfo}},t.prototype.getServiceEndpointDetails=function(){var t=o.generateUID(),i=this._connectionInfo.strongboxKey?this._connectionInfo.strongboxKey:this._connectionInfo.accessToken,n=this._connectionInfo.data;return this._connectionInfo.loginUserAvatarUrl&&(n=__assign(__assign({},this._connectionInfo.data),{AvatarUrl:this._connectionInfo.loginUserAvatarUrl})),{endpointId:t,endpointName:this._connectionInfo.connectionName,url:this._connectionInfo.serverUrl,username:this._connectionInfo.loginUser,passwordKey:i,type:this._connectionInfo.type,scheme:this._connectionInfo.scheme,configurationId:this._connectionInfo.configurationId,parameters:n}},t.prototype.getAuthorizationInfo=function(){return this._connectionInfo.type===i.ServiceEndpointType.GitHubEnterprise&&this._connectionInfo.scheme===r.EndpointAuthorizationSchemes.PersonalAccessToken?{parameters:{apiToken:this._connectionInfo.accessToken},scheme:"Token"}:undefined},t.prototype._isAuthorized=function(){var n=this._connectionInfo.type||o.empty;switch(n){case i.ServiceEndpointType.GitHub:case i.ServiceEndpointType.GitHubBoards:return this._isGitHubAuthorized();case i.ServiceEndpointType.GitHubEnterprise:return!!this._connectionInfo.serverUrl&&this._isGitHubAuthorized();case i.ServiceEndpointType.Bitbucket:return this._isBitbucketAuthorized();case i.ServiceEndpointType.ExternalGit:case i.ServiceEndpointType.Subversion:return!!this._connectionInfo.serverUrl;default:return!1}},t.prototype._canAddNewConnection=function(){return!!this._connectionInfo.connectionName&&this._isAuthorized()},t.prototype._isGitHubAuthorized=function(){return!!this._connectionInfo.strongboxKey&&this._connectionInfo.scheme===r.EndpointAuthorizationSchemes.OAuth||!!this._connectionInfo.strongboxKey&&this._connectionInfo.scheme===r.EndpointAuthorizationSchemes.OAuth2||!!this._connectionInfo.accessToken&&this._connectionInfo.scheme===r.EndpointAuthorizationSchemes.PersonalAccessToken||!!this._connectionInfo.loginUser&&!!this._connectionInfo.accessToken&&this._connectionInfo.scheme===r.EndpointAuthorizationSchemes.UsernamePassword},t.prototype._isBitbucketAuthorized=function(){return!!this._connectionInfo.strongboxKey&&this._connectionInfo.scheme===r.EndpointAuthorizationSchemes.OAuth||!!this._connectionInfo.strongboxKey&&this._connectionInfo.scheme===r.EndpointAuthorizationSchemes.OAuth2||!!this._connectionInfo.loginUser&&!!this._connectionInfo.accessToken&&this._connectionInfo.scheme===r.EndpointAuthorizationSchemes.UsernamePassword},t.prototype._updateConnectionInfo=function(n){n.authRequestUrl!==undefined&&(this._connectionInfo.authRequestUrl=n.authRequestUrl);n.errorMessage!==undefined&&(this._connectionInfo.errorMessage=n.errorMessage);n.configurationId!==undefined&&(this._connectionInfo.configurationId=n.configurationId);n.isAuthorizing!==undefined&&(this._connectionInfo.isAuthorizing=n.isAuthorizing);n.strongboxKey!==undefined&&(this._connectionInfo.strongboxKey=n.strongboxKey);n.accessToken!==undefined&&(this._connectionInfo.accessToken=n.accessToken);n.connectionName!==undefined&&(this._connectionInfo.connectionName=n.connectionName);n.scheme!==undefined&&(this._connectionInfo.scheme=n.scheme);n.type!==undefined&&(this._connectionInfo.type=n.type);n.serverUrl!==undefined&&(this._connectionInfo.serverUrl=n.serverUrl);n.loginUser!==undefined&&(this._connectionInfo.loginUser=n.loginUser);n.loginUserAvatarUrl!==undefined&&(this._connectionInfo.loginUserAvatarUrl=n.loginUserAvatarUrl);n.data!==undefined&&(this._connectionInfo.data=n.data);n.popupWindow!==undefined&&(this._connectionInfo.popupWindow=n.popupWindow)},t}(u.StoreBase);t.ConnectedServiceStore=h});

define("DistributedTaskControls/Actions/ConnectedServiceEndpointActionsCreator",["require","exports","q","DistributedTaskControls/Actions/ConnectedServiceEndpointActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Sources/ConnectedServiceEndpointSource","DistributedTaskControls/Stores/ConnectedServiceStore","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});t.ConnectedServiceActionsCreator=void 0;var a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return e.ActionCreatorKeys.ConnectedServiceEndpoint_ActionCreator},t.prototype.initialize=function(){this._actions=u.ActionsHubManager.GetActionsHub(r.ConnectedServiceEndpointActions)},t.prototype.getServiceEndpoints=function(n,t,r){var f=this,u=i.defer();return o.ConnectedServiceEndpointSource.instance().getServiceEndpoints(n).then(function(i){var e=null;t&&i.forEach(function(n){if(n.id===t)return e=n,!1});!e&&t?o.ConnectedServiceEndpointSource.instance().getServiceEndpoint(t).then(function(t){t&&i.push(t);f._actions.UpdateServiceEndpoints.invoke({type:n,endpoints:i,errorMessage:t?l.empty:l.format(c.GitHubConnectionDeletedMessage,r)});u.resolve(null)},function(t){f._actions.UpdateServiceEndpoints.invoke({type:n,endpoints:i,errorMessage:t.message||t});u.resolve(null)}):(f._actions.UpdateServiceEndpoints.invoke({type:n,endpoints:i,errorMessage:l.empty}),u.resolve(null))},function(t){f._actions.UpdateServiceEndpoints.invoke({type:n,endpoints:[],errorMessage:t.message||t});u.resolve(null)}),u.promise},t.prototype.createAuthRequest=function(n){var t=this,i=window.open("","","width = 960, height = 600, location = true, menubar = false, toolbar = false");return o.ConnectedServiceEndpointSource.instance().createAuthRequest(n).then(function(r){t._actions.UpdateNewConnectionInfo.invoke({authRequestUrl:r.url,isAuthorizing:!0,errorMessage:r.errorMessage,type:n,popupWindow:i})},function(r){i.close();t._actions.UpdateNewConnectionInfo.invoke({errorMessage:r.message||r,isAuthorizing:!1,type:n})})},t.prototype.createServiceEndpoint=function(n,t){var r=this,u=this._createServiceEndPoint(n,t);return o.ConnectedServiceEndpointSource.instance().createServiceEndpoint(u).then(function(n){return r._actions.AddedNewServiceEndpoint.invoke({endpoint:n}),i.resolve(n)},function(t){r._actions.UpdateNewConnectionInfo.invoke({errorMessage:t.message||t,isAuthorizing:!1,type:n.type})})},t.prototype.updateNewConnectionStatusAndCreateEndpoint=function(n,t){var r,u,f,e;return(this.updateNewConnectionStatus(n),r=h.StoreManager.GetStore(s.ConnectedServiceStore,t),u=r.getState(),u&&u.canAddNewConnection)?(f=r.getServiceEndpointDetails(),e=r.getAuthorizationInfo(),this.createServiceEndpoint(f,e).then(function(n){return i.resolve(n)})):i.resolve(null)},t.prototype.updateNewConnectionStatus=function(n){this._actions.UpdateNewConnectionInfo.invoke(n)},t.prototype._createServiceEndPoint=function(n,t){t||(t=n.scheme===e.EndpointAuthorizationSchemes.PersonalAccessToken||n.scheme===e.EndpointAuthorizationSchemes.OAuth?{parameters:{accessToken:n.passwordKey||l.empty},scheme:n.scheme}:n.scheme===e.EndpointAuthorizationSchemes.OAuth2?{parameters:{accessToken:n.passwordKey||l.empty,configurationId:n.configurationId},scheme:n.scheme}:{parameters:{username:n.username||l.empty,password:n.passwordKey||l.empty},scheme:e.EndpointAuthorizationSchemes.UsernamePassword});return{id:n.endpointId,description:l.empty,administratorsGroup:null,authorization:t,createdBy:null,data:n.parameters,name:n.endpointName,type:n.type,url:n.url,readersGroup:null,groupScopeId:null,isReady:undefined,isShared:undefined,operationStatus:null,owner:undefined,serviceEndpointProjectReferences:null}},t}(f.ActionCreatorBase);t.ConnectedServiceActionsCreator=a});

define("DistributedTaskControls/Sources/ConnectedServiceAuthHelper",["require","exports","VSS/Diag","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Url"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.ConnectedServiceAuthHelper=void 0;var e=function(){function n(n,t,i){this._onAuthorizationError=t;this._onAuthorized=n;this._authWindow=i}return n.prototype.LaunchAuthUrl=function(n){f.isSafeProtocol(n)&&(this._authWindow&&(this._authWindow.location.href=n,this._authWindow.opener=null),this._pollAuthWindow())},n.prototype._pollAuthWindow=function(){var t=this;this._delayedFunction=r.delay(this,n._pollingInterval,function(){t._delayedFunction.cancel();delete t._delayedFunction;try{if(!t._authWindow||t._authWindow.closed)t._cleanupAuthWindow(),t._onAuthorizationError(u.empty);else if(t._authWindow.oauthcompleted){if(t._authWindow.oautherrormessage&&t._onAuthorizationError(t._authWindow.oautherrormessage),t._authWindow.strongboxkey){var n=t._authWindow.owneravatarurl&&t._authWindow.owneravatarurl!=="Unknown"?t._authWindow.owneravatarurl:undefined,i=t._authWindow.configurationId&&t._authWindow.configurationId!=="Unknown"?t._authWindow.configurationId:undefined;t._onAuthorized({strongboxKey:t._authWindow.strongboxkey,loginUser:t._authWindow.ownerlogin,loginAvatarUrl:n,configurationId:i})}t._cleanupAuthWindow()}else t._pollAuthWindow()}catch(r){t._pollAuthWindow()}})},n.prototype._cleanupAuthWindow=function(){if(this._authWindow)try{this._authWindow.close();this._authWindow=null}catch(n){i.logError(n.message||n)}this._delayedFunction&&(this._delayedFunction.cancel(),delete this._delayedFunction)},n._pollingInterval=500,n}();t.ConnectedServiceAuthHelper=e});

define("DistributedTaskControls/Components/AddNewServiceEndpoint",["require","exports","react","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/BasicAuthDialog","DistributedTaskControls/Common/Common","OfficeFabric/Styling","DistributedTaskControls/Actions/ConnectedServiceEndpointActionsCreator","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Sources/ConnectedServiceAuthHelper","DistributedTaskControls/Stores/ConnectedServiceStore","DistributedTaskControls/Common/Common","DistributedTaskControls/Components/MessageBarComponent","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/SharedControls/InputControls/Components/StringInputComponent","OfficeFabric/Button","OfficeFabric/Dialog","OfficeFabric/Label","OfficeFabric/MessageBar","OfficeFabric/Button","VSS/Utils/String","VSS/Utils/Url","VSS/LWP","OfficeFabric/Utilities","VSS/FeatureAvailability/Services","VSS/Utils/Accessibility","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/AddNewServiceEndpoint"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et){var ot,st;Object.defineProperty(t,"__esModule",{value:!0});t.PATDialog=t.Component=void 0;ot=function(n){function t(t){var i=__construct(this,n,[t]);for(var u in i)i.hasOwnProperty(u)&&(this[u]=i[u]);return i._onKeyDown=function(n){n.keyCode===13&&(i.props.allowPAT?i._onUsePATClick():i.props.allowBasic&&i._onUseBasicClick())},i._getErrorMessageForConnectionName=function(n){return n?tt.empty:y.RequiredInputErrorMessage},i._getErrorMessageForServerUrl=function(n){return n?i._isValidServerUrl(n)?tt.empty:y.EnterValidServerUrl:y.RequiredInputErrorMessage},i._onConnectionNameChanged=function(n){i._actionsCreator.updateNewConnectionStatus({connectionName:n,type:i.props.connectionType})},i._onServerUrlChanged=function(n){i._serverUrl=n},i._onAuthorizeConnectionClick=function(){var u=i.props.connectionType.toLowerCase()===a.ServiceEndpointType.Bitbucket,n=undefined,t=a.EndpointAuthorizationSchemes.OAuth,r;u&&(r=ft.FeatureAvailabilityService.isFeatureEnabled(e.FeatureFlag_BitbucketAzurePipelinesOAuthClient,!1),r&&(n=e.BitbucketAzurePipelinesOAuthAppId,t=a.EndpointAuthorizationSchemes.OAuth2));i._actionsCreator.updateNewConnectionStatus({connectionName:i.state.connectedServiceState.connectionInfo.connectionName||i._defaultConnectionName,scheme:t,serverUrl:i._getServerUrl(),errorMessage:tt.empty,isAuthorizing:!1,type:i.props.connectionType,configurationId:n});i._actionsCreator.createAuthRequest(i.props.connectionType)},i._onUsePATClick=function(){i.setState({showPATDialog:!0})},i._isValidServerUrl=function(n){var t=it.Uri.parse(n);return!!t.scheme&&!!t.host},i._onAuthorizePATClick=function(n){i.props.allowSetServerUrl&&!i._isValidServerUrl(i._getServerUrl())?i._serverUrlError=y.ServerUrlInvalid:(i._serverUrlError=tt.empty,i._actionsCreator.updateNewConnectionStatusAndCreateEndpoint({connectionName:i.state.connectedServiceState.connectionInfo.connectionName||i._defaultConnectionName,scheme:a.EndpointAuthorizationSchemes.PersonalAccessToken,serverUrl:i._getServerUrl(),errorMessage:tt.empty,accessToken:n.trim(),type:i.props.connectionType},i.props.id).then(function(n){i._onAddConnection(n)}));i._onClosePATDialog()},i._onClosePATDialog=function(){i.setState({showPATDialog:!1})},i._onUseBasicClick=function(){i._actionsCreator.updateNewConnectionStatus({connectionName:i.state.connectedServiceState.connectionInfo.connectionName||i._defaultConnectionName,scheme:a.EndpointAuthorizationSchemes.UsernamePassword,serverUrl:i._getServerUrl(),errorMessage:tt.empty,type:i.props.connectionType});i.setState({showBasicDialog:!0})},i._onAuthorizeBasicClick=function(n,t){i._actionsCreator.updateNewConnectionStatusAndCreateEndpoint({loginUser:n,accessToken:t,type:i.props.connectionType},i.props.id).then(function(n){i._onAddConnection(n)});i._onCloseBasicDialog()},i._onCloseBasicDialog=function(){i.setState({showBasicDialog:!1})},i._onStoreChanged=function(){var n=i._store.getState();i.setState({connectedServiceState:n});n.connectionInfo.authRequestUrl&&n.connectionInfo.isAuthorizing&&i._launchAuthHelper(n.connectionInfo.popupWindow,n.connectionInfo.authRequestUrl)},i._actionsCreator=r.ActionCreatorManager.GetActionCreator(s.ConnectedServiceActionsCreator),i}return __extends(t,n),t.prototype.componentWillMount=function(){this._store=p.StoreManager.GetStore(l.ConnectedServiceStore,this.props.id);this._setDefaultConnectionName();this.setState({connectedServiceState:this._store.getState()})},t.prototype.componentDidMount=function(){this._isMounted=!0;this._store.addChangedListener(this._onStoreChanged);this.props.setConnectionNameInFocus&&this._connectionNameField.setFocus();this.state.connectedServiceState.isAuthorized||et.announce(y.AuthRequiredMessage,!0)},t.prototype.componentWillUnmount=function(){this._isMounted=!1;this._store.removeChangedListener(this._onStoreChanged)},t.prototype.render=function(){var n=this,t=ut.css("dtc-add-new-service-endpoint-container",{"show-close-button":this.props.showClose}),r=ut.css("dtc-add-new-service-endpoint",{"show-close-button":this.props.showClose});return i.createElement("div",{className:t},this.props.showClose&&i.createElement(b.CommandButton,{className:"close-button",ariaLabel:y.CloseButtonText,iconProps:{iconName:"Cancel",styles:{root:{color:o.DefaultPalette.themeDark}}},onClick:this.props.onDismiss}),i.createElement("div",{className:r},!this.state.connectedServiceState.isAuthorized&&i.createElement(v.MessageBarComponent,{className:"auth-required auth-item",messageBarType:g.MessageBarType.warning},y.AuthRequiredMessage),i.createElement(w.StringInputComponent,{ref:function(t){n._connectionNameField=t},required:!0,cssClass:"connection-name auth-item",label:y.ConnectionName,value:this._getConnectionName(),onValueChanged:this._onConnectionNameChanged,getErrorMessage:this._getErrorMessageForConnectionName}),i.createElement("div",{className:"add-connection auth-item"},this.props.allowSetServerUrl&&i.createElement(w.StringInputComponent,{required:!0,label:y.ServerUrl,inputClassName:"connection-server-url",onValueChanged:this._onServerUrlChanged.bind(this),deferredValidationTime:500,getErrorMessage:this._getErrorMessageForServerUrl}),this.props.allowOauth&&i.createElement(nt.PrimaryButton,{onClick:this._onAuthorizeConnectionClick,ariaLabel:y.AuthorizeUsingOAuth},y.AuthorizeUsingOAuth),this.props.allowPAT&&i.createElement("div",{className:"add-connection-pat-container"},this.props.allowOauth&&i.createElement(d.Label,{className:"choice-label"},y.ChoiceLabel),i.createElement("a",{className:"add-connection-pat",role:"button",tabIndex:0,onKeyDown:this._onKeyDown,onClick:this._onUsePATClick},y.UsePAT),i.createElement(st,{showDialog:this.state.showPATDialog,accessToken:this.state.connectedServiceState.connectionInfo.accessToken||tt.empty,onAuthorized:this._onAuthorizePATClick,onCloseDialog:this._onClosePATDialog})),this.props.allowBasic&&i.createElement("div",{className:"add-connection-basic-container"},i.createElement(d.Label,{className:"choice-label"},y.ChoiceLabel),i.createElement("a",{className:"add-connection-basic",tabIndex:0,role:"button",onKeyDown:this._onKeyDown,onClick:this._onUseBasicClick},y.UseBasic),i.createElement(f.BasicDialog,{showDialog:this.state.showBasicDialog,userName:this.state.connectedServiceState.connectionInfo.loginUser||tt.empty,accessToken:this.state.connectedServiceState.connectionInfo.accessToken||tt.empty,onAuthorized:this._onAuthorizeBasicClick,onCloseDialog:this._onCloseBasicDialog}))),this.state.connectedServiceState.isAuthorized&&!this.state.connectedServiceState.connectionInfo.errorMessage&&i.createElement(v.MessageBarComponent,{className:"auth-success auth-item",messageBarType:g.MessageBarType.success},this._getAuthorizationSuccessMessage()),(this.state.connectedServiceState.connectionInfo.errorMessage||this._serverUrlError)&&i.createElement(v.MessageBarComponent,{className:"auth-error auth-item",messageBarType:g.MessageBarType.error},this._getErrorMessage())))},t.prototype._getConnectionName=function(){var n=this.state.connectedServiceState.connectionInfo?this.state.connectedServiceState.connectionInfo.connectionName:null;return n===null||n===undefined?this._defaultConnectionName:n},t.prototype._setDefaultConnectionName=function(){(this._defaultConnectionName===null||this._defaultConnectionName===undefined)&&(this._defaultConnectionName=this.props.existingConnectionNames&&this.props.autoGenerateNewConnectionName?this._getDefaultName():this.props.newConnectionName?this.props.newConnectionName:tt.empty)},t.prototype._getDefaultName=function(){var n=tt.format(y.SourcesConnectionNameFormat,this.props.connectionType,"{0}");return h.DtcUtils.getDefaultName(n,this.props.existingConnectionNames)},t.prototype._getErrorMessage=function(){return this._serverUrlError?this._serverUrlError:this.state.connectedServiceState.connectionInfo.errorMessage},t.prototype._onAddConnection=function(n){if(n&&this._isMounted&&this.props.onAdd)this.props.onAdd(n)},t.prototype._getServerUrl=function(){return this.props.allowSetServerUrl?this._serverUrl:this.props.serverUrl},t.prototype._getAuthorizationSuccessMessage=function(){return this.state.connectedServiceState.connectionInfo.scheme===a.EndpointAuthorizationSchemes.PersonalAccessToken?y.AuthorizedUsingPAT:tt.format(y.AuthorizedUsingOAuthFormat,this.state.connectedServiceState.connectionInfo.loginUser)},t.prototype._launchAuthHelper=function(n,t){var i=this,r=new c.ConnectedServiceAuthHelper(function(n){i._actionsCreator.updateNewConnectionStatusAndCreateEndpoint({strongboxKey:n.strongboxKey,loginUser:n.loginUser,loginUserAvatarUrl:n.loginAvatarUrl,isAuthorizing:!1,type:i.props.connectionType,configurationId:n.configurationId},i.props.id).then(function(n){i._onAddConnection(n)})},function(n){i._actionsCreator.updateNewConnectionStatus({errorMessage:n,isAuthorizing:!1,type:i.props.connectionType})},n);r.LaunchAuthUrl(t)},t}(u.Component);t.Component=ot;rt.registerLWPComponent("DistributedTask.AddNewServiceEndpoint",ot);st=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onAccessTokenChanged=function(n){t._accessToken=n;t.setState({isAuthorizeDisabled:!t._accessToken})},t._onAuthorizeClick=function(){if(t.props.onAuthorized)t.props.onAuthorized(t._accessToken)},t._onKeyDown=function(n){t._accessToken&&n.keyCode===13&&t._onAuthorizeClick()},t}return __extends(t,n),t.prototype.componentWillMount=function(){this.setState({isAuthorizeDisabled:!0})},t.prototype.render=function(){var n="dtc-pat-token-textfield";return i.createElement(k.Dialog,{hidden:!this.props.showDialog,dialogContentProps:{type:k.DialogType.close,subText:y.UsePATDescription},title:y.UsePAT,onDismiss:this.props.onCloseDialog,modalProps:{className:"bowtie-fabric",containerClassName:"dtc-pat-dialog"},firstFocusableSelector:n,closeButtonAriaLabel:y.CloseButtonText},i.createElement("div",{className:n+"-container",onKeyDown:this._onKeyDown},i.createElement(w.StringInputComponent,{label:y.Token,type:"password",onValueChanged:this._onAccessTokenChanged,inputClassName:n})),i.createElement(k.DialogFooter,null,i.createElement(nt.PrimaryButton,{onClick:this._onAuthorizeClick.bind(this,this._accessToken),disabled:!!this.state.isAuthorizeDisabled,ariaLabel:y.Authorize,"aria-disabled":!!this.state.isAuthorizeDisabled},y.Authorize),i.createElement(nt.DefaultButton,{onClick:this.props.onCloseDialog,ariaLabel:y.CancelButtonText},y.CancelButtonText)))},t}(u.Component);t.PATDialog=st});

define("DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceInputComponent",["require","exports","react","q","DistributedTasksCommon/ServiceEndpoints/ServiceEndpoint.Common","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceComponentUtility","DistributedTaskControls/SharedControls/InputControls/Components/RequiredIndicator","DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceInputStore","DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceInputActionsCreator","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/ManageLink","DistributedTaskControls/Components/PickList","DistributedTaskControls/Common/Primitives","DistributedTaskControls/Components/AddNewServiceEndpoint","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Button","OfficeFabric/Utilities","VSS/VSS","VSS/Context","VSS/Diag","VSS/Utils/Core","VSS/Utils/String","VSS/Controls/Dialogs","VSS/Service","VSS/Contributions/Services","VSSPreview/Flux/Components/LWP","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/FabricStyleOverrides","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/ComboBox","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceInputComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt){var vt,at;Object.defineProperty(t,"__esModule",{value:!0});t.ConnectedServiceInputComponentBase=t.ConnectedServiceInputComponent=void 0;vt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getType=function(){return s.InputControlType.INPUT_TYPE_CONNECTED_SERVICE},t.prototype.getControl=function(){return ft.logVerbose("[ConnectedServiceInputComponent.getControl]: Method called."),i.createElement(at,{value:this.state.value,disabled:this.props.disabled,onValueChanged:this.onValueChanged,onOptionsChanged:this.props.onOptionsChanged,options:this.props.options,getErrorMessage:this.getErrorMessage,useConnectedService:!0,label:this.props.label,connectedServiceType:this.props.connectedServiceType,authSchemes:this.props.authSchemes,instanceId:this.props.instanceId,ariaLabelledBy:this.props.ariaLabelledBy||this.getInputFieldLabelElementId(),ariaDescribedBy:this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId(),ariaLabel:this.props.ariaLabel,properties:this.props.properties,hideRefreshButton:this.props.hideRefreshButton,hideNewButton:this.props.hideNewButton,required:this.props.required,containerClassName:this.props.containerClassName,onConnectionAdded:this.props.onConnectionAdded,onNotifyValidationResult:this.props.onNotifyValidationResult,setConnectionNameInFocus:this.props.setConnectionNameInFocus})},t.prototype.getAdditonalLabelControls=function(){if(!this.props.hideManageLink){var n={manageLinkType:b.ManageLinkType.EndPoint,displaySeperator:!0,resourceId:this.state.value,label:this.props.label};return i.createElement(b.ManageLink,__assign({},n))}return null},t}(o.InputBase);t.ConnectedServiceInputComponent=vt;at=function(n){function t(t){var i=__construct(this,n,[t]);for(var f in i)i.hasOwnProperty(f)&&(this[f]=i[f]);return i._onDismiss=function(){i.setState({showNewConnectionControl:!1});i._newButton&&i._newButton.focus()},i._onStoreChanged=function(){i._updateStateFromStore()},i._onChanged=function(n){i._currentText=n;var t;if(t=i._isMultiSelect()?n:h.ConnectedServiceComponentUtility.getValueFromKey(i.state.optionsMap,n)!==ot.empty?n:ot.empty,!!i.props.onValueChanged)i.props.onValueChanged(t)},i._getErrorMessage=function(){return i.state.value===ot.empty&&i._currentText?nt.RequiredInputInValidMessage:!i.props.getErrorMessage?void 0:i.props.getErrorMessage(i.state.value)},i._onRefreshClick=function(n){i._onRefresh(n);et.delay(i,500,function(){i._optionsRefreshed||i.setState({showLoadingIcon:!0})})},i._onRefresh=function(){i._update()},i._onAddServiceEndpoint=function(){var n,t;i._isNewServiceConnectionsUIEnabled?i.setState({showNewConnectionControl:!0}):(i._publishaddServiceEndPointTelemetry(i.props.connectedServiceType),ot.equals(i.props.connectedServiceType,u.ServiceEndpointType.AzureRM,!0)?rt.using(["DistributedTasksCommon/ServiceEndpoints/AzureRMEndpointsManageDialog","DistributedTasksCommon/TFS.Knockout.CustomHandlers"],function(n,t){t.initKnockoutHandlers();var r=new n.AddAzureRmEndpointsModel(i._endpointCreatedSuccessCallback,{spnCreateMethod:n.SpnCreateMethod.Manual});st.show(n.AddAzureRmEndpointsDialog,r)}):ot.equals(i.props.connectedServiceType,u.ServiceEndpointType.GitHub,!0)?i.setState({showNewConnectionControl:!0}):ot.equals(i.props.connectedServiceType,u.ServiceEndpointType.Docker,!0)?rt.using(["DistributedTasksCommon/ServiceEndpoints/DockerRegistryManageDialog","DistributedTasksCommon/TFS.Knockout.CustomHandlers"],function(n,t){t.initKnockoutHandlers();var r=new n.AddDockerRegistryEndpointModel(i._endpointCreatedSuccessCallback);st.show(n.AddDockerRegistryEndpointsDialog,r)}):ot.equals(i.props.connectedServiceType,u.ServiceEndpointType.Kubernetes,!0)?rt.using(["DistributedTasksCommon/ServiceEndpoints/KubernetesEndpointManageDialog","DistributedTasksCommon/TFS.Knockout.CustomHandlers"],function(n,t){t.initKnockoutHandlers();var r=new n.AddKubernetesEndpointModel(i._endpointCreatedSuccessCallback);st.show(n.AddKubernetesEndpointsDialog,r)}):i.state.addServiceConnectionDetails.endpointType.uiContributionId?(n=i.state.addServiceConnectionDetails.endpointType,rt.using(["DistributedTasksCommon/ServiceEndpoints/ServiceEndpointUIContributionManageDialog","DistributedTasksCommon/TFS.Knockout.CustomHandlers"],function(t,r){var u;u=ht.getService(ct.ExtensionService).getContributionsForTarget("ms.vss-endpoint.endpoint-ui-catalog");u.then(function(u){var s;if(u){var f=void 0,e=void 0,o=void 0;f=u.filter(function(t){return t.id.toLowerCase().endsWith(n.uiContributionId.toLowerCase())});f?(o=n.displayName,e=n.name,r.initKnockoutHandlers(),s=new t.AddServiceEndpointUIContributionConnectionModel(i._endpointCreatedSuccessCallback,n.dataSources,f[0],e,o),st.show(t.AddServiceEndpointUIContributionDialog,s)):ft.logError(ot.format(nt.FailedToFindEndpointUIContribution,n.uiContributionId))}})})):(t=i.state.addServiceConnectionDetails.endpointType,rt.using(["DistributedTasksCommon/ServiceEndpoints/CustomEndpointsManageDialog","DistributedTasksCommon/TFS.Knockout.CustomHandlers"],function(n,r){r.initKnockoutHandlers();var u=new n.AddCustomConnectionsModel(t,ot.empty,null,t.authenticationSchemes[0].scheme,!1,i._endpointCreatedSuccessCallback);st.show(n.AddCustomConnectionsDialog,u)})))},i._endpointCreatedSuccessCallback=function(n){var t,r,u;if(i._publishaddServiceEndPointTelemetry(i.props.connectedServiceType,n.authorization?n.authorization.scheme:null,!0),t=i.state.optionsMap,t[n.id]=n.name,!i.props.onValueChanged||(i._isMultiSelect()?(u=i.state.value.split(e.CommaSeparator),u.push(n.id),r=u.join(e.CommaSeparator)):r=n.id),!i.props.onConnectionAdded){if(!!i.props.onOptionsChanged)i.props.onOptionsChanged(t);if(!!i.props.onValueChanged)i.props.onValueChanged(r)}else i.props.onConnectionAdded(t,r);i.state.showNewConnectionControl&&i.setState({showNewConnectionControl:!1})},i._refreshIfRequired=function(){var n=r.defer();return i.state.optionsMap&&Object.keys(i.state.optionsMap).length===0?(i._update().then(function(){n.resolve(!0)},function(t){n.reject(t)}),n.promise):(n.resolve(!1),n.promise)},i._createPanleContentType="CreateForm",i._optionsRefreshed=!1,i._isNewServiceConnectionsUIEnabled=w.DtcUtils.isNewServiceConnectionUXEnabled(),i.state={value:t.value||ot.empty,optionsMap:t.options||{}},i}return __extends(t,n),t.prototype.componentWillMount=function(){var n=this.props.instanceId;this._store=v.StoreManager.GetStore(l.ConnectedServiceInputStore,n);this._inputActionsCreator=y.ActionsHubManager.GetActionsHub(a.ConnectedServiceInputActionsCreator,n);this._updateStateFromStore()},t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._showAddServiceConnectionLinkIfRequired();this.props.properties&&this.props.properties[t.EndpointFilterRule]&&!this._optionsRefreshed?this._update():this._refreshIfRequired();this._store.addChangedListener(this._onStoreChanged)},t.prototype.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this);this._store.removeChangedListener(this._onStoreChanged)},t.prototype.componentWillReceiveProps=function(n){this.setState({value:n.value||ot.empty,optionsMap:n.options||{}})},t.prototype.render=function(){var n=this,t=this.state.showLoadingIcon?"bowtie-icon bowtie-spinner":"connected-service-refresh-icon",r=it.css({Refresh:!this.state.showLoadingIcon}),u=this.props.containerClassName||ot.empty;return i.createElement("div",{className:u},i.createElement("div",{className:"connected-service-container"},i.createElement("div",{className:"connected-service-dropdown"},i.createElement(c.Component,{ariaLabel:this.props.ariaLabel,value:this.state.value,onGetErrorMessage:this._getErrorMessage,onNotifyValidationResult:this.props.onNotifyValidationResult},this._getPickList())),i.createElement("div",{className:"input-control-buttons"},!this.props.hideRefreshButton&&!this.props.disabled&&i.createElement(tt.IconButton,{disabled:this.props.disabled,onClick:function(t){return n._onRefreshClick(t)},iconProps:{iconName:r,className:t},className:it.css("input-control-icon-button","fabric-style-overrides","icon-button-override"),ariaLabel:nt.Refresh,ariaDescription:ot.localeFormat(nt.RefreshInputDescription,this.props.label),"aria-disabled":this.props.disabled}),this.state.addServiceConnectionDetails.showAddServiceEndpointLink&&!this.props.hideNewButton&&!this.props.disabled&&i.createElement(tt.CommandButton,{componentRef:function(t){n._newButton=t},disabled:this.props.disabled,onClick:this._onAddServiceEndpoint,iconProps:{iconName:"Add"},className:it.css("input-control-icon-button","fabric-style-overrides","command-button-override"),ariaLabel:nt.New,ariaDescription:ot.localeFormat(nt.AddInputDescription,this.props.label),"aria-disabled":this.props.disabled},nt.New))),this._getNewServiceConnectionCreatePanel())},t.prototype._getConnection=function(){return this.state.showNewConnectionControl&&ot.equals(this.props.connectedServiceType,u.ServiceEndpointType.GitHub,!0)?i.createElement(g.Component,{autoGenerateNewConnectionName:!0,existingConnectionNames:this._getOptionValues(),id:u.ServiceEndpointType.GitHub,isEnabled:!0,connectionType:u.ServiceEndpointType.GitHub,serverUrl:e.ServiceEndpointConstants.GitHubServerUrl,allowOauth:ut.getPageContext().webAccessConfiguration.isHosted,allowOauth2:!1,allowPAT:!0,allowBasic:!1,allowSetServerUrl:!1,onAdd:this._endpointCreatedSuccessCallback,showClose:!0,onDismiss:this._onDismiss,setConnectionNameInFocus:this.props.setConnectionNameInFocus}):null},t.prototype._getOptionValues=function(){var n=[];for(var t in this.state.optionsMap)this.state.optionsMap.hasOwnProperty(t)&&n.push(this.state.optionsMap[t]);return n},t.prototype._updateStateFromStore=function(){var n=this._store.getState();this.setState({addServiceConnectionDetails:n})},t.prototype._getSelectedOption=function(){var n=this.state.value;return n===ot.empty&&this._currentText&&(n=this._currentText),n},t.prototype._publishaddServiceEndPointTelemetry=function(n,t,i){var r={};r[p.Properties.ServiceEndpointType]=n;t&&(r[p.Properties.ServiceEndpointAuthScheme]=t);i?p.Telemetry.instance().publishEvent(p.Feature.AddServiceConnectionSuccess,r):p.Telemetry.instance().publishEvent(p.Feature.AddServiceConnection,r)},t.prototype._showAddServiceConnectionLinkIfRequired=function(){this.state.addServiceConnectionDetails.showAddServiceEndpointLink===null&&this._inputActionsCreator.updateAddServiceEndpointLink(this.props.connectedServiceType,this.props.authSchemes)},t.prototype._update=function(){var n=this;return this._optionsRefreshed=!1,h.ConnectedServiceComponentUtility.getConnectedServiceOptions(this.state.value,this.props.useConnectedService,this.props.connectedServiceType,this.props.authSchemes,this.props.properties).then(function(t){if(n._optionsRefreshed=!0,n.setState({showLoadingIcon:!1}),!!n.props.onOptionsChanged)n.props.onOptionsChanged(t.optionsMap);if(t.value!==n.state.value&&!!n.props.onValueChanged)n.props.onValueChanged(t.value)},function(t){return n._optionsRefreshed=!0,n.setState({showLoadingIcon:!1}),r.reject(t)})},t.prototype._isMultiSelect=function(){return this.props.properties&&this.props.properties[e.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST]&&d.Boolean.isTrue(this.props.properties[e.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST])},t.prototype._getPickList=function(){var n,t;return this._pickList?this._pickListControl.updateSource(this.state.optionsMap,this._getSelectedOption(),!this.props.disabled):(n={},this.props.properties&&this.props.properties[e.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST]?(t=this.props.properties[e.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST],n[e.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST]=t):n[e.INPUT_TYPE_PROPERTY_EDITABLE_OPTIONS]=e.BOOLEAN_TRUE,this._pickList=i.createElement("div",{className:"fabric-style-overrides input-control-dropdown connected-service-combobox"},i.createElement(k.PickList,{key:"pick-list-component",ref:this._resolveRef("_pickListControl"),selectedValues:this._getSelectedOption(),refreshCallback:this._refreshIfRequired,properties:n,onChanged:this._onChanged,enabled:!this.props.disabled,options:this.state.optionsMap,ariaLabel:this.props.ariaLabel,ariaLabelledBy:this.props.ariaLabelledBy,ariaDescribedBy:this.props.ariaDescribedBy,ariaRequired:this.props.required}))),this._pickList},t.prototype._getNewServiceConnectionCreatePanel=function(){var n=this,t;return ot.equals(this.props.connectedServiceType,u.ServiceEndpointType.GitHub,!0)&&this.state.showNewConnectionControl?this._getConnection():this._isNewServiceConnectionsUIEnabled&&this.state.showNewConnectionControl?(t={onDismiss:function(){n.setState({showNewConnectionControl:!1})},onPrimaryAction:function(t){n._endpointCreatedSuccessCallback(t)},contentType:this._createPanleContentType,panelTitle:nt.ServiceConnectionCreatePanelTitle,endpointType:this.state.addServiceConnectionDetails.endpointType,hideBackButton:!0},i.createElement(lt.LWPComponent,__assign({wrappedType:"endpoints-editor-panel",dependencies:["ms.vss-distributedtask-web.dt-serviceendpoints-editor"]},t))):null},t.EndpointFilterRule="EndpointFilterRule",t}(f.Component);t.ConnectedServiceInputComponentBase=at});

define("DistributedTaskControls/SharedControls/InputControls/Components/AzureConnectionInputComponent",["require","exports","react","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceInputComponent","VSS/Diag"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.AzureConnectionInputComponent=void 0;var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._getErrorMessage=function(){return t.getErrorMessage(t.getInputValue())},t}return __extends(t,n),t.prototype.getType=function(){return u.InputControlType.INPUT_TYPE_AZURE_CONNECTION},t.prototype.getControl=function(){return e.logVerbose("[AzureConnectionInputComponent.getControl]: Method called."),i.createElement(f.ConnectedServiceInputComponentBase,{disabled:this.props.disabled,value:this.state.value,onValueChanged:this.onValueChanged,onOptionsChanged:this.props.onOptionsChanged,options:this.props.options,getErrorMessage:this._getErrorMessage,useConnectedService:!1,connectedServiceType:"azure",instanceId:this.props.instanceId,properties:undefined,onNotifyValidationResult:this.props.onNotifyValidationResult})},t}(r.InputBase);t.AzureConnectionInputComponent=o});

define("DistributedTaskControls/SharedControls/InputControls/Components/AzureRmComponentUtilityConstants",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.AzureRmComponentUtilityConstants=void 0;var i=function(){function n(){}return n.Subscription="Subscription",n.ManagementGroup="Management Group",n.ResourceGroup="Resource Group",n.EndpointFilterRule="EndpointFilterRule",n.AzureRMEndpointDefaultFilterRule="ScopeLevel != ManagementGroup && ScopeLevel != AzureMLWorkspace",n.deploymentScope="deploymentscope",n}();t.AzureRmComponentUtilityConstants=i});

define("DistributedTaskControls/Components/Task/ServiceEndpointFilterHelper",["require","exports","DistributedTaskControls/Components/Task/PredicateExpressionHelper","./FilterHelper","DistributedTaskControls/SharedControls/InputControls/Components/AzureRmComponentUtilityConstants"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.ServiceEndpointFilterHelper=void 0;var f="&&",e=function(){function n(){}return n.getFilteredObjects=function(n,t,u){var y,e,l,p,o,h,a,s,v,c,w,b,k,d;if((u===void 0&&(u=null),!n||n.toLowerCase().indexOf(this.scopeLevel)===-1||!t)||(y=[],e=i.PredicateExpressionHelper.getPredicateExpression(n),!e))return t;for(l=0,p=t;l<p.length;l++){for(o=p[l],h=e.operator===f?!0:!1,a=0;a<e.predicateRules.length;a++)if(s=e.predicateRules[a],!!s){if(v=void 0,c=r.FilterHelper.getPropertyValue(o,s.inputName),!c){h=!0;break}s.expectedValue.toLowerCase()===this.deploymentScope?(w=r.FilterHelper.getPropertyValue(u,this.deploymentScope),v=this.getDeploymentScopeRank(w),c.toLowerCase()!==this.subscriptionScope||!o.authorization.parameters||o.authorization.parameters.scope==null||(b=o.authorization.parameters.scope.split("/"),!b[4]||(c=this.resourceGroupScope))):v=this.getDeploymentScopeRank(s.expectedValue);k=this.getDeploymentScopeRank(c);d=this.getPredicateResult(s,v,k);h=i.PredicateExpressionHelper.evaluate(h,d,e.operator)}h&&y.push(o)}return y},n.getPredicateResult=function(n,t,i){var r=!1;if(!!n)switch(n.condition){case"=":case"==":r=i===t;break;case"!=":r=i!==t;break;case"<":r=i<t;break;case">":r=i>t;break;case"<=":r=i<=t;break;case">=":r=i>=t}return r},n.getDeploymentScopeRank=function(t){return t?(t=t.toLowerCase().replace(/\s/g,""),n.knownDeploymentScopes.indexOf(t)===-1?0:n.deploymentScopeRank[t]):0},n.scopeLevel="scopelevel",n.deploymentScope=u.AzureRmComponentUtilityConstants.deploymentScope.toLowerCase().replace(/\s/g,""),n.resourceGroupScope=u.AzureRmComponentUtilityConstants.ResourceGroup.toLowerCase().replace(/\s/g,""),n.subscriptionScope=u.AzureRmComponentUtilityConstants.Subscription.toLowerCase().replace(/\s/g,""),n.managementGroupScope=u.AzureRmComponentUtilityConstants.ManagementGroup.toLowerCase().replace(/\s/g,""),n.deploymentScopeRank={resourcegroup:1,subscription:2,managementgroup:3},n.knownDeploymentScopes=[n.resourceGroupScope,n.subscriptionScope,n.managementGroupScope],n}();t.ServiceEndpointFilterHelper=e});

define("DistributedTaskControls/SharedControls/InputControls/Components/AzureResourceManagerComponentUtility",["require","exports","q","DistributedTasksCommon/TFS.Tasks.Utils","DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary","DistributedTasksCommon/ServiceEndpoints/ServiceEndpoint.Common","DistributedTaskControls/Common/RegexConstants","DistributedTaskControls/Sources/ConnectedServiceEndpointSource","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Task/ServiceEndpointFilterHelper","DistributedTaskControls/SharedControls/InputControls/Components/AzureRmComponentUtilityConstants","VSS/Diag","VSS/VSS","VSS/Utils/String","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Components/Task/FilterHelper"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){Object.defineProperty(t,"__esModule",{value:!0});t.AzureResourceManagerComponentUtility=void 0;var w=function(){function n(){}return n.getConnectedServiceAzureRMOptions=function(t,f,e,y,w,b){var tt=this,d=!1,g=i.defer(),nt=!w?null:w[c.AzureRmComponentUtilityConstants.EndpointFilterRule],k,it;nt||(nt=c.AzureRmComponentUtilityConstants.AzureRMEndpointDefaultFilterRule);k=t;f&&(it=f.split(","));var rt=n._getARMServiceEndPoints(it,y),ut=n._getAzureManagementGroups(e),ft=n._getAzureSubscriptions(e),et=n._getARMServiceEndpointTypes();return i.spread([rt,ft,et,ut],function(n,i,f,e){var ht,y,it;tt._armServiceEndPoints=n;var et=[],ot=[],st=[],rt={},ut={},w={},ft;n&&(ht=h.ServiceEndpointFilterHelper.getFilteredObjects(nt,n,b),ht.forEach(function(n){st.push(n.id);w[n.id]=n}));i.value&&i.value.length!==0||(d=!0);f&&f.length>0&&(ft=f[0]);i.errorMessage?l.logError(i.errorMessage):i.value&&i.value.forEach(function(n){ut[n.subscriptionId]=n;et.push(n.subscriptionId)});!!e&&e.value&&e.value.length!==0&&(tt._updateManagementGroupIds(e),e.value.forEach(function(n){rt[n.id]=n;ot.push(n.id)}));y=[];y.push({title:u.AzureRMAvailableServiceConnections,items:st});it=p.FilterHelper.getPropertyValue(b,c.AzureRmComponentUtilityConstants.deploymentScope);it&&it===c.AzureRmComponentUtilityConstants.ManagementGroup||y.push({title:u.AzureRMAvailableAzureSubscriptions,items:et});!it||it!==c.AzureRmComponentUtilityConstants.ManagementGroup||y.push({title:u.AzureRMAvailableAzureManagementGroups,items:ot});!t||w[t]||r.VariableExtractor.containsVariable(t)||s.DtcUtils.containsProcessParameter(t)?g.resolve({azureSubscriptions:ut,endpoints:w,azureManagementGroups:rt,value:k,options:y,showAddServiceEndpointLink:d,endpointType:ft}):o.ConnectedServiceEndpointSource.instance().getServiceEndpoint(t).then(function(n){if(n){var t=n.id;k=t;w[t]=n}else k=v.empty;g.resolve({azureSubscriptions:ut,endpoints:w,azureManagementGroups:rt,value:k,options:y,showAddServiceEndpointLink:d,endpointType:ft})},function(n){l.logError(n);a.handleError({name:v.empty,message:n})})},function(n){l.logError(n);a.handleError(n)}),g.promise},n.createServiceEndpoint=function(n,t,r,f){f===void 0&&(f=!1);var e=i.defer();return a.using(["DistributedTasksCommon/ServiceEndpoints/AzureRMEndpointsManageDialog"],function(i){var o=new i.AddAzureRmEndpointsModel(r);n?(o.name(v.localeFormat(u.AzureSubscriptionDisplayName,n.displayName,n.subscriptionId)),o.subscriptionId(n.subscriptionId),o.subscriptionName(n.displayName),o.tenantId(n.subscriptionTenantId)):t&&(o.name(v.localeFormat(u.AzureManagementGroupDisplayName,t.displayName,t.id)),o.managementGroupId(t.id),o.managementGroupName(t.name),o.tenantId(t.tenantId),o.selectedScope(c.AzureRmComponentUtilityConstants.ManagementGroup.replace(/\s/g,"")));o.createServiceEndpoint(f).then(function(n){e.resolve(n)},function(n){e.reject(n)})}),e.promise},n.getSubscriptionIdFromDisplayName=function(n){var t=n.match(e.FindSubscriptionIdRegEx);return t&&t[1]?t[1]:v.empty},n.getSubscriptionByName=function(t,i){var r=n.getSubscriptionIdFromDisplayName(i);return t&&t[r]?t[r]:null},n.getManagementGroupIdFromDisplayName=function(n){var t=n.match(e.FindManagementGroupIdRegEx);return t&&t[1]?t[1]:v.empty},n.getManagementGroupByName=function(t,i){var r=n.getManagementGroupIdFromDisplayName(i);return t&&t[r]?t[r]:null},n.getEndpointByName=function(n,t){var i=null;for(var r in n)if(v.localeIgnoreCaseComparer(n[r].name,t)===0){i=n[r];break}return i},n.getDisplayText=function(n,t,i,r){var f=v.empty;return n&&n[r]?f=v.localeFormat(u.AzureSubscriptionDisplayName,n[r].displayName,n[r].subscriptionId):!!t&&t[r]?f=v.localeFormat(u.AzureManagementGroupDisplayName,t[r].displayName,t[r].id):i&&i[r]&&(f=i[r].name),f},n.getEndpointAuthorizationScope=function(n,t){var u=this,r;return n?!this._endpointToScopeMap[n.toLocaleLowerCase()]?t!==null&&t!==undefined?(this._endpointToScopeMap[n.toLocaleLowerCase()]=t,i(t)):(r=v.empty,o.ConnectedServiceEndpointSource.instance().getServiceEndpoint(n).then(function(n){return r=u.getEndpointAuthorizationScopeFromEndpoint(n),u._endpointToScopeMap[n.id.toLocaleLowerCase()]=r,i(r)},function(n){return l.logError(n),i(r)})):i(this._endpointToScopeMap[n.toLocaleLowerCase()]):i(v.empty)},n.getEndpointAuthorizationScopeFromEndpoint=function(t){var i=v.empty;return t&&t.authorization&&t.authorization.parameters&&(i=t.authorization.parameters[n.scope]||t.authorization.parameters[n.Scope]||v.empty),i},n.getUserFriendlyAuthorizationScope=function(n){var i=n,t;return!n||(t=n.split("/"),v.equals(t[1],"subscriptions",!0)&&(t[7]?i=v.localeFormat(y.ARMEndpointScopeResource,t[7],t[4]):!t[4]||(i=v.localeFormat(y.ARMEndpointScopeResourceGroup,t[4])))),i},n.getARMServiceEndPoints=function(){return n._armServiceEndPoints},n._getAzureSubscriptions=function(t){return(!n._azureSubscriptions||t)&&(n._azureSubscriptions=o.ConnectedServiceEndpointSource.instance().beginGetAzureSubscriptions()),n._azureSubscriptions},n._getAzureManagementGroups=function(t){return(!n._azureManagementGroups||t)&&(n._azureManagementGroups=o.ConnectedServiceEndpointSource.instance().beginGetAzureManagementGroups()),n._azureManagementGroups},n._getARMServiceEndPoints=function(t,i){return(!n._armEndPoints||i)&&(this._endpointToScopeMap={},n._armEndPoints=o.ConnectedServiceEndpointSource.instance().getServiceEndpoints(f.ServiceEndpointType.AzureRM,t)),n._armEndPoints},n._getARMServiceEndpointTypes=function(){return o.ConnectedServiceEndpointSource.instance().getServiceEndpointTypes(f.ServiceEndpointType.AzureRM)},n._updateManagementGroupIds=function(n){for(var r,u,t=0,i=n.value;t<i.length;t++)r=i[t],u=r.id.split("/"),r.id=u[u.length-1]},n._endpointToScopeMap={},n.scope="scope",n.Scope="Scope",n}();t.AzureResourceManagerComponentUtility=w});

define("VSSPreview/Controls/GroupedComboBox",["require","exports","VSS/Controls/Combos","VSS/Controls","VSS/Utils/Array","VSS/Utils/UI","VSS/Controls/Virtualization"],function(n,t,i,r,u,f,e){var c,o,s,h;Object.defineProperty(t,"__esModule",{value:!0});t.GroupedDataSoure=t.GroupedVirtualizingListView=t.GroupedComboDropPopup=t.GroupedComboBehavior=void 0;c=function(n){function t(t,i){var r=n.call(this,t,$.extend({dropControlType:o},i))||this;return r._selectedIndex=-1,r}return __extends(t,n),t.registerBehavior=function(){i.Combo.registerBehavior("grouped",t)},t.prototype._createDataSource=function(){return new h(this._options)},t.prototype.setSource=function(t){n.prototype.setSource.call(this,t);this.getDataSource().updateSource(t)},t.prototype.getValue=function(){return this._selectedIndex>=0&&this._selectedIndex<this._dataSource.getCount()?this._dataSource.getItem(this._selectedIndex):null},t.prototype._dropSelectionChanged=function(t,i){this._setSelectedIndex(t,!0);this._selectedIndex>=0&&n.prototype._dropSelectionChanged.call(this,t,i)},t.prototype.keyDown=function(t){if(this._selectedIndex<0&&(t.keyCode===f.KeyCode.ENTER||t.keyCode===f.KeyCode.TAB)&&this.getDropPopup()!==null){var i=this._dataSource.getItemIndex(this.getText());i>=0&&this.getItemText(i)===this.getText()&&this._setSelectedIndex(i,!0)}return n.prototype.keyDown.call(this,t)},t.prototype._setSelectedIndex=function(t,i){this._selectedIndex=t;typeof this._options.indexChanged=="function"&&i&&this._options.indexChanged(t);t>=0&&n.prototype._setSelectedIndex.call(this,t,i)},t.prototype._filterData=function(n){this._selectedIndex=-1;n?this._dataSource.filterGroupedItems(n,this._options.startsWith):this._dataSource.resetFilter();this._options.enabled&&!this.isDropVisible()&&this.showDropPopup()},t.prototype.getItemText=function(n){return this._dataSource.indexIsGroupTitle(n)||typeof this._options.getItemText!="function"?this._dataSource.getItemText(n,!0):this._options.getItemText(this._dataSource.getItem(n,!0))},t.prototype.getSelectedIndex=function(){return this._selectedIndex},t}(i.ComboListBehavior);t.GroupedComboBehavior=c;o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype._initializeVirtualization=function(){this.virtualizingListView=r.Enhancement.enhance(s,this.getElement(),$.extend(i.extendWithout(this._options,["coreCssClass"]),{maxRowCount:this._options.dropCount}))},t}(i.ComboListDropPopup);t.GroupedComboDropPopup=o;s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype._drawItems=function(){var u,n,t,f;this._itemsContainer.empty();var i=this._firstVisible,r=Math.min(i+this.visibleRowCount,this._dataSource.getCount()),e=0,o=0;if(i>=r&&typeof this._options.emptyRenderer=="function"&&(u=$("<li/>").addClass(this._options.itemCss),u.append(this._options.emptyRenderer()),this._itemsContainer.append(u)),this._options.excludeGroupHeaderCount)for(n=i;n<r;n++)this._dataSource.indexIsGroupTitle(n)&&e++;for(n=i;n<r;n++)this._dataSource.indexIsGroupTitle(n)?(f=this._dataSource.getItemText(n)||"",t=$("<li/>").addClass(this._options.itemCss),typeof this._options.groupRenderer=="function"?t.append(this._options.groupRenderer(this._dataSource.getItem(n))):t.text(f).attr("title",f),this._options.excludeGroupHeaderCount&&o++):(t=this._createItem(n,e,o),this._options.getItemContents&&t.removeAttr("title"),t.data("index",n)),this._itemsContainer.append(t),this._updateItemStyles();this._enableMouseOver=!1},t}(e.VirtualizingListView);t.GroupedVirtualizingListView=s;h=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._originalSource=i._options.source,i}return __extends(t,n),t.prototype.prepareSource=function(n){var i=this,t=[];this._groupTitleIndexes=[];Array.isArray(n)&&n.forEach(function(n){t.push(n.title);i._groupTitleIndexes[t.length-1]=!0;t=t.concat(n.items)});this.setItems(t)},t.prototype.updateSource=function(n){this._originalSource=n||[]},t.prototype.indexIsGroupTitle=function(n){return this._groupTitleIndexes[n]},t.prototype.filterGroupedItems=function(n,t){var i=this,e=this._originalSource,f=[];e.forEach(function(e){var s=new r.BaseDataSource({source:e.items,compareInputToItem:i._options.compareInputToItem,comparer:i._options.comparer}),o=s.getItemIndexes(n,t);o.length>0&&f.push({title:e.title,items:e.items.filter(function(n,t){return u.contains(o,t)})})});this.setSource(f)},t.prototype.resetFilter=function(){this.setSource(this._originalSource)},t.prototype.nextIndex=function(n,t,i){var u=this.getCount(i),r;if(u<1)return-1;if(n<0)for(r=0;this.indexIsGroupTitle(r);)r++;else r=t>0?Math.min(u-1,n+t):Math.max(0,n+t);if(t>0)while(this.indexIsGroupTitle(r))r++;else while(this.indexIsGroupTitle(r))r--;return r<0||r>=u?-1:r},t}(r.BaseDataSource);t.GroupedDataSoure=h});

define("DistributedTaskControls/SharedControls/InputControls/Components/AzureResourceManagerInputCombo",["require","exports","DistributedTasksCommon/TFS.Tasks.Utils","DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary","DistributedTaskControls/Common/Utilities","DistributedTaskControls/SharedControls/InputControls/Components/AzureResourceManagerComponentUtility","DistributedTaskControls/Components/FetchingCombo","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSSPreview/Controls/GroupedComboBox","VSS/Controls","VSS/Utils/String","VSS/Flux/PlatformComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});t.AzureResourceManagerInputCombo=void 0;var a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._source=[],t._azureSubscriptions={},t._azureManagementGroups={},t._endpoints={},t}return __extends(t,n),t.prototype.createControl=function(n){if(!this._control){s.GroupedComboBehavior.registerBehavior();return h.BaseControl.createIn(e.FetchingCombo,n,this._getGroupedComboBoxOptions())}},t.prototype.componentDidMount=function(){this._updateAriaAttributes()},t.prototype.componentWillReceiveProps=function(n){var t=n.disabled;this._control&&this._control.setEnabled(!t)},t.prototype.setText=function(n){this._control.getText()!==n&&this._control.setText(n)},t.prototype.getText=function(){return this._control.getText()},t.prototype._getGroupedComboBoxOptions=function(){var n=this;return{type:"grouped",id:"ConnectedServiceAzureRMInputDefinition",allowEdit:!0,enabled:!this.props.disabled,required:!!this.props.required,value:"",source:this._source,enableFilter:!0,autoComplete:!0,dropOptions:{getItemContents:function(t){return t?c.htmlEncode(f.AzureResourceManagerComponentUtility.getDisplayText(n._azureSubscriptions,n._azureManagementGroups,n._endpoints,t)):""},emptyRenderer:function(){var t=!n._source||n._source.length===0?o.NoSubscriptionFound:r.NoMatchingSubscriptionFound;return $("<div/>").addClass("group-combo-no-data-message").text(t)},groupRenderer:function(n){return $("<div/>").addClass("group-combo-title").text(n)},itemCss:"group-combo-text-item",excludeGroupHeaderCount:!0},getItemText:function(t){return t?f.AzureResourceManagerComponentUtility.getDisplayText(n._azureSubscriptions,n._azureManagementGroups,n._endpoints,t):""},compareInputToItem:function(t,i){var r=n._control&&n._control.getValue(),u=f.AzureResourceManagerComponentUtility.getDisplayText(n._azureSubscriptions,n._azureManagementGroups,n._endpoints,t);if(u!==c.empty)if(r){if(r===t)return 0}else return c.localeIgnoreCaseComparer(i,u.substr(0,i.length));return-1},refreshData:function(){return n.props.onRefresh()},change:function(){n._onChange(!1)},indexChanged:function(t){t!==-1&&n._onChange(!0)},ariaAttributes:this.props.ariaAttributes}},t.prototype.updateSource=function(n){n.options&&this._control.removeLoadingComponent();this._source=n.options||[];this._endpoints=n.endpoints||{};this._azureSubscriptions=n.azureSubscriptions||{};this._azureManagementGroups=n.azureManagementGroups||{};this._clearSourceIfEmpty();this._control.setSource(this._source);this._updateText(n.value)},t.prototype._clearSourceIfEmpty=function(){Object.keys(this._endpoints).length===0&&Object.keys(this._azureSubscriptions).length===0&&(this._source=[])},t.prototype._updateText=function(n){var t=n,r=this._endpoints[t]?this._endpoints[t].name:i.VariableExtractor.containsVariable(t)||u.DtcUtils.containsProcessParameter(t)?t:"";!r||this._control.setText(r)},t.prototype._onChange=function(n){var t=this._control.getText(),r=this._control.getValue(),h=c.empty,l=null,a=null,e,o,s;if(n&&!!r?(e=this._azureSubscriptions&&this._azureSubscriptions[r],o=this._azureManagementGroups&&this._azureManagementGroups[r],s=this._endpoints&&this._endpoints[r]):(e=f.AzureResourceManagerComponentUtility.getSubscriptionByName(this._azureSubscriptions,t),o=f.AzureResourceManagerComponentUtility.getManagementGroupByName(this._azureManagementGroups,t),s=f.AzureResourceManagerComponentUtility.getEndpointByName(this._endpoints,t)),e?l=e:o?a=o:s?h=s.id:(i.VariableExtractor.containsVariable(t)||u.DtcUtils.containsProcessParameter(t))&&(h=t),this.props.onChanged)this.props.onChanged(h,l,a)},t.prototype._updateAriaAttributes=function(){this._control&&this.props.ariaAttributes&&this._control.getInput().attr({"aria-describedby":this.props.ariaAttributes.describedby})},t}(l.Component);t.AzureResourceManagerInputCombo=a});

define("DistributedTaskControls/SharedControls/InputControls/Components/ARMInputActions",["require","exports","DistributedTaskControls/Common/Actions/Base","VSS/Flux/Action"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.ARMInputActions=void 0;var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updateText=new r.Action;this._updateSubscription=new r.Action;this._updateManagementGroup=new r.Action;this._updateAuthorizationState=new r.Action;this._showAddServiceEndpointLink=new r.Action;this._updateEndpointAuthorizationScope=new r.Action;this._updateEndpoints=new r.Action},t.getKey=function(){return"CI.ARMInputActions"},Object.defineProperty(t.prototype,"UpdateText",{get:function(){return this._updateText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"UpdateSubscription",{get:function(){return this._updateSubscription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"UpdateManagementGroup",{get:function(){return this._updateManagementGroup},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"UpdateEndpoints",{get:function(){return this._updateEndpoints},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"UpdateAuthorizationState",{get:function(){return this._updateAuthorizationState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ShowAddServiceEndpointLink",{get:function(){return this._showAddServiceEndpointLink},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"UpdateEndpointAuthorizationScope",{get:function(){return this._updateEndpointAuthorizationScope},enumerable:!1,configurable:!0}),t}(i.ActionsHubBase);t.ARMInputActions=u});

define("DistributedTaskControls/SharedControls/InputControls/Components/ARMInputStore",["require","exports","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/SharedControls/InputControls/Components/ARMInputActions"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.ARMInputStore=void 0;var e=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleUpdateText=function(n){t._state.text=n;t.emitChanged()},t._handleUpdateSubscription=function(n){t._state.subscription=n;t.emitChanged()},t._handleUpdateManagementGroup=function(n){t._state.managementGroup=n;t.emitChanged()},t._handleUpdateAuthorizeButtonState=function(n){t._state.enableAuthorize=n.enableAuthorize;t._state.showAuthorize=n.showAuthorize;t._state.authInProgress=n.authInProgress;t.emitChanged()},t._handleShowAddServiceEndpointLink=function(n){t._state.showAddServiceEndpointLink=n;t.emitChanged()},t._handleUpdateEndpointAuthorizationScope=function(n){t._state.authorizationScope=n;t.emitChanged()},t._handleUpdateEndpoints=function(n){t._state.endpoints=n;t.emitChanged()},t._state={text:"",subscription:null,managementGroup:null,showAuthorize:!1,enableAuthorize:!1,authInProgress:!1,showAddServiceEndpointLink:!1,endpoints:{}},t}return __extends(t,n),t.prototype.getState=function(){return this._state},t.getKey=function(){return u.StoreKeys.ARMInputStore},t.prototype.initialize=function(n){this._actions=r.ActionsHubManager.GetActionsHub(f.ARMInputActions,n);this._actions.UpdateText.addListener(this._handleUpdateText);this._actions.UpdateSubscription.addListener(this._handleUpdateSubscription);this._actions.UpdateManagementGroup.addListener(this._handleUpdateManagementGroup);this._actions.UpdateAuthorizationState.addListener(this._handleUpdateAuthorizeButtonState);this._actions.ShowAddServiceEndpointLink.addListener(this._handleShowAddServiceEndpointLink);this._actions.UpdateEndpointAuthorizationScope.addListener(this._handleUpdateEndpointAuthorizationScope);this._actions.UpdateEndpoints.addListener(this._handleUpdateEndpoints)},t.prototype.disposeInternal=function(){this._actions.UpdateText.removeListener(this._handleUpdateText);this._actions.UpdateSubscription.removeListener(this._handleUpdateSubscription);this._actions.UpdateManagementGroup.removeListener(this._handleUpdateManagementGroup);this._actions.UpdateAuthorizationState.removeListener(this._handleUpdateAuthorizeButtonState);this._actions.ShowAddServiceEndpointLink.removeListener(this._handleShowAddServiceEndpointLink);this._actions.UpdateEndpointAuthorizationScope.removeListener(this._handleUpdateEndpointAuthorizationScope);this._actions.UpdateEndpoints.removeListener(this._handleUpdateEndpoints)},t}(i.StoreBase);t.ARMInputStore=e});

define("DistributedTaskControls/SharedControls/InputControls/Components/ARMInputActionsCreator",["require","exports","q","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/SharedControls/InputControls/Components/ARMInputActions","DistributedTaskControls/SharedControls/InputControls/Components/AzureResourceManagerComponentUtility"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.ARMInputActionsCreator=void 0;var s=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t.updateEndpointAuthorizationScope=function(n,r){var u=t._currentGetEndpointAuthorizationScopePromise=o.AzureResourceManagerComponentUtility.getEndpointAuthorizationScope(n,r);return u.then(function(n){return t._currentGetEndpointAuthorizationScopePromise===u&&t._actions.UpdateEndpointAuthorizationScope.invoke(n),i.resolve(n)})},t}return __extends(t,n),t.getKey=function(){return f.ActionCreatorKeys.ARMInputActionsCreator},t.prototype.initialize=function(n){this._actions=u.ActionsHubManager.GetActionsHub(e.ARMInputActions,n)},t.prototype.updateText=function(n){this._actions.UpdateText.invoke(n)},t.prototype.updateSubscription=function(n){this._actions.UpdateSubscription.invoke(n)},t.prototype.updateManagementGroup=function(n){this._actions.UpdateManagementGroup.invoke(n)},t.prototype.updateEndpoints=function(n){this._actions.UpdateEndpoints.invoke(n)},t.prototype.updateAuthorizationState=function(n){this._actions.UpdateAuthorizationState.invoke(n)},t.prototype.showAddServiceEndpointLink=function(n){this._actions.ShowAddServiceEndpointLink.invoke(n)},t}(r.ActionCreatorBase);t.ARMInputActionsCreator=s});

define("DistributedTaskControls/SharedControls/InputControls/Components/AzureResourceManagerInputComponent",["require","exports","react","q","DistributedTasksCommon/ServiceEndpoints/ServiceEndpoint.Common","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/AzureResourceManagerInputCombo","DistributedTaskControls/SharedControls/InputControls/Components/AzureResourceManagerComponentUtility","DistributedTaskControls/SharedControls/InputControls/Components/AzureRmComponentUtilityConstants","DistributedTaskControls/SharedControls/InputControls/Components/RequiredIndicator","DistributedTaskControls/SharedControls/InputControls/Components/ARMInputStore","DistributedTaskControls/SharedControls/InputControls/Components/ARMInputActionsCreator","DistributedTaskControls/Components/ManageLink","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/Common","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Button","OfficeFabric/Icon","OfficeFabric/Utilities","DistributedTasksCommon/TFS.Tasks.Utils","VSS/FeatureAvailability/Services","VSS/Diag","VSS/VSS","VSS/Utils/Core","VSS/Utils/String","VSS/Controls/Dialogs","VSS/LWP","DistributedTaskControls/Common/Utilities","VSSUI/Tooltip","VSSPreview/Flux/Components/LWP","DistributedTaskControls/Components/Task/ServiceEndpointFilterHelper","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/FabricStyleOverrides","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/ComboBox","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/AzureResourceManagerInputComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt){var yt,pt;Object.defineProperty(t,"__esModule",{value:!0});t.AzureRMInputBaseComponent=t.AzureResourceManagerInputComponent=void 0;yt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getType=function(){return o.InputControlType.INPUT_TYPE_AZURE_RESOURCE_MANAGER},t.prototype.getControl=function(){return ut.logVerbose("[AzureConnectionInputComponent.getControl]: Method called."),i.createElement(pt,{properties:this.props.properties,label:this.props.label,required:this.props.required,disabled:this.props.disabled,value:this.getInputStateValue(),onValueChanged:this.onValueChanged,instanceId:this.props.instanceId,authSchemes:this.props.authSchemes,ariaLabelledBy:this.props.ariaLabelledBy||this.getInputFieldLabelElementId(),ariaDescribedBy:this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId(),ariaLabel:this.props.ariaLabel,onNotifyValidationResult:this.props.onNotifyValidationResult,taskInputToValueMap:this.props.taskInputToValueMap})},t.prototype.getAdditonalLabelControls=function(){var n={manageLinkType:y.ManageLinkType.EndPoint,displaySeperator:!0,resourceId:this.state.value,label:this.props.label};return i.createElement(y.ManageLink,__assign({},n))},t.prototype.getInputStateValue=function(){var u=this,r=this.props.properties,n=!r?null:r[c.AzureRmComponentUtilityConstants.EndpointFilterRule],t,i;return it.VariableExtractor.containsVariable(this.state.value)?this.state.value:(t=!1,!!n&&n.toLowerCase().indexOf(c.AzureRmComponentUtilityConstants.deploymentScope)!==-1&&(i=vt.ServiceEndpointFilterHelper.getFilteredObjects(n,h.AzureResourceManagerComponentUtility.getARMServiceEndPoints(),this.props.taskInputToValueMap),!!i&&(i.forEach(function(n){u.state.value===n.id&&(t=!0)}),!t)))?"":this.state.value},t}(e.InputBase);t.AzureResourceManagerInputComponent=yt;pt=function(n){function t(t){var r=__construct(this,n,[t]);for(var f in r)r.hasOwnProperty(f)&&(this[f]=r[f]);return r._hideNewConnectionPanel=function(){r.setState({showNewConnectionControl:!1})},r._onStoreChanged=function(){var n=r._store.getState();r.setState(n)},r._getDescription=function(){var n=null,t=r._getAuthScheme(),f=r._getScopeLevelDescription();return t&&t===u.EndpointAuthorizationSchemes.ManagedServiceIdentity?n=d.MSIResourceMissingWarning:r.state.authorizationScope?n=h.AzureResourceManagerComponentUtility.getUserFriendlyAuthorizationScope(r.state.authorizationScope):!f||(n=ot.localeFormat(d.ARMEndpointScope,f)),!n?void 0:i.createElement("div",{className:"azurerm-combo-description",id:r.azureResourceManagerDescriptionID},i.createElement(nt.Icon,{iconName:"Info",className:"azurerm-combo-description-icon"}),n)},r._getAuthScheme=function(){var t=r._store.getState().endpoints,i=null,n;return t&&(n=t[r.props.value],n&&n.authorization&&n.authorization.scheme&&(i=n.authorization.scheme)),i},r._getErrorMessage=function(){return r.state.authInProgress?d.AuthorizationInprogressInfoMessage:r._selectedSubscription?d.ClickAuthorizeHelpText:r._selectedManagementGroup?d.ClickAuthorizeHelpTextForManagementGroup:r.props.required&&r.props.value===ot.empty&&r._store.getState().text!==""?d.RequiredInputInValidMessage:r.props.required&&r.props.value===ot.empty?d.RequiredInputErrorMessage:ot.empty},r._onRefreshClick=function(n){r._onRefresh(n);et.delay(r,500,function(){r._optionsRefreshed||r.setState({showLoadingIcon:!0})})},r._onRefresh=function(){r._refresh(!0)},r._onChanged=function(n,t,i){if(t?(r._armInputActionsCreator.updateAuthorizationState({showAuthorize:!0,enableAuthorize:!0,authInProgress:!1}),r._debouncedUpdateEndpointAuthorizationScope(ot.empty),r._selectedSubscription=t,r._selectedManagementGroup=null):i?(r._armInputActionsCreator.updateAuthorizationState({showAuthorize:!0,enableAuthorize:!0,authInProgress:!1}),r._debouncedUpdateEndpointAuthorizationScope(ot.empty),r._selectedManagementGroup=i,r._selectedSubscription=null,r._armInputActionsCreator.updateManagementGroup(r._selectedManagementGroup)):(r._armInputActionsCreator.updateAuthorizationState({showAuthorize:!1,enableAuthorize:!1,authInProgress:!1}),r._debouncedUpdateEndpointAuthorizationScope(n),r._selectedManagementGroup=null,r._selectedSubscription=null),r._armInputActionsCreator.updateSubscription(r._selectedSubscription),r._armInputActionsCreator.updateText(r._armInputComboControl.getText()),r.props.onValueChanged)r.props.onValueChanged(n)},r._onAuthorizeClick=function(){r._armInputActionsCreator.updateAuthorizationState({showAuthorize:!0,enableAuthorize:!1,authInProgress:!0});h.AzureResourceManagerComponentUtility.createServiceEndpoint(r._selectedSubscription,r._selectedManagementGroup,function(){return}).then(function(n){h.AzureResourceManagerComponentUtility.getConnectedServiceAzureRMOptions(n.id,r.props.authSchemes,!0,!0,r.props.properties).then(function(n){if(r._selectedSubscription?(r._selectedSubscription=null,r._armInputActionsCreator.updateSubscription(r._selectedSubscription)):r._selectedManagementGroup&&(r._selectedManagementGroup=null,r._armInputActionsCreator.updateManagementGroup(r._selectedManagementGroup)),r._armInputComboControl&&r._armInputComboControl.updateSource(n),r._armInputActionsCreator.updateAuthorizationState({showAuthorize:!1,enableAuthorize:!1,authInProgress:!1}),r.props.onValueChanged)r.props.onValueChanged(n.value);r._armInputActionsCreator.updateEndpoints(n.endpoints)})},function(n){ut.logError(n);!n||ft.handleError({name:"",message:d.EndpointCreationOperationFailed,stack:n});r._armInputActionsCreator.updateAuthorizationState({showAuthorize:!0,enableAuthorize:!0,authInProgress:!1})})},r._onAddServiceEndpoint=function(){r._isNewServiceConnectionsUIEnabled?r.setState({showNewConnectionControl:!0}):(r._publishaddServiceEndPointTelemetry(u.ServiceEndpointType.AzureRM),ft.using(["DistributedTasksCommon/ServiceEndpoints/AzureRMEndpointsManageDialog","DistributedTasksCommon/TFS.Knockout.CustomHandlers"],function(n,t){t.initKnockoutHandlers();var i=new n.AddAzureRmEndpointsModel(r._endpointCreatedSuccessCallback,{spnCreateMethod:n.SpnCreateMethod.Manual});st.show(n.AddAzureRmEndpointsDialog,i)}))},r._onClickAdvancedOptions=function(){ft.using(["DistributedTasksCommon/ServiceEndpoints/AzureRMEndpointsManageDialog","DistributedTasksCommon/TFS.Knockout.CustomHandlers"],function(n,t){t.initKnockoutHandlers();var i=new n.AddAzureRmEndpointsModel(r._endpointCreatedSuccessCallback,{spnCreateMethod:n.SpnCreateMethod.Automatic});i.name(r.state.text);i.tenantId(r.state.subscription.subscriptionTenantId);i.subscriptionId(r.state.subscription.subscriptionId);i.subscriptionName(r.state.subscription.displayName);st.show(n.AddAzureRmEndpointsDialog,i)})},r._endpointCreatedSuccessCallback=function(n){n&&n.id&&(h.AzureResourceManagerComponentUtility.getConnectedServiceAzureRMOptions(n.id,r.props.authSchemes,!1,!0,r.props.properties).then(function(t){var i;if(r._selectedSubscription?(r._selectedSubscription=null,r._armInputActionsCreator.updateSubscription(r._selectedSubscription),r._armInputActionsCreator.updateAuthorizationState({showAuthorize:!1,enableAuthorize:!1,authInProgress:!1}),r._armInputActionsCreator.updateText(n.name),i=h.AzureResourceManagerComponentUtility.getEndpointAuthorizationScopeFromEndpoint(n),r._armInputActionsCreator.updateEndpointAuthorizationScope(n.id,i)):r._selectedManagementGroup&&(r._selectedManagementGroup=null,r._armInputActionsCreator.updateManagementGroup(r._selectedManagementGroup),r._armInputActionsCreator.updateAuthorizationState({showAuthorize:!1,enableAuthorize:!1,authInProgress:!1}),r._armInputActionsCreator.updateText(n.name),i=h.AzureResourceManagerComponentUtility.getEndpointAuthorizationScopeFromEndpoint(n),r._armInputActionsCreator.updateEndpointAuthorizationScope(n.id,i)),r._armInputComboControl&&r._armInputComboControl.updateSource(t),r.props.onValueChanged)r.props.onValueChanged(t.value);r._armInputActionsCreator.updateEndpoints(t.endpoints)}),r.state.showNewConnectionControl&&r._hideNewConnectionPanel())},r._optionsRefreshed=!1,r._createPanelContentType="EndpointAuthSchemes",r.azureResourceManagerDescriptionID="azure-resource-manager-status",r._isNewServiceConnectionsUIEnabled=ct.DtcUtils.isNewServiceConnectionUXEnabled()&&rt.FeatureAvailabilityService.isFeatureEnabled(k.FeatureFlag_EnableNewUIForAzureRMEndpoint,!1),r}return __extends(t,n),t.prototype.componentWillMount=function(){var n=this.props.instanceId;this._store=p.StoreManager.GetStore(a.ARMInputStore,n);this._armInputActionsCreator=w.ActionsHubManager.GetActionsHub(v.ARMInputActionsCreator,n);this._debouncedUpdateEndpointAuthorizationScope=(new tt.Async).debounce(this._armInputActionsCreator.updateEndpointAuthorizationScope,1e3)},t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._selectedSubscription=this._store.getState().subscription;this._selectedManagementGroup=this._store.getState().managementGroup;this._armInputComboControl.setText(this._store.getState().text);this.setState(this._store.getState());this._store.addChangedListener(this._onStoreChanged);this._refresh(!1)},t.prototype.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this);this._store.removeChangedListener(this._onStoreChanged)},t.prototype.render=function(){var n=this,t={label:this.props.ariaLabel,labelledby:this.props.ariaLabelledBy,describedby:this.props.ariaDescribedBy+" "+this.azureResourceManagerDescriptionID},r=this.state.showLoadingIcon?"bowtie-icon bowtie-spinner":"azure-manager-input-refresh-icon",u=tt.css({Refresh:!this.state.showLoadingIcon}),f=!this.state.authInProgress?"":"required-indicator-info-message";return i.createElement("div",null,i.createElement("div",{className:"azurerm-combo-container"},i.createElement("div",{className:"azurerm-combo-dropdown"},i.createElement(l.Component,{value:this.props.value,onGetErrorMessage:this._getErrorMessage,cssClass:f,onNotifyValidationResult:this.props.onNotifyValidationResult},i.createElement("div",{className:"bowtie fabric-style-overrides input-field-picklist"},i.createElement(s.AzureResourceManagerInputCombo,{ref:function(t){n._armInputComboControl=t},disabled:this.props.disabled,required:this.props.required,onChanged:function(t,i,r){n._onChanged(t,i,r)},ariaAttributes:t,onRefresh:function(){return n._refresh(!1)}})),this._getDescription())),i.createElement("div",{className:"input-control-buttons arm-input-buttons"},this.state.showAuthorize&&!this.props.disabled&&i.createElement(g.PrimaryButton,{disabled:this.props.disabled||!this.state.enableAuthorize,onClick:function(t){return n._onAuthorizeClick(t)},className:tt.css("fabric-style-overrides","input-control-primary-button"),ariaLabel:this._getAuthorizeButtonText(),"aria-disabled":this.props.disabled||!this.state.enableAuthorize,split:!0,menuProps:{items:[{key:"advancedOptions",name:d.ARMEndpointAdvancedOptions,iconProps:{iconName:"settings"},onClick:this._onClickAdvancedOptions}]}},!!this.state.authInProgress&&i.createElement("span",{className:"bowtie-icon bowtie-spinner"}),this._getAuthorizeButtonText()),!this.props.disabled&&i.createElement(lt.TooltipHost,{content:ot.localeFormat(d.RefreshInputDescription,this.props.label)},i.createElement(g.IconButton,{disabled:this.props.disabled,onClick:function(t){return n._onRefreshClick(t)},iconProps:{iconName:u,className:r},className:tt.css("input-control-icon-button","fabric-style-overrides","icon-button-override"),ariaLabel:d.Refresh,ariaDescription:ot.localeFormat(d.RefreshInputDescription,this.props.label),"aria-disabled":this.props.disabled})),this.state.showAddServiceEndpointLink&&!this.props.disabled&&i.createElement(g.CommandButton,{disabled:this.props.disabled,onClick:this._onAddServiceEndpoint,iconProps:{iconName:"Add"},className:tt.css("input-control-icon-button","fabric-style-overrides","command-button-override"),ariaLabel:d.New,ariaDescription:ot.localeFormat(d.AddInputDescription,this.props.label),"aria-disabled":this.props.disabled},d.New))),this._getNewServiceConnectionCreatePanel())},t.prototype._getNewServiceConnectionCreatePanel=function(){var t=this,n;return this._isNewServiceConnectionsUIEnabled&&this.state.showNewConnectionControl?(n={onDismiss:this._hideNewConnectionPanel,onPrimaryAction:function(n){t._endpointCreatedSuccessCallback(n)},contentType:this._createPanelContentType,panelTitle:d.ServiceConnectionCreatePanelTitle,endpointType:this.state.endpointType,hideBackButton:!0},i.createElement(at.LWPComponent,__assign({wrappedType:"endpoints-editor-panel",dependencies:["ms.vss-distributedtask-web.dt-serviceendpoints-editor"]},n))):null},t.prototype._getScopeLevelDescription=function(){var r=this._store.getState().endpoints,u="subscription",i=u,n,f,t;return r&&(n=r[this.props.value],n&&n.data&&n.data.scopeLevel&&n.data.creationMode&&(i=n.data.scopeLevel,f=n.data.creationMode,t=null,t=ot.equals(i,u,!0)?ot.equals(f,"automatic",!0)?n.data.subscriptionName:null:n.data.managementGroupName,!!t))?ot.localeFormat("{0} '{1}'",i.toLocaleLowerCase(),t):null},t.prototype._refresh=function(n){var t=this,i=r.defer();return this._optionsRefreshed=!1,h.AzureResourceManagerComponentUtility.getConnectedServiceAzureRMOptions(this.props.value,this.props.authSchemes,n,n,this.props.properties,this.props.taskInputToValueMap).then(function(n){if(i.resolve(null),t._optionsRefreshed=!0,t.setState({showLoadingIcon:!1,endpointType:n.endpointType}),t._armInputActionsCreator.showAddServiceEndpointLink(n.showAddServiceEndpointLink),t._armInputComboControl){if(t._armInputComboControl.updateSource(n),t.props.value!==n.value)t.props.onValueChanged(n.value);t._armInputActionsCreator.updateEndpoints(n.endpoints);t._armInputActionsCreator.updateEndpointAuthorizationScope(n.value)}},function(n){t._optionsRefreshed=!0;i.reject(n);t.setState({showLoadingIcon:!1})}),i.promise},t.prototype._getAuthorizeButtonText=function(){return!this.state.authInProgress?d.Authorize:d.Authorizing},t.prototype._publishaddServiceEndPointTelemetry=function(n){var t={};t[b.Properties.ServiceEndpointType]=n;b.Telemetry.instance().publishEvent(b.Feature.AddServiceConnection,t)},t}(f.Component);t.AzureRMInputBaseComponent=pt;ht.registerLWPComponent("azureResourceManagerInputComponent",yt)});

define("DistributedTaskControls/SharedControls/InputControls/Components/BooleanInputComponent",["require","exports","react","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","VSSUI/Checkbox","OfficeFabric/Utilities","VSS/Diag"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.BooleanInputComponent=void 0;var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onChanged=function(n,i){t.onValueChanged(i);o.logVerbose("[BooleanInputComponent._onChanged]: new value"+i)},t}return __extends(t,n),t.prototype.getType=function(){return r.InputControlType.INPUT_TYPE_BOOLEAN},t.prototype.setFocus=function(){this._checkbox&&this._checkbox.focus()},t.prototype.getControl=function(){var n=this;return o.logVerbose("[BooleanInputComponent.getControl]: Method called."),i.createElement(f.Checkbox,{ref:function(t){n._checkbox=t},id:this.getInputFieldControlElementId(),className:this.props.cssClass,label:this.props.label,checked:this.state.value,onChange:this._onChanged,disabled:this.props.disabled,ariaLabel:this.props.ariaLabel,ariaLabelledBy:this.props.ariaLabelledBy,ariaDescribedBy:this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId(!1,!1)})},t.prototype.getInputClassName=function(){return e.css(n.prototype.getInputClassName.call(this),"bowtie-fabric")},t.prototype.hasLabel=function(){return!1},t.prototype.addLabelControl=function(){return!1},t}(u.InputBase);t.BooleanInputComponent=s});

define("DistributedTaskControls/SharedControls/InputControls/Components/EditorExtensionButtonComponent",["require","exports","react","DistributedTasksCommon/TFS.Tasks.Models","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Diag","VSS/SDK/Shim","VSS/Utils/String","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/Sources/ContributionSource","OfficeFabric/Button","OfficeFabric/Utilities","VSSUI/Tooltip","VSS/Telemetry/Services"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});t.EditorExtensionButtonComponent=void 0;var p=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.state={showButton:!1},!i.props.properties||(i._contributionId=i.props.properties[h.InputControlType.INPUT_CONTROL_EDITOR_EXTENSION]),i}return __extends(t,n),t.prototype.componentDidMount=function(){var t=this;n.prototype.componentDidMount.call(this);this._componentMounted=!0;!this._contributionId||c.ContributionSource.instance().getAllEditorExtensions().then(function(n){var i=!1,r=n.filter(function(n){return o.ignoreCaseComparer(n.id,t._contributionId)===0});r.length>0&&(i=!0);t._componentMounted&&t.setState({showButton:i})},function(){t._componentMounted&&t.setState({showButton:!1})})},t.prototype.componentWillUnmount=function(){this._componentMounted=!1},t.prototype.render=function(){return f.logVerbose("[EditorExtensionButtonComponent.render]: Method called."),this.state.showButton?i.createElement("div",{className:"input-control-buttons"},i.createElement(v.TooltipHost,{content:o.localeFormat(u.EditorExtensionButtonAriaLabel,this.props.label)},i.createElement(l.IconButton,{className:a.css("input-control-icon-button","fabric-style-overrides","icon-button-override"),iconProps:{iconName:"More"},ariaDescription:o.localeFormat(u.EditorExtensionButtonAriaLabel,this.props.label),ariaLabel:u.InputsEditorExtensionLabel,onClick:this._openDialog()}))):null},t.prototype._openDialog=function(){var n=this;return f.logVerbose("[EditorExtensionButtonComponent.render]: Method called."),function(){var t=n.props.inputDefinition.name,s=n.props.inputDefinition.label||u.InputsEditorExtensionLabel,i=n.props.getAllInputValues(),h=n.props.taskDelegates,c=n.props.onOkCallback,l=i[t],f=n._contributionId;e.VSS.getService("ms.vss-web.dialog-service").then(function(e){var a,v;y.publishEvent(new y.TelemetryEventData(r.CustomerIntelligenceInfo.Area,r.CustomerIntelligenceInfo.FeatureInputEditorExtension,{extensionId:n._contributionId,TaskInputEditorExtensionClick:1,editorType:"NewEditor"}));v={title:s,resizable:!1,modal:!0,height:600,width:550,cancelText:u.CancelButtonText,okText:u.OK,getDialogResult:function(){return a&&a.onOkClicked?a.onOkClicked():l},okCallback:function(n){this.modal=!1;c(n)},close:function(){a&&a.onCloseDialog&&a.onCloseDialog()},defaultButton:o.empty};e.openDialog(f,v,{target:t,inputValues:i,extensionDelegates:h}).then(function(n){n.getContributionInstance(f).then(function(t){t&&t.onOkClicked?(a=t,n.updateOkButton(!0)):(n.setTitle(u.ErrorWhileOpeningEditorExtension),n.updateOkButton(!1))},function(){n.setTitle(u.ErrorWhileOpeningEditorExtension);n.updateOkButton(!1)})})})}},t}(s.Component);t.EditorExtensionButtonComponent=p});

define("DistributedTaskControls/SharedControls/InputControls/Components/MultilineInputComponent",["require","exports","react","DistributedTaskControls/Common/Utilities","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/TextInputComponentBase","DistributedTaskControls/SharedControls/InputControls/Components/ValidatableTextField","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Common/ClipboardUtils","VSS/Diag","VSS/Controls/Dialogs","VSS/Utils/Core","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){Object.defineProperty(t,"__esModule",{value:!0});t.MultiLineInputComponent=void 0;var v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.onNotifyValidationResult=function(n,i){if(t.props.onNotifyValidationResult)t.props.onNotifyValidationResult(n,i)},t._handlePaste=function(n){var i=s.ClipboardUtils.getPastedText(n);i&&t._maxLength&&i.length>t._maxLength&&t._showWarningMessage()},t._defaultNumOfRows=2,t}return __extends(t,n),t.prototype.getType=function(){return u.InputControlType.INPUT_TYPE_MULTI_LINE},t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);var t=n.prototype.getContainer.call(this);t&&(this._input=t.querySelector("textarea"),this._input&&(this._input.addEventListener("paste",this._handlePaste),this._input.setAttribute("aria-describedby",this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId())))},t.prototype.componentWillUnmount=function(){this._input&&this._input.removeEventListener("paste",this._handlePaste);n.prototype.componentWillUnmount.call(this)},t.prototype.getControl=function(n,t){h.logVerbose("[MultiLineInputComponent.getControl]: Method called.");var u=this._defaultNumOfRows,f,s=n==null?this.state.value:n,o=!!t||this.props.disabled;return this.props.properties&&(u=parseInt(this.props.properties.rows,10),f={resize:r.DtcUtils.getBoolValue(this.props.properties.resizable)?"vertical":"none",pointerEvents:"auto"},this._maxLength=parseInt(this.props.properties.maxLength,10)),i.createElement(e.ValidatableTextField,{id:this.getInputFieldControlElementId(),"aria-labelledby":this.props.ariaLabelledBy||this.getInputFieldLabelElementId(),"aria-describedby":this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId(),"aria-required":this.props.required,multiline:!0,resizable:this.props.isNotResizable?!1:!0,value:s,onChanged:this.onValueChanged,onGetErrorMessage:this.getErrorMessage,rows:isNaN(u)?this._defaultNumOfRows:u,maxLength:isNaN(this._maxLength)?null:this._maxLength,style:f,disabled:o,"aria-disabled":o,onNotifyValidationResult:this.onNotifyValidationResult})},t.prototype._showWarningMessage=function(){var n=this;l.delay(this,0,function(){var t={title:o.WarningText,buttons:[{id:"ok-button",text:o.OK}]};c.showMessageDialog(a.localeFormat(o.PastedContentClippedText,n._maxLength),t)})},t}(f.TextInputComponentBase);t.MultiLineInputComponent=v});

define("DistributedTaskControls/SharedControls/InputControls/Components/MultilineInputWithEditorExtensionComponent",["require","exports","react","q","DistributedTaskControls/SharedControls/InputControls/Components/EditorExtensionButtonComponent","DistributedTaskControls/SharedControls/InputControls/Components/MultilineInputComponent","VSS/Diag","VSS/VSS"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.MultilineInputWithEditorExtensionComponent=void 0;var s=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.onNotifyValidationResult=function(n){if(i.props.onNotifyValidationResult)i.props.onNotifyValidationResult(n,i.state.value)},i.onValueChanged=function(n){i._updateDisplayTextValue(n);i.props.onValueChanged(n)},i._updateDisplayTextValue=function(n){var t=i.state,r=!(n==null),u;if(t.value=r?n:t.value,i._displayFormat)try{u=JSON.parse(t.value);i._resolveTemplateString(i._displayFormat,u).then(function(n){t.formattedDisplayValue=n;i._setStateSafely(t)},function(){t.formattedDisplayValue=t.value;i._setStateSafely(t)})}catch(f){t.formattedDisplayValue=t.value;i._setStateSafely(t)}else r&&i.setState(t)},i._setStateSafely=function(n){i._isMounted&&i.setState(n)},i._getDisplayFormat=function(){return!(i._inputDefinition&&i._inputDefinition.properties)?null:i._inputDefinition.properties.displayFormat},i._inputDefinition=i.props.inputDefinition,i._displayFormat=i._getDisplayFormat(),i._isMounted=!1,i}return __extends(t,n),t.prototype.componentDidMount=function(){this._isMounted=!0;n.prototype.componentDidMount.call(this);this._updateDisplayTextValue()},t.prototype.componentWillUnmount=function(){this._isMounted=!1;n.prototype.componentWillUnmount.call(this)},t.prototype.getControl=function(){e.logVerbose("[MultilineInputWithEditorExtensionComponent.getControl]: Method called.");var t=this.state,r=!!this._displayFormat||this.props.disabled;return i.createElement("div",{className:"input-control-with-editor-extension"},i.createElement("div",{className:"string-input-component-value"},n.prototype.getControl.call(this,t.formattedDisplayValue,r)),!this.props.disabled&&i.createElement(u.EditorExtensionButtonComponent,__assign({onOkCallback:this.onValueChanged.bind(this)},this.props)))},t.prototype._resolveTemplateString=function(n,t){var i=r.defer();return n?(t&&n.indexOf("{{")>=0?o.using(["DistributedTaskControls/Common/3rdParty/mustache"],function(r){try{n=r.render(n,t);i.resolve(n)}catch(u){i.resolve(t)}}):i.resolve(n),i.promise):r.resolve(t)},t}(f.MultiLineInputComponent);t.MultilineInputWithEditorExtensionComponent=s});

define("DistributedTaskControls/SharedControls/InputControls/Components/RadioInputComponent",["require","exports","react","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","OfficeFabric/ChoiceGroup","OfficeFabric/Utilities","VSS/Diag","DistributedTaskControls/Common/JQueryWrapper"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.RadioInputComponent=void 0;var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onChange=function(n,i){t.onValueChanged(i)},t}return __extends(t,n),t.prototype.getType=function(){return r.InputControlType.INPUT_TYPE_RADIO},t.prototype.getControl=function(){return o.logVerbose("[RadioInputComponent.getControl]: Method called."),i.createElement("div",{className:e.css({"show-options-horizontally":!this.props.showOptionsVertically,"fabric-style-overrides":!this.props.noCustomFabricOverrides})},i.createElement(f.ChoiceGroup,{ref:this._resolveRef("_choiceGroup"),id:this.getInputFieldControlElementId(),"aria-labelledby":this.props.ariaLabelledBy||this.getInputFieldLabelElementId(),required:this.props.required,className:"input-control-radio-button",options:this._getOptions(),onChange:this._onChange,"aria-disabled":this.props.disabled,disabled:this.props.disabled}))},t.prototype._getOptions=function(){var n=this,t=[];return this.props.options&&this.props.options.forEach(function(i){t.push(s.JQueryWrapper.extend(i,{"aria-describedby":n.props.ariaDescribedBy||n.getInputFieldDescriptionElementId()}))},this),t},t.prototype.setFocus=function(){this._choiceGroup&&this._choiceGroup.focus()},t}(u.InputBase);t.RadioInputComponent=h});

define("DistributedTaskControls/SharedControls/InputControls/Components/StringListInputComponent",["require","exports","react","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Utilities","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Components/ExpandableTextbox","VSS/Diag","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});t.StringListInputComponent=void 0;var c=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onChanged=function(n){s.logVerbose("[StringListInputComponent._onChanged]: new value "+n);var i=t._stringify(n);t.setState({value:i,inputValueDelimitedString:n});t.props.onValueChanged(i);s.logVerbose("[StringListInputComponent._onChanged]: updatedValue "+i)},t}return __extends(t,n),t.prototype.componentWillMount=function(){var t=this;n.prototype.componentWillMount.call(this);this.setState(function(n){var i=__assign({},n);return i.inputValueDelimitedString=t._getDelimitedStringList(n.value),i})},t.prototype.getType=function(){return f.InputControlType.INPUT_TYPE_STRING_LIST},t.prototype.getControl=function(){return s.logVerbose("[StringListInputComponent.getControl]: Method called."),this.props.disallowResetDelimitedString&&!this.props.disallowResetDelimitedString()&&this._stringify(this.state.inputValueDelimitedString)!==this.state.value&&(this.state.inputValueDelimitedString=this._getDelimitedStringList(this.state.value)),i.createElement(o.Component,{id:this.getInputFieldControlElementId(),ariaLabelledBy:this.props.ariaLabelledBy||this.getInputFieldLabelElementId(),ariaDescribedBy:this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId(),value:this.state.inputValueDelimitedString,onChanged:this._onChanged,disabled:this.props.disabled,onGetErrorMessage:this.getErrorMessage,onNotifyValidationResult:this.props.onNotifyValidationResult})},t.prototype._getDelimitedStringList=function(n){var t=h.empty,i;return n&&(i=this._parseValue(n),t=this._convertValue(i)),s.logVerbose("[StringListInputComponent._getDelimitedStringList]: delimitedStringList "+t),t},t.prototype._convertValue=function(n){return(n||[]).join(r.CommaSeparator)},t.prototype._parseValue=function(n){var t=[];try{t=!n?[]:JSON.parse(n)}catch(i){s.logError("[StringListInputComponent._parseValue]: Json parsing Error "+i)}return u.DtcUtils.fixEmptyAndRecurringStringValuesInArray(n?t:[])},t.prototype._stringify=function(n){return JSON.stringify(this._getValues(n))},t.prototype._getValues=function(n){var t=n.trim();return t?t.split(r.CommaSeparator):[]},t}(e.InputBase);t.StringListInputComponent=c});

define("DistributedTaskControls/SharedControls/InputControls/Components/StringInputWithEditorExtensionComponent",["require","exports","react","DistributedTaskControls/SharedControls/InputControls/Components/EditorExtensionButtonComponent","DistributedTaskControls/SharedControls/InputControls/Components/StringInputComponent","VSS/Diag"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.StringInputWithEditorExtensionComponent=void 0;var e=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.getControl=function(){return f.logVerbose("[StringInputWithEditorExtensionComponent.getControl]: Method called."),i.createElement("div",{className:"input-control-with-editor-extension"},i.createElement("div",{className:"string-input-component-value"},n.prototype.getControl.call(this)),!this.props.disabled&&i.createElement(r.EditorExtensionButtonComponent,__assign({onOkCallback:this.onValueChanged.bind(this)},this.props)))},t}(u.StringInputComponent);t.StringInputWithEditorExtensionComponent=e});

define("DistributedTaskControls/SharedControls/InputControls/Components/FilePathInputComponent",["require","exports","react","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/TextInputComponentBase","DistributedTaskControls/SharedControls/InputControls/Components/ExpandableTextbox","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Button","OfficeFabric/Utilities","VSS/Diag","VSS/Utils/String","VSSUI/Tooltip"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});t.FilePathInputComponent=void 0;var a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onClick=function(){t.props.filePathProviderDelegate?(h.logInfo("[FilePathInputComponent._onClick]: Calling filePathProviderDelegate method to launch the file selection dialog."),t.props.filePathProviderDelegate(t.state.value,function(n){t.onValueChanged(n.path)})):h.logInfo("[FilePathInputComponent._onClick]: Error: filePathProviderDelegate is not a function.")},t}return __extends(t,n),t.prototype.getType=function(){return r.InputControlType.INPUT_TYPE_FILE_PATH},t.prototype.getControl=function(){return h.logVerbose("[FilePathInputComponent.getControl]: Method called."),i.createElement("div",{className:s.css("input-control-file-path",{"is-browsable":this.props.isFileSystemBrowsable&&this.props.isFileSystemBrowsable()&&!this.props.disabled})},i.createElement("div",{className:"input-control-file-path-name"},i.createElement(f.Component,{required:this.props.required,id:this.getInputFieldControlElementId(),ariaLabelledBy:this.props.ariaLabelledBy||this.getInputFieldLabelElementId(),ariaDescribedBy:this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId(),value:this.state.value,onChanged:this.onValueChanged,disabled:this.props.disabled,onGetErrorMessage:this.getErrorMessage,deferredValidationTime:this.props.deferredValidationTime||t.DefaultDeferredValidationTime,onNotifyValidationResult:this.props.onNotifyValidationResult})),i.createElement("div",{className:"input-control-buttons"},this.props.isFileSystemBrowsable&&this.props.isFileSystemBrowsable()&&!this.props.disabled&&i.createElement("div",{className:"input-container-file-path-browse-button-container"},i.createElement(l.TooltipHost,{content:c.localeFormat(e.BrowseInputComponentDescription,this.props.label)},i.createElement(o.IconButton,{className:s.css("input-control-file-path-browse-button","input-control-icon-button","fabric-style-overrides","icon-button-override"),iconProps:{iconName:"More"},onClick:this._onClick,ariaDescription:c.localeFormat(e.BrowseInputComponentDescription,this.props.label),ariaLabel:e.Browse})))))},t.DefaultDeferredValidationTime=500,t}(u.TextInputComponentBase);t.FilePathInputComponent=a});

define("DistributedTaskControls/SharedControls/InputControls/Components/IdentityPickerComponent",["require","exports","VSS/Controls","VSS/Identities/Picker/Controls","VSS/Flux/PlatformComponent"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.IdentityPickerComponent=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onIdentityPickerSelectionChange=function(){if(t.props.onSelectedIdentitiesChanged){var n=t._getResolvedIdentities();t.props.onSelectedIdentitiesChanged(n)}},t._onIdentityAdd=function(){t._onIdentityPickerSelectionChange()},t.c_identityPickerConsumerId="4E250E55-B57F-4B12-B248-EB2F9CF59429",t}return __extends(t,n),t.prototype.createControl=function(n){var u=this,t;return this._control||(t=this._getDefaultOptions(),!this.props.options||(t=__assign(__assign({},t),this.props.options)),this._control=i.create(r.IdentityPickerSearchControl,$(n),t),!this._control||this._control._bind(r.IdentityPickerSearchControl.RESOLVED_INPUT_REMOVED_EVENT,function(){u._onIdentityPickerSelectionChange()})),this._setReadOnlyMode(),this._control},t.prototype._setReadOnlyMode=function(){this._control&&(this.props.disabled?this._control.enableReadOnlyMode():this._control.disableReadOnlyMode())},t.prototype._getDefaultOptions=function(){return{identityType:{User:!0,Group:!0},callbacks:{onItemSelect:this._onIdentityAdd},operationScope:{IMS:!0},consumerId:this.props.consumerId||this.c_identityPickerConsumerId,required:!!this.props.required}},t.prototype._getResolvedIdentities=function(){var n=[],t=this._control.getIdentitySearchResult();return t&&(n=t.resolvedEntities),n},t}(u.Component);t.IdentityPickerComponent=f});

define("DistributedTaskControls/SharedControls/InputControls/Components/IdentityPickerInputComponent",["require","exports","react","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/IdentityPickerComponent","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","VSS/Diag","VSS/Utils/String","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/IdentityPickerInputComponent"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.IdentityPickerInputComponent=void 0;var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.c_identityPickerConsumerId="4E250E55-B57F-4B12-B248-EB2F9CF59429",t}return __extends(t,n),t.prototype.getType=function(){return r.InputControlType.INPUT_TYPE_IDENTITIES},t.prototype.getControl=function(){return e.logVerbose("[IdentityPickerInputComponent.getControl]: Method called."),i.createElement(u.IdentityPickerComponent,{shouldUpdate:!0,cssClass:s.css("dtc-identity-picker-input-component ",this.props.isInvalid?"invalid":"valid"),onSelectedIdentitiesChanged:this.props.onSelectedIdentitiesChanged,disabled:this.props.disabled,required:this.props.required,options:this._getIdentityPickerOptions(),consumerId:this.props.consumerId||this.c_identityPickerConsumerId})},t.prototype._getIdentityPickerOptions=function(){return{multiIdentitySearch:this.props.multiIdentitySearch,items:this.state.value,operationScope:this.props.operationScope||{IMS:!0},placeholderText:this.props.placeholderText||o.empty,showMruTriangle:this.props.showMruTriangle||!1,showMru:this.props.showMru||!1,consumerId:this.props.consumerId||this.c_identityPickerConsumerId,ariaDescribedby:this.props.ariaDescribedBy,ariaLabel:this.props.ariaLabel}},t}(f.InputBase);t.IdentityPickerInputComponent=h});

define("DistributedTaskControls/Sources/SecureFileSource",["require","exports","DistributedTaskControls/Common/Sources/SourceBase","DistributedTaskControls/Common/Sources/SourceManager","TFS/DistributedTask/TaskAgentRestClient","VSS/Context","VSS/Service"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.SecureFileSource=void 0;var o=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._dtAgentClient=e.getCollectionClient(u.TaskAgentHttpClient),t}return __extends(t,n),t.getKey=function(){return"SecureFileSource"},t.prototype.getSecureFiles=function(n){var t=f.getDefaultWebContext().project.id;return this._dtAgentClient.getSecureFiles(t,null,!1,n)},t.prototype.uploadSecureFile=function(n){var t=f.getDefaultWebContext().project.id;return this._dtAgentClient.uploadSecureFile(n.file,t,n.name)},t.instance=function(){return r.SourceManager.getSource(t)},t}(i.SourceBase);t.SecureFileSource=o});

define("DistributedTaskControls/Actions/SecureFileActionsCreator",["require","exports","DistributedTaskControls/Actions/SecureFileActions","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Sources/SecureFileSource","VSS/VSS","VSS/Diag"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.SecureFileActionsCreator=void 0;var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return f.ActionCreatorKeys.SecureFileActionsCreator},t.prototype.initialize=function(){this._actions=u.ActionsHubManager.GetActionsHub(i.SecureFileActions)},t.prototype.getSecureFiles=function(){var n=this;e.SecureFileSource.instance().getSecureFiles().then(function(t){n._actions.updateSecureFiles.invoke({secureFiles:t})},function(t){s.logError(t);n._actions.updateSecureFiles.invoke({errorMessage:o.getErrorMessage(t)})})},t.prototype.uploadSecureFile=function(n,t){var i=this;e.SecureFileSource.instance().uploadSecureFile(n).then(function(n){i._actions.secureFileUploaded.invoke({secureFile:n});t&&t(n.id)},function(n){s.logError(n);i._actions.secureFileUploaded.invoke({errorMessage:o.getErrorMessage(n)})})},t}(r.ActionCreatorBase);t.SecureFileActionsCreator=h});

define("DistributedTaskControls/Components/ComboBox",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Common/JQueryWrapper","OfficeFabric/Utilities","VSS/Controls/Combos","VSS/Flux/PlatformComponent","VSS/Controls","VSS/Utils/String","VSS/Utils/UI","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/ComboBox"],function(n,t,i,r,u,f,e,o,s,h,c,l){var a,v,y;Object.defineProperty(t,"__esModule",{value:!0});t.ComboBox=t.ComboBoxType=void 0,function(n){n[n.Editable=1]="Editable";n[n.Searchable=2]="Searchable"}(a=t.ComboBoxType||(t.ComboBoxType={}));v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return i.createElement(y,__assign({invalidCss:"invalid-css",enableFilter:!0,autoComplete:!1,cssClass:"combo-box-container",inputCss:"combo-box-input",dropOptions:{itemCss:"combo-box-item"},enabled:!0,required:!1,textfieldOnEmptySource:!1},this.props))},t}(r.Component);t.ComboBox=v;y=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._expandComboBox=function(){i._control.isDropVisible()||(i._control.setInvalid(!1),i.setState({isValid:!0,isFocussed:!0}),i._control.getBehavior().showDropPopup())},i._checkValidity=function(){i._isValid()?(i._control.setInvalid(!1),i.setState({isValid:!0,isFocussed:i.state.isFocussed})):(i._control.setInvalid(!0),i.setState({isValid:!1,isFocussed:i.state.isFocussed}))},i._isValid=function(){return i._isComboBoxSearchable()&&i._control.getInputText().length>0?!!i.props.textfieldOnEmptySource&&i._control.getBehavior().getDataSource().getCount()===0?!0:i._control.getBehavior().getDataSource().getItemIndex(i._control.getInputText())!==-1?!0:!1:!!i.props.required&&i._control.getInputText().length===0?!1:!0},i._isComboBoxSearchable=function(){return!!i.props.comboBoxType&&i.props.comboBoxType===a.Searchable?!0:!1},i._handleInputChange=function(){if(i.props.onChange)i.props.onChange(i.getValue())},i.state={isValid:!0,isFocussed:!1},i._checkValidity=i._checkValidity.bind(i),i}return __extends(t,n),t.prototype.createControl=function(n){if(!this._control){var t=f.JQueryWrapper.extend({},this.props);t.change=this._handleInputChange;this._control=h.create(o.Combo,n,t)}return this._control},t.prototype.render=function(){var n=this,t={ref:function(t){n.onRef(t)}};return i.createElement("div",{className:e.css(this.props.comboBoxStyle,"combo-box-with-error-container")},i.createElement("div",__assign({className:"combo-box-container-parent"+(this.state.isFocussed?" combo-box-focus":c.empty)+(this.state.isValid?c.empty:" invalid-css")+(this.props.enabled?c.empty:" is-disabled")},t),this.props.children),this.props.hideErrorMessage?null:i.createElement("div",{className:"combo-error-message"+(this.state.isValid?" visibility-hidden":c.empty)},this.props.errorMessage?this.props.errorMessage:u.ComboBoxInvalidErrorMessage))},t.prototype.componentWillReceiveProps=function(n){this._control&&(this._control.setSource(n.source),this._control.setText(n.value),this._control.setEnabled(n.enabled),this._checkValidity())},t.prototype.shouldComponentUpdate=function(){return!0},t.prototype.componentDidMount=function(){var t=this;n.prototype.componentDidMount.call(this);!this.props.value||this._control.setInputText(this.props.value);this._checkValidity();this._control.getInput().click(function(){!t.props.enabled||(t._control.getBehavior().getDataSource().getItems().length!==0?t._expandComboBox():t._control.hideDropPopup())});this._control.getInput().blur(function(){t._checkValidity();t.setState({isValid:t.state.isValid,isFocussed:!1})});this._control.getInput().keyup(function(n){if(!!t.props.enabled)switch(n.keyCode){case l.KeyCode.ESCAPE:t._control.hideDropPopup();break;case l.KeyCode.ENTER:break;default:t._control.getBehavior().getDataSource().getItems().length!==0?t._expandComboBox():t._control.hideDropPopup()}});this._control.getDropButton().keyup(function(n){if(!!t.props.enabled)switch(n.keyCode){case l.KeyCode.ENTER:t._control.isDropVisible()?t._control.hideDropPopup():t._expandComboBox();break;case l.KeyCode.ESCAPE:t._control.hideDropPopup()}})},t.prototype.componentWillUnmount=function(){this._control.getInput().off("click");this._control.getInput().off("blur");this._control.getInput().off("keyup");this._control.getDropButton().off("keyup");n.prototype.componentWillUnmount.call(this)},t.prototype.getValue=function(){return this._control.getValue()},t}(s.Component)});

define("DistributedTaskControls/SharedControls/InputControls/Components/FileUploadDialog",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Button","OfficeFabric/Dialog","OfficeFabric/Utilities","VSSUI/FileInput","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/FileUploadDialog"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.FileUploadDialog=void 0;var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=this.props.maxFileSize||10485760,t=this.props.resultContentType||2;return i.createElement(e.Dialog,{hidden:!1,title:this.props.title||u.FileUploadDialogTitle,modalProps:{containerClassName:o.css("file-upload-dialog",this.props.cssClass)},dialogContentProps:{type:e.DialogType.close},onDismiss:this._onDialogClose,closeButtonAriaLabel:u.CloseButtonText,firstFocusableSelector:"vss-FileInput-browseContainer"},i.createElement("div",null,i.createElement(s.FileInput,{maximumNumberOfFiles:1,maximumSingleFileSize:n,updateHandler:this._onFileInputUpdate,resultContentType:t}),i.createElement(e.DialogFooter,null,i.createElement(f.PrimaryButton,{className:o.css("fabric-style-overrides"),ariaLabel:u.OK,onClick:this._onOkClicked,disabled:!this.state.file,"aria-disabled":!this.state.file},u.OK),i.createElement(f.DefaultButton,{ariaLabel:u.CancelButtonText,onClick:this._onDialogClose},u.CancelButtonText))))},t.prototype._closeDialog=function(){!this.props.onDialogClose||this.props.onDialogClose()},t.prototype._onDialogClose=function(){this._closeDialog()},t.prototype._onOkClicked=function(){if(!!this.props.onOkClick)this.props.onOkClick(this.state.file);this._closeDialog()},t.prototype._onFileInputUpdate=function(n){var t=null;n&&n.files&&n.files.length&&(t=n.files[0].result);this.setState({file:t})},__decorate([o.autobind],t.prototype,"_onDialogClose",null),__decorate([o.autobind],t.prototype,"_onOkClicked",null),__decorate([o.autobind],t.prototype,"_onFileInputUpdate",null),t}(r.Component);t.FileUploadDialog=h});

define("DistributedTaskControls/SharedControls/InputControls/Components/SecureFileInputComponent",["require","exports","react","react-dom","DistributedTaskControls/Actions/SecureFileActionsCreator","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Components/ComboBox","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/FileUploadDialog","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Components/RequiredIndicator","DistributedTaskControls/Stores/SecureFilesStore","OfficeFabric/Button","OfficeFabric/Utilities","VSS/Diag","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/FabricStyleOverrides","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/SecureFileInputComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){var g,d;Object.defineProperty(t,"__esModule",{value:!0});t.SecureFileInputComponentBase=t.SecureFileInputComponent=void 0;g=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getType=function(){return c.InputControlType.INPUT_TYPE_SECURE_FILE},t.prototype.componentWillMount=function(){this._store=o.StoreManager.GetStore(y.SecureFilesStore);this.setState(this._getState())},t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._store.addChangedListener(this._onStoreChanged)},t.prototype.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this);this._store.removeChangedListener(this._onStoreChanged)},t.prototype.getControl=function(){return b.logVerbose("[SecureFileInputComponent.getControl]: Method called."),i.createElement(d,{value:this.state.value,disabled:this.props.disabled,onValueChanged:this.onValueChanged,onUpdate:this._onUpdate,onOkClick:this._onOkClick,secureFiles:this.state.secureFiles,getErrorMessage:this._getErrorMessage,onNotifyValidationResult:this.props.onNotifyValidationResult})},t.prototype._onStoreChanged=function(){this.setState(this._getState())},t.prototype._onOkClick=function(n){var t=f.ActionCreatorManager.GetActionCreator(u.SecureFileActionsCreator);t.uploadSecureFile(n,this.props.onValueChanged)},t.prototype._onUpdate=function(){var n=f.ActionCreatorManager.GetActionCreator(u.SecureFileActionsCreator);n.getSecureFiles()},t.prototype._getErrorMessage=function(n){var t=this._store.getErrorMessage();return!t?this.getErrorMessage(n):t},t.prototype._getState=function(){return{secureFiles:this._store.getSecureFiles(),value:this.state&&this.state.value?this.state.value:this.props.value}},__decorate([w.autobind],t.prototype,"_onStoreChanged",null),__decorate([w.autobind],t.prototype,"_onOkClick",null),__decorate([w.autobind],t.prototype,"_onUpdate",null),__decorate([w.autobind],t.prototype,"_getErrorMessage",null),t}(a.InputBase);t.SecureFileInputComponent=g;d=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._onChanged=function(n){i._currentText=n;var t=i.state.filesByName[n],r=!t?k.empty:t.id;if(!!i.props.onValueChanged)i.props.onValueChanged(r)},i.state=i._getState(t),i}return __extends(t,n),t.prototype.componentWillReceiveProps=function(n){this.setState(this._getState(n))},t.prototype.componentWillMount=function(){this._refreshIfRequired()},t.prototype.render=function(){var n=this._getSelectedOption();return i.createElement("div",{className:"secure-file-input-container",ref:this._resolveContainer},i.createElement("div",{className:"secure-file-dropdown"},i.createElement(v.Component,{value:this.state.value,onGetErrorMessage:this._getErrorMessage,onNotifyValidationResult:this.props.onNotifyValidationResult},i.createElement("div",{className:"fabric-style-overrides task-input-dropdown secure-file-combobox"},i.createElement(s.ComboBox,{enabled:!this.props.disabled,value:n,comboBoxType:s.ComboBoxType.Editable,source:this.state.filenames,onChange:this._onChanged})))),!this.props.disabled&&i.createElement("div",{className:"input-control-buttons"},i.createElement(p.IconButton,{disabled:this.props.disabled,onClick:this._onRefresh,iconProps:{iconName:"Refresh"},className:w.css("input-control-icon-button","fabric-style-overrides","icon-button-override"),ariaLabel:h.Refresh,"aria-disabled":this.props.disabled}),i.createElement(p.IconButton,{disabled:this.props.disabled,onClick:this._onUploadClick,iconProps:{iconName:"Settings"},className:w.css("input-control-icon-button","fabric-style-overrides","icon-button-override"),ariaLabel:h.Manage,"aria-disabled":this.props.disabled})))},t.prototype._getState=function(n){var t={},i={},r=n.secureFiles.map(function(n){return t[n.name]=n,i[n.id]=n,n.name}).sort(k.localeComparer);return{value:n.value||k.empty,filenames:r,filesByName:t,filesById:i}},t.prototype._refreshIfRequired=function(){this.state&&this.state.filenames.length===0&&this._update()},t.prototype._getSelectedOption=function(){var n=this.state.filesById[this.state.value];return n?n.name:k.empty},t.prototype._update=function(){this.props.onUpdate&&this.props.onUpdate()},t.prototype._resolveContainer=function(n){this._elementInstance=n},t.prototype._getErrorMessage=function(){return this.state.value===k.empty&&this._currentText?h.RequiredInputInValidMessage:!this.props.getErrorMessage?void 0:this.props.getErrorMessage(this.state.value)},t.prototype._onRefresh=function(){this._update()},t.prototype._onUploadClick=function(){this._uploadDialogContainer||(this._uploadDialogContainer=document.createElement("div"),this._elementInstance.appendChild(this._uploadDialogContainer));r.render(i.createElement(l.FileUploadDialog,{onDialogClose:this._onDialogClose,onOkClick:this._onOkClick}),this._uploadDialogContainer)},t.prototype._onDialogClose=function(){r.unmountComponentAtNode(this._uploadDialogContainer)},t.prototype._onOkClick=function(n){if(this.props.onOkClick&&n)this.props.onOkClick(n)},__decorate([w.autobind],t.prototype,"_resolveContainer",null),__decorate([w.autobind],t.prototype,"_getErrorMessage",null),__decorate([w.autobind],t.prototype,"_onRefresh",null),__decorate([w.autobind],t.prototype,"_onUploadClick",null),__decorate([w.autobind],t.prototype,"_onDialogClose",null),__decorate([w.autobind],t.prototype,"_onOkClick",null),t}(e.Component);t.SecureFileInputComponentBase=d});

define("DistributedTaskControls/Actions/DeploymentGroupsActions",["require","exports","VSS/Flux/Action","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.DeploymentGroupsActions=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updatePermissibleDeploymentGroups=new i.Action;this._updateNonPermissibleDeploymentGroups=new i.Action;this._manageDeploymentGroups=new i.Action;this._refreshDeploymentGroups=new i.Action;this._addDeploymentGroups=new i.Action},t.getKey=function(){return u.ActionsKeys.DeploymentGroupsActions},Object.defineProperty(t.prototype,"updatePermissibleDeploymentGroups",{get:function(){return this._updatePermissibleDeploymentGroups},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateNonPermissibleDeploymentGroups",{get:function(){return this._updateNonPermissibleDeploymentGroups},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"manageDeploymentGroups",{get:function(){return this._manageDeploymentGroups},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"refreshDeploymentGroups",{get:function(){return this._refreshDeploymentGroups},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addDeploymentGroups",{get:function(){return this._addDeploymentGroups},enumerable:!1,configurable:!0}),t}(r.ActionsHubBase);t.DeploymentGroupsActions=f});

define("DistributedTaskControls/Actions/MachinesActions",["require","exports","VSS/Flux/Action","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.MachinesActions=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updateMachines=new i.Action;this._changeMachineGroup=new i.Action;this._updateTags=new i.Action;this._clearCache=new i.Action},t.getKey=function(){return u.ActionsKeys.MachinesActions},Object.defineProperty(t.prototype,"updateMachines",{get:function(){return this._updateMachines},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changeMachineGroup",{get:function(){return this._changeMachineGroup},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateTags",{get:function(){return this._updateTags},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearCache",{get:function(){return this._clearCache},enumerable:!1,configurable:!0}),t}(r.ActionsHubBase);t.MachinesActions=f});

define("DistributedTaskControls/Actions/DeploymentGroupsActionsCreator",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Sources/AgentsSource","DistributedTaskControls/Actions/DeploymentGroupsActions","DistributedTaskControls/Phase/Actions/DeployPhaseActions","TFS/DistributedTask/Contracts","DistributedTaskControls/Actions/MachinesActions","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});t.DeploymentGroupsActionsCreator=void 0;var a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return u.ActionCreatorKeys.DeploymentGroupsActionsCreator},t.prototype.initialize=function(n){this._actions=r.ActionsHubManager.GetActionsHub(e.DeploymentGroupsActions);this._deployPhaseActionsHub=r.ActionsHubManager.GetActionsHub(o.DeployPhaseActionsHub,n);this._machineActions=r.ActionsHubManager.GetActionsHub(h.MachinesActions,n)},t.prototype.refreshDeploymentGroups=function(){this._getAllDeploymentGroups(null,!0)},t.prototype.manageDeploymentGroups=function(n){this._actions.manageDeploymentGroups.invoke(n)},t.prototype.addDeploymentGroups=function(n){var t=this;f.AgentsSource.instance().getDeploymentGroupsByNameOrRegex(!0,n).then(function(i){var u=i.deploymentGroups,r;t._actions.addDeploymentGroups.invoke(u);r=t._getDeploymentGroupByName(n,u);t._deployPhaseActionsHub.updateDeploymentMachineGroup.invoke(r?r.id:null);t._updateMachinesActions(r)},function(){t._sendErrorActions()})},t.prototype._updateMachinesActions=function(n){var t=this;n?f.AgentsSource.instance().getTargets(n.id).then(function(i){t._machineActions.updateMachines.invoke({deploymentGroupId:n.id,deploymentMachines:i})},function(){t._sendErrorActions()}):this._machineActions.changeMachineGroup.invoke(null)},t.prototype._sendErrorActions=function(){this._deployPhaseActionsHub.updateDeploymentMachineGroup.invoke(null);this._machineActions.changeMachineGroup.invoke(null)},t.prototype._getDeploymentGroupByName=function(n,t){return c.first(t,function(t){return l.ignoreCaseComparer(n,t.name)===0})},t.prototype._getAllDeploymentGroups=function(n,t){var i=this;f.AgentsSource.instance().getPermissibleDeploymentGroups(!0,null,s.DeploymentGroupExpands.None,n).then(function(n){i._actions.refreshDeploymentGroups.invoke({permissibleDeploymentGroups:n.deploymentGroups,isFirstBatch:t});n.continuationToken&&i._getAllDeploymentGroups(n.continuationToken,!1)},function(){i._sendErrorActions()})},t}(i.ActionCreatorBase);t.DeploymentGroupsActionsCreator=a});

define("DistributedTaskControls/Actions/MachinesActionsCreator",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Sources/AgentsSource","DistributedTaskControls/Actions/MachinesActions"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.MachinesActionsCreator=void 0;var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return u.ActionCreatorKeys.MachinesActionsCreator},t.prototype.initialize=function(n){this._actions=r.ActionsHubManager.GetActionsHub(e.MachinesActions,n)},t.prototype.updateMachines=function(n){var t=this;f.AgentsSource.instance().getTargets(n,null,!0).then(function(i){t._actions.updateMachines.invoke({deploymentGroupId:n,deploymentMachines:i})},function(){t._actions.changeMachineGroup.invoke(null)})},t.prototype.changeMachines=function(n){this._actions.changeMachineGroup.invoke(n)},t.prototype.updateTags=function(n){this._actions.updateTags.invoke(n)},t.prototype.clearCache=function(){this._actions.clearCache.invoke(null)},t}(i.ActionCreatorBase);t.MachinesActionsCreator=o});

define("DistributedTaskControls/Phase/Actions/PhaseInputsActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.PhaseInputsActionsHub=void 0;var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return r.ActionsKeys.PhaseInputsActions},t.prototype.initialize=function(){this._updateLinkProcessParameterDialog=new i.Action;this._updateInputError=new i.Action;this._updateInputValue=new i.Action;this._updateInputOptions=new i.Action;this._linkToProcessParameterAction=new i.Action;this._unlinkFromProcessParameterAction=new i.Action},Object.defineProperty(t.prototype,"updateLinkProcessParameterDialog",{get:function(){return this._updateLinkProcessParameterDialog},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateInputError",{get:function(){return this._updateInputError},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateInputValue",{get:function(){return this._updateInputValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateInputOptions",{get:function(){return this._updateInputOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linkToProcessParameter",{get:function(){return this._linkToProcessParameterAction},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unlinkFromProcessParameter",{get:function(){return this._unlinkFromProcessParameterAction},enumerable:!1,configurable:!0}),t}(i.ActionsHubBase);t.PhaseInputsActionsHub=u});

define("DistributedTaskControls/Phase/PhaseInputDefinitions",["require","exports","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Utils/String"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.PhaseInputDefinitions=t.DeploymentGroupInput=t.TimeoutInput=t.DeploymentInput=void 0;t.DeploymentInput="deploymentInput";t.TimeoutInput="timeoutInMinutes";t.DeploymentGroupInput="queueId";t.PhaseInputDefinitions={timeoutInMinutes:{defaultValue:r.empty,groupName:"",helpMarkDown:i.TimeoutDescription,label:i.TimeoutInMinutes,name:t.TimeoutInput,options:{},properties:null,required:!0,type:"string",visibleRule:"true"},queueId:{defaultValue:r.empty,groupName:"",helpMarkDown:i.DeploymentGroupHelpMarkdown,label:i.DeploymentGroupLabel,name:t.DeploymentGroupInput,options:{},properties:null,required:!0,type:"deploymentgroup",visibleRule:"true"}}});

define("DistributedTaskControls/Phase/Stores/PhaseInputsStore",["require","exports","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/InputValidation","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Types","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Phase/Actions/DeployPhaseActions","DistributedTaskControls/Phase/Actions/PhaseInputsActions","DistributedTaskControls/Phase/PhaseInputDefinitions","DistributedTaskControls/Stores/ProcessParameterStore","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){Object.defineProperty(t,"__esModule",{value:!0});t.PhaseInputsStore=void 0;var w=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._setDialogState=function(n){i._showLinkProcessParameterDialog=n.isVisible;i.emitChanged()},i._handleUpdateInputError=function(n){i._inputValidation.tryHandleUpdateInputError(n)&&i.emitChanged()},i._handleUpdateInputValue=function(n){i._currentState.inputNameToState[n.name]&&(i._currentState.inputNameToState[n.name].inputValue=n.value,i._inputValidation.updateInputValue(f.InputValidation.name,n.value),i._inputValidation.tryHandlePendingInputErrorDispatch(f.InputValidation.name,n.value));i.emitChanged()},i._handleUpdateInputOptions=function(){},i._handleProcessParametersChanged=function(){Object.keys(i._currentState.overrideInputs).forEach(function(n){i._currentState.inputNameToState[n]&&(i._currentState.inputNameToState[n].inputValue=i._processParameterStore.getTaskInputState(n).inputValue)})},i._handleUpdatePhase=function(n){i.initializeStates(n)},i._handleLinkToProcessParameter=function(n){i._currentState.inputNameToState&&i._currentState.inputNameToState[n.inputName]&&(i._currentState.inputNameToState[n.inputName].disabled=!0,i._currentState.overrideInputs[n.inputName]=p.format(u.ProcessParameterConstants.NewProcessParameterBoundInputValueFormat,n.processParametername),i._currentState.inputNameToState[n.inputName].inputValue=i._processParameterStore.getTaskInputState(n.inputName).inputValue,i.emitChanged())},i._handleUnlinkFromProcessParameter=function(n){i._currentState.inputNameToState&&i._currentState.inputNameToState[n]&&(i._currentState.inputNameToState[n].disabled=!1,delete i._currentState.overrideInputs[n],i.emitChanged())},i._inputValidation=new f.InputValidation,i._activePhaseInputDefinitions=[],i._processInstanceId=t.processInstanceId,i._phaseType=t.phaseType,i.initializeStates(t.phase),i}return __extends(t,n),t.getKey=function(){return r.StoreKeys.PhaseInputsStore},t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._actionsHub=i.ActionsHubManager.GetActionsHub(a.PhaseInputsActionsHub,t);this._deployPhaseActionsHub=i.ActionsHubManager.GetActionsHub(l.DeployPhaseActionsHub,t);this._actionsHub.updateLinkProcessParameterDialog.addListener(this._setDialogState);this._actionsHub.updateInputValue.addListener(this._handleUpdateInputValue);this._actionsHub.updateInputError.addListener(this._handleUpdateInputError);this._actionsHub.updateInputOptions.addListener(this._handleUpdateInputOptions);this._deployPhaseActionsHub.updatePhase.addListener(this._handleUpdatePhase);this._actionsHub.linkToProcessParameter.addListener(this._handleLinkToProcessParameter);this._actionsHub.unlinkFromProcessParameter.addListener(this._handleUnlinkFromProcessParameter);this._processParameterStore=s.StoreManager.GetStore(y.ProcessParameterStore,this.getTaskContext().processInstanceId);this._processParameterStore.addChangedListener(this._handleProcessParametersChanged)},t.prototype.disposeInternal=function(){this._actionsHub.updateLinkProcessParameterDialog.removeListener(this._setDialogState);this._actionsHub.updateInputValue.removeListener(this._handleUpdateInputValue);this._actionsHub.updateInputError.removeListener(this._handleUpdateInputError);this._actionsHub.updateInputOptions.removeListener(this._handleUpdateInputOptions);this._deployPhaseActionsHub.updatePhase.removeListener(this._handleUpdatePhase);this._actionsHub.linkToProcessParameter.removeListener(this._handleLinkToProcessParameter);this._actionsHub.unlinkFromProcessParameter.removeListener(this._handleUnlinkFromProcessParameter);this._processParameterStore.removeChangedListener(this._handleProcessParametersChanged)},t.prototype.getState=function(){return this._currentState},t.prototype.isDirty=function(){var n=this,t=!1;return Object.keys(this._currentState.inputNameToState).forEach(function(i){n._currentState.inputNameToState[i].inputValue!==n._originalState.inputNameToState[i].inputValue&&(t=!0)}),Object.keys(this._currentState.overrideInputs).forEach(function(i){n._currentState.overrideInputs[i]!==n._originalState.overrideInputs[i]&&(t=!0)}),t},t.prototype.isValid=function(){return!0},t.prototype.getTaskContext=function(){return{onChangeDelegate:function(){},onRemoveDelegate:function(){},processInstanceId:this._processInstanceId,taskListStoreInstanceId:this.getInstanceId(),processParametersNotSupported:!0}},t.prototype.getTaskInputState=function(n){return this._currentState.inputNameToState[n]},t.prototype.getInputDefinitions=function(){return this._activePhaseInputDefinitions},t.prototype.getInputDefinition=function(n){var t=v.PhaseInputDefinitions[n],i;return t&&(this._currentState.inputNameToState[n]||(i=this.initializeInputState(n),this._activePhaseInputDefinitions.push(t),this._currentState.inputNameToState[n]=i,this._originalState.inputNameToState[n]=e.JQueryWrapper.extendDeep({},i))),t},t.prototype.getInputState=function(n){var t=u.InputState.Valid;return this._inputValidation.isValid(n.name)||(t=u.InputState.Invalid),t},t.prototype.isInputValid=function(){return!0},t.prototype.getTaskDefinitionId=function(){return this.getInstanceId()},t.prototype.getActionForInputField=function(){return h.ActionForTaskInput.None},t.prototype.showLinkProcessParameterDialog=function(){return this._showLinkProcessParameterDialog},t.prototype.getInputNameToValueMap=function(){var t=this,n={};return Object.keys(this._currentState.inputNameToState).forEach(function(i){var r=t._currentState.inputNameToState[i].inputValue;n[i]=r}),n},t.prototype.updateVisitor=function(){},t.prototype.getInputNameToProcessParameterNameMap=function(){var t=this,n={};return this._currentState.overrideInputs&&Object.keys(this._currentState.overrideInputs).forEach(function(i){n[i]=c.DtcUtils.getProcParamNameFromProcessParameter(t._currentState.overrideInputs[i])}),n},t.prototype.initializeInputState=function(n){var t={disabled:!1,inputName:n,inputValue:null,isHidden:function(){return!1}},r,i;return t.inputValue=this._phase[v.DeploymentInput][n].toString(),this._currentState.overrideInputs&&this._currentState.overrideInputs[n]&&(r=this._processParameterStore.getInputToValueMap(),i=c.DtcUtils.resolveTaskInputValueByProcessParameters(this._currentState.overrideInputs[n],r),i.isResolved&&(t.inputValue=i.resolvedValue,t.disabled=!0)),t},t.prototype.initializeStates=function(n){this._phase=n;this._currentState||(this._currentState={inputNameToState:{},overrideInputs:{}});this._originalState=e.JQueryWrapper.extendDeep(this._originalState,this._currentState)},t}(o.DataStoreBase);t.PhaseInputsStore=w});

define("DistributedTaskControls/Phase/Stores/MachineGroupInputsStore",["require","exports","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Phase/Stores/PhaseInputsStore","DistributedTaskControls/Phase/PhaseInputDefinitions"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.MachineGroupInputsStore=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.isValid=function(){return!0},t.prototype.initializeStates=function(t){n.prototype.initializeStates.call(this,t);var r=t.deploymentInput.overrideInputs?t.deploymentInput.overrideInputs:{};this._currentState.overrideInputs=i.JQueryWrapper.extendDeep({},r);this._originalState.overrideInputs=i.JQueryWrapper.extendDeep({},r)},t.prototype.updateVisitor=function(t){n.prototype.updateVisitor.call(this,t);this._updateMachineGroupBasedPhase(t)},t.prototype.getOriginalDeploymentGroupId=function(){var n=this._originalState.inputNameToState[u.DeploymentGroupInput],t=null;return n&&n.inputValue&&(t=parseInt(n.inputValue)),t},t.prototype._updateMachineGroupBasedPhase=function(n){if(n){n.deploymentInput.overrideInputs=this._currentState.overrideInputs;var t=this.getTaskInputState(u.TimeoutInput);t&&(n.deploymentInput.timeoutInMinutes=parseInt(t.inputValue));t=this.getTaskInputState(u.DeploymentGroupInput);t&&(n.deploymentInput.queueId=parseInt(t.inputValue))}},t}(r.PhaseInputsStore);t.MachineGroupInputsStore=f});

define("DistributedTaskControls/Stores/DeploymentGroupsStore",["require","exports","DistributedTaskControls/Actions/DeploymentGroupsActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/UrlUtilities","VSS/Context","VSS/Utils/Array","VSS/Utils/String","DistributedTasksCommon/TFS.Tasks.Utils"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.DeploymentGroupsStore=void 0;var l=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleAddDeploymentGroups=function(n){var i=n||[];i.sort(function(n,t){return h.localeIgnoreCaseComparer(n.name,t.name)});t._permissibleDeploymentGroups=s.union(t._permissibleDeploymentGroups,i,function(n,t){return h.localeIgnoreCaseComparer(n.name,t.name)});t.emitChanged()},t._handleUpdatePermissibleDeploymentGroups=function(n){t._areDeploymentGroupsInitialized=!0;t._permissibleDeploymentGroups=s.union(n||[],t._permissibleDeploymentGroups||[]);t._permissibleDeploymentGroups.sort(function(n,t){return h.localeIgnoreCaseComparer(n.name,t.name)})},t._handleUpdateNonPermissibleDeploymentGroups=function(n){t._nonPermissibleDeploymentGroups=s.union(n||[],t._nonPermissibleDeploymentGroups||[])},t._handleRefreshDeploymentGroups=function(n){t._areDeploymentGroupsInitialized=!0;t._permissibleDeploymentGroups=n.isFirstBatch?n.permissibleDeploymentGroups||[]:s.union(n.permissibleDeploymentGroups||[],t._permissibleDeploymentGroups||[]);t._permissibleDeploymentGroups.sort(function(n,t){return h.localeIgnoreCaseComparer(n.name,t.name)});t.emitChanged()},t._handleManageDeploymentGroups=function(n){var t;t=!!n&&n>0?c.ActionUrlResolver.getActionUrl(null,null,"machinegroup",{project:o.getDefaultWebContext().project.name,view:"MachineGroupView",mgid:n}):c.ActionUrlResolver.getActionUrl(null,null,"machinegroup",{project:o.getDefaultWebContext().project.name,view:"MachineGroupsView"});e.UrlUtilities.openInNewWindow(t,!0)},t._permissibleDeploymentGroups=[],t._nonPermissibleDeploymentGroups=[],t._areDeploymentGroupsInitialized=!1,t._areRefreshFirstBatch=!1,t}return __extends(t,n),t.getKey=function(){return u.StoreKeys.DeploymentGroupsStore},t.prototype.initialize=function(){this._actionsHub=r.ActionsHubManager.GetActionsHub(i.DeploymentGroupsActions);this._actionsHub.updatePermissibleDeploymentGroups.addListener(this._handleUpdatePermissibleDeploymentGroups);this._actionsHub.updateNonPermissibleDeploymentGroups.addListener(this._handleUpdateNonPermissibleDeploymentGroups);this._actionsHub.refreshDeploymentGroups.addListener(this._handleRefreshDeploymentGroups);this._actionsHub.manageDeploymentGroups.addListener(this._handleManageDeploymentGroups);this._actionsHub.addDeploymentGroups.addListener(this._handleAddDeploymentGroups)},t.prototype.disposeInternal=function(){this._actionsHub.updatePermissibleDeploymentGroups.removeListener(this._handleUpdatePermissibleDeploymentGroups);this._actionsHub.updateNonPermissibleDeploymentGroups.removeListener(this._handleUpdateNonPermissibleDeploymentGroups);this._actionsHub.refreshDeploymentGroups.removeListener(this._handleRefreshDeploymentGroups);this._actionsHub.manageDeploymentGroups.removeListener(this._handleManageDeploymentGroups);this._actionsHub.addDeploymentGroups.removeListener(this._handleAddDeploymentGroups)},t.prototype.getDeploymentGroups=function(){return this._permissibleDeploymentGroups},t.prototype.getDeploymentGroupById=function(n){if(!n||n<0)return null;var t=this._getDeploymentGroupFromList(n,this._permissibleDeploymentGroups);return t||(t=this._getDeploymentGroupFromList(n,this._nonPermissibleDeploymentGroups)),t},t.prototype.getDeploymentGroupByName=function(n){var t=[];return t.push.apply(t,this._permissibleDeploymentGroups),t.push.apply(t,this._nonPermissibleDeploymentGroups),s.first(t,function(t){return h.ignoreCaseComparer(n,t.name)===0})},t.prototype.getDeploymentGroupsNameList=function(n){var t=[],i,r;return this._permissibleDeploymentGroups&&this._permissibleDeploymentGroups.forEach(function(n){t.push(n.name)}),i=this.getDeploymentGroupById(n),i&&(r=s.findIndex(t,function(n){return h.localeIgnoreCaseComparer(n,i.name)===0}),r<0&&t.push(i.name)),t},t.prototype.isDirty=function(){return!1},t.prototype.isValid=function(){return!0},t.prototype.areMachineGroupsInitialized=function(){return this._areDeploymentGroupsInitialized},t.prototype._getDeploymentGroupFromList=function(n,t){return s.first(t,function(t){return t.id===n})},t}(f.ChangeTrackerStoreBase);t.DeploymentGroupsStore=l});

define("DistributedTaskControls/Stores/MachinesStore",["require","exports","DistributedTaskControls/Actions/MachinesActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/Utilities"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.MachinesStore=void 0;var o=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._handleUpdateMachines=function(n){i._updateMapAndCurrentMachines(n);i._updateTags();i.emitChanged()},i._handleUpdateTags=function(n){i._tags=n;i._updateTags();i.emitChanged()},i._handleChangedMachineGroup=function(n){i._currentSelectedMachines={deploymentMachines:i.getMachinesByGroupId(n),deploymentGroupId:n};i._updateTags();i.emitChanged()},i._updateMapAndCurrentMachines=function(n){n&&(i._deploymentIdMachinesMap[n.deploymentGroupId]=n.deploymentMachines,i._currentSelectedMachines=n)},i._handleClearCache=function(){i._deploymentIdMachinesMap={};i.emitChanged()},i._deploymentIdMachinesMap={},i._tags=t||[],i}return __extends(t,n),t.getKey=function(){return u.StoreKeys.MachinesStore},t.prototype.initialize=function(n){this._actionsHub=r.ActionsHubManager.GetActionsHub(i.MachinesActions,n);this._actionsHub.updateMachines.addListener(this._handleUpdateMachines);this._actionsHub.changeMachineGroup.addListener(this._handleChangedMachineGroup);this._actionsHub.updateTags.addListener(this._handleUpdateTags);this._actionsHub.clearCache.addListener(this._handleClearCache)},t.prototype.disposeInternal=function(){this._actionsHub.updateMachines.removeListener(this._handleUpdateMachines);this._actionsHub.changeMachineGroup.removeListener(this._handleChangedMachineGroup);this._actionsHub.updateTags.removeListener(this._handleUpdateTags);this._actionsHub.clearCache.removeListener(this._handleClearCache)},t.prototype.getState=function(){return this._currentSelectedMachines},t.prototype.getMachinesByGroupId=function(n){var t=[];return n&&this.isMachinesOfDeploymentGroupExistInCache(n)&&(t=this._deploymentIdMachinesMap[n]),t},t.prototype.isMachinesOfDeploymentGroupExistInCache=function(n){return this._deploymentIdMachinesMap&&this._deploymentIdMachinesMap.hasOwnProperty(n)?!0:!1},t.prototype.getAllTags=function(n){for(var r,u=this.getMachinesByGroupId(n),t=[],f=u.length,i=0;i<f;i++)r=u[i].tags,r&&t.push.apply(t,r);return t},t.prototype._updateTags=function(){var n;if(this._currentSelectedMachines){var t=this.getMachinesByGroupId(this._currentSelectedMachines.deploymentGroupId),i={deploymentGroupId:this._currentSelectedMachines.deploymentGroupId,deploymentMachines:[]},r=t.length;for(n=0;n<r;n++)e.DtcUtils.isQualifiedMachine(t[n].tags,this._tags)&&i.deploymentMachines.push(t[n]);this._currentSelectedMachines=i}},t}(f.StoreBase);t.MachinesStore=o});

define("DistributedTaskControls/Phase/Components/DeploymentGroupInputComponent",["require","exports","react","DistributedTaskControls/Actions/DeploymentGroupsActionsCreator","DistributedTaskControls/Actions/MachinesActionsCreator","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Phase/Stores/MachineGroupInputsStore","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/ComboBoxInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/Stores/DeploymentGroupsStore","DistributedTaskControls/Stores/MachinesStore","OfficeFabric/Button","OfficeFabric/Utilities","VSS/Diag","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Phase/Components/DeploymentGroupInputComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){Object.defineProperty(t,"__esModule",{value:!0});t.DeploymentGroupInputComponent=void 0;var d=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onRefresh=function(){t._deploymentGroupsActionCreator.refreshDeploymentGroups();t._machinesActionsCreator.clearCache();t._updateMachines(t._getDeploymentGroupByName(),!0)},t._onManageClick=function(){var n=parseInt(t.props.value);t._deploymentGroupsActionCreator.manageDeploymentGroups(n)},t._onDeploymentMachineGroupChange=function(n){t._deploymentGroupName=n;var i=t._getDeploymentGroupByName();if(i){if(i.id){t.props.onValueChanged(i.id.toString());t._updateMachines(i)}}else{t.props.onValueChanged(e.DeploymentGroupConstants.InvalidDeploymentGroupId);t._updateMachines(null)}},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._deploymentGroupsStore=o.StoreManager.GetStore(v.DeploymentGroupsStore);this._machinesStore=o.StoreManager.GetStore(y.MachinesStore,this.props.instanceId);this._deploymentGroupInputComponentStore=o.StoreManager.GetStore(s.MachineGroupInputsStore,this.props.instanceId);this._deploymentGroupsActionCreator=f.ActionCreatorManager.GetActionCreator(r.DeploymentGroupsActionsCreator,this.props.instanceId);this._machinesActionsCreator=f.ActionCreatorManager.GetActionCreator(u.MachinesActionsCreator,this.props.instanceId);this._initialize()},t.prototype.getType=function(){return c.InputControlType.INPUT_TYPE_DEPLOYMENT_GROUP},t.prototype.getControl=function(){var n=this,t;return b.logVerbose("[DeploymentGroupInputComponent.getControl]: Method called."),t=this._getDeploymentGroupNameList(),i.createElement("div",{className:"deployment-group"},i.createElement("div",{className:"deployment-group-selection"},i.createElement("div",{className:"fabric-style-overrides task-input-dropdown"},i.createElement(l.ComboBoxInputComponent,{ariaLabel:this.props.label,value:this._deploymentGroupName,comboBoxType:l.ComboBoxType.Searchable,source:t,onValueChanged:this._onDeploymentMachineGroupChange,enableFilter:!0,allowEdit:!0,autoComplete:!0,enabled:!this.props.disabled,required:this.props.required,errorMessage:this._getDeploymentGroupErrorMessage()}))),i.createElement("div",{className:"task-input-buttons"},!this.props.disabled&&i.createElement(p.IconButton,{onClick:function(t){return n._onRefresh(t)},iconProps:{iconName:"Refresh"},className:w.css("task-input-icon-button","fabric-style-overrides","icon-button-override"),ariaLabel:k.localeFormat(h.RefreshInputDescription,this.props.label),disabled:this.props.disabled}),i.createElement(p.IconButton,{role:"link",onClick:function(t){return n._onManageClick(t)},iconProps:{iconName:"Settings"},className:w.css("task-input-icon-button","fabric-style-overrides","icon-button-override"),ariaLabel:k.localeFormat(h.ManageInputDescription,this.props.label)})))},t.prototype._getCurrentSelectedGroup=function(){var n=parseInt(this.props.value);return this._deploymentGroupsStore.getDeploymentGroupById(n)},t.prototype._getDeploymentGroupNameList=function(){var n=this._deploymentGroupInputComponentStore.getOriginalDeploymentGroupId();return this._deploymentGroupsStore.getDeploymentGroupsNameList(n)},t.prototype._getDeploymentGroupByName=function(){return this._deploymentGroupsStore.getDeploymentGroupByName(this._deploymentGroupName)},t.prototype._updateMachines=function(n,t){t===void 0&&(t=!1);n?!t&&this._machinesStore.isMachinesOfDeploymentGroupExistInCache(n.id)?this._machinesActionsCreator.changeMachines(n.id):this._machinesActionsCreator.updateMachines(n.id):this._machinesActionsCreator.changeMachines(null)},t.prototype._getDeploymentGroupErrorMessage=function(){return this._deploymentGroupName?this._deploymentGroupName+h.WhiteSpaceSeparator+h.DeploymentGroupNotFound:h.RequiredInputErrorMessage},t.prototype._initialize=function(){if(this.props.value){var n=this._getCurrentSelectedGroup();this._deploymentGroupName=n?n.name:k.empty}},t}(a.InputBase);t.DeploymentGroupInputComponent=d});

define("DistributedTaskControls/SharedControls/InputControls/Components/ContributionComponent",["require","exports","react","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Contributions/Controls","VSS/Error","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/ContributionComponent"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.ContributionComponent=void 0;var o=function(n){function t(t,o){var s=__construct(this,n,[t,o]),h,c,l;for(h in s)s.hasOwnProperty(h)&&(this[h]=s[h]);return s.state={component:i.createElement("div",{className:"dtc-contribution-component-loading"},u.Loading)},c=s.props.contributionHostBehavior||{showLoadingIndicator:!1,showErrorIndicator:!1,slowWarningDurationMs:0},s._$contributionContainer=$("<div>"),l=r.JQueryWrapper.extend(s.props.initialConfig,{disabled:s.props.disabled}),f.createContributedControl(s._$contributionContainer,s.props.contribution,l,s.props.webContext,s.props.instanceId,c).then(function(n){s.setState({component:n})},function(n){e.publishErrorToTelemetry({name:"CreateContributionError",message:n.message})}),s}return __extends(t,n),t.prototype.render=function(){return this.state.component},t.prototype.componentWillUnmount=function(){this._$contributionContainer&&(this._$contributionContainer.remove(),this._$contributionContainer=null)},t}(i.Component);t.ContributionComponent=o});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=e[0]&2?u["return"]:e[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[e[0]&2,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o];u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e};define("DistributedTaskControls/SharedControls/InputControls/Components/QueryControlInputComponent",["require","exports","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/ContributionComponent","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Components/RequiredIndicator","react","TFS/WorkItemTracking/Controls","VSS/Contributions/Services","VSS/Diag","VSS/Service","VSS/WebApi/Constants","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/QueryControlInputComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var y,p;Object.defineProperty(t,"__esModule",{value:!0});t.QueryControlInputComponent=void 0;y=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getType=function(){return u.InputControlType.INPUT_TYPE_QUERY_CONTROL},t.prototype.getControl=function(){return l.logVerbose("[QueryControlInputComponent.getControl]: Method called."),s.createElement(p,__assign({},this.props))},t}(e.InputBase);t.QueryControlInputComponent=y;p=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._getErrorMessage=function(){if(i.props.getErrorMessage)return i.props.getErrorMessage(i.props.value)},i.state={teamDataLoaded:!1},i}return __extends(t,n),t.prototype.componentDidMount=function(){return __awaiter(this,void 0,void 0,function(){var n,t;return __generator(this,function(i){switch(i.label){case 0:return n={id:"ms.vss-dashboards-web.dashboards-team-data-provider",properties:{serviceInstanceType:v.ServiceInstanceTypes.TFS}},t=a.getService(c.WebPageDataService),[4,t.ensureDataProvidersResolved([n])];case 1:return i.sent(),this.setState({teamDataLoaded:!0}),[2]}})})},t.prototype.render=function(){if(this.state.teamDataLoaded){var n={value:this.props.value,onValueChanged:this.props.onSelectedQueryChanged,label:r.QueryText};return s.createElement("div",{className:"query-control-input-component"},s.createElement(o.Component,{value:this.props.value,onGetErrorMessage:this._getErrorMessage},s.createElement(f.ContributionComponent,{contribution:h.QuerySelectorControl.contributionId,initialConfig:n,disabled:this.props.disabled})))}return s.createElement("span",{className:"bowtie-icon bowtie-spinner"})},t}(i.Component)});

define("DistributedTaskControls/SharedControls/InputControls/RepositoryPickerConstants",["require","exports"],function(n,t){var i,r,u;Object.defineProperty(t,"__esModule",{value:!0});t.ActionKeys=t.ActionCreatorKeys=t.StoreKeys=void 0;i=function(){function n(){}return n.RepositoryPicker="REPOSITORY_PICKER_STORE_KEY",n.RepositorySelector="REPOSITORY_SELECTOR_STORE_KEY",n}();t.StoreKeys=i;r=function(){function n(){}return n.RepositoryPicker="REPOSITORY_PICKER_ACTION_CREATOR_KEY",n.RepositorySelector="REPOSITORY_SELECTOR_ACTION_CREATOR_KEY",n}();t.ActionCreatorKeys=r;u=function(){function n(){}return n.RepositoryPicker="REPOSITORY_PICKER_ACTIONS_KEY",n.RepositorySelector="REPOSITORY_SELECTOR_ACTIONS_KEY",n}();t.ActionKeys=u});

define("DistributedTaskControls/Actions/RepositoryPickerActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/SharedControls/InputControls/RepositoryPickerConstants"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.RepositoryPickerActions=void 0;var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updateValue=new i.Action;this._updateShowRepositorySelectorDialog=new i.Action},Object.defineProperty(t.prototype,"updateValue",{get:function(){return this._updateValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateShowRepositorySelectorDialog",{get:function(){return this._updateShowRepositorySelectorDialog},enumerable:!1,configurable:!0}),t.getKey=function(){return r.ActionKeys.RepositoryPicker},t}(i.ActionsHubBase);t.RepositoryPickerActions=u});

define("DistributedTaskControls/Actions/RepositoryPickerActionCreator",["require","exports","DistributedTaskControls/Actions/RepositoryPickerActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/SharedControls/InputControls/RepositoryPickerConstants"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.RepositoryPickerActionCreator=void 0;var e=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.prototype.initialize=function(n){this._actions=r.ActionsHubManager.GetActionsHub(i.RepositoryPickerActions,n)},t.getKey=function(){return f.ActionCreatorKeys.RepositoryPicker},t.prototype.updateValue=function(n){this._actions.updateValue.invoke(n)},t.prototype.updateShowRepositorySelectorDialog=function(n){this._actions.updateShowRepositorySelectorDialog.invoke(n)},t}(u.ActionCreatorBase);t.RepositoryPickerActionCreator=e});

define("DistributedTaskControls/Actions/RepositorySelectorActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/SharedControls/InputControls/RepositoryPickerConstants"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.RepositorySelectorActions=void 0;var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updateState=new i.Action},Object.defineProperty(t.prototype,"updateState",{get:function(){return this._updateState},enumerable:!1,configurable:!0}),t.getKey=function(){return r.ActionKeys.RepositorySelector},t}(i.ActionsHubBase);t.RepositorySelectorActions=u});

define("DistributedTaskControls/Sources/RepositoryPickerSource",["require","exports","DistributedTaskControls/Common/Factory","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","TFS/ServiceEndpoint/ServiceEndpointRestClient","VSS/Context","VSS/Service","VSS/Utils/String","q"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.RepositoryPickerSource=void 0;var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._serviceEndpointHttpClient=e.getClient(u.ServiceEndpointHttpClient),t._promiseDictionary={},t}return __extends(t,n),t.prototype.validateRepositoryName=function(n,t,i){var u=this;return o.ignoreCaseComparer(n,o.empty)!==0?this._promiseDictionary.hasOwnProperty(n)?this._promiseDictionary[n]:this._prevValue===n?s.resolve(this._prevPromise):(this._prevValue=n,this._prevPromise=this._getRepositoryByName(n,t,i).then(function(t){if(t!==null){var i=void 0;return i=o.equals(t.statusCode,"ok",!0)&&t.result.length>0?o.empty:o.localeFormat(r.InvalidRepositoryName,n),u._promiseDictionary[n]=s.resolve(i),u._promiseDictionary[n]}},function(n){return s.reject(n)}),s.resolve(this._prevPromise)):s.resolve(null)},t.prototype.getRepositories=function(n,t){var r=this,u=f.getDefaultWebContext().project.id,i=s.defer();return t.then(function(t){i.resolve(r._serviceEndpointHttpClient.executeServiceEndpointRequest(t,u,n))},function(n){i.reject(n)}),i.promise},t.prototype.searchRepositories=function(n,t){var i=f.getDefaultWebContext().project.id;return this._serviceEndpointHttpClient.executeServiceEndpointRequest(t,i,n)},t.instance=function(){return n.getInstance.call(this,t)},t.prototype._getRepositoryByName=function(n,t,i){if(o.ignoreCaseComparer(n,o.empty)!==0){var r=f.getDefaultWebContext().project.id,u={dataSourceName:i,dataSourceUrl:null,resourceUrl:null,requestContent:null,requestVerb:"GET",parameters:{repositoryName:n},resultSelector:null,headers:null,initialContextTemplate:null},e={serviceEndpointDetails:null,dataSourceDetails:u,resultTransformationDetails:{resultTemplate:null,callbackContextTemplate:null,callbackRequiredTemplate:null}};return this._serviceEndpointHttpClient.executeServiceEndpointRequest(e,r,t)}},t}(i.Singleton);t.RepositoryPickerSource=h});

define("DistributedTaskControls/Actions/RepositorySelectorActionCreator",["require","exports","DistributedTaskControls/Actions/RepositorySelectorActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/RepositoryPickerConstants","DistributedTaskControls/SharedControls/LoadableComponent/LoadableComponentActionsHub","DistributedTaskControls/Sources/RepositoryPickerSource","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});t.RepositorySelectorActionCreator=void 0;var c=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.REPOSITORY_FULLNAME_KEY="full_name",i._store=t,i}return __extends(t,n),t.prototype.initialize=function(n){this._actions=r.ActionsHubManager.GetActionsHub(i.RepositorySelectorActions,n);this._loadableComponentActionsHub=r.ActionsHubManager.GetActionsHub(o.LoadableComponentActionsHub,n);this._repositoryPickerSource=s.RepositoryPickerSource.instance()},t.getKey=function(){return e.ActionCreatorKeys.RepositorySelector},t.prototype.updateState=function(n){this._actions.updateState.invoke(n)},t.prototype.updateSearchResults=function(n,t){var i=this,u,r;this._loadableComponentActionsHub.showLoadingExperience.invoke({});u=this._repositoryPickerSource.searchRepositories(t.connectionId,t.getSearchEndpointRequest(n));r=[];u.then(function(t){n===i.getState().searchText&&(h.equals(t.statusCode,"ok",!0)?(t.result.forEach(function(n){r.push(JSON.parse(n)[i.REPOSITORY_FULLNAME_KEY])}),i._actions.updateState.invoke({items:r,errorMessage:h.empty})):h.equals(t.statusCode,"422",!0)?i._actions.updateState.invoke({items:r,errorMessage:f.RepositorySelectorSearchFailed}):i._actions.updateState.invoke({items:r,errorMessage:t.errorMessage}),i._loadableComponentActionsHub.hideLoadingExperience.invoke({}))},function(t){var r=t?t.message||t:h.empty;n===i.getState().searchText&&(i._actions.updateState.invoke({errorMessage:r}),i._loadableComponentActionsHub.hideLoadingExperience.invoke({}))})},t.prototype.prefetchUserRepositories=function(n,t,i){var u=this,f,r;if(i&&i.length>0){this._actions.updateState.invoke({errorMessage:h.empty,initialList:i});return}f=this._repositoryPickerSource.getRepositories(n,t);r=[];f.then(function(n){h.equals(n.statusCode,"ok",!0)&&n.result&&n.result.length>0&&(n.result.forEach(function(n){r.push(JSON.parse(n)[u.REPOSITORY_FULLNAME_KEY])}),u._actions.updateState.invoke({errorMessage:h.empty,initialList:r}))})},t.prototype.updateInitialItems=function(n,t){var i=this.getState();i.initialList&&i.initialList.length>0?(this._actions.updateState.invoke({items:i.initialList}),this._loadableComponentActionsHub.hideLoadingExperience.invoke({})):this.setInitialItems(n,t,null)},t.prototype.setInitialItems=function(n,t,i){var r=this,f,u;if(i&&i.length>0){this._actions.updateState.invoke({items:i,errorMessage:h.empty,initialList:i});this._loadableComponentActionsHub.hideLoadingExperience.invoke({});return}this._loadableComponentActionsHub.showLoadingExperience.invoke({});f=this._repositoryPickerSource.getRepositories(n,t);u=[];f.then(function(n){h.equals(n.statusCode,"ok",!0)?(n.result.forEach(function(n){u.push(JSON.parse(n)[r.REPOSITORY_FULLNAME_KEY])}),r._actions.updateState.invoke({items:u,errorMessage:h.empty,initialList:u}),r._loadableComponentActionsHub.hideLoadingExperience.invoke({})):(r._actions.updateState.invoke({items:u,errorMessage:n.errorMessage,initialList:u}),r._loadableComponentActionsHub.hideLoadingExperience.invoke({}))},function(n){var t=n?n.message||n:h.empty;r._actions.updateState.invoke({errorMessage:t});r._loadableComponentActionsHub.hideLoadingExperience.invoke({})})},t.prototype.showLoadingExperience=function(){this._loadableComponentActionsHub.showLoadingExperience.invoke({})},t.prototype.hideLoadingExperience=function(){this._loadableComponentActionsHub.hideLoadingExperience.invoke({})},t.prototype.getState=function(){return this._store.getState()},t}(u.ActionCreatorBase);t.RepositorySelectorActionCreator=c});

define("DistributedTaskControls/Stores/RepositorySelectorStore",["require","exports","DistributedTaskControls/Actions/RepositorySelectorActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/SharedControls/InputControls/RepositoryPickerConstants"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.RepositorySelectorStore=void 0;var e=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._onUpdateState=function(n){n.searchText!==null&&n.searchText!==undefined&&(i._state.searchText=n.searchText);n.errorMessage!==null&&n.errorMessage!==undefined&&(i._state.errorMessage=n.errorMessage);n.initialList!==null&&n.initialList!==undefined&&(i._state.initialList=n.initialList);n.items!==null&&n.items!==undefined&&(i._state.items=n.items);n.selectedItem!==null&&n.selectedItem!==undefined&&(i._state.selectedItem=n.selectedItem);i.emitChanged()},i._state={},i._state.searchText=t.searchText,i._state.selectedItem=t.selectedItem,i._state.items=t.items,i._state.errorMessage=t.errorMessage,i._state.initialList=t.initialList,i}return __extends(t,n),t.prototype.initialize=function(t){n.prototype.initialize.call(this);this._repositorySelectorActions=r.ActionsHubManager.GetActionsHub(i.RepositorySelectorActions,t);this._repositorySelectorActions.updateState.addListener(this._onUpdateState)},t.getKey=function(){return f.StoreKeys.RepositorySelector},t.prototype.getState=function(){return this._state},t.prototype.disposeInternal=function(){this._repositorySelectorActions.updateState.removeListener(this._onUpdateState)},t}(u.StoreBase);t.RepositorySelectorStore=e});

define("DistributedTaskControls/SharedControls/InputControls/Components/RepositorySelectorComponent",["require","exports","DistributedTaskControls/Actions/RepositorySelectorActionCreator","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/ErrorComponent/ErrorComponent","DistributedTaskControls/SharedControls/LoadableComponent/LoadableComponent","DistributedTaskControls/SharedControls/LoadableComponent/LoadableComponentStore","DistributedTaskControls/Stores/RepositorySelectorStore","OfficeFabric/Selection","react","VSS/Utils/String","VSSUI/FilterBar","VSSUI/PickList","VSSUI/TextFilterBarItem","VSSUI/Utilities/Filter","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/RepositorySelectorComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){Object.defineProperty(t,"__esModule",{value:!0});t.RepositorySelectorComponent=void 0;var k=function(n){function t(t){var u=__construct(this,n,[t]),e,o;for(e in u)u.hasOwnProperty(e)&&(this[e]=u[e]);return u._onSelectionChanged=function(n){var t=n&&n.selectedItems&&n.selectedItems.length>0&&n.selectedItems[0];u.props.onRepositorySelected(t);u.props.onCloseRepositoryBrowser()},u._onStoreChange=function(){u.setState(u._store.getState())},u._filterKey="repositoryNameSearchKey",u._store=f.StoreManager.CreateStore(c.RepositorySelectorStore,u.props.instanceId,{searchText:u.props.value,errorMessage:v.empty}),u._repositorySelectorActionCreator=r.ActionCreatorManager.CreateActionCreator(i.RepositorySelectorActionCreator,u.props.instanceId,u._store),u.props.initialValues&&u.props.initialValues.length>0&&f.StoreManager.GetStore(h.LoadableComponentStore,u.props.instanceId),u._filter=new b.Filter,o=u._filter.getState(),o[u._filterKey]=!u.props.value||u.props.isVariable(u.props.value)?{value:v.empty}:{value:u.props.value},u._filter.setState(o,!0),u._onFilterUpdated=u._onFilterUpdated.bind(u),u}return __extends(t,n),t.prototype.componentWillMount=function(){this._store.addChangedListener(this._onStoreChange);var n=this._filter.getState()[this._filterKey].value;n?(this._repositorySelectorActionCreator.updateSearchResults(n,this.props),this._repositorySelectorActionCreator.prefetchUserRepositories(this.props.connectionId,this.props.getInitialListEndpointRequest(),this.props.initialValues)):this._repositorySelectorActionCreator.setInitialItems(this.props.connectionId,this.props.getInitialListEndpointRequest(),this.props.initialValues);this.setState(this._store.getState())},t.prototype.componentDidMount=function(){this._filter.subscribe(this._onFilterUpdated,b.FILTER_CHANGE_EVENT)},t.prototype.componentWillUnmount=function(){this._store.removeChangedListener(this._onStoreChange);this._filter.unsubscribe(this._onFilterUpdated,b.FILTER_CHANGE_EVENT)},t.prototype.render=function(){return a.createElement("div",null,a.createElement(y.FilterBar,{filter:this._filter},a.createElement(w.KeywordFilterBarItem,{filterItemKey:this._filterKey,placeholder:e.SearchAllRepositories,throttleWait:1e3})),a.createElement(s.LoadableComponent,{instanceId:this.props.instanceId,label:e.Loading,wait:0},!this.state.errorMessage?a.createElement(p.PickList,{className:"repository-selector-picklist",items:this.state.items,isSearchable:!1,noItemsText:e.NoRepositoryFoundText,onSelectionChanged:this._onSelectionChanged,selectionMode:l.SelectionMode.single,searchNoResultsText:e.NoMatchingRepositoriesFoundText,selectedItems:[this.state.selectedItem]}):a.createElement(o.ErrorComponent,{errorMessage:this.state.errorMessage})))},t.prototype._onFilterUpdated=function(n){if(this._repositorySelectorActionCreator.showLoadingExperience(),n.hasOwnProperty(this._filterKey)){var t=n[this._filterKey]?n[this._filterKey].value:null;t?(this._repositorySelectorActionCreator.updateState({searchText:t}),this._repositorySelectorActionCreator.updateSearchResults(t,this.props)):(this._repositorySelectorActionCreator.updateState({searchText:v.empty,errorMessage:v.empty}),this._repositorySelectorActionCreator.updateInitialItems(this.props.connectionId,this.props.getInitialListEndpointRequest()))}},t}(u.Component);t.RepositorySelectorComponent=k});

define("DistributedTaskControls/Stores/RepositoryPickerStore",["require","exports","DistributedTaskControls/Actions/RepositoryPickerActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/SharedControls/InputControls/RepositoryPickerConstants"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.RepositoryPickerStore=void 0;var e=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._onUpdateValue=function(n){i._state.value=n;i.emitChanged()},i._onUpdateShowRepositorySelectorDialog=function(n){i._state.showRepositorySelectorDialog=n;i.emitChanged()},i._state={},i._state.value=t.value,i._state.showRepositorySelectorDialog=t.showRepositorySelectorDialog,i._state.initialValues=t.initialValues,i}return __extends(t,n),t.prototype.initialize=function(n){this._repositoryPickerActions=r.ActionsHubManager.GetActionsHub(i.RepositoryPickerActions,n);this._repositoryPickerActions.updateValue.addListener(this._onUpdateValue);this._repositoryPickerActions.updateShowRepositorySelectorDialog.addListener(this._onUpdateShowRepositorySelectorDialog)},t.getKey=function(){return f.StoreKeys.RepositoryPicker},t.prototype.getState=function(){return this._state},t.prototype.disposeInternal=function(){this._repositoryPickerActions.updateValue.removeListener(this._onUpdateValue);this._repositoryPickerActions.updateShowRepositorySelectorDialog.removeListener(this._onUpdateShowRepositorySelectorDialog)},t}(u.StoreBase);t.RepositoryPickerStore=e});

define("DistributedTaskControls/SharedControls/InputControls/Components/RepositoryPickerComponent",["require","exports","DistributedTaskControls/Actions/RepositoryPickerActionCreator","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/RegexConstants","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Components/FilePathInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/RepositorySelectorComponent","DistributedTaskControls/Sources/RepositoryPickerSource","DistributedTaskControls/Stores/RepositoryPickerStore","OfficeFabric/Dialog","react","VSS/Utils/String","q","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/RepositoryPickerComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){Object.defineProperty(t,"__esModule",{value:!0});t.RepositoryPickerComponent=void 0;var w=function(n){function t(t){var u=__construct(this,n,[t]),f,o;for(f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u._onStoreChange=function(){u.setState(u._store.getState())},u._onValueChanged=function(n){if(u._repositoryPickerActionCreator.updateValue(n),n&&y.ignoreCaseComparer(n.trim(),y.empty)!==0)if(!!u.props.allowVariables&&u.isVariable(n))u.props.onRepositoryChanged(n,n,!1);else u._repositoryPickerSource.validateRepositoryName(n,u.props.connectionId,u.props.getRepositoryByNameDataSource).then(function(t){if(n===u.state.value)if(y.ignoreCaseComparer(t,y.empty)===0)u.props.onRepositoryChanged(n,n,!1);else u.props.onRepositoryChanged(y.empty,y.empty,!0)},function(){if(n===u.state.value)u.props.onRepositoryChanged(y.empty,y.empty,!0)});else u.props.onRepositoryChanged(y.empty,y.empty,!0)},u._onRepositoryChanged=function(n){u._repositoryPickerActionCreator.updateValue(n);u.props.onRepositoryChanged(n,n,!1)},u._onShowRepositoryBrowser=function(){u._repositoryPickerActionCreator.updateShowRepositorySelectorDialog(!0)},u._onCloseRepositoryBrowser=function(){u._repositoryPickerActionCreator.updateShowRepositorySelectorDialog(!1)},u._getErrorMessage=function(n){return y.ignoreCaseComparer(n.trim(),y.empty)===0?p.resolve(u.props.errorMessage):!!u.props.allowVariables&&u.isVariable(n)?p.resolve(y.empty):u._repositoryPickerSource.validateRepositoryName(n,u.props.connectionId,u.props.getRepositoryByNameDataSource)},o=u.props.value?y.empty:u.props.errorMessage,u._store=e.StoreManager.CreateStore(l.RepositoryPickerStore,u.props.instanceId,{value:u.props.value,errorMessage:o,showRepositorySelectorDialog:!1,initialValues:u.props.initialValues}),u._repositoryPickerActionCreator=r.ActionCreatorManager.CreateActionCreator(i.RepositoryPickerActionCreator,u.props.instanceId,u._store),u._repositoryPickerSource=c.RepositoryPickerSource.instance(),u}return __extends(t,n),t.prototype.componentWillMount=function(){this._store.addChangedListener(this._onStoreChange);this.setState(this._store.getState())},t.prototype.componentWillUnmount=function(){this._store.removeChangedListener(this._onStoreChange)},t.prototype.render=function(){var n;return n=this.state.showRepositorySelectorDialog?v.createElement(a.Dialog,{modalProps:{className:"repository-selector-dialog",containerClassName:"repository-selector-dialog-container",isBlocking:!0},hidden:!this.state.showRepositorySelectorDialog,dialogContentProps:{type:a.DialogType.close},title:o.SelectRepositoryTitle,onDismiss:this._onCloseRepositoryBrowser},v.createElement(h.RepositorySelectorComponent,{value:this.state.value,connectionId:this.props.connectionId,initialValues:this.props.initialValues,onRepositorySelected:this._onRepositoryChanged,onCloseRepositoryBrowser:this._onCloseRepositoryBrowser,getInitialListEndpointRequest:this.props.getInitialListEndpointRequest,getSearchEndpointRequest:this.props.getSearchEndpointRequest,instanceId:y.generateUID(),isVariable:this.isVariable})):null,v.createElement("div",null,v.createElement(s.FilePathInputComponent,{disabled:this.props.disabled,readOnly:!1,ariaLabelledBy:this.props.ariaLabelledBy,isFileSystemBrowsable:function(){return!0},onValueChanged:this._onValueChanged,filePathProviderDelegate:this._onShowRepositoryBrowser,value:this.state.value,required:this.props.required,getErrorMessage:this._getErrorMessage,deferredValidationTime:100}),n)},t.prototype.isVariable=function(n){return f.VariableParameterRegex.test(n)},t}(u.Component);t.RepositoryPickerComponent=w});

define("DistributedTaskControls/SharedControls/InputControls/Components/GitHubRepositoryPickerComponent",["require","exports","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Components/RepositoryPickerComponent","TFS/ServiceEndpoint/ServiceEndpointRestClient","VSS/Service","VSS/Context","react","VSS/Diag","VSS/Utils/String","DistributedTaskControls/Common/Common","q"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){Object.defineProperty(t,"__esModule",{value:!0});t.GitHubRepositoryPickerComponent=void 0;var y=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._getInitialListEndpointRequest=function(){var r=o.getClient(e.ServiceEndpointHttpClient),u=s.getDefaultWebContext().project.id,n=v.defer(),i;return t._serviceConnection&&l.equals(t._serviceConnection.id,t.props.connectionId,!0)?t._resolveInitialListServiceEndpointRequest(n):(i=r.getServiceEndpoints(u,null,null,[t.props.connectionId],null,!1,!1),i.then(function(i){i&&i.length===1&&(t._serviceConnection=i[0],t._resolveInitialListServiceEndpointRequest(n))},function(t){n.reject(t)})),n.promise},t._getSearchEndpointRequest=function(n){var e,t,i,r,u,o=!1,f,s,h;return n.includes("/")&&(f=n.split("/"),r=f[1],u=f[0],r.trim().length>0&&u.trim().length>0&&(o=!0)),o?(t=a.DataSourceNames.SearchRepositoriesByNameWithinOrg,i={searchText:r,orgName:u}):(t=a.DataSourceNames.SearchRepositoriesByNameForTasks,i={searchText:n}),e={dataSourceName:t,dataSourceUrl:null,resourceUrl:null,requestContent:null,requestVerb:"GET",parameters:i,resultSelector:null,headers:null,initialContextTemplate:null},s={resultTemplate:null,callbackContextTemplate:null,callbackRequiredTemplate:null},h={serviceEndpointDetails:null,dataSourceDetails:e,resultTransformationDetails:s},h},t}return __extends(t,n),t.prototype.getType=function(){return r.InputControlType.INPUT_TYPE_GITHUB_REPOSITORY_PICKER},t.prototype.getControl=function(){return c.logVerbose("[GitHubRepositoryPickerComponent.getControl]: Method called."),this._renderGitHubRepositoryPicker()},t.prototype._renderGitHubRepositoryPicker=function(){return h.createElement(f.RepositoryPickerComponent,{value:this.props.value,connectionId:this.props.connectionId,disabled:this.props.disabled,required:this.props.required,allowVariables:this.props.allowVariables,initialValues:this.props.initialValues,onRepositoryChanged:this.props.onRepositoryChanged,getRepositoryByNameDataSource:a.DataSourceNames.Repository,getInitialListEndpointRequest:this._getInitialListEndpointRequest,getSearchEndpointRequest:this._getSearchEndpointRequest,errorMessage:i.EnterRepositoryOrSearch,instanceId:l.generateUID(),ariaLabelledBy:this.getInputFieldLabelElementId()})},t.prototype._resolveInitialListServiceEndpointRequest=function(n){var t=a.DataSourceNames.UserRepositoriesAsOwner;this._serviceConnection&&l.equals(this._serviceConnection.authorization.scheme,a.EndpointAuthorizationSchemes.InstallationToken,!0)&&(t=a.DataSourceNames.InstallationRepos);var i={dataSourceName:t,dataSourceUrl:null,resourceUrl:null,requestContent:null,requestVerb:"GET",parameters:null,resultSelector:null,headers:null,initialContextTemplate:null},r={serviceEndpointDetails:null,dataSourceDetails:i,resultTransformationDetails:{resultTemplate:null,callbackContextTemplate:null,callbackRequiredTemplate:null}};n.resolve(r)},t}(u.InputBase);t.GitHubRepositoryPickerComponent=y});

define("DistributedTaskControls/Components/Task/TaskInputControlFactory",["require","exports","react","DistributedTasksCommon/ServiceEndpoints/ServiceEndpoint.Common","DistributedTaskControls/SharedControls/InputControls/Components/PickListBaseComponent","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Factory","DistributedTaskControls/Common/IdentityUtils","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Common/Utilities","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/AzureConnectionInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/AzureResourceManagerInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/BooleanInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/MultilineInputWithEditorExtensionComponent","DistributedTaskControls/SharedControls/InputControls/Components/RadioInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/StringListInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/StringInputWithEditorExtensionComponent","DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceComponentUtility","DistributedTaskControls/SharedControls/InputControls/Components/FilePathInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/IdentityPickerInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/SecureFileInputComponent","DistributedTaskControls/Phase/Components/DeploymentGroupInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/QueryControlInputComponent","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Context","VSS/Diag","VSS/Utils/String","DistributedTaskControls/SharedControls/InputControls/Components/GitHubRepositoryPickerComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st){Object.defineProperty(t,"__esModule",{value:!0});t.TaskInputControlFactory=void 0;var ht=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.instance=function(){return n.getInstance.call(this,t)},t.prototype.getInputControl=function(n){var t=null,ct=h.DtcUtils.getTaskInputType(n.inputDefinition),e,r,o,f,a,y,d,ut,ft,et,ot,ht;switch(ct){case c.InputControlType.INPUT_TYPE_FILE_PATH.toLowerCase():case c.InputControlType.INPUT_TYPE_ARTIFACT_PATH.toLowerCase():e=this._getFilePathInputControlProps(n);t=i.createElement(g.FilePathInputComponent,__assign({key:n.inputDefinition.name},e));break;case c.InputControlType.INPUT_TYPE_BOOLEAN.toLowerCase():r=s.JQueryWrapper.extend({},n.inputControlProps);r.value=h.DtcUtils.getBoolValue(n.inputControlProps.value);r.onValueChanged=function(t){n.inputControlProps.onValueChanged(t.toString())};t=i.createElement(v.BooleanInputComponent,__assign({key:n.inputDefinition.name},r));break;case c.InputControlType.INPUT_TYPE_AZURE_CONNECTION.toLowerCase():o=this._getAzureConnectionInputControlProps(n);t=i.createElement(l.AzureConnectionInputComponent,__assign({key:n.inputDefinition.name},o));break;case c.InputControlType.INPUT_TYPE_CONNECTED_SERVICE.toLowerCase():t=this._getConnectedServiceComponent(n);break;case c.InputControlType.INPUT_TYPE_RADIO.toLowerCase():f=s.JQueryWrapper.extend({},this._getRadioInputControlProps(n));f.onValueChanged=function(t){n.inputControlProps.onValueChanged(t.key)};t=i.createElement(w.RadioInputComponent,__assign({key:n.inputDefinition.name},f));break;case c.InputControlType.INPUT_TYPE_PICK_LIST.toLowerCase():t=i.createElement(u.PickListBaseComponent,{key:n.inputDefinition.name,args:n});break;case c.InputControlType.INPUT_TYPE_MULTI_LINE.toLowerCase():a=this._getStringOrMultilineInputControlProps(n);t=i.createElement(p.MultilineInputWithEditorExtensionComponent,__assign({key:n.inputDefinition.name},a));break;case c.InputControlType.INPUT_TYPE_SECURE_FILE.toLowerCase():y=this._getSecureFileInputProps(n);t=i.createElement(tt.SecureFileInputComponent,__assign({key:n.inputDefinition.name},y));break;case c.InputControlType.INPUT_TYPE_STRING_LIST.toLowerCase():d=this._getStringListInputComponentProps(n);t=i.createElement(b.StringListInputComponent,__assign({key:n.inputDefinition.name},d));break;case c.InputControlType.INPUT_TYPE_IDENTITIES.toLowerCase():ut=this._getIdentityPickerComponentProps(n);t=i.createElement(nt.IdentityPickerInputComponent,__assign({key:n.inputDefinition.name},ut));break;case c.InputControlType.INPUT_TYPE_DEPLOYMENT_GROUP.toLowerCase():ft=this._getDeploymentGroupInputControlProps(n);t=i.createElement(it.DeploymentGroupInputComponent,__assign({key:n.inputDefinition.name},ft));break;case c.InputControlType.INPUT_TYPE_QUERY_CONTROL.toLowerCase():et=this._getQueryControlComponentProps(n);t=i.createElement(rt.QueryControlInputComponent,__assign({key:n.inputDefinition.name},et));break;case c.InputControlType.INPUT_TYPE_GITHUB_REPOSITORY_PICKER.toLowerCase():ot=this._getGitHubRepositoryPickerComponentProps(n);t=i.createElement(st.GitHubRepositoryPickerComponent,__assign({key:n.inputDefinition.name},ot));break;default:ht=this._getStringOrMultilineInputControlProps(n);t=i.createElement(k.StringInputWithEditorExtensionComponent,__assign({key:n.inputDefinition.name},ht,{isMultilineExpandable:!0,rows:1}))}return t},t.prototype._getConnectedServiceComponent=function(n){var f=d.ConnectedServiceComponentUtility.getConnectedServiceType(n.inputDefinition),t,u;return ot.ignoreCaseComparer(f,r.ServiceEndpointType.AzureRM)===0&&ft.getPageContext().webAccessConfiguration.isHosted?(t=this._getAzureResourceManagerInputControlProps(n),i.createElement(a.AzureResourceManagerInputComponent,__assign({key:n.inputDefinition.name},t))):(u=this._getConnectedServiceInputControlProps(n),i.createElement(y.ConnectedServiceInputComponent,__assign({key:n.inputDefinition.name},u)))},t.prototype._getSecureFileInputProps=function(n){return n.inputControlProps},t.prototype._getIdentityPickerComponentProps=function(n){return s.JQueryWrapper.extend(n.inputControlProps,{multiIdentitySearch:!0,onSelectedIdentitiesChanged:function(t){n.inputControlProps.onValueChanged(o.IdentityUtils.getUserIdsAsJSONString(t))},value:o.IdentityUtils.convertJsonArrayIdentitiesStringToSemicolonSeperatedString(n.inputControlProps.value)})},t.prototype._getQueryControlComponentProps=function(n){return s.JQueryWrapper.extend(n.inputControlProps,{onSelectedQueryChanged:function(t){n.inputControlProps.onValueChanged(t)},value:n.inputControlProps.value})},t.prototype._getFilePathInputControlProps=function(n){var t=n.controllerStore.getTaskContext(),i=null;return t.taskDelegates&&(i=t.taskDelegates.filePathPickerDelegate),s.JQueryWrapper.extend(n.inputControlProps,{isFileSystemBrowsable:t.isFileSystemBrowsable,filePathProviderDelegate:i})},t.prototype._getAzureConnectionInputControlProps=function(n){return s.JQueryWrapper.extend(n.inputControlProps,{options:n.inputDefinition.options,onOptionsChanged:function(t){n.inputControlProps.onOptionsChanged(t)},instanceId:this._getInstanceId(n)})},t.prototype._getAzureResourceManagerInputControlProps=function(n){var t=n.controllerStore.getInputToValueMap();return n.inputControlProps.infoProps||(n.inputControlProps.infoProps={calloutContentProps:{}}),n.inputControlProps.infoProps.calloutContentProps.calloutMarkdown=this._prepareMarkdownWithNote(n.inputControlProps.infoProps.calloutContentProps.calloutMarkdown,ut.AzureRMInputComponentNote),s.JQueryWrapper.extend(n.inputControlProps,{properties:n.inputDefinition.properties,authSchemes:d.ConnectedServiceComponentUtility.getConnectedServiceAuthSchemes(n.inputDefinition),instanceId:this._getInstanceId(n),taskInputToValueMap:t})},t.prototype._prepareMarkdownWithNote=function(n,t){return n?n.concat("<br /> <br />",t):ot.empty},t.prototype._getConnectedServiceInputControlProps=function(n){return s.JQueryWrapper.extend(n.inputControlProps,{options:n.inputControlProps.inputOptions,properties:n.inputDefinition.properties,connectedServiceType:d.ConnectedServiceComponentUtility.getConnectedServiceType(n.inputDefinition),authSchemes:d.ConnectedServiceComponentUtility.getConnectedServiceAuthSchemes(n.inputDefinition),instanceId:this._getInstanceId(n)})},t.prototype._getStringOrMultilineInputControlProps=function(n){return s.JQueryWrapper.extend(n.inputControlProps,{properties:n.inputDefinition.properties,inputDefinition:n.inputDefinition,getAllInputValues:function(){return n.controllerStore.getInputToResolvedValueMap?n.controllerStore.getInputToResolvedValueMap():null},taskDelegates:n.controllerStore.getTaskContext().taskDelegates,disabled:this._isDisabled(n)})},t.prototype._isDisabled=function(n){var t=n.inputDefinition.properties;return!n.inputControlProps.disabled&&t&&t[f.INPUT_TYPE_PROPERTY_DISABLED]&&t[f.INPUT_TYPE_PROPERTY_DISABLED].toLowerCase()===f.BOOLEAN_TRUE?!0:n.inputControlProps.disabled},t.prototype._getDeploymentGroupInputControlProps=function(n){return s.JQueryWrapper.extend(n.inputControlProps,{properties:n.inputDefinition.properties})},t.prototype._getRadioInputControlProps=function(n){var i=[];for(var t in n.inputDefinition.options)n.inputDefinition.options.hasOwnProperty(t)&&i.push({key:t,text:n.inputDefinition.options[t],checked:ot.ignoreCaseComparer(t,n.inputControlProps.value)===0,disabled:n.inputControlProps.disabled});return s.JQueryWrapper.extend(n.inputControlProps,{options:i})},t.prototype._getStringListInputComponentProps=function(n){return s.JQueryWrapper.extend(n.inputControlProps,{disallowResetDelimitedString:function(){return n.controllerStore.isDirty()}})},t.prototype._getGitHubRepositoryPickerComponentProps=function(n){var i=ot.empty,t,r="connectedService:",u=n.controllerStore;return u.getTaskDefinition().inputs.every(function(n){if(n.type.startsWith(r))return t=n.name,!1}),n.controllerStore.getInputToValueMap()&&t&&(i=n.controllerStore.getInputToValueMap()[t]),s.JQueryWrapper.extend(n.inputControlProps,{connectionId:i,onRepositoryChanged:function(t){n.inputControlProps.onValueChanged(t)},allowVariables:!0})},t.prototype._getInstanceId=function(n){return ot.format("{0}-{1}",n.inputControlProps.instanceId,n.inputDefinition.name)},t}(e.Singleton);t.TaskInputControlFactory=ht});

define("DistributedTaskControls/Components/Task/TaskInput",["require","exports","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Primitives","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/Types","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Task/TaskInputControlFactory","DistributedTaskControls/Components/Task/TaskStoreUtility","DistributedTaskControls/ProcessManagement/ProcessManagementStore","DistributedTaskControls/ProcessManagement/ProcessManagementUtils","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/DataSourceBindingUtility","DistributedTaskControls/SharedControls/InputControls/Components/PickListInputUtility","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){Object.defineProperty(t,"__esModule",{value:!0});t.TaskInput=void 0;var k=function(n){function t(t){var r=__construct(this,n,[t]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._getFooter=function(n,t){if(r.props.footerRenderer&&r.props.footerRenderer.getFooter)return r.props.footerRenderer.getFooter(r.props.inputDefinition,n,t)},r._onChanged=function(){r.setState(r._controllerStore.getTaskInputState(r.props.inputDefinition.name))},r._onValueChanged=function(n){r._controllerActions.updateTaskInputValue(r.props.inputDefinition.name,n)},r._onNotifyValidationResult=function(n,t){r._controllerActions.updateTaskInputError(r.props.inputDefinition.name,n,t)},r._onOptionsChanged=function(n){r._controllerActions.updateTaskInputOptions(r.props.inputDefinition.name,n)},r._getErrorMessage=function(n){var t=r._controllerStore.getInputState(r.props.inputDefinition,n);switch(t){case i.InputState.Invalid_InputRequired:return v.RequiredInputErrorMessage;case i.InputState.Invalid_NonPositiveNumber:return v.PositiveValidNumberErrorMessage;case i.InputState.Invalid_VariableOrNonPositiveNumber:return v.InvalidVariableOrNonPositiveNumber;case i.InputState.Invalid_SelectedOptionNotPresent:return v.SelectedOptionInvalidMessage;default:return b.empty}},r._handleLinkToProcessParameter=function(){r.props.inputActionDelegates&&r.props.inputActionDelegates.linkToProcParam&&r.props.inputActionDelegates.linkToProcParam(r.props.inputDefinition,r.getState().inputValue)},r._handleUnlinkFromProcessParameter=function(){r.props.inputActionDelegates&&r.props.inputActionDelegates.unlinkFromProcParam&&(r.props.inputActionDelegates.unlinkFromProcParam(r.props.inputDefinition),r._publishProcessParameterUnlinkTelemetry(r.props.inputDefinition))},r._handleCalloutAdditionalContent=function(){return r.props.inputActionDelegates&&r.props.inputActionDelegates.additionalContent?r.props.inputActionDelegates.additionalContent(r.props.inputDefinition):null},r._dependentInputsToValueMap={},r._componentMounted=!1,r._processManagementStore=r.props.skipCapabilityCheck?null:f.StoreManager.GetStore(l.ProcessManagementStore,r.props.controllerStore.getTaskContext().processInstanceId),r._controllerStore=r.props.controllerStore,r._controllerActions=r.props.controllerActions,r}return __extends(t,n),t.prototype.componentWillMount=function(){this._processManagementStore&&this._processManagementStore.addChangedListener(this._onChanged);this._controllerStore.addChangedListener(this._onChanged);this.setState(this._controllerStore.getTaskInputState(this.props.inputDefinition.name))},t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._componentMounted=!0},t.prototype.render=function(){return this.state.isHidden&&this.getState().isHidden()?null:this._getControl()},t.prototype.componentWillUnmount=function(){this._processManagementStore&&this._processManagementStore.removeChangedListener(this._onChanged);this._controllerStore.removeChangedListener(this._onChanged);this._componentMounted=!1},t.prototype.componentDidUpdate=function(){var n=this,r=!1,t,f,i;if(this.props.inputDefinition.properties&&this.props.inputDefinition.properties.PopulateDefaultValue&&this.props.inputDefinition.properties.PopulateDefaultValue.toLowerCase()===u.Boolean.trueString&&this._isInputEditable()&&(r=!0),r&&s.DtcUtils.getTaskInputType(this.props.inputDefinition)===y.InputControlType.INPUT_TYPE_PICK_LIST&&(t=w.PickListInputUtility.getDependentInputsToValueMap(this.props.inputDefinition,this._controllerStore.getDataSourceBindings(),this._controllerStore.getSourceDefinitions(),this._controllerStore.getInputToValueMap()),f=!w.PickListInputUtility.areDataSourceDependentValuesMapEqual(t,this._dependentInputsToValueMap),f)){if(this._dependentInputsToValueMap=t,this._dataSourceTriggerTimer&&clearTimeout(this._dataSourceTriggerTimer),i=w.PickListInputUtility.getPickListOptions(this.props.inputDefinition,this._controllerStore.getDataSourceBindings(),this._controllerStore.getSourceDefinitions(),b.empty),!i.dataSourceBinding)return;var o=p.DataSourceBindingUtility.getDataSourceBindingDependency(i.dataSourceBinding),e=this._controllerStore.getInputToValueMap(),h=o.every(function(n){return!!(e[n]&&e[n].trim())});h?this._dataSourceTriggerTimer=setTimeout(function(){var t=w.PickListInputUtility.onRefresh(n.props.inputDefinition,c.TaskStoreUtility.getPickListRefreshOptions(n.props.inputDefinition,n._controllerStore),!1);n._latestDataSourceRefreshPromise=t;t.then(function(i){if(n._latestDataSourceRefreshPromise===t&&n._componentMounted){if(Object.keys(i).length===0){var r=n.props.inputDefinition.defaultValue;i[r]=r}n._onValueChanged(i[Object.keys(i)[0]])}});n._dataSourceTriggerTimer=null},500):setTimeout(function(){n._latestDataSourceRefreshPromise=null;n._onValueChanged("")},0)}},t.prototype.getState=function(){return this.state},t.prototype._getControl=function(){var n=this.props.inputDefinition,u=!!this.props.skipCapabilityCheck||this._processManagementStore&&this._processManagementStore.canEditProcess(),f=this._controllerStore.getActionForInputField(n.name),i=!this._isInputEditable(),r=null,t;return r=this._getInfoButtonIconProps(f,u),t={instanceId:this.props.taskInstanceId,value:this.getState().inputValue,onValueChanged:this._onValueChanged,label:n.label,required:n.required,readOnly:i,disabled:i,infoProps:r,getErrorMessage:this._getErrorMessage,ariaDescription:n.helpMarkDown,options:this.getState().options,onOptionsChanged:this._onOptionsChanged,onNotifyValidationResult:this._onNotifyValidationResult},this.props.footerRenderer&&(t.getFooterElement=this._getFooter),!n.validation||(t.asyncValidator=n.validation.expression?{type:y.InputValidationType.Input,data:{expression:n.validation.expression,reason:n.validation.message}}:{type:y.InputValidationType.Expression}),h.TaskInputControlFactory.instance().getInputControl({inputDefinition:n,inputControlProps:t,controllerStore:this._controllerStore})},t.prototype._isInputEditable=function(){if(this.getState().disabled)return!1;if(this._processManagementStore&&this.props.requiredEditCapability!==undefined){var n=this._processManagementStore.processManagementCapabilities;return a.ProcessManagementUtils.isCapabilitySupported(n,this.props.requiredEditCapability)}return!0},t.prototype._getInfoButtonIconProps=function(n,t){var r,i;if(t===void 0&&(t=!0),n!==o.ActionForTaskInput.None||this.props.inputDefinition.helpMarkDown){if(r=this._getCalloutContent(n,t),!r)return null;i={calloutContentProps:r};switch(n){case o.ActionForTaskInput.UnlinkFromProcessParameter:case o.ActionForTaskInput.NavigateToVariablesTab:i.iconName="Link";i.iconAriaLabel=v.LinkedParameterIconAriaLabel;case o.ActionForTaskInput.LinkToProcessParameter:t&&(i.linkToProcessParameterDelegate=this._handleLinkToProcessParameter,i.unlinkToProcessParameterDelegate=this._handleUnlinkFromProcessParameter)}return i}return null},t.prototype._getCalloutContent=function(n,t){t===void 0&&(t=!0);var i=null;!this.props.inputDefinition.helpMarkDown||(i={calloutMarkdown:this.props.inputDefinition.helpMarkDown});switch(n){case o.ActionForTaskInput.LinkToProcessParameter:t&&(i=i?i:{},i.calloutFooterText=v.LinkLabel,i.calloutFooterOnClick=this._handleLinkToProcessParameter);break;case o.ActionForTaskInput.UnlinkFromProcessParameter:i=i?i:{};i.calloutAdditionalContent=this._handleCalloutAdditionalContent;t&&(i.calloutFooterText=v.UnlinkFromProcessParameterCalloutFooterText,i.calloutFooterOnClick=this._handleUnlinkFromProcessParameter);break;case o.ActionForTaskInput.NavigateToVariablesTab:i=i?i:{};i.calloutAdditionalContent=this._handleCalloutAdditionalContent}return i},t.prototype._publishProcessParameterUnlinkTelemetry=function(n){if(n){var t={};t[e.Properties.InputName]=n.name;t[e.Properties.InputType]=n.type;e.Telemetry.instance().publishEvent(e.Feature.UnlinkToProcessParameter,t)}},t}(r.Component);t.TaskInput=k});

define("DistributedTaskControls/SharedControls/Accordion/AccordionCustomRenderer",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/Collapsible/Collapsible","DistributedTaskControls/SharedControls/InputControls/Utilities","VSS/Utils/String","VSS/Utils/UI","VSSUI/Tooltip","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/Collapsible/Collapsible"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.AccordionCustomRenderer=void 0;var l=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.showContent=function(n){i.props.expanded===undefined&&i.setState({expanded:n})},i._getHeaderElement=function(n,t){var r=i.props.showErrorDelegate?i.props.showErrorDelegate():!1,u=i.props.showWarningDelegate?i.props.showWarningDelegate():!1,f=i.isExpanded();return i._getDtcAccordionHeader(n,f,r,t,u)},i._toggle=function(){var n=!i.isExpanded();if(i.props.expanded===undefined&&i.setState({expanded:n}),i.props.onHeaderClick)i.props.onHeaderClick(n)},i._handleKeyPress=function(n){(n.keyCode===s.KeyCode.SPACE||n.keyCode===s.KeyCode.ENTER)&&(i._toggle(),n.preventDefault(),n.stopPropagation())},i._titleId=t.titleId?t.titleId:e.InputControlUtils.getId("AccordionCustomRenderer"),i.state={expanded:!!(t.expanded!==undefined?t.expanded:t.initiallyExpanded)},i}return __extends(t,n),t.prototype.componentWillReceiveProps=function(n){n.expanded!==undefined&&this.setState({expanded:!!n.expanded})},t.prototype.render=function(){var n=this.isExpanded();return i.createElement(f.Collapsible,__assign({onHeaderClick:this.showContent},this.props,{onRenderHeader:this._getHeaderElement,titleId:this._titleId,expanded:n}))},t.prototype.isExpanded=function(){var n=!1;return n=this.props.expanded===undefined?this.state?this.state.expanded:this.props.initiallyExpanded:this.props.expanded,!!n},t.prototype._getDtcAccordionHeader=function(n,t,i,r,u){return!t&&i?this._getAccordianCustomHeaderComponent(t,n,c.css("collapsible-error","bowtie-status-error-outline"),n.errorTooltipContent):!t&&u?this._getAccordianCustomHeaderComponent(t,n,"bowtie-status-warning",n.warningTooltipContent):this.props.onRenderHeader?this.props.onRenderHeader(n):r?r(n):null},t.prototype._getAccordianCustomHeaderComponent=function(n,t,r,f){var s=o.format("chevron bowtie-icon bowtie-chevron-{0}-light",n?"up":"down"),e=t.label,h=t.addSectionHeaderLine;return i.createElement("div",{tabIndex:0,className:"collapsible-section-header",role:"button",onClick:this._toggle,onKeyDown:this._handleKeyPress,id:this._titleId,"aria-label":e,"aria-expanded":n,"data-first-focus-element":!0},this._getAccordianHeader(e,r,f),i.createElement("div",{className:s,role:"region","aria-labelledby":n?u.ExpandText:u.CollapseText}),h&&i.createElement("div",{className:"collapsible-section-line"},i.createElement("hr",null)))},t.prototype._getAccordianHeader=function(n,t,r){var u=r?r:n,f=c.css("collapsible-section-icon bowtie-icon",t);return i.createElement("div",{className:"collapsible-section-label"},r?i.createElement(h.TooltipHost,{content:u,directionalHint:12},i.createElement("span",{"data-is-focusable":!0,"aria-label":u,className:f,tabIndex:0})):i.createElement("span",{className:f}),n)},t}(r.Component);t.AccordionCustomRenderer=l});

define("DistributedTaskControls/Components/Task/TaskInputGroup",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/Task/TaskInput","DistributedTaskControls/SharedControls/Accordion/AccordionCustomRenderer","OfficeFabric/GroupedList","OfficeFabric/List","OfficeFabric/utilities/selection/interfaces","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/FabricStyleOverrides"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.TaskInputGroup=void 0;var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onToggleCollapse=function(n){t.setState({isCollapsed:!n.isCollapsed})},t._shouldVirtualize=function(){return!1},t._getUnparentedInputComponent=function(n){return t._getInput(n)},t._getParentedInputComponent=function(n,i){return t._getInput(i)},t._doesInputGroupHaveError=function(){var n=!1;return t.props.inputs&&(n=t.props.inputs.some(function(n){return!t.props.controllerStore.isInputValid(n)})),n},t}return __extends(t,n),t.prototype.render=function(){var n,t,r;return this.props.groupDefinition?(t={key:this.props.groupDefinition.name,name:this.props.groupDefinition.displayName,startIndex:0,count:this.props.inputs.length,isCollapsed:!!this.state.isCollapsed,level:0},r={headerProps:{onToggleCollapse:this._onToggleCollapse,isCollapsedGroupSelectVisible:!1},onRenderHeader:function(){return null}},n=i.createElement("div",{className:"fabric-style-overrides"},i.createElement(f.AccordionCustomRenderer,{label:this.props.groupDefinition.displayName,initiallyExpanded:!this.props.isSectionAutoCollapsed,headingLevel:2,addSeparator:!1,addSectionHeaderLine:!0,showErrorDelegate:this._doesInputGroupHaveError,bowtieIconName:this.props.iconClassName},i.createElement(e.GroupedList,{className:"task-input-group",groups:[t],groupProps:r,items:this.props.inputs,onRenderCell:this._getParentedInputComponent,selectionMode:s.SelectionMode.single})))):n=i.createElement("div",{className:"fabric-style-overrides"},i.createElement(o.List,{className:"task-input-unparented-group",items:this.props.inputs,onShouldVirtualize:this._shouldVirtualize,onRenderCell:this._getUnparentedInputComponent})),n},t.prototype._getInput=function(n){return this._getInputControl(n)},t.prototype._getInputControl=function(n){return i.createElement(u.TaskInput,{key:n.name,taskInstanceId:this.props.controllerInstanceId,inputDefinition:n,inputActionDelegates:this.props.inputActionDelegates,controllerStore:this.props.controllerStore,controllerActions:this.props.controllerActions,footerRenderer:this.props.footerRenderer,requiredEditCapability:this.props.requiredEditCapability})},t}(r.Component);t.TaskInputGroup=h});

define("DistributedTaskControls/Actions/ProcessParametersLinkSettingsActions",["require","exports","VSS/Flux/Action","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.ProcessParametersLinkSettingsActions=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._inputSelectionChanged=new i.Action;this._procParamNameChanged=new i.Action;this._displayNameChanged=new i.Action;this._valueChanged=new i.Action},t.getKey=function(){return u.ActionsKeys.LinkUnlinkProcParamsDialogViewActions},Object.defineProperty(t.prototype,"inputSelectionChanged",{get:function(){return this._inputSelectionChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"procParamNameChanged",{get:function(){return this._procParamNameChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayNameChanged",{get:function(){return this._displayNameChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueChanged",{get:function(){return this._valueChanged},enumerable:!1,configurable:!0}),t}(r.ActionsHubBase);t.ProcessParametersLinkSettingsActions=f});

define("DistributedTaskControls/Actions/ProcessParametersLinkSettingsActionsCreator",["require","exports","DistributedTaskControls/Actions/ProcessParametersLinkSettingsActions","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.ProcessParametersLinkSettingsActionsCreator=void 0;var e=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.getKey=function(){return f.ActionCreatorKeys.LinkUnlinkProcParamsDialogViewActionCreator},t.prototype.initialize=function(){this._actions=u.ActionsHubManager.GetActionsHub(i.ProcessParametersLinkSettingsActions)},t.prototype.inputSelectionChanged=function(n){return this._actions.inputSelectionChanged.invoke(n)},t.prototype.procParamNameChanged=function(n){return this._actions.procParamNameChanged.invoke(n)},t.prototype.displayNameChanged=function(n){return this._actions.displayNameChanged.invoke(n)},t.prototype.valueChanged=function(n){return this._actions.valueChanged.invoke(n)},t}(r.ActionCreatorBase);t.ProcessParametersLinkSettingsActionsCreator=e});

define("DistributedTaskControls/Stores/ProcessParametersLinkSettingsViewStore",["require","exports","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Utils/String","DistributedTaskControls/Common/Common","VSS/Diag","DistributedTaskControls/SharedControls/InputControls/Components/DataSourceBindingUtility","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Stores/ProcessParameterStore","DistributedTaskControls/Actions/ProcessParametersLinkSettingsActions"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){Object.defineProperty(t,"__esModule",{value:!0});t.ProcessParametersLinkSettingsViewStore=void 0;var y=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._handleInputSelectionChanged=function(n){i._setData(n);i.emitChanged()},i._handleProcParamNameChanged=function(n){var t=i.getProcessParameterNameToInputMap(i.getState().selectedInput),r=!1;t&&Object.keys(t).forEach(function(u){o.ignoreCaseComparer(u,n)===0&&(i._currentState.displayValueDisabled=!0,i._currentState.displayName=t[u].label,i._currentState.value=t[u].defaultValue,r=!0)});r||(i._currentState.displayValueDisabled=!1);i._currentState.processParamName=n;i._currentState.isInvalidProcParamName=i._isDisplayNameProcessParamNameInvalid(n);i.emitChanged()},i._handleDisplayNameChanged=function(n){i._currentState.isInvalidDisplayName=i._isDisplayNameProcessParamNameInvalid(n);i._currentState.displayName=n;i.emitChanged()},i._handleValueChanged=function(n){i._currentState.value=n;i.emitChanged()},i._currentState={},i._initOptions=t?t:{},i}return __extends(t,n),t.getKey=function(){return u.StoreKeys.LinkUnlinkProcParamsDialogViewStore},t.prototype.initialize=function(){this._processParamStore=l.StoreManager.GetStore(a.ProcessParameterStore,this._initOptions.processInstanceId);this._actions=r.ActionsHubManager.GetActionsHub(v.ProcessParametersLinkSettingsActions);this._actions.inputSelectionChanged.addListener(this._handleInputSelectionChanged);this._actions.procParamNameChanged.addListener(this._handleProcParamNameChanged);this._actions.displayNameChanged.addListener(this._handleDisplayNameChanged);this._actions.valueChanged.addListener(this._handleValueChanged);this._setInitState()},t.prototype.disposeInternal=function(){this._actions.inputSelectionChanged.removeListener(this._handleInputSelectionChanged);this._actions.procParamNameChanged.removeListener(this._handleProcParamNameChanged);this._actions.displayNameChanged.removeListener(this._handleDisplayNameChanged);this._actions.valueChanged.removeListener(this._handleDisplayNameChanged)},t.prototype.getState=function(){return this._currentState},t.prototype.getProcessParameterNameToInputMap=function(n){var r=this,i={},t=this._processParamStore.getProcessParameters().inputs;return n&&t&&t.length>0&&t.forEach(function(t){var u=o.equals(t.type,n.type,!0),e=f.DtcUtils.getTaskInputType(n);switch(e){case s.INPUT_TYPE_RADIO:case s.INPUT_TYPE_PICK_LIST:u=u&&r._compareInputOptions(t.options,n.options)}u&&(i[o.format(s.ProcessParameterConstants.NewProcessParameterVariableNameFormat,t.name)]=t);h.logInfo(o.format("[TaskDetailsView]: DefnTofilterBy: {0}, Defn: {1}, shouldFilter: {2}",n.name,t.name,u))}),i},t.prototype.getInputNamesToDependentsMap=function(){return this._inputNamesToDependentsMap},t.prototype.getWarningTextMessage=function(){var r=this,n=o.empty,t=this.getInputNamesToDependentsMap(),i;return t&&Object.keys(t).length>0&&this._initOptions&&this._initOptions.inputsList&&this._initOptions.inputsList.length>0&&this._currentState.selectedInput&&(i=this._currentState.selectedInput.name,t.hasOwnProperty(i)&&t[i].forEach(function(u,f){r._initOptions.inputNameToProcParam&&!r._initOptions.inputNameToProcParam.hasOwnProperty(u)&&r._initOptions.inputsList.forEach(function(r){o.ignoreCaseComparer(r.name,u)===0&&(n===o.empty?n=r.label:n+=t[i].length-1===f?s.STRING_SPACE+e.And+s.STRING_SPACE+r.label:e.Comma+s.STRING_SPACE+r.label)})})),n},t.prototype._compareInputOptions=function(n,t){if(!n&&!t)return!0;if(n&&t&&Object.keys(n).length===Object.keys(t).length){for(var i in n)if(!t.hasOwnProperty(i)||!o.equals(n[i],t[i],!0))return!1;return!0}return!1},t.prototype._isDisplayNameProcessParamNameInvalid=function(n){return n?n.trim()===o.empty:!0},t.prototype._getProcParamNameForExistingProcParam=function(n){var t=null;return this._initOptions.inputNameToProcParam&&Object.keys(this._initOptions.inputNameToProcParam).length>0&&(!this._initOptions.inputNameToProcParam[n.name]||(t=this._initOptions.inputNameToProcParam[n.name])),t},t.prototype._setDependentNamesForSelectedInput=function(n){var t=this._getInputNamesList(n);this._inputNamesToDependentsMap=c.DataSourceBindingUtility.getInputNameToDependentParentNamesMap(t,this._initOptions.inputNameToValueMapping,this._initOptions.dataSourceBindings,this._initOptions.sourceDefinitions)},t.prototype._getInputNamesList=function(n){var t=[];return n&&n.length>0&&n.forEach(function(n){t.push(n.name)}),t},t.prototype._setInitState=function(){this._setData(this._initOptions.selectedInputDefinition);this._setDependentNamesForSelectedInput(this._initOptions.inputsList)},t.prototype._setData=function(n){var u=this._getProcParamNameForExistingProcParam(n),r=[],t=this.getProcessParameterNameToInputMap(n);if(t&&Object.keys(t).length>0&&(r=Object.keys(t)),u)this._setStateForExistingProcParam(n,u,r);else{var i=n?o.format(s.ProcessParameterConstants.NewProcessParameterVariableNameFormat,n.name):o.empty,f=n?n.label:o.empty,e=n?this._initOptions.inputNameToValueMapping[n.name]:o.empty,h=!1;t&&Object.keys(t).length>0&&Object.keys(t).forEach(function(n){o.ignoreCaseComparer(n,i)===0&&(h=!0,f=t[n].label,e=t[n].defaultValue)});this._currentState.selectedInput=n;this._currentState.displayName=f;this._currentState.displayValueDisabled=h;this._currentState.isProcParamAlreadyAttached=!1;this._currentState.processParamName=i;this._currentState.value=e;this._currentState.processParametersListForSelectedInput=r;this._currentState.isInvalidProcParamName=this._isDisplayNameProcessParamNameInvalid(i);this._currentState.isInvalidDisplayName=this._isDisplayNameProcessParamNameInvalid(i)}},t.prototype._setStateForExistingProcParam=function(n,t,i){var u=o.empty,f=o.empty,e=o.empty,r=this._processParamStore.getProcessParameters().inputs;!t||(!!r&&r.length>0&&r.forEach(function(n){o.ignoreCaseComparer(n.name,t)===0&&(f=n.label,e=n.defaultValue)}),u=o.format(s.ProcessParameterConstants.NewProcessParameterVariableNameFormat,t));this._currentState.selectedInput=n;this._currentState.displayName=f;this._currentState.displayValueDisabled=!0;this._currentState.isProcParamAlreadyAttached=!0;this._currentState.processParamName=u;this._currentState.value=e;this._currentState.processParametersListForSelectedInput=i;this._currentState.isInvalidProcParamName=this._isDisplayNameProcessParamNameInvalid(t);this._currentState.isInvalidDisplayName=this._isDisplayNameProcessParamNameInvalid(t)},t}(i.ViewStoreBase);t.ProcessParametersLinkSettingsViewStore=y});

define("DistributedTaskControls/ControllerViews/ProcessParametersLinkSettingsView",["require","exports","react","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/SharedControls/InputControls/Components/ComboBoxInputComponent","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Label","OfficeFabric/Button","OfficeFabric/Dialog","OfficeFabric/MessageBar","OfficeFabric/Utilities","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Actions/ProcessParametersLinkSettingsActionsCreator","DistributedTaskControls/Actions/ProcessParameterActionsCreator","DistributedTaskControls/SharedControls/InputControls/Components/StringInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/MultilineInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/DropDownInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/BooleanInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/RadioInputComponent","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Stores/ProcessParametersLinkSettingsViewStore","DistributedTaskControls/SharedControls/InputControls/Components/PickListInputUtility","VSS/Utils/String","VSS/Utils/Html","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/FabricStyleOverrides","VSS/LoaderPlugins/Css!DistributedTaskControls/ControllerViews/ProcessParametersLinkSettingsView"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft){Object.defineProperty(t,"__esModule",{value:!0});t.ProcessParametersLinkSettingsView=void 0;var et=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onChange=function(){t.setState(t._store.getState())},t._onProcessParameterNameChange=function(n){t._actionCreator.procParamNameChanged(n)},t._onInputsListChange=function(n){var i=null;t.props.inputsList.forEach(function(t){t.name===n.key&&(i=t)});t._actionCreator.inputSelectionChanged(i)},t._onInputDisplayNameChange=function(n){t._actionCreator.displayNameChanged(n)},t._onInputValueChange=function(n){t._actionCreator.valueChanged(n)},t._onLinkClicked=function(){var n=f.DtcUtils.createInputDefinitionCopy(t.state.selectedInput),i;n.name=f.DtcUtils.getProcParamNameFromVariableName(t.state.processParamName);n.label=t.state.displayName;n.defaultValue=t.state.value;n.groupName=ut.empty;n.visibleRule=ut.empty;i=rt.PickListInputUtility.getPickListOptions(n,t.props.dataSourceBindings,t.props.sourceDefinitions,ut.empty);t._processParametersActionsCreator.createProcessParameter({input:n,sourceDefinition:i.sourceDefintion,dataSourceBinding:i.dataSourceBinding});t.props.linkToProcessParameter&&t.props.linkToProcessParameter(t.state.selectedInput.name,n.name);t.state.displayValueDisabled?t._publishProcessParameterLinkTelemetry(e.Feature.LinkToProcessParameter,t.state.selectedInput):t._publishProcessParameterLinkTelemetry(e.Feature.CreateProcessParameter,t.state.selectedInput);t._closeDialog()},t._onUnlinkClicked=function(){t.props.unlinkFromProcessParameter&&t.props.unlinkFromProcessParameter(t.state.selectedInput.name);t._processParametersActionsCreator.unlinkProcessParameter(f.DtcUtils.getProcParamNameFromVariableName(t.state.processParamName));t._publishProcessParameterLinkTelemetry(e.Feature.UnlinkProcessParameterFromDialog,t.state.selectedInput,!0);t._closeDialog()},t._onDialogClose=function(){t._closeDialog()},t._processParameterNameToInputMap={},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._store=tt.StoreManager.CreateStore(it.ProcessParametersLinkSettingsViewStore,ut.empty,{selectedInputDefinition:this._setSelectedInput(),inputNameToProcParam:this.props.inputNameToProcParam,inputNameToValueMapping:this.props.inputNameToValueMapping,dataSourceBindings:this.props.dataSourceBindings,sourceDefinitions:this.props.sourceDefinitions,inputsList:this.props.inputsList,processInstanceId:this.props.processInstanceId});this._actionCreator=y.ActionCreatorManager.GetActionCreator(p.ProcessParametersLinkSettingsActionsCreator,this.props.controllerInstanceId);this._processParametersActionsCreator=y.ActionCreatorManager.GetActionCreator(w.ProcessParameterActionsCreator,this.props.processInstanceId);this.setState(this._store.getState())},t.prototype.componentDidMount=function(){this._store.addChangedListener(this._onChange)},t.prototype.componentWillUnmount=function(){this._store.removeChangedListener(this._onChange);tt.StoreManager.DeleteStore(it.ProcessParametersLinkSettingsViewStore)},t.prototype.render=function(){var t=this,n="input-settings-list",r=ut.format(s.DependentsWarningMessage,this._store.getWarningTextMessage()),u=ft.HtmlNormalizer.normalize(r);return i.createElement(l.Dialog,{modalProps:{containerClassName:"create-link-variable-dialog"},dialogContentProps:{type:l.DialogType.close},hidden:!1,title:s.CreateAndLinkVariableDialogTitle,onDismiss:this._onDialogClose,closeButtonAriaLabel:s.CloseButtonText,firstFocusableSelector:n},i.createElement("div",null,i.createElement(d.DropDownInputControl,{selectedKey:this.state.selectedInput?this.state.selectedInput.name:undefined,label:s.SettingToLink,options:this._getDataSourceForSettingsAvailable(),onValueChanged:function(n){t._onInputsListChange(n.option)},cssClass:n}),i.createElement(o.ComboBoxInputComponent,{required:!0,errorMessage:s.RequiredInputErrorMessage,label:s.VariableLabel,value:this._getProcessParameterName(),comboBoxType:o.ComboBoxType.Editable,source:this.state.processParametersListForSelectedInput,onValueChanged:this._onProcessParameterNameChange,enabled:!this.state.isProcParamAlreadyAttached}),i.createElement(b.StringInputComponent,{required:!0,label:s.DisplayNameLabel,value:this._getInputDisplayName(),onValueChanged:this._onInputDisplayNameChange,disabled:this.state.displayValueDisabled,getErrorMessage:this._getErrorMessage}),this._getValueComponent(),ut.ignoreCaseComparer(this._store.getWarningTextMessage(),ut.empty)!==0&&i.createElement(a.MessageBar,{messageBarType:a.MessageBarType.warning,className:"dependent-warning-container"},i.createElement("div",{className:"dependents-warning-message",dangerouslySetInnerHTML:{__html:u}})),i.createElement(l.DialogFooter,null,i.createElement(c.PrimaryButton,{className:v.css("fabric-style-overrides"),ariaLabel:s.LinkLabel,onClick:this._onLinkClicked,disabled:this._isLinkButtonDisabled(),"aria-disabled":this.state.isProcParamAlreadyAttached},s.LinkLabel),i.createElement(c.PrimaryButton,{className:v.css("fabric-style-overrides"),ariaLabel:s.UnlinkFromProcessParameterCalloutFooterText,onClick:this._onUnlinkClicked,disabled:!this.state.isProcParamAlreadyAttached,"aria-disabled":!this.state.isProcParamAlreadyAttached},s.UnlinkFromProcessParameterCalloutFooterText),i.createElement(c.DefaultButton,{ariaLabel:s.CancelButtonText,onClick:this._onDialogClose},s.CancelButtonText))))},t.prototype._getErrorMessage=function(n){if(n){if(n.trim()===ut.empty)return s.RequiredInputErrorMessage}else return s.RequiredInputErrorMessage},t.prototype._isLinkButtonDisabled=function(){return this.state.isProcParamAlreadyAttached||this.state.isInvalidDisplayName||this.state.isInvalidProcParamName},t.prototype._getDataSourceForSettingsAvailable=function(){var n=[];return this.props.inputsList.forEach(function(t){n.push({key:t.name,text:t.label})}),n},t.prototype._getValueLabel=function(){return i.createElement(h.Label,null,s.ValueLabel)},t.prototype._getValueComponent=function(){var u=this,n,e,t;if(this.state.selectedInput){e=f.DtcUtils.getTaskInputType(this.state.selectedInput);t=this.state.displayValueDisabled;switch(e){case r.INPUT_TYPE_BOOLEAN:n=i.createElement("div",null,this._getValueLabel(),i.createElement(g.BooleanInputComponent,{label:this._getInputDisplayName(),value:ut.ignoreCaseComparer(this._getInputValue(),r.BOOLEAN_TRUE)===0?!0:!1,onValueChanged:function(n){u._onInputValueChange(n?r.BOOLEAN_TRUE:r.BOOLEAN_FALSE)},disabled:t}));break;case r.INPUT_TYPE_RADIO:n=i.createElement("div",{className:"fabric-style-overrides"},i.createElement(nt.RadioInputComponent,{label:s.ValueLabel,options:this._getChoiceGroupInputOptions(),onValueChanged:function(n){u._onInputValueChange(n.key)},disabled:t}));break;case r.INPUT_TYPE_PICK_LIST:n=this._getPickListComponent(t);break;case r.INPUT_TYPE_MULTI_LINE:n=i.createElement("div",null,i.createElement(k.MultiLineInputComponent,{label:s.ValueLabel,isNotResizable:!0,value:this._getInputValue(),onValueChanged:this._onInputValueChange,disabled:t}));break;case r.INPUT_TYPE_STRING:n=this._getTextFieldComponent(t);break;default:n=this._getTextFieldComponentWithMessage(!0)}}return n},t.prototype._getPickListComponent=function(n){var u=this,r=rt.PickListInputUtility.getPickListOptions(this.state.selectedInput,this.props.dataSourceBindings,this.props.sourceDefinitions,ut.empty),t;return!r.dataSourceBinding&&!r.sourceDefintion?i.createElement(d.DropDownInputControl,{label:s.ValueLabel,options:this._getDropdownInputOptions(),selectedKey:this._getInputValue(),onValueChanged:function(n){u._onInputValueChange(n.option.key.toString())},disabled:n}):(t={},t[e.Properties.InputName]=this.state.selectedInput.name,t[e.Properties.InputType]=this.state.selectedInput.type,e.Telemetry.instance().publishEvent(e.Feature.LinkPicklistAsProcessParameter,t),this._getTextFieldComponentWithMessage(!0))},t.prototype._getTextFieldComponentWithMessage=function(n){return i.createElement("div",null,this._getTextFieldComponent(n),i.createElement("div",{className:"value-disabled-message"},s.PickListDisabledGuidanceMessageInfo))},t.prototype._getTextFieldComponent=function(n){return i.createElement("div",null,i.createElement(b.StringInputComponent,{label:s.ValueLabel,value:this._getInputValue(),onValueChanged:this._onInputValueChange,disabled:n}))},t.prototype._getProcessParameterName=function(){return this.state.processParamName},t.prototype._getInputDisplayName=function(){return this.state.displayName},t.prototype._getInputValue=function(){return this.state.value},t.prototype._getChoiceGroupInputOptions=function(){var t=[],n;if(this.state.selectedInput)for(n in this.state.selectedInput.options)this.state.selectedInput.options.hasOwnProperty(n)&&t.push({key:n,text:this.state.selectedInput.options[n],checked:ut.ignoreCaseComparer(n,this._getInputValue())===0,disabled:this.state.displayValueDisabled});return t},t.prototype._getDropdownInputOptions=function(){var t=[],n;if(this.state.selectedInput)for(n in this.state.selectedInput.options)this.state.selectedInput.options.hasOwnProperty(n)&&t.push({key:n,text:this.state.selectedInput.options[n]});return t},t.prototype._closeDialog=function(){!this.props.onDialogClose||this.props.onDialogClose()},t.prototype._publishProcessParameterLinkTelemetry=function(n,t,i){if(i===void 0&&(i=!1),t){var r={};r[e.Properties.InputName]=t.name;r[e.Properties.InputType]=t.type;i||(r[e.Properties.IsExistingProcessParameter]=this.state.displayValueDisabled);e.Telemetry.instance().publishEvent(n,r)}},t.prototype._setSelectedInput=function(){var n=null;return this.props.selectedInputDefinition?n=this.props.selectedInputDefinition:!!this.props.inputsList&&this.props.inputsList.length>0&&(n=this.props.inputsList[0]),n},t}(u.Component);t.ProcessParametersLinkSettingsView=et});

define("DistributedTaskControls/Components/Task/TaskDetailsView",["require","exports","react","react-dom","DistributedTaskControls/Actions/ProcessParameterActionsCreator","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/VariableScopeContext","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Primitives","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Task/TaskActionsCreator","DistributedTaskControls/Components/Task/TaskDetailsHeader","DistributedTaskControls/Components/Task/TaskDetailsEnvironmentVariables","DistributedTaskControls/Components/Task/TaskDetailsOutputGroup","DistributedTaskControls/Components/Task/TaskInputGroup","DistributedTaskControls/Components/Task/TaskStore","DistributedTaskControls/Components/Task/TaskStoreUtility","DistributedTaskControls/ControllerViews/ProcessParametersLinkSettingsView","DistributedTaskControls/ProcessManagement/Types","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Components/PickListInputUtility","DistributedTaskControls/Stores/ProcessParameterStore","DistributedTasksCommon/TFS.Tasks.Types","DistributedTasksCommon/TFS.Tasks.Utils","VSS/Diag","VSS/FeatureAvailability/Services","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/Task/TaskDetailsView"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st){Object.defineProperty(t,"__esModule",{value:!0});t.TaskDetailsView=void 0;var ht=function(n){function t(){var t=__construct(this,n,arguments);for(var u in t)t.hasOwnProperty(u)&&(this[u]=t[u]);return t._handleLinkSettingClicked=function(){t._renderCreateLinkUnlinkProcessParametersView()},t._handleLinkToProcessParameter=function(n){t._renderCreateLinkUnlinkProcessParametersView(n)},t._linkToProcesParameter=function(n,i){t._actionCreator.linkToProcessParameter(n,i)},t._unLinkfromProcesParameter=function(n){t._actionCreator.unlinkFromProcessParameter(n)},t._handleUnlinkFromProcessParameter=function(n){var i=t._store.getInputNameToProcessParameterNameMap(),r=i&&i[n.name]?i[n.name]:null;r&&(t._procParamActioncreator.unlinkProcessParameter(r),t._actionCreator.unlinkFromProcessParameter(n.name))},t._getAdditionalContentForInputCallout=function(n){var r=t._store.getProcessParameterName(n.name),u=t._procParamStore.getInputDefinition(r),f=u?u.label:st.empty;return i.createElement("div",{className:"callout-additionalContent"},i.createElement("table",null,i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",{className:"callout-additionalContent-icon"},i.createElement("span",{className:"bowtie-icon bowtie-link"})),i.createElement("td",null,st.format(tt.TaskInputLinkToProcessParameterCalloutText,f,st.format(e.ProcessParameterConstants.NewProcessParameterVariableNameFormat,r)))))))},t._onDialogSubmit=function(n,i){var r=it.PickListInputUtility.getPickListOptions(i,t._store.getDataSourceBindings(),t._store.getSourceDefinitions(),st.empty);t._procParamActioncreator.createProcessParameter({input:i,sourceDefinition:r.sourceDefintion,dataSourceBinding:r.dataSourceBinding});t._actionCreator.linkToProcessParameter(n.name,i.name)},t._onDialogClose=function(){r.unmountComponentAtNode(t._createAndLinkDialogContainer)},t._onStoreChanged=function(){var n=t._store.getTaskDefinition();t._taskDefinition&&d.TaskStoreUtility.areVersionsEqual(n.version,t._taskDefinition.version)&&!t._store.isVisibilityChanged()||(t._taskDefinition=n,t.setState(t._getState()))},t._onContributionStoreChanged=function(){t.setState(t._getState())},t._controlOptionsGroupName=s.CONTROL_OPTIONS_GROUP,t._unparentedInputsGroupName="unparented",t}return __extends(t,n),t.prototype.componentWillMount=function(){var n=document.getSelection()||window.getSelection();n&&(n.empty?n.empty():n.removeAllRanges&&n.removeAllRanges());this._procParamActioncreator=f.ActionCreatorManager.GetActionCreator(u.ProcessParameterActionsCreator,this.props.processInstanceId);this._procParamStore=l.StoreManager.GetStore(rt.ProcessParameterStore,this.props.processInstanceId);this._actionCreator=f.ActionCreatorManager.GetActionCreator(v.TaskActionCreator,this.props.controllerInstanceId);this._store=l.StoreManager.GetStore(k.TaskStore,this.props.controllerInstanceId);this._taskDefinition=this._store.getTaskDefinition();this.state.taskInputPerGroup||this.setState(this._getState())},t.prototype.componentDidMount=function(){this._store.addChangedListener(this._onStoreChanged)},t.prototype.componentWillUnmount=function(){this._store.removeChangedListener(this._onStoreChanged)},t.prototype.render=function(){var n=this,s=st.format("{0} {1}","dtc-task-details-view constrained-width",this.props.controllerInstanceId),u=null,t,r,f;return this._taskDefinition.showEnvironmentVariables&&(u=i.createElement(p.TaskDetailsEnvironmentVariables,{controllerInstanceId:this.props.controllerInstanceId,isSectionAutoCollapsed:!0})),t=null,ot.FeatureAvailabilityService.isFeatureEnabled(e.FeatureFlag_TaskShowOutputVariables,!1)&&this._store.canShowOutputVariables()&&(t=i.createElement(w.TaskDetailsOutputGroup,{controllerInstanceId:this.props.controllerInstanceId,refName:this.props.taskInstance.refName,taskDefinition:this._taskDefinition,isSectionAutoCollapsed:!0})),r=ft.getMajorVersionSpec(this._taskDefinition.version),f=ft.isPreview(this._taskDefinition)?st.format(tt.Task_PreviewMajorVersionSpecFormat,r):r,i.createElement("div",{className:s,ref:function(t){n._elementInstance=t}},i.createElement(o.VariableScopeContext.Consumer,null,function(t){return i.createElement(y.TaskDetailsHeader,{controllerInstanceId:n.props.controllerInstanceId,variableScopeKey:t.key,taskType:n._taskDefinition.friendlyName,taskDescription:n._taskDefinition.description,taskHelpMarkDown:n._taskDefinition.helpMarkDown,taskReleaseNotes:n._taskDefinition.releaseNotes,taskVersionDisplaySpec:f,taskVersions:n._store.getTaskVersionDisplaySpecs(),onLinkSettingClicked:n._handleLinkSettingClicked,processParametersNotSupported:n.props.processParametersNotSupported,taskId:n.props.taskInstance&&n.props.taskInstance.task&&n.props.taskInstance.task.definitionType===ut.DefinitionType.metaTask?n.props.taskInstance.task.id:""})}),i.createElement("div",{className:"task-details-body"},this._getGroupedInputList()),u,t)},t.prototype.getInputActionDelegates=function(){return{linkToProcParam:this._handleLinkToProcessParameter,unlinkFromProcParam:this._handleUnlinkFromProcessParameter,additionalContent:this._getAdditionalContentForInputCallout}},t.prototype._getGroupedInputList=function(){var t=this,n=[],i={displayName:tt.ControlOptionsText,isExpanded:!1,name:this._controlOptionsGroupName,tags:[],visibleRule:st.empty};return n=this._getUpdatedGroupList(this._unparentedInputsGroupName,null,n),this._taskDefinition.groups.forEach(function(i){n=t._getUpdatedGroupList(i.name,i,n)}),this._store.canShowControlOptions()&&(n=this._getUpdatedGroupList(this._controlOptionsGroupName,i,n)),n},t.prototype._getUpdatedGroupList=function(n,t,r){var u=this.state.taskInputPerGroup[n],f=n,e=!0,o;return t&&!!t.visibleRule&&(e=this._store.isGroupOrInputVisible(t.visibleRule)),o=d.TaskStoreUtility.isTaskSectionInitiallyCollapsed(t),this._taskDefinition.version&&(f+=this._taskDefinition.version.major),u&&e&&r.push(i.createElement(b.TaskInputGroup,{key:f,controllerInstanceId:this.props.controllerInstanceId,groupDefinition:t,inputs:u,isSectionAutoCollapsed:o,inputActionDelegates:this.getInputActionDelegates(),controllerStore:this._store,controllerActions:this._actionCreator,requiredEditCapability:nt.ProcessManagementCapabilities.EditTaskInputs})),r},t.prototype._segregateTaskInputs=function(){var i=this,t=[],n={};return t=t.concat(this._taskDefinition.inputs,this._getControlOptionsInputs()),t.forEach(function(t){var r=!t.groupName?i._unparentedInputsGroupName:t.groupName;n[r]||(n[r]=[]);n[r].push(t)}),n},t.prototype._getControlOptionsInputs=function(){var n=[],t=this._store.isMetaTask(),i=this._store.getTaskContext(),p={defaultValue:this.props.taskInstance.enabled.toString(),groupName:this._controlOptionsGroupName,helpMarkDown:t?tt.MetataskControlOptionsTooltipText:st.empty,label:tt.Task_TaskEnabledText,name:s.TaskControlOptionsConstants.ControlOptionsInputName_Enabled,options:{},properties:{},required:!1,type:"boolean",visibleRule:st.empty},w={defaultValue:this.props.taskInstance.continueOnError.toString(),groupName:this._controlOptionsGroupName,helpMarkDown:t?tt.MetataskControlOptionsTooltipText:st.empty,label:tt.ContinueOnErrorText,name:s.TaskControlOptionsConstants.ControlOptionsInputName_ContinueOnError,options:{},properties:{},required:!1,type:"boolean",visibleRule:t.toString()},b={defaultValue:this.props.taskInstance.alwaysRun.toString(),groupName:this._controlOptionsGroupName,helpMarkDown:t?tt.MetataskControlOptionsTooltipText:st.empty,label:tt.AlwaysRunText,name:s.TaskControlOptionsConstants.ControlOptionsInputName_AlwaysRun,options:{},properties:{},required:!1,type:"boolean",visibleRule:t.toString()},k=this.props.taskInstance.retryCountOnTaskFailure?this.props.taskInstance.retryCountOnTaskFailure.toString():st.empty,d={isNonNegativeNumber:c.Boolean.trueString},f={defaultValue:k,groupName:this._controlOptionsGroupName,helpMarkDown:tt.RetryCountOnTaskFailureTooltip,label:tt.RetryCountOnTaskFailureLabel,name:s.TaskControlOptionsConstants.ControlOptionsInputName_RetryCount,options:{},properties:d,required:!1,type:"string",visibleRule:t.toString()},o=this.props.taskInstance.timeoutInMinutes?this.props.taskInstance.timeoutInMinutes.toString():st.empty,h,r,l,v,u,y;return this.props.taskInstance.overrideInputs&&this.props.taskInstance.overrideInputs.hasOwnProperty(e.TaskControlOptionsOverridInputConstants.TimeoutInMinutes)&&(o=this.props.taskInstance.overrideInputs[e.TaskControlOptionsOverridInputConstants.TimeoutInMinutes]),h={isNonNegativeNumber:c.Boolean.trueString},r={defaultValue:o,groupName:this._controlOptionsGroupName,helpMarkDown:tt.TaskTimeoutTooltip,label:tt.TimeoutInMinutes,name:s.TaskControlOptionsConstants.ControlOptionsInputName_TimeOut,options:{},properties:h,required:!0,type:"string",visibleRule:t.toString()},n.push(p),t||(i.donotShowContinueOnError||n.push(w),l=a.DtcUtils.canTaskRunOnServer(this._taskDefinition.runsOn),v=!l,v?(n.push(f),i.donotShowTimeout||n.push(r),u=a.DtcUtils.getRunThisTaskInputDefinition(),u.defaultValue=this.props.taskInstance.condition,y=a.DtcUtils.getCustomConditionInputDefinition(),n.push(u),n.push(y)):(i.donotShowAlwaysRun||n.push(b),n.push(f),i.donotShowTimeout||n.push(r))),n},t.prototype._getProcessParameterNameToInputMap=function(n){var r=this,i={},t=this._procParamStore.getProcessParameters().inputs;return t&&t.length>0&&t.forEach(function(t){var u=st.equals(t.type,n.type,!0),f=a.DtcUtils.getTaskInputType(n);switch(f){case e.INPUT_TYPE_RADIO:case e.INPUT_TYPE_PICK_LIST:u=u&&r._compareInputOptions(t.options,n.options)}u&&(i[st.format(e.ProcessParameterConstants.NewProcessParameterVariableNameFormat,t.name)]=t);et.logInfo(st.format("[TaskDetailsView]: DefnTofilterBy: {0}, Defn: {1}, shouldFilter: {2}",n.name,t.name,u))}),i},t.prototype._compareInputOptions=function(n,t){if(!n&&!t)return!0;if(n&&t&&Object.keys(n).length===Object.keys(t).length){for(var i in n)if(!t.hasOwnProperty(i)||!st.equals(n[i],t[i],!0))return!1;return!0}return!1},t.prototype._setProcParamDialogContainer=function(){this._createAndLinkDialogContainer||(this._createAndLinkDialogContainer=document.createElement("div"),this._elementInstance.appendChild(this._createAndLinkDialogContainer))},t.prototype._renderCreateLinkUnlinkProcessParametersView=function(n){n===void 0&&(n=null);this._setProcParamDialogContainer();r.render(i.createElement(g.ProcessParametersLinkSettingsView,{controllerInstanceId:this.props.controllerInstanceId,processInstanceId:this.props.processInstanceId,inputsList:this._taskDefinition.inputs,selectedInputDefinition:n,inputNameToValueMapping:this._store.getTaskInstance().inputs,inputNameToProcParam:this._store.getInputNameToProcessParameterNameMap(),dataSourceBindings:this._store.getDataSourceBindings(),sourceDefinitions:this._store.getSourceDefinitions(),onDialogClose:this._onDialogClose,linkToProcessParameter:this._linkToProcesParameter,unlinkFromProcessParameter:this._unLinkfromProcesParameter}),this._createAndLinkDialogContainer)},t.prototype._getState=function(){return{taskInputPerGroup:this._segregateTaskInputs()}},t}(h.Component);t.TaskDetailsView=ht});

define("DistributedTaskControls/Components/StateIndicator",["require","exports","react","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/StateIndicator"],function(n,t,i,r){var u,f;Object.defineProperty(t,"__esModule",{value:!0});t.StateIndicator=t.StateIndicatorType=void 0,function(n){n[n.Error=0]="Error";n[n.Warning=1]="Warning"}(u=t.StateIndicatorType||(t.StateIndicatorType={}));f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=this._getStateIndicatorClass(this.props.type);return i.createElement("div",{className:r.css(n.className,"ms-font-s","dt-state-indicator","small-font",this.props.className),"aria-live":"polite","aria-relevant":"text"},i.createElement("i",{className:r.css("bowtie-icon",n.iconClassName)}),i.createElement("span",{className:"text"},this.props.text))},t.prototype._getStateIndicatorClass=function(n){var t={};switch(n){case u.Error:t.className="error-state";t.iconClassName="bowtie-status-error-outline";break;case u.Warning:t.className="warning";t.iconClassName="bowtie-status-warning"}return t},t}(i.Component);t.StateIndicator=f});

define("DistributedTaskControls/Actions/TaskGroupDialogActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.TaskGroupDialogActions=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._showTaskGroupSaveDialog=new u.Action;this._hideTaskGroupSaveDialog=new u.Action;this._createMetaTaskGroup=new u.Action;this._dismissErrorMessage=new u.Action},t.getKey=function(){return r.ActionsKeys.TaskGroupDialogActions},Object.defineProperty(t.prototype,"ShowTaskGroupSaveDialog",{get:function(){return this._showTaskGroupSaveDialog},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HideTaskGroupSaveDialog",{get:function(){return this._hideTaskGroupSaveDialog},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"CreateMetaTaskGroup",{get:function(){return this._createMetaTaskGroup},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"DismissErrorMessage",{get:function(){return this._dismissErrorMessage},enumerable:!1,configurable:!0}),t}(i.ActionsHubBase);t.TaskGroupDialogActions=f});

define("DistributedTaskControls/Actions/TaskGroupPropertiesActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.TaskGroupPropertiesActions=void 0;var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._initializeTaskGroupProperties=new i.Action;this._changeTaskGroupName=new i.Action;this._changeTaskGroupDescription=new i.Action;this._changeTaskGroupCategory=new i.Action},t.getKey=function(){return r.ActionsKeys.TaskGroupPropertiesActions},Object.defineProperty(t.prototype,"InitializeTaskGroupProperties",{get:function(){return this._initializeTaskGroupProperties},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ChangeTaskGroupName",{get:function(){return this._changeTaskGroupName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ChangeTaskGroupDescription",{get:function(){return this._changeTaskGroupDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ChangeTaskGroupCategory",{get:function(){return this._changeTaskGroupCategory},enumerable:!1,configurable:!0}),t}(i.ActionsHubBase);t.TaskGroupPropertiesActions=u});

define("DistributedTaskControls/Actions/TaskGroupPropertiesActionCreator",["require","exports","DistributedTaskControls/Actions/TaskGroupPropertiesActions","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Actions/ActionsHubManager"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.TaskGroupPropertiesActionCreator=void 0;var e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return u.ActionCreatorKeys.TaskGroupPropertiesActionCreator},t.prototype.initialize=function(n){this._actions=f.ActionsHubManager.GetActionsHub(i.TaskGroupPropertiesActions,n)},t.prototype.initializeTaskGroupProperties=function(n,t,i){this._actions.InitializeTaskGroupProperties.invoke({name:n,description:t,category:i})},t.prototype.changeTaskGroupName=function(n){this._actions.ChangeTaskGroupName.invoke(n)},t.prototype.changeTaskGroupDescription=function(n){this._actions.ChangeTaskGroupDescription.invoke(n)},t.prototype.changeTaskGroupCategory=function(n){this._actions.ChangeTaskGroupCategory.invoke(n)},t}(r.ActionCreatorBase);t.TaskGroupPropertiesActionCreator=e});

define("DistributedTaskControls/Actions/TaskGroupDialogActionsCreator",["require","exports","DistributedTaskControls/Actions/TaskGroupDialogActions","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Actions/TaskGroupPropertiesActionCreator","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.TaskGroupDialogActionsCreator=void 0;var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return u.ActionCreatorKeys.TaskGroupDialogActionsCreator},t.prototype.initialize=function(){this._actions=f.ActionsHubManager.GetActionsHub(i.TaskGroupDialogActions);this._taskGroupPropertiesActionCreator=e.ActionCreatorManager.GetActionCreator(o.TaskGroupPropertiesActionCreator)},t.prototype.showTaskGroupSaveDialog=function(){this._taskGroupPropertiesActionCreator.initializeTaskGroupProperties(s.empty,s.empty,s.empty);this._actions.ShowTaskGroupSaveDialog.invoke(null)},t.prototype.hideTaskGroupSaveDialog=function(){this._actions.HideTaskGroupSaveDialog.invoke(null)},t.prototype.createMetaTaskGroup=function(n){this._actions.CreateMetaTaskGroup.invoke({onMetaTaskCreated:n})},t.prototype.dismissErrorMessage=function(){this._actions.DismissErrorMessage.invoke(null)},t}(r.ActionCreatorBase);t.TaskGroupDialogActionsCreator=h});

define("DistributedTaskControls/Actions/TaskGroupParametersActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.TaskGroupParametersActions=void 0;var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._setMetaTaskInput=new i.Action;this._changeTaskGroupMetaInputValue=new i.Action;this._changeTaskGroupMetaInputHelpMarkDown=new i.Action;this._changeTaskGroupEndpointInputOptions=new i.Action},t.getKey=function(){return r.ActionsKeys.TaskGroupParametersActions},Object.defineProperty(t.prototype,"SetMetaTaskInput",{get:function(){return this._setMetaTaskInput},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ChangeTaskGroupMetaInputValue",{get:function(){return this._changeTaskGroupMetaInputValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ChangeTaskGroupMetaInputHelpMarkDown",{get:function(){return this._changeTaskGroupMetaInputHelpMarkDown},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ChangeTaskGroupEndpointInputOptions",{get:function(){return this._changeTaskGroupEndpointInputOptions},enumerable:!1,configurable:!0}),t}(i.ActionsHubBase);t.TaskGroupParametersActions=u});

define("DistributedTaskControls/Actions/TaskGroupParametersActionCreator",["require","exports","DistributedTaskControls/Actions/TaskGroupParametersActions","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Actions/ActionsHubManager"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.TaskGroupParametersActionCreator=void 0;var e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return u.ActionCreatorKeys.TaskGroupParametersActionCreator},t.prototype.initialize=function(n){this._taskGroupParametersActions=f.ActionsHubManager.GetActionsHub(i.TaskGroupParametersActions,n)},t.prototype.setMetaTaskInput=function(n,t,i,r,u){var f={metaTaskInputs:n,tasks:t,dataSourceBindings:i,groups:r,runsOns:u};this._taskGroupParametersActions.SetMetaTaskInput.invoke(f)},t.prototype.changeTaskGroupMetaInputValue=function(n,t){this._taskGroupParametersActions.ChangeTaskGroupMetaInputValue.invoke({value:n,index:t})},t.prototype.changeTaskGroupMetaInputHelpMarkDown=function(n,t){this._taskGroupParametersActions.ChangeTaskGroupMetaInputHelpMarkDown.invoke({value:n,index:t})},t.prototype.changeTaskGroupEndpointInputOptions=function(n,t){this._taskGroupParametersActions.ChangeTaskGroupEndpointInputOptions.invoke({value:n,index:t})},t}(r.ActionCreatorBase);t.TaskGroupParametersActionCreator=e});

define("DistributedTaskControls/Variables/VariablesListBaseStore",["require","exports","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r){var u,f;Object.defineProperty(t,"__esModule",{value:!0});t.VariablesListBaseStore=t.BaseStore=void 0;u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(i.StoreBase);t.BaseStore=u;f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleChildrenStoreChange=function(){t.emitChanged()},t}return __extends(t,n),t.prototype.initialize=function(){this.stores=[]},t.getKey=function(){return r.StoreKeys.VariablesListStore},t.prototype.isDirty=function(){var n=!1;return this.stores.forEach(function(t){if(t.isDirty()){n=!0;return}}),n},t.prototype.isValid=function(){var n=!0;return this.stores.forEach(function(t){if(!t.isValid()){n=!1;return}}),n},t.prototype.initializeChildStoreListeners=function(){var n=this;this.stores.forEach(function(t){t.addChangedListener(n._handleChildrenStoreChange)})},t.prototype.resolveVariable=function(){},t.prototype.disposeInternal=function(){var n=this;this.stores.forEach(function(t){t.removeChangedListener(n._handleChildrenStoreChange)});this.stores=[]},t}(u);t.VariablesListBaseStore=f});

define("DistributedTaskControls/Components/Task/MetaTaskManager",["require","exports","DistributedTasksCommon/TFS.Tasks.Utils","DistributedTaskControls/Actions/TaskGroupDialogActionsCreator","DistributedTaskControls/Actions/TaskGroupParametersActionCreator","DistributedTaskControls/Actions/TaskListActionsCreator","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/AppContext","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Factory","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/UrlUtilities","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Task/TaskStore","DistributedTaskControls/Variables/VariablesListBaseStore","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Controls/Dialogs","VSS/Utils/Array","VSS/Utils/String","VSS/Context","VSS/LoaderPlugins/Css!DistributedTasksLibrary"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g){Object.defineProperty(t,"__esModule",{value:!0});t.MetaTaskManager=void 0;var nt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.onCreateMetaTaskOkCallBack=function(n,i){var r=e.ActionCreatorManager.GetActionCreator(f.TaskListActionsCreator,t._taskListStoreInstanceId);return r.createMetaTask(n,t._taskItemList.map(function(n){return n.getKey()}),t._workflow,i)},t}return __extends(t,n),t.instance=function(){return n.getInstance.call(this,t)},t.isNewTaskGroupHubEnabled=function(){return!v.DtcUtils.isFeatureFlagEnabled(s.FeatureFlag_EnableOldTaskGroupHub)},t.prototype.manageMetaTask=function(n){var r=d.empty,u=t.isNewTaskGroupHubEnabled();r=u?d.format("{0}/_taskgroup/{1}",i.PresentationUtils.getTeamUrl(),n):v.DtcUtils.getUrlForExtension(s.MetaTaskHubContributionId,"properties",{taskGroupId:n});a.UrlUtilities.openInNewWindow(r,!0)},t.prototype.createMetaTask=function(n,t,i){var y=this,e=[],g=[],o=[],s=[],h=[],r,u,f,a,v;if(this._taskListStoreInstanceId=i,this._workflow=t,this._taskItemList=n,this._variablesListStore=c.StoreManager.GetStore(p.VariablesListBaseStore),f=this._getTaskStoreList(this._taskItemList),a=f.some(function(n){return!n.isValidForCreatingTaskGroup()}),a===!0){v={title:w.ErrorText,buttons:[{id:"ok-button",text:w.OK}]};l.Telemetry.instance().publishEvent(l.Feature.TaskGroupCreationBlockedDueToProcessParam);b.showMessageDialog(w.TaskGroupCreationDeniedBecauseOfProcessParams,v);return}if(k.first(f,function(n){var t=n.getTaskInstance(),i=n.getTaskDefinition(),f;return(r=r?k.intersect(r,i.runsOn,d.localeIgnoreCaseComparer):i.runsOn,r.length<1)?(u=i,!0):(f={displayName:t.displayName,isExpanded:!0,name:t.displayName,tags:[],visibleRule:d.empty},y._extractTaskGroupInputs(n,o,s,g),e.push(t),h.push(f),!1)}),r.length<1&&!!u){alert(d.format(w.Task_UnableToCreateTaskGroupMessage,u.name,u.runsOn.join()));return}this._showCreateMetaTaskDialog(o,e,s,h,r)},t.prototype.extractVariablesFromInput=function(n,t,i,r){var u=[];return(!i||r.isGroupOrInputVisible(i.visibleRule,n))&&(u=this._extractNonSystemVariables(n,t,i)),u},t.prototype.getTaskGroupInputsAndDataSourceBindings=function(n){var r=this,u=[],t=[],i=[],f=this._getTaskStoreList(n);return f.forEach(function(n){r._extractTaskGroupInputs(n,t,i,u)}),t=t.sort(function(n,t){return d.localeIgnoreCaseComparer(n.name,t.name)}),{taskGroupInputs:t,dataSourceBindings:i}},t.prototype.updateTaskGroupInputValues=function(n,t){var i=n.map(function(n){return n});return t.forEach(function(n){var t=k.first(i,function(t){return t.name===n.name});!t||t.type===n.type&&(t.defaultValue=n.defaultValue,t.helpMarkDown=n.helpMarkDown,t.options=n.options)}),i=i.sort(function(n,t){return d.localeIgnoreCaseComparer(n.name,t.name)})},t.prototype._extractNonSystemVariables=function(n,t,r){var u=this;return i.VariableExtractor.extractVariables(n,t,r,function(n){return!u._isSystemVariable(n)})},t.prototype._getTaskStoreList=function(n){return n.map(function(n){return c.StoreManager.GetStore(y.TaskStore,n.getKey())})},t.prototype._extractTaskGroupInputs=function(n,t,r,u){var s=this,f=n.getTaskInstance(),o=n.getTaskDefinition(),e,h,c,l;if(u=u||[],e=[],t=t||[],r=r||[],o.dataSourceBindings&&(e=i.DataSourceBindingUtils.clone(o.dataSourceBindings)),f.inputs){h=function(h){var y;if(f.inputs.hasOwnProperty(h)){f.inputs[h]=v.DtcUtils.resolveTaskInputValueByProcessParameters(f.inputs[h],n.getProcessParameterToValueMap()).resolvedValue;var p=f.inputs[h],a=k.first(o.inputs,function(n){return n.name===h}),l=c.extractVariablesFromInput(h,p,a,n);l.forEach(function(r){r.name=r.name.trim();k.contains(u,r.name,d.localeIgnoreCaseComparer)||(!s._variablesListStore||s._variablesListStore.resolveVariable(r,n.getTaskContext().processInstanceId),t.push(r),u.push(r.name));i.VariableExtractor.normalizeVariableTypeInfo(t,r)});l.length===1&&(y=k.first(t,function(n){return d.equals(n.name,l[0].name,!0)}),i.DataSourceBindingUtils.updateVariables(e,a,y));r=i.DataSourceBindingUtils.merge(r,e)}};c=this;for(l in f.inputs)h(l)}},t.prototype._showCreateMetaTaskDialog=function(n,t,i,f,o){var s=e.ActionCreatorManager.GetActionCreator(r.TaskGroupDialogActionsCreator),h=e.ActionCreatorManager.GetActionCreator(u.TaskGroupParametersActionCreator);h.setMetaTaskInput(n,t,i,f,o);s.showTaskGroupSaveDialog()},t.prototype.generateMetaTaskDefinition=function(n,i,r,u,f,e,o,s){n=n.trim();return{tasks:u,owner:g.getDefaultWebContext().user.id,category:r,description:i,agentExecution:null,author:g.getDefaultWebContext().user.name,contentsUploaded:!0,contributionIdentifier:null,contributionVersion:null,dataSourceBindings:o,satisfies:[],demands:[],disabled:!1,deleted:!1,preview:!1,deprecated:!1,friendlyName:n,groups:s,helpMarkDown:d.empty,helpUrl:d.empty,hostType:null,iconUrl:g.getPageContext().webAccessConfiguration.paths.resourcesPath+"icon-meta-task.png",id:d.empty,inputs:f,instanceNameFormat:d.localeFormat(w.MetataskInstanceNameFormat,n,f&&f.length?"$("+f[0].name+")":""),minimumAgentVersion:t._minimumAgentVersion,name:n,packageLocation:d.empty,packageType:d.empty,releaseNotes:null,serverOwned:!1,sourceDefinitions:[],sourceLocation:d.empty,version:{isTest:!1,major:1,minor:0,patch:0},parentDefinitionId:null,visibility:[t._visibilityBuild,t._visibilityRelease],runsOn:e,definitionType:t._definitionType,preJobExecution:{key:d.empty,value:d.empty},execution:{key:d.empty,value:d.empty},postJobExecution:{key:d.empty,value:d.empty},revision:null,createdBy:null,createdOn:null,modifiedBy:null,modifiedOn:null,comment:null,outputVariables:null,showEnvironmentVariables:!1,ecosystem:null,restrictions:null}},t.prototype._isSystemVariable=function(n){return k.contains(t._systemVariable,n.toLowerCase())?!0:!!o.AppContext.instance().IsSystemVariable&&o.AppContext.instance().IsSystemVariable(n)?!0:!1},t._systemVariable=["agent.builddirectory","agent.homedirectory","agent.id","agent.jobname","agent.jobstatus","agent.machinename","agent.name","agent.os","agent.osversion","agent.rootdirectory","agent.serveromdirectory","agent.tempdirectory","agent.toolsdirectory","agent.workfolder","agent.workingdirectory","build.artifactstagingdirectory","build.binariesdirectory","build.buildid","build.buildnumber","build.builduri","build.clean","build.definitionname","build.definitionversion","build.fetchtags","build.queuedby","build.queuedbyid","build.reason","build.repository.clean","build.repository.git.submodulecheckout","build.repository.localpath","build.repository.name","build.repository.provider","build.repository.tfvc.shelveset","build.repository.tfvc.workspace","build.repository.uri","build.requestedfor","build.requestedForEmail","build.requestedforid","build.sourcebranch","build.sourcebranchname","build.sourcesdirectory","build.sourcetfvcShelveset","build.sourceversion","build.stagingdirectory","build.syncSources","build.triggeredby.builddefinitionname","build.triggeredby.buildid","build.triggeredby.buildnumber","build.triggeredby.definitionid","build.triggeredby.projectid","common.testresultsdirectory","system.accesstoken","system.collectionid","system.culture","system.debug","system.defaultworkingdirectory","system.definitionid","system.enableaccesstoken","system.hosttype","system.jobid","system.jobparallelismtag","system.parallelexecutiontype","system.planid","system.pullrequest.isfork","system.pullrequest.mergedat","system.pullrequest.pullrequestid","system.pullrequest.pullrequestnumber","system.pullrequest.sourcebranch","system.pullrequest.sourcecommitid","system.pullrequest.sourcerepositoryuri","system.pullrequest.targetbranch","system.pullrequest.targetbranchname","system.servertype","system.teamfoundationcollectionuri","system.teamfoundationserveruri","system.teamproject","system.teamprojectid"],t._visibilityBuild="Build",t._visibilityRelease="Release",t._definitionType="metaTask",t._minimumAgentVersion="*",t}(h.Singleton);t.MetaTaskManager=nt});

define("DistributedTaskControls/Components/Task/TaskItemContextMenuHelper",["require","exports","DistributedTaskControls/Actions/TaskGroupDialogActionsCreator","DistributedTaskControls/Actions/TaskListActionsCreator","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Task/MetaTaskManager","DistributedTaskControls/Components/Task/TaskActionsCreator","DistributedTaskControls/Components/Task/TaskStore","DistributedTaskControls/ProcessManagement/ProcessManagementStore","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTasksCommon/TFS.Tasks.Types","VSS/Utils/Accessibility","VSS/Diag","VSS/Utils/String","VSS/Service","VSS/FeatureManagement/Services"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){Object.defineProperty(t,"__esModule",{value:!0});t.TaskItemContextMenuHelper=void 0;var g=function(){function n(){}return n.getContextMenuItems=function(t,s,w,b){var tt=this,rt=e.StoreManager.GetStore(a.ProcessManagementStore,b),it=k.getService(d.FeatureManagementService).isFeatureEnabled("ms.vss-build-web.disable-classic-pipeline-creation");it=it?it:!1;var ut=!0,nt=t.map(function(n){var t=e.StoreManager.GetStore(l.TaskStore,n.getKey());return ut=ut&&t.canShowTaskGroupOptions(),t}),et=t.map(function(n){return u.ActionCreatorManager.GetActionCreator(c.TaskActionCreator,n.getKey())}),ot=u.ActionCreatorManager.GetActionCreator(r.TaskListActionsCreator,s),st=u.ActionCreatorManager.GetActionCreator(i.TaskGroupDialogActionsCreator),g=[],ft=!1;return rt.canEditTaskInputs()&&(g.push({key:f.KEY_ENABLE_TASKS,disabled:!this._getEnableState(f.KEY_ENABLE_TASKS,nt),name:v.Tasks_MenuEnableText,iconProps:{iconName:"Completed"},onClick:function(){et.forEach(function(n){n.updateTaskInputValue(f.TaskControlOptionsConstants.ControlOptionsInputName_Enabled,"true")});var n=t.length===1?v.TaskEnabled:v.TasksEnabled;p.announce(n,!0);tt._publishTelemetryForContextMenu(o.Feature.EnableTask,t.length)}}),g.push({key:f.KEY_DISABLE_TASKS,disabled:!this._getEnableState(f.KEY_DISABLE_TASKS,nt),name:v.Tasks_MenuDisableText,iconProps:{iconName:"Blocked"},onClick:function(){et.forEach(function(n){n.updateTaskInputValue(f.TaskControlOptionsConstants.ControlOptionsInputName_Enabled,"false")});var n=t.length===1?v.TaskDisabled:v.TasksDisabled;p.announce(n,!0);tt._publishTelemetryForContextMenu(o.Feature.DisableTask,t.length)}}),ft=!0),rt.canEditTasks()&&(g.push({key:f.KEY_REMOVE_TASKS,disabled:!this._getEnableState(f.KEY_REMOVE_TASKS,nt),name:v.Tasks_MenuRemoveTasks,iconProps:{iconName:"Delete"},onClick:function(){if(t){t.forEach(function(n){n.removeTask()});var n=t.length===1?v.TaskRemoved:v.TasksRemoved;p.announce(n,!0);tt._publishTelemetryForContextMenu(o.Feature.RemoveTask,t.length)}}}),g.push({key:f.KEY_CLONE_TASKS,disabled:!this._getEnableState(f.KEY_CLONE_TASKS,nt),name:v.Tasks_MenuCloneTasks,iconProps:{iconName:"Copy"},onClick:function(){var n=t.map(function(n){return n.getKey()});ot.cloneTasks(n,tt._getProcessParamPayload(b,t));tt._publishTelemetryForContextMenu(o.Feature.CloneTask,t.length)}}),ft=!0),rt.canEditTaskGroups()&&ut&&(ft&&g.push({key:"divider_1",name:"-"}),it||g.push({key:f.KEY_CREATE_TASK_GROUP,disabled:!this._getEnableState(f.KEY_CREATE_TASK_GROUP,nt),name:v.Tasks_MenuCreateMetaTask,iconProps:{iconName:"Add"},onClick:function(){var i=n._getTasksInOrderOfTaskList(t,w);h.MetaTaskManager.instance().createMetaTask(i,t[0].getViewContext(),s)}}),g.push({key:f.KEY_MANAGE_TASK_GROUP,disabled:!this._getEnableState(f.KEY_MANAGE_TASK_GROUP,nt),name:v.Tasks_MenuManageMetaTask,iconProps:{iconName:"Settings"},onClick:function(){var n;nt.forEach(function(t){if(t.getTaskDefinition().definitionType===y.DefinitionType.metaTask)return n=t,!1});h.MetaTaskManager.instance().manageMetaTask(n.getTaskDefinition().id);tt._publishTelemetryForContextMenu(o.Feature.ManageTaskGroup)}})),g},n._getProcessParamPayload=function(n,t){var i=[];return t.map(function(n){var t=n.getProcessParameterNameToReferenceCount();t&&t.forEach(function(n){i.push({processParameterName:n.processParameterName,referenceCount:n.referenceCount})})}),{processParameterReferencePayload:{processParameterReferenceData:i,shouldReferencesIncrease:!0},processInstanceId:n}},n._publishTelemetryForContextMenu=function(n,t){var i={};t&&(i[o.Properties.SelectedTasksLength]=t);o.Telemetry.instance().publishEvent(n,i,o.Source.ContextMenu)},n._getEnableState=function(n,t){var i=!0,r,u;switch(n){case f.KEY_ENABLE_TASKS:i=t.some(function(n){return n.isDisabled()});break;case f.KEY_DISABLE_TASKS:i=t.some(function(n){return!n.isDisabled()});break;case f.KEY_CLONE_TASKS:i=this._areSelectedTasksInSameTaskList(t);break;case f.KEY_REMOVE_TASKS:i=!0;break;case f.KEY_CREATE_TASK_GROUP:r=this._areSelectedTasksInSameTaskList(t);u=!0;r&&t&&t.length>0&&(u=!t.some(function(n){return!n.isValid()||!n.isTaskDefinitionValid()}));i=u&&r;break;case f.KEY_MANAGE_TASK_GROUP:i=t.some(function(n){return n.getTaskDefinition().definitionType===y.DefinitionType.metaTask});break;default:w.logError("[TaskItemContextMenuHelper._getEnableState]: Invalid key - "+n)}return i},n._getTasksInOrderOfTaskList=function(n,t){var r=n.map(function(n){return n.getKey()}),u=s.DtcUtils.getTaskInOrder(r,t),i=[];return u.forEach(function(t){n.forEach(function(n){b.ignoreCaseComparer(n.getKey(),t)||i.push(n)})}),i},n._areSelectedTasksInSameTaskList=function(n){var t=!0,i;return n&&n.length>0&&(i=n[0].getTaskContext().taskListStoreInstanceId,t=!n.some(function(n){return n.getTaskContext().taskListStoreInstanceId!==i})),t},n}();t.TaskItemContextMenuHelper=g});

define("DistributedTaskControls/Components/Task/TaskItemOverviewContent",["require","exports","react","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/DragDropManager","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/StateIndicator","DistributedTaskControls/Components/Task/TaskItemContextMenuHelper","DistributedTaskControls/Components/Task/TaskStore","DistributedTaskControls/Components/TwoPanelOverviewComponent","DistributedTaskControls/ProcessManagement/ProcessManagementStore","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Stores/ItemSelectionStore","OfficeFabric/Utilities","VSS/Diag","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){Object.defineProperty(t,"__esModule",{value:!0});t.TaskItemOverviewContent=void 0;var d=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onChange=function(){var n=t._store.getTaskItemOverviewState();n.isSelected=t.state.isSelected;n.isDeleting&&t._elementInstance&&t._elementInstance.setAttribute("style","height:"+t._elementInstance.clientHeight+"px");t.setState(n);n.isDeleting&&t.props.onDeletingTask()},t._onProcessManagementStoreChange=function(){t.state.isSelected&&t._onChange()},t._onItemStoreChange=function(){t.setState({isSelected:t.props.item&&t._itemSelectionStore.isItemInSelectedGroup(t.props.item)})},t._onDragStart=function(n){f.DragDropManager.instance().onDragStart(n,{listId:t.props.parentTaskListInstanceId,key:t.props.item.getKey(),data:t.props.item})},t._onDragOver=function(n){f.DragDropManager.instance().onDragOver(n,t._itemAcceptsDropData)},t._onDragLeave=function(n){f.DragDropManager.instance().onDragLeave(n,t._itemAcceptsDropData)},t._onDrop=function(n){f.DragDropManager.instance().onDrop(n,{listId:t.props.parentTaskListInstanceId,key:t.props.item.getKey(),data:t.props.item},t._itemAcceptsDropData)},t._onDragEnd=function(n){var t=f.DragDropManager.instance().isCopyAction(),i=f.DragDropManager.instance().onDragEnd(n);i===f.DropStatus.Accepted&&(t?o.Telemetry.instance().publishEvent(o.Feature.CloneTask,{},o.Source.DragAndDrop):o.Telemetry.instance().publishEvent(o.Feature.MoveTask,{},o.Source.DragAndDrop))},t._itemAcceptsDropData=function(n){return!n||!t._processManagementStore.canEditTasks()?!1:k.equals(n.key,r.TASK_DEFINITION_DATA_KEY)?n.listId===t.props.parentTaskListInstanceId:n.data.getKey&&k.caseInsensitiveContains(n.data.getKey(),r.TASK_ITEM_PREFIX)?t.props.taskGroupType?s.DtcUtils.isTaskSupportedForTaskGroup(t.props.taskGroupType,n.data.getRunsOn()):!0:!1},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._store=e.StoreManager.GetStore(l.TaskStore,this.props.controllerInstanceId);this._itemSelectionStore=e.StoreManager.GetStore(p.Store,this.props.instanceId);this._processManagementStore=e.StoreManager.GetStore(v.ProcessManagementStore,this._store.getTaskContext().processInstanceId);this.setState(this._store.getTaskItemOverviewState())},t.prototype.componentDidMount=function(){this._store.addChangedListener(this._onChange);this._processManagementStore.addChangedListener(this._onProcessManagementStoreChange);this._itemSelectionStore.addChangedListener(this._onItemStoreChange);this.props.isTaskAdditionInProgress&&this._elementInstance&&this._elementInstance.scrollIntoView(!1)},t.prototype.componentWillUnmount=function(){if(this._store.removeChangedListener(this._onChange),this._processManagementStore.removeChangedListener(this._onProcessManagementStoreChange),this._itemSelectionStore.removeChangedListener(this._onItemStoreChange),this.state.isDeleting&&this.props.onRemoveTaskAnimationComplete)this.props.onRemoveTaskAnimationComplete(this.props.item.getKey())},t.prototype.componentDidUpdate=function(){this.state.isDeleting&&this._elementInstance&&this._elementInstance.setAttribute("style","height:0px")},t.prototype.render=function(){var n=this,t;return b.logVerbose("[TaskItemOverview.render]: Method called."),t={ariaProps:this.props.ariaProps,title:this.state.name,view:this._getView(),item:this.props.item,instanceId:this.props.instanceId,iconClassName:"dtc-task-icon",src:this.props.iconUrl,isDraggable:this._processManagementStore.canEditTasks(),canParticipateInMultiSelect:this._processManagementStore.canEditTasks()||this._processManagementStore.canEditTaskInputs(),taskItemKeys:this.props.taskItemKeys,getContextMenuItems:function(){var t=n._itemSelectionStore.getState().selectedItems.filter(function(n){return k.caseInsensitiveContains(n.data.getKey(),r.TASK_ITEM_PREFIX)}).map(function(n){return n.data});return c.TaskItemContextMenuHelper.getContextMenuItems(t,n.props.parentTaskListInstanceId,n.props.taskItemKeys,n.props.processInstanceId)}},i.createElement("div",{className:w.css("task-item-overview",{"is-selected":this.state.isSelected},{"is-disabled ms-bgColor-neutralLighter":this.state.isDisabled},{"location-line-bottom":this.props.showLocationLine}),draggable:this._processManagementStore.canEditTasks(),onDragStart:this._onDragStart,onDragEnter:this._onDragOver,onDragOver:this._onDragOver,onDragLeave:this._onDragLeave,onDrop:this._onDrop,onDragEnd:this._onDragEnd,ref:function(t){return n._elementInstance=t},"aria-disabled":this.state.isDisabled},i.createElement(a.TwoPanelOverviewComponent,__assign({},t)))},t.prototype._getView=function(){return b.logVerbose("[TaskItemOverview._getView]: Method called."),this._getDescription()},t.prototype._getDescription=function(){var n,t;return b.logVerbose("[TaskItemOverview._getDescriptionText]: Method called."),n=null,this.state.isDeprecated?n=i.createElement("span",{className:"task-deprecated-badge"},y.DeprecatedText):this.state.isPreview?n=i.createElement("span",{className:"task-preview-badge"},y.PreviewText):this.state.isTest&&(n=i.createElement("span",{className:"task-test-badge"},y.DraftText)),this.state.isDefinitionValid?this.state.isValid?(t=this.props.description,this.state.isDisabled&&(t=k.format("{0}: {1}",y.DisabledText,t)),i.createElement("div",{className:"task-description-text"},!this.state.isOnLatestMajorVersion&&i.createElement("i",{className:"bowtie-icon bowtie-alert task-version-upsell",title:y.Task_VersionSelectorHelp}),n,t)):i.createElement(h.StateIndicator,{type:h.StateIndicatorType.Error,text:y.SettingsRequiredMessage}):i.createElement(h.StateIndicator,{type:h.StateIndicatorType.Error,text:y.TaskDeletedMessage})},t}(u.Component);t.TaskItemOverviewContent=d});

define("DistributedTaskControls/Components/Task/TaskItemOverview",["require","exports","react","react-transition-group","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/Task/TaskItemOverviewContent","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/FabricStyleOverrides","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/Task/TaskItemOverview"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.TaskItemOverview=void 0;var e=500,o=750,s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleDeleteTask=function(){t.setState({isDeleting:!0})},t}return __extends(t,n),t.prototype.componentDidMount=function(){this.setState({isMounted:!0})},t.prototype.render=function(){var n=!!this.props.isTaskAdditionInProgress;return i.createElement(r.CSSTransitionGroup,{component:"div",className:"task-item-overview-animation-container",transitionName:"task-add-delete-animation",transitionEnter:n,transitionEnterTimeout:e,transitionLeave:!0,transitionLeaveTimeout:o},this.state.isMounted&&!this.state.isDeleting&&i.createElement(f.TaskItemOverviewContent,__assign({key:this.props.item.getKey()},this.props,{onDeletingTask:this._handleDeleteTask})))},t}(u.Component);t.TaskItemOverview=s});

define("DistributedTaskControls/Components/Task/TaskItem",["require","exports","react","DistributedTaskControls/Common/AppContext","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Task/TaskActionsCreator","DistributedTaskControls/Components/Task/TaskDetailsView","DistributedTaskControls/Components/Task/TaskItemOverview","DistributedTaskControls/Components/Task/TaskStore","DistributedTaskControls/Sources/TaskDefinitionSource","DistributedTasksCommon/TFS.Tasks.Types","VSS/Diag"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});t.TaskItem=void 0;var p=function(){function n(t,i){if(!n._intantiatorLock)throw new Error("Error: Direct instantiation of TaskItem object is not allowed. Please use TaskItem.createTaskItem() method.");this._initialize(t,i)}return n.prototype.getOverview=function(n){y.logVerbose("[TaskItem.getOverview]: Method called");var r=this._store.getTaskDefinition(),t=this._store.getTaskContext(),u={key:this.getKey(),controllerInstanceId:this._uniqueTaskInstanceId,instanceId:n.instanceId,iconUrl:r.iconUrl,description:r.friendlyName,item:this,taskItemKeys:n.taskListKeys,showLocationLine:t.isActiveDelegate(this._uniqueTaskInstanceId),parentTaskListInstanceId:t.taskListStoreInstanceId,processInstanceId:t.processInstanceId,taskGroupType:n.taskGroupType,isTaskAdditionInProgress:n.isTaskAdditionInProgress,onRemoveTaskAnimationComplete:n.onRemoveTaskAnimationComplete,ariaProps:n.ariaProps};return this._overView=n.onRenderOverview?n.onRenderOverview(u):i.createElement(c.TaskItemOverview,u),this._overView},n.prototype.getDetails=function(){y.logVerbose("[TaskItem.getDetails]: Method called");var t=this._store.getTaskInstance(),n=this._store.getTaskContext();return this._details||(this._details=i.createElement(h.TaskDetailsView,{key:this.getKey(),processInstanceId:n.processInstanceId,controllerInstanceId:this._uniqueTaskInstanceId,taskInstance:t,processParametersNotSupported:n.processParametersNotSupported})),this._details},n.prototype.getKey=function(){return y.logVerbose("[TaskItem.getKey]: Method called"),this._uniqueTaskInstanceId},n.prototype.isDirty=function(){return y.logVerbose("[TaskItem.isDirty]: Method called"),this._store.isDirty()},n.prototype.isValid=function(){return y.logVerbose("[TaskItem.isValid]: Method called"),this._store.isValid()},n.prototype.getTask=function(){return this._store.getTaskPayload()},n.prototype.getClonedTask=function(){return this._store.getClonedTaskInstance()},n.prototype.updateTask=function(n){this._store.updateTask(n)},n.prototype.getReadOnlyDemands=function(){if(this._taskDefinition.definitionType===v.DefinitionType.metaTask){var n=a.TaskDefinitionSource.instance().getTaskDefinitionDemandsFromTaskId(this._taskDefinition.id);return n!=null&&n.length>0?n:this._taskDefinition.demands}return this._taskDefinition.demands},n.prototype.getSatisfies=function(){return this._taskDefinition.satisfies||[]},n.prototype.getRunsOn=function(){return this._taskDefinition.runsOn},n.prototype.setTaskContext=function(n){var t=this;this._store.removeChangedListener(function(){t._store.getTaskContext().onChangeDelegate()});this._store.setTaskContext(n);this._store.addChangedListener(function(){n.onChangeDelegate()})},n.prototype.removeTask=function(){var n=this._store.getTaskContext();if(n&&n.onRemoveDelegate)n.onRemoveDelegate(this._uniqueTaskInstanceId)},n.prototype.getViewContext=function(){return r.AppContext.instance().isCapabilitySupported(r.AppCapability.Deployment)?f.Workflow.Release:f.Workflow.Build},n.prototype.getProcessParameterNameToReferenceCount=function(){return this._store.getProcessParameterNameToReferenceCount()},n.prototype.dispose=function(){y.logVerbose("[TaskItem.dispose]: Method called");e.StoreManager.DeleteStore(l.TaskStore,this._uniqueTaskInstanceId);u.ActionCreatorManager.DeleteActionCreator(s.TaskActionCreator,this._uniqueTaskInstanceId)},n.prototype.getTaskContext=function(){return this._store.getTaskContext()},n.createTaskItem=function(t,i){n._intantiatorLock=!0;var r=new n(i,t);return n._intantiatorLock=!1,r._store.addChangedListener(function(){i.onChangeDelegate()}),r},n.prototype.getStore=function(){return this._store},n.prototype._initialize=function(n,t){this._uniqueTaskInstanceId=f.TASK_ITEM_PREFIX+o.DtcUtils.getUniqueInstanceId();this._actionCreator=u.ActionCreatorManager.GetActionCreator(s.TaskActionCreator,this._uniqueTaskInstanceId);var i=a.TaskDefinitionSource.instance().getTaskVersionInfoList(t.task.id);this._taskDefinition=a.TaskDefinitionSource.instance().getTaskDefinition(t.task.id,t.task.versionSpec||"*")||a.TaskDefinitionSource.instance().getEmptyTaskDefinition(t.displayName,t.task.definitionType,t);this._store=e.StoreManager.CreateStore(l.TaskStore,this._uniqueTaskInstanceId,{taskInstance:t,taskDefinition:this._taskDefinition,taskVersionInfoList:i,taskContext:n})},n}();t.TaskItem=p});

define("DistributedTaskControls/Stores/TaskListStore",["require","exports","DistributedTaskControls/Actions/ItemSelectorActions","DistributedTaskControls/Actions/TaskListActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/AggregatorStoreBase","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Task/AddTaskItem","DistributedTaskControls/Components/Task/TaskItem","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});t.TaskListStore=void 0;var a=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.taskCounter=0,i.isActive=function(n){return i._addTaskLocationItem.getKey()===n&&i._showAddTaskLocation},i._handleAddTask=function(n){i._additionInProgressTaskId=i._addTask(n.task);i.emitChanged()},i._handleRemoveTask=function(n){var t=o.DtcUtils.removeItemFromList(i._currentState.taskItemList,n.taskItemId);i._currentState.taskItemList=t.items;i._itemToBeSelected=n.disposeTaskItem?t.nextItem:null;i._addTaskLocationItem=i._currentState.taskItemList[i._currentState.taskItemList.length-1];i.emitChanged();t.removedItem&&n.disposeTaskItem&&t.removedItem.dispose()},i._handleUpdateTasks=function(n){if(n){var t=n.tasks||[],r,u=[];n.forceUpdate||i._currentState.taskItemList.length===0&&t.length>0?(i.taskCounter=t.length,r=i._currentState.taskItemList,u=t.map(function(n){return i._createTaskItem(n)}),i._updateStates(u),i.emitChanged()):i._currentState.taskItemList.length===t.length&&(i._currentState.taskItemList.forEach(function(n,r){var u=t[r];i._populateConditionIfNeeded(u);n.updateTask(u)}),i._updateState(i._originalState,i._currentState.taskItemList));r&&r.forEach(function(n){n.dispose()})}},i._handleSelectItem=function(n){if(n.data instanceof h.TaskItem)i._addTaskLocationItem=n.data,i._showAddTaskLocation=!1;else if(n.data instanceof s.AddTaskItem){var t=n.data;i._showAddTaskLocation=t.getAddTaskItemDetails().taskListStoreInstanceId===i.getInstanceId()?!0:!1}else i._addTaskLocationItem=i._currentState.taskItemList[i._currentState.taskItemList.length-1],i._showAddTaskLocation=!1;i._addTaskAfter=!0;i.emit(f.TaskListStoreChangedEvents.TasksSelectionUpdatedEvent,i)},i._handleClearAddTaskLocation=function(){i._showAddTaskLocation&&(i._showAddTaskLocation=!1,i.emitChanged())},i._handleShiftTask=function(n){n&&(i._shiftTask(n.itemKey,n.shiftBy),i.emitChanged())},i._handleCloneTask=function(n){var t=i._getTaskListFromTaskIdSet(n),r=i.getState().taskItemList.indexOf(t[t.length-1])+1;t.forEach(function(n){var t=n.getClonedTask(),u=i._createTaskItem(t);i.getState().taskItemList.splice(r++,0,u)});i.emitChanged()},i._handleMetaTaskCreated=function(n){var r=i._getTaskListFromTaskIdSet(n.taskItemIdList),t=i.getState().taskItemList;r.forEach(function(r,u){var f=t.indexOf(r),e;if(f===-1)return!0;u===0?(e=n.metaTask,i._itemToBeSelected=i._createTaskItem(e),t.splice(f,1,i._itemToBeSelected)):t.splice(f,1)});i.emitChanged();r.forEach(function(n){n.dispose()})},i._handleInsertTask=function(n){var r,t,e,u;n&&n.sourceItem&&n.sourceItem.data&&(r=!0,t=n.sourceItem.data,l.equals(n.sourceItem.key,f.TASK_DEFINITION_DATA_KEY)?(e=o.DtcUtils.getTaskFromTaskDefinition(n.sourceItem.data),n.sourceItem.data=i._createTaskItem(e),r=!1,i._addTaskLocationItem=n.sourceItem.data,i._showAddTaskLocation=!0):n.shouldInsertCopy?n.sourceItem.data=i._createTaskItem(t.getClonedTask()):t.getTaskContext().taskListStoreInstanceId===i.getInstanceId()||(t.setTaskContext(i._taskContext),n.sourceItem.data=t),u=o.DtcUtils.insertItemInList(n,i._currentState.taskItemList).map(function(n){return n}),u&&(i._currentState.taskItemList=u,r&&(i._itemToBeSelected=n.sourceItem.data),i.emitChanged()))},i._handleCompleteTaskAddition=function(){i._additionInProgressTaskId&&(i._additionInProgressTaskId=l.empty,i.emitChanged())},i._taskList=t.taskList,i._appContext=t.appContext,i._itemSelectionInstanceId=t.itemSelectionInstanceId,i._taskContextOptions=t.taskContextOptions?t.taskContextOptions:{},i}return __extends(t,n),t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._initializeTaskContext();this._initializeStates();this._itemSelectorActions=u.ActionsHubManager.GetActionsHub(i.Actions,this._itemSelectionInstanceId);this._itemSelectorActions.selectItem.addListener(this._handleSelectItem);this._taskListActions=u.ActionsHubManager.GetActionsHub(r.TaskListActions,this.getInstanceId());this._taskListActions.addTask.addListener(this._handleAddTask);this._taskListActions.removeTask.addListener(this._handleRemoveTask);this._taskListActions.updateTasks.addListener(this._handleUpdateTasks);this._taskListActions.clearAddTaskLocation.addListener(this._handleClearAddTaskLocation);this._taskListActions.shiftTask.addListener(this._handleShiftTask);this._taskListActions.cloneTasks.addListener(this._handleCloneTask);this._taskListActions.metaTaskCreated.addListener(this._handleMetaTaskCreated);this._taskListActions.insertTask.addListener(this._handleInsertTask);this._taskListActions.completeTaskAddition.addListener(this._handleCompleteTaskAddition)},t.prototype.disposeInternal=function(){this._itemSelectorActions.selectItem.removeListener(this._handleSelectItem);this._taskListActions.addTask.removeListener(this._handleAddTask);this._taskListActions.removeTask.removeListener(this._handleRemoveTask);this._taskListActions.updateTasks.removeListener(this._handleUpdateTasks);this._taskListActions.clearAddTaskLocation.removeListener(this._handleClearAddTaskLocation);this._taskListActions.shiftTask.removeListener(this._handleShiftTask);this._taskListActions.cloneTasks.removeListener(this._handleCloneTask);this._taskListActions.metaTaskCreated.removeListener(this._handleMetaTaskCreated);this._taskListActions.insertTask.removeListener(this._handleInsertTask);this._taskListActions.completeTaskAddition.removeListener(this._handleCompleteTaskAddition)},t.prototype.isSelectionObsolete=function(){return!!this._itemToBeSelected},t.prototype.getNextItemToBeSelected=function(){var n=this._itemToBeSelected;return this._itemToBeSelected=null,n},t.getKey=function(){return f.StoreKeys.TaskListStore},t.prototype.getState=function(){return this._currentState},t.prototype.getTaskList=function(){return this._currentState.taskItemList.map(function(n){return n.getTask()})},t.prototype.isDirty=function(){var n,t,i,r;if(this._currentState.taskItemList.length!==this._originalState.taskItemList.length)return!0;for(n=0;n<this._currentState.taskItemList.length;n++)if(this._currentState.taskItemList[n].getKey()!==this._originalState.taskItemList[n].getKey())return!0;for(t=0,i=this._currentState.taskItemList;t<i.length;t++)if(r=i[t],r.isDirty())return!0;return!1},t.prototype.isValid=function(){var n,t,i;if(this._currentState.taskItemList.length===0)return!0;for(n=0,t=this._currentState.taskItemList;n<t.length;n++)if(i=t[n],!i.isValid())return!1;return!0},t.prototype.getTaskKeys=function(){if(!this._currentState.taskItemList)return[];return this._currentState.taskItemList.map(function(n){return n.getKey()})},t.prototype.getTaskItemList=function(){return this._currentState.taskItemList?this._currentState.taskItemList:[]},t.prototype.updateVisitor=function(){throw new Error("Use getTaskList method instead");},t.prototype.getReadOnlyDemands=function(){var r=this,n=[],t=[],i=[];return this._currentState.taskItemList.forEach(function(u){var e,f,o;r._isTaskEnabled(u.getTask())&&(e=u.getTask().task.id.toLowerCase(),n.indexOf(e)<0&&(f=u.getReadOnlyDemands(),f&&f.length>0&&f.forEach(function(n){c.contains(i,n.toLowerCase())||(t[n]=n)}),o=u.getSatisfies(),c.addRange(i,o.map(function(n){return n.toLowerCase()})),n.push(e)))}),Object.keys(t)},t.prototype.getProcessInstanceId=function(){return this._appContext?this._appContext.processInstanceId:null},t.prototype.isTaskAdditionInProgress=function(n){return this._additionInProgressTaskId===n},t.prototype.getAdditionInProgressTaskInstanceId=function(){return this._additionInProgressTaskId},t.prototype.getCurrentTaskContext=function(){return this._taskContext},t.prototype._isTaskEnabled=function(n){return n.enabled},t.prototype._initializeStates=function(){var t=this,n=[];this._taskList&&(n=this._taskList.map(function(n){return t._createTaskItem(n)}));this._currentState={};this._originalState={};this._updateStates(n)},t.prototype._addTask=function(n){var t=this._addTaskLocationItem?this._addTaskAfter?this._currentState.taskItemList.indexOf(this._addTaskLocationItem)+1:this._currentState.taskItemList.indexOf(this._addTaskLocationItem):this._currentState.taskItemList.length,i=this._createTaskItem(n);return this._currentState.taskItemList.splice(t,0,i),this._addTaskLocationItem=this._currentState.taskItemList[t],this._addTaskAfter=!0,this._showAddTaskLocation=!0,i.getKey()},t.prototype._createTaskItem=function(n){return this._populateConditionIfNeeded(n),h.TaskItem.createTaskItem(n,this._taskContext)},t.prototype._shiftTask=function(n,t){if(this._currentState&&this._currentState.taskItemList&&this._currentState.taskItemList.length>0){var r=-1,i=-1;this._currentState.taskItemList.forEach(function(t,i){if(t&&t.getKey()===n){r=i;return}});i=r+t;r!==-1&&i!==-1&&i<this._currentState.taskItemList.length&&(i=t<0?i:i+1,this._updateState(this._currentState,c.reorder(this._currentState.taskItemList,r,i,1)))}},t.prototype._updateStates=function(n){this._updateState(this._originalState,n);this._updateState(this._currentState,n);this._addTaskLocationItem=this._currentState.taskItemList[this._currentState.taskItemList.length-1];this._addTaskAfter=!0;this._showAddTaskLocation=!1},t.prototype._updateState=function(n,t){n.taskItemList=c.clone(t)},t.prototype._populateConditionIfNeeded=function(n){n.condition===undefined&&(n.condition=n.alwaysRun?f.TaskConditions.SucceededOrFailed:f.TaskConditions.Succeeded)},t.prototype._getTaskListFromTaskIdSet=function(n){var t=l.empty;return n.forEach(function(n){t+=n+" "}),this.getState().taskItemList.filter(function(n){return l.caseInsensitiveContains(t,n.getKey())})},t.prototype._initializeTaskContext=function(){var n=this;this._taskContext=__assign(__assign({},this._taskContextOptions),{onChangeDelegate:this.emitChanged.bind(this),onRemoveDelegate:function(t){!n.removeTaskCallDelegate||n.removeTaskCallDelegate(t)},processInstanceId:this._appContext.processInstanceId,taskListStoreInstanceId:this.getInstanceId(),isActiveDelegate:this.isActive,isFileSystemBrowsable:this._appContext.isFileSystemBrowsable,taskDelegates:this._appContext.taskDelegates,processParametersNotSupported:this._appContext.processParametersNotSupported})},t}(e.AggregatorDataStoreBase);t.TaskListStore=a});

define("DistributedTaskControls/Phase/Stores/PhaseStoreBase",["require","exports","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Common/Stores/AggregatorStoreBase","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Phase/Actions/DeployPhaseActions","DistributedTaskControls/Phase/Actions/DeployPhaseListActions","DistributedTaskControls/Phase/Types","DistributedTaskControls/Stores/TaskListStore","VSS/Events/Services"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){Object.defineProperty(t,"__esModule",{value:!0});t.PhaseStoreBase=void 0;var v=function(n){function t(t,i,r,u,f,e,o){var s=__construct(this,n,[]);for(var h in s)s.hasOwnProperty(h)&&(this[h]=s[h]);return s._itemSelectionInstanceId=t,s._taskDelegates=i,s._processInstanceId=r,s._processParamNotSupported=u,s._isFileSystemBrowsable=f,s._phaseDefinition=e,s._taskContextOptions=o,s.onInputStateChanged=function(n,t){s._phaseInputsState||(s._phaseInputsState={});s._phaseInputsState[n]=t;s.emitChanged()},s.getInputValue=function(n){return s._currentState.phaseInputs&&s._currentState.phaseInputs[n]?s._currentState.phaseInputs[n]:null},s._handleMarkPhaseAsDeleting=function(){s._isDeleting||(s._isDeleting=!0,s.emitChanged())},s._handleUpdatePhaseName=function(n){s._currentState.name=n;s.emitChanged()},s._handleStartReorderPhaseList=function(){s._isReorderPhaseListInProgress=!0;s.emitChanged()},s._handleEndReorderPhaseList=function(){s._isReorderPhaseListInProgress=!1;s.emitChanged()},s._phaseDetailsStores=[],s._isReorderPhaseListInProgress=!1,s}return __extends(t,n),t.getKey=function(){return r.StoreKeys.PhaseStoreBase},t.prototype.getPhaseType=function(){return c.DeployPhaseTypes.DefaultPhase},t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);var r=this._currentState.tasks;this._taskListStore=e.StoreManager.CreateStore(l.TaskListStore,this.getInstanceId(),{taskList:r,appContext:{isFileSystemBrowsable:this._isFileSystemBrowsable?this._isFileSystemBrowsable:function(){return!0},taskDelegates:this._taskDelegates,processParametersNotSupported:this._processParamNotSupported,processInstanceId:this._processInstanceId},taskContextOptions:this._taskContextOptions,itemSelectionInstanceId:this._itemSelectionInstanceId});this.addToStoreList(this._taskListStore);this._deployPhaseListActionsHub=i.ActionsHubManager.GetActionsHub(h.DeployPhaseListActionsHub,this._processInstanceId);this._deployPhaseListActionsHub.startDragPhase.addListener(this._handleStartReorderPhaseList);this._deployPhaseListActionsHub.endDragPhase.addListener(this._handleEndReorderPhaseList);this._deployPhaseActionsHub=i.ActionsHubManager.GetActionsHub(s.DeployPhaseActionsHub,t);this._deployPhaseActionsHub.updatePhaseName.addListener(this._handleUpdatePhaseName);this._deployPhaseActionsHub.markPhaseAsDeleting.addListener(this._handleMarkPhaseAsDeleting)},t.prototype.disposeInternal=function(){this._deployPhaseListActionsHub&&(this._deployPhaseListActionsHub.startDragPhase.removeListener(this._handleStartReorderPhaseList),this._deployPhaseListActionsHub.endDragPhase.removeListener(this._handleEndReorderPhaseList));this._deployPhaseActionsHub&&(this._deployPhaseActionsHub.updatePhaseName.removeListener(this._handleUpdatePhaseName),this._deployPhaseActionsHub.markPhaseAsDeleting.removeListener(this._handleMarkPhaseAsDeleting));this._deployPhaseActionsHub=null;this._phaseDetailsStores=[];n.prototype.disposeInternal.call(this)},t.prototype.getState=function(){return this._currentState},Object.defineProperty(t.prototype,"isReorderPhaseListInProgress",{get:function(){return this._isReorderPhaseListInProgress},enumerable:!1,configurable:!0}),t.prototype.isDirty=function(){var i=this,t=!1;return this._phaseInputsState&&Object.keys(this._phaseInputsState).forEach(function(n){if(i._phaseInputsState[n].isDirty){t=!0;return}}),t||this._currentState.name!==this._originalState.name||n.prototype.isDirty.call(this)},t.prototype.isValid=function(){var i=this,t=!0;return this._phaseInputsState&&Object.keys(this._phaseInputsState).forEach(function(n){if(i._phaseInputsState[n].isValid===!1){t=!1;return}}),t&&n.prototype.isValid.call(this)&&this._isPhaseValid()},t.prototype.getProcessParametersReferenceData=function(){var n=[],t;return n=this._getPhaseLevelProcessParametersReference(),t=this.getTaskItems().taskItemList?this.getTaskItems().taskItemList:[],t.forEach(function(t){var i=t.getProcessParameterNameToReferenceCount();i&&i.forEach(function(t){n.push({processParameterName:t.processParameterName,referenceCount:t.referenceCount})})}),n},t.prototype.getPhaseDefinition=function(){return this._phaseDefinition},t.prototype._getPhaseLevelProcessParametersReference=function(){var t=[],n=this.getOverrideInputs();return Object.keys(n).forEach(function(i){if(n[i]){var r=o.DtcUtils.getProcParamNameFromProcessParameter(n[i]);t.push({processParameterName:r,referenceCount:1})}}),t},t.prototype.arePhaseDetailsValid=function(){var n=!0;return this._phaseDetailsStores.forEach(function(t){if(!t.isValid()){n=!1;return}}),n&&this._isPhaseValid()},t.prototype._isPhaseValid=function(){return o.DtcUtils.isValidStringLength(this._currentState.name,c.DeployPhaseSectionConstants.NameMaxLength)},t.prototype.updateVisitor=function(n){var t=this;u.JQueryWrapper.extendDeep(n,this._currentState);n.phaseInputs&&Object.keys(n.phaseInputs).forEach(function(i){t._phaseInputsState&&!!t._phaseInputsState[i]&&(n.phaseInputs[i]=t._phaseInputsState[i].value)});n.tasks=[];n.tasks=this._taskListStore.getTaskList()},t.prototype.getTaskItems=function(){return this._taskListStore.getState()},t.prototype.getOverrideInputs=function(){return{}},t.prototype.getProcessInstanceId=function(){return this._processInstanceId},t.prototype.isDeleting=function(){return this._isDeleting},t.prototype.areDemandsNotMet=function(){return!1},t.prototype.getReadOnlyDemands=function(){return this._taskListStore?this._taskListStore.getReadOnlyDemands():[]},t.prototype.hideAdditionalOptions=function(){return!1},t.prototype.showPhaseDependencies=function(){return!0},t.prototype._initializeInputsState=function(){this._phaseInputsState={};a.getService().fire(this.getInstanceId())},t}(f.AggregatorDataStoreBase);t.PhaseStoreBase=v});

define("PipelineWorkflow/Scripts/Editor/Environment/GatesPhaseActionsHub",["require","exports","DistributedTaskControls/Common/Actions/Base"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.GatesPhaseActionsHub=void 0;var r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return"GatesPhaseActionsHub"},t.prototype.initialize=function(){this._updateStabilizationTime=new i.Action;this._updateTimeout=new i.Action;this._updateSamplingInterval=new i.Action;this._updateMinimumSuccessDuration=new i.Action},Object.defineProperty(t.prototype,"updateStabilizationTime",{get:function(){return this._updateStabilizationTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateTimeout",{get:function(){return this._updateTimeout},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateSamplingInterval",{get:function(){return this._updateSamplingInterval},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateMinimumSuccessDuration",{get:function(){return this._updateMinimumSuccessDuration},enumerable:!1,configurable:!0}),t}(i.ActionsHubBase);t.GatesPhaseActionsHub=r});

define("PipelineWorkflow/Scripts/Shared/Environment/GatesPhaseUtils",["require","exports","DistributedTaskControls/Phase/Types","DistributedTaskControls/Common/Utilities","ReleaseManagement/Core/Constants","DistributedTaskControls/SharedControls/InputControls/Components/DurationInputComponent"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.GatesPhaseUtils=void 0;var e=function(){function n(){}return n.getDefaultGatesDeploymentInput=function(){return{condition:i.PhaseConditionTypeKeys.Succeeded,timeout:r.DtcUtils.convertMinutesToDuration(u.GateConstants.DefaultJobTimeoutInMinutes,f.TimeUnits.Hours),stabilizationTime:r.DtcUtils.convertMinutesToDuration(u.GateConstants.DefaultStabilizationTimeInMinutes,f.TimeUnits.Minutes),samplingInterval:r.DtcUtils.convertMinutesToDuration(u.GateConstants.DefaultSamplingIntervalInMinutes,f.TimeUnits.Minutes),minimumSuccessDuration:r.DtcUtils.convertMinutesToDuration(u.GateConstants.DefaultMinimumSuccessDurationInMinutes,f.TimeUnits.Minutes)}},n}();t.GatesPhaseUtils=e});

define("PipelineWorkflow/Scripts/Editor/Environment/GatesPhaseStore",["require","exports","DistributedTaskControls/Phase/Stores/PhaseStoreBase","DistributedTaskControls/Phase/DeployPhaseUtilities","DistributedTaskControls/Common/JQueryWrapper","PipelineWorkflow/Scripts/Editor/Environment/GatesPhaseActionsHub","DistributedTaskControls/Common/Actions/ActionsHubManager","PipelineWorkflow/Scripts/Editor/Common/Types","DistributedTaskControls/Common/Utilities","ReleaseManagement/Core/Constants","PipelineWorkflow/Scripts/Shared/Environment/GatesPhaseUtils","PipelineWorkflow/Scripts/Editor/Sources/ReleaseEditorWebPageData"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});t.GatesPhaseStore=void 0;var a=function(n){function t(t){var i=n.call(this,t.itemSelectionInstanceId,t.taskDelegates,t.processInstanceId,t.processParametersNotSupported,t.isFileSystemBrowsable,t.phaseDefinition,{donotShowOutputVariables:!0,donotShowYAMLFeature:!0,donotShowTimeout:!0,donotShowContinueOnError:!0,donotShowAlwaysRun:!0,donotShowTaskGroupOptions:!0})||this;return i._updateStabilizationTime=function(n){i.getState().deploymentInput.stabilizationTime=n;i.emitChanged()},i._updateTimeout=function(n){i.getState().deploymentInput.timeout=n;i.emitChanged()},i._updateSamplingInterval=function(n){i.getState().deploymentInput.samplingInterval=n;i.emitChanged()},i._updateMinimumSuccessDuration=function(n){i.getState().deploymentInput.minimumSuccessDuration=n;i.emitChanged()},i._updatePhaseCondition=function(n){i.getState().deploymentInput?i.getState().deploymentInput.condition=n:(i._initializePhaseDeploymentInput(i.getState()),i.getState().deploymentInput.condition=n);i.emitChanged()},i._updatePhase=function(n){i._initializeStates(n)},i._initializeStates(t.phase),i}return __extends(t,n),t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._actionsHub=e.ActionsHubManager.GetActionsHub(f.GatesPhaseActionsHub,t);this._actionsHub.updateMinimumSuccessDuration.addListener(this._updateMinimumSuccessDuration);this._actionsHub.updateSamplingInterval.addListener(this._updateSamplingInterval);this._actionsHub.updateStabilizationTime.addListener(this._updateStabilizationTime);this._actionsHub.updateTimeout.addListener(this._updateTimeout);this._deployPhaseActionsHub.updatePhaseCondition.addListener(this._updatePhaseCondition);this._deployPhaseActionsHub.updatePhase.addListener(this._updatePhase)},t.prototype.disposeInternal=function(){this._actionsHub.updateMinimumSuccessDuration.removeListener(this._updateMinimumSuccessDuration);this._actionsHub.updateSamplingInterval.removeListener(this._updateSamplingInterval);this._actionsHub.updateStabilizationTime.removeListener(this._updateStabilizationTime);this._actionsHub.updateTimeout.removeListener(this._updateTimeout);this._deployPhaseActionsHub.updatePhaseCondition.removeListener(this._updatePhaseCondition);this._deployPhaseActionsHub.updatePhase.removeListener(this._updatePhase);n.prototype.disposeInternal.call(this)},t.getKey=function(){return"GatesPhaseStore_KEY"},t.prototype.getPhaseType=function(){return o.DeploymentGatesPhaseTypeString},t.prototype.getState=function(){return n.prototype.getState.call(this)},t.prototype.getOriginalState=function(){return this._originalState},t.prototype.updateVisitor=function(t){n.prototype.updateVisitor.call(this,t);var i=this.getState();t.phaseType=o.DeploymentGatesPhaseTypeString;t.deploymentInput=u.JQueryWrapper.extendDeep(i.deploymentInput,t.deploymentInput)},t.prototype.isDirty=function(){var t=this.getState(),i=this.getOriginalState(),r=!1;return r=t.deploymentInput.condition!==i.deploymentInput.condition||s.DtcUtils.getDurationDiffInMinutes(t.deploymentInput.stabilizationTime,i.deploymentInput.stabilizationTime)!==0||s.DtcUtils.getDurationDiffInMinutes(t.deploymentInput.samplingInterval,i.deploymentInput.samplingInterval)!==0||s.DtcUtils.getDurationDiffInMinutes(t.deploymentInput.minimumSuccessDuration,i.deploymentInput.minimumSuccessDuration)!==0||s.DtcUtils.getDurationDiffInMinutes(t.deploymentInput.timeout,i.deploymentInput.timeout)!==0,r||n.prototype.isDirty.call(this)},t.prototype.arePhaseDetailsValid=function(){return n.prototype.arePhaseDetailsValid.call(this)&&this.isValid()},t.prototype.isValid=function(){var i=this.getState().deploymentInput;return n.prototype.isValid.call(this)&&t.isValidSamplingInterval(i.samplingInterval)&&t.isValidStabilizationTime(i.stabilizationTime)&&t.isValidTimeout(i.timeout)&&t.isValidMinimumSuccessDuration(i.minimumSuccessDuration)},t.isValidMinimumSuccessDuration=function(n){return s.DtcUtils.isDurationInMinutesRange(n,h.GateConstants.MinimumSuccessDurationMinAllowedValueInMinutes,h.GateConstants.MinimumSuccessDurationMaxAllowedValueInMinutes)},t.isValidTimeout=function(n){return s.DtcUtils.isDurationInMinutesRange(n,h.GateConstants.MinimumTimeoutInMinutes,h.GateConstants.MaximumTimeoutInMinutes)},t.isValidStabilizationTime=function(n){return s.DtcUtils.isDurationInMinutesRange(n,h.GateConstants.MinimumStabilizationTimeInMinutes,h.GateConstants.MaximumStabilizationTimeInMinutes)},t.isValidSamplingInterval=function(n){return s.DtcUtils.isDurationInMinutesRange(n,t.getGatesMinimumSamplingIntervalTimeout(),h.GateConstants.MaximumSamplingIntervalInMinutes)},t.getGatesMinimumSamplingIntervalTimeout=function(){return l.ReleaseEditorWebPageDataHelper.instance().getGatesMinimumSamplingIntervalInMinutes()},t.prototype._initializeStates=function(t){t.deploymentInput||this._initializePhaseDeploymentInput(t);this._originalState=r.DeployPhaseUtilities.createDeployPhaseCopy(t);this._currentState=r.DeployPhaseUtilities.createDeployPhaseCopy(t);n.prototype._initializeInputsState.call(this)},t.prototype._initializePhaseDeploymentInput=function(n){n.deploymentInput=c.GatesPhaseUtils.getDefaultGatesDeploymentInput()},t}(i.PhaseStoreBase);t.GatesPhaseStore=a});

define("DistributedTaskControls/Actions/AgentsActions",["require","exports","VSS/Flux/Action","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.AgentsActions=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._createAgentsQueueSection=new i.Action;this._updateAgentsQueueSection=new i.Action;this._updateAgentQueue=new i.Action;this._updateAgentQueueWithSpecifications=new i.Action;this._refreshAgentQueue=new i.Action;this._manageAgent=new i.Action;this._initializeAgentQueues=new i.Action;this._updateAgentSpecifications=new i.Action;this._updateSelectedAgentSpecification=new i.Action;this._updateLoadingAgentSpecifications=new i.Action},t.getKey=function(){return u.ActionsKeys.AgentsActions},Object.defineProperty(t.prototype,"manageAgent",{get:function(){return this._manageAgent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"createAgentsQueueSection",{get:function(){return this._createAgentsQueueSection},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateAgentsQueueSection",{get:function(){return this._updateAgentsQueueSection},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateAgentQueue",{get:function(){return this._updateAgentQueue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateAgentQueueWithSpecifications",{get:function(){return this._updateAgentQueueWithSpecifications},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"refreshAgentQueue",{get:function(){return this._refreshAgentQueue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"initializeAgentQueues",{get:function(){return this._initializeAgentQueues},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateAgentSpecifications",{get:function(){return this._updateAgentSpecifications},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateSelectedAgentSpecification",{get:function(){return this._updateSelectedAgentSpecification},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateLoadingAgentSpecifications",{get:function(){return this._updateLoadingAgentSpecifications},enumerable:!1,configurable:!0}),t}(r.ActionsHubBase);t.AgentsActions=f});

define("DistributedTaskControls/Actions/MessageHandlerActions",["require","exports","VSS/Flux/Action","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.MessageHandlerActions=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._addMessage=new i.Action;this._dismissMessage=new i.Action},t.getKey=function(){return u.ActionsKeys.MessageHandlerActions},Object.defineProperty(t.prototype,"addMessage",{get:function(){return this._addMessage},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dismissMessage",{get:function(){return this._dismissMessage},enumerable:!1,configurable:!0}),t}(r.ActionsHubBase);t.MessageHandlerActions=f});

define("DistributedTaskControls/Actions/MessageHandlerActionsCreator",["require","exports","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Actions/MessageHandlerActions"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.MessageHandlerActionsCreator=void 0;var e=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.getKey=function(){return i.ActionCreatorKeys.MessageHandlerActionsCreator},t.prototype.initialize=function(){this._actions=u.ActionsHubManager.GetActionsHub(f.MessageHandlerActions)},t.prototype.addMessage=function(n,t,i,r){this._actions.addMessage.invoke({parentKey:n,message:t,type:i,statusCode:r})},t.prototype.dismissMessage=function(n){this._actions.dismissMessage.invoke(n)},t}(r.ActionCreatorBase);t.MessageHandlerActionsCreator=e});

define("DistributedTaskControls/Actions/AgentsActionsCreator",["require","exports","DistributedTaskControls/Actions/AgentsActions","DistributedTaskControls/Actions/MessageHandlerActionsCreator","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Phase/PhaseCache","DistributedTaskControls/Sources/AgentsSource","OfficeFabric/MessageBar"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.AgentsActionsCreator=void 0;var l=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.getKey=function(){return o.ActionCreatorKeys.AgentsActionsCreator},t.prototype.initialize=function(n){this._actions=f.ActionsHubManager.GetActionsHub(i.AgentsActions,n)},t.prototype.updateAgentQueue=function(n){var t=this;this._actions.updateLoadingAgentSpecifications.invoke(!0);h.AgentsSource.instance().getTaskAgentQueue(n).then(function(i){return t._actions.updateAgentQueue.invoke(i?i.id:n),t.getAgentSpecifications(i)}).catch(function(n){t.onRejected(n)}).then(function(){return t._actions.updateLoadingAgentSpecifications.invoke(!1)})},t.prototype.updateAgentSpecifications=function(n){this.getAgentSpecifications(n)},t.prototype.updateAgentSpecId=function(n){this._actions.updateSelectedAgentSpecification.invoke(n)},t.prototype.refreshAgentQueue=function(){var n=this;h.AgentsSource.instance().getTaskAgentQueues(!0).then(function(t){n._actions.refreshAgentQueue.invoke(t);s.PhaseCache.instance().updatePermissibleQueues(t)}).catch(function(t){n.onRejected(t)})},t.prototype.updateAgentsQueueSection=function(n,t,i){var u=this,r={currentQueueId:n,currentAgentSpecification:t,forceUpdate:i};h.AgentsSource.instance().getTaskAgentQueues().then(function(t){return __awaiter(u,void 0,void 0,function(){var i;return __generator(this,function(){return r.queues=t,i=t.filter(function(t){return t.id===n})[0],[2,i?Promise.resolve(i):h.AgentsSource.instance().getTaskAgentQueue(n)]})})}).then(function(n){return __awaiter(u,void 0,void 0,function(){return __generator(this,function(){return r.agentQueueFromBuild=n,[2,h.AgentsSource.instance().getAgentSpecifications?h.AgentsSource.instance().getAgentSpecifications(n):[]]})})}).then(function(n){r.agentSpecifications=n;u._actions.updateAgentsQueueSection.invoke(r);s.PhaseCache.instance().updatePermissibleQueues(r.queues)}).catch(function(n){u.onRejected(n)})},t.prototype.manageAgentClicked=function(){this._actions.manageAgent.invoke({})},t.prototype.onRejected=function(n){n&&n.message&&u.ActionCreatorManager.GetActionCreator(r.MessageHandlerActionsCreator).addMessage(o.MessageParentKeyConstants.MainParentKey,n.message,c.MessageBarType.error)},t.prototype.getAgentSpecifications=function(n){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(){return[2,h.AgentsSource.instance().getAgentSpecifications(n).then(function(n){t._actions.updateAgentSpecifications.invoke(n?n:[])}).catch(function(n){t.onRejected(n)})]})})},t}(e.ActionCreatorBase);t.AgentsActionsCreator=l});

define("DistributedTaskControls/Actions/DemandsActions",["require","exports","VSS/Flux/Action","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.DemandsActions=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._createDemands=new i.Action;this._updateDemands=new i.Action;this._updateDemandCondition=new i.Action;this._updateDemandKey=new i.Action;this._updateDemandValue=new i.Action;this._deleteDemand=new i.Action;this._addDemand=new i.Action},t.getKey=function(){return u.ActionsKeys.DemandActions},Object.defineProperty(t.prototype,"createDemands",{get:function(){return this._createDemands},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateDemands",{get:function(){return this._updateDemands},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateDemandCondition",{get:function(){return this._updateDemandCondition},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateDemandKey",{get:function(){return this._updateDemandKey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateDemandValue",{get:function(){return this._updateDemandValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deleteDemand",{get:function(){return this._deleteDemand},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addDemand",{get:function(){return this._addDemand},enumerable:!1,configurable:!0}),t}(r.ActionsHubBase);t.DemandsActions=f});

define("DistributedTaskControls/Phase/Actions/DependenciesActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.DependenciesActions=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updateDependencies=new u.Action;this._updateCurrentDependencies=new u.Action},t.getKey=function(){return r.ActionsKeys.DependenciesActions},Object.defineProperty(t.prototype,"updateDependencies",{get:function(){return this._updateDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateCurrentDependencies",{get:function(){return this._updateCurrentDependencies},enumerable:!1,configurable:!0}),t}(i.ActionsHubBase);t.DependenciesActions=f});

define("DistributedTaskControls/Phase/Actions/DeployPhaseActionsCreator",["require","exports","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Actions/AgentsActionsCreator","DistributedTaskControls/Actions/DemandsActions","DistributedTaskControls/Phase/Actions/DependenciesActions","DistributedTaskControls/Actions/TaskListActions","DistributedTaskControls/Phase/Actions/DeployPhaseActions","DistributedTaskControls/Phase/Types"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){Object.defineProperty(t,"__esModule",{value:!0});t.DeployPhaseActionsCreator=void 0;var v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(n){this._instanceId=n;this._deployPhaseActionsHub=r.ActionsHubManager.GetActionsHub(l.DeployPhaseActionsHub,n);this._taskListActions=r.ActionsHubManager.GetActionsHub(c.TaskListActions,n)},t.getKey=function(){return f.ActionCreatorKeys.DeployPhaseActionsCreator},t.prototype.updateEnableAccessToken=function(n){this._deployPhaseActionsHub.updateEnableAccessToken.invoke(n)},t.prototype.updatePhaseName=function(n){this._deployPhaseActionsHub.updatePhaseName.invoke(n)},t.prototype.updateSkipArtifactsDownload=function(n){this._deployPhaseActionsHub.updateSkipArtifactsDownload.invoke(n)},t.prototype.updateJobCancelTimeout=function(n){this._deployPhaseActionsHub.updateJobCancelTimeout.invoke(n)},t.prototype.updatePhaseCondition=function(n){this._deployPhaseActionsHub.updatePhaseCondition.invoke(n)},t.prototype.updateTimeout=function(n){this._deployPhaseActionsHub.updateTimeout.invoke(n)},t.prototype.updateTypeOfParallelism=function(n){this._deployPhaseActionsHub.updateTypeOfParallelism.invoke(n)},t.prototype.updateMaximumNumberOfAgents=function(n){this._deployPhaseActionsHub.updateMaximumNumberOfAgents.invoke(n)},t.prototype.updateContinueOnError=function(n){this._deployPhaseActionsHub.updateContinueOnError.invoke(n)},t.prototype.updateMultipliers=function(n){this._deployPhaseActionsHub.updateMultipliers.invoke(n)},t.prototype.updateDeploymentGroup=function(n){return this._deployPhaseActionsHub.updateDeploymentMachineGroup.invoke(n)},t.prototype.updateDeploymentHealthOption=function(n){this._deployPhaseActionsHub.updateDeploymentHealthOption.invoke(n)},t.prototype.updateHealthPercent=function(n){this._deployPhaseActionsHub.updateHealthPercent.invoke(n)},t.prototype.updateTags=function(n){this._deployPhaseActionsHub.updateTags.invoke(n)},t.prototype.updatePhase=function(n,t){var f,c,u;this._deployPhaseActionsHub.updatePhase.invoke(n);this._taskListActions.updateTasks.invoke(this._getUpdateTaskPayload(n.tasks));n.phaseType===a.DeployPhaseTypes.AgentBasedDeployment&&(f=n,u=f.deploymentInput,i.ActionCreatorManager.GetActionCreator(o.AgentsActionsCreator,this._instanceId).updateAgentsQueueSection(f.deploymentInput.queueId,f.deploymentInput.agentSpecification,t),r.ActionsHubManager.GetActionsHub(s.DemandsActions,this._instanceId).updateDemands.invoke({demands:e.DtcUtils.convertSerializedDemandToDemandData(f.deploymentInput.demands)}),r.ActionsHubManager.GetActionsHub(h.DependenciesActions,this._instanceId).updateDependencies.invoke({dependencies:u.dependencies}),this._deployPhaseActionsHub.updateExecutionPlan.invoke(this._getExecutionPlanPayload(u.parallelExecution,u.timeoutInMinutes,u.jobCancelTimeoutInMinutes)));n.phaseType===a.DeployPhaseTypes.RunOnServer&&(c=n,u=c.deploymentInput,r.ActionsHubManager.GetActionsHub(h.DependenciesActions,this._instanceId).updateDependencies.invoke({dependencies:u.dependencies}),this._deployPhaseActionsHub.updateExecutionPlan.invoke(this._getExecutionPlanPayload(u.parallelExecution,u.timeoutInMinutes,u.jobCancelTimeoutInMinutes)))},t.prototype.markPhaseAsDeleting=function(){this._deployPhaseActionsHub.markPhaseAsDeleting.invoke({})},t.prototype._getExecutionPlanPayload=function(n,t,i){return{parallelExecution:n,timeOutInMinutes:t,jobCancelTimeoutInMinutes:i}},t.prototype._getUpdateTaskPayload=function(n){var t=n||[];return{tasks:t,forceUpdate:!1}},t}(u.ActionCreatorBase);t.DeployPhaseActionsCreator=v});

define("DistributedTaskControls/Phase/Components/DeployPhaseCondition",["require","exports","react","DistributedTaskControls/Components/InfoButton","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Phase/DeployPhaseUtilities","DistributedTaskControls/Phase/Types","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Components/StringInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/DropDownInputComponent","OfficeFabric/Label","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Phase/Components/DeployPhaseCondition"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});t.DeployPhaseCondition=void 0;var a=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._handleValueChanged=function(n){i.props.onPhaseConditionChange(n.option.key)},i._phaseConditionOptions=i._getPhaseConditionOptions(),i}return __extends(t,n),t.prototype.render=function(){var n=this.props.condition,t=this._getSavedPhaseKey(this.props.condition),u={calloutMarkdown:o.PhaseConditionHelpText};return i.createElement("div",{className:"fabric-style-overrides task-input-dropdown"},i.createElement(c.Label,{className:"phase-condition-label"},o.PhaseConditionLabel,i.createElement(r.Component,{cssClass:"info-input-with-label",calloutContent:u,isIconFocusable:!0,iconAriaLabel:l.format(o.InfoCalloutAriaLabel,o.PhaseConditionLabel)})),i.createElement(h.DropDownInputControl,{ariaLabel:o.PhaseConditionLabel,options:this._phaseConditionOptions,selectedKey:t,onValueChanged:this._handleValueChanged,required:!1,disabled:this.props.disabled}),n!==undefined&&n!==null&&l.ignoreCaseComparer(n,e.PhaseConditionTypeKeys.Succeeded)!==0&&l.ignoreCaseComparer(n,e.PhaseConditionTypeKeys.SucceededOrFailed)!==0&&l.ignoreCaseComparer(n,e.PhaseConditionTypeKeys.Failed)!==0&&i.createElement("div",null,i.createElement(s.StringInputComponent,__assign({},this._getPhaseConditionStringInputProps()))))},t.prototype._getPhaseConditionStringInputProps=function(){var n={calloutContentProps:{calloutMarkdown:o.PhaseConditionCustomConditionHelp}};return{value:this.props.condition,onValueChanged:this.props.onPhaseConditionChange,label:o.VariableExpressionLabel,required:!1,infoProps:n,disabled:this.props.disabled}},t.prototype._getPhaseConditionOptions=function(){return[{key:e.PhaseConditionTypeKeys.Succeeded,text:f.DeployPhaseUtilities.getPhaseConditionTypeText(e.PhaseConditionTypeKeys.Succeeded)},{key:e.PhaseConditionTypeKeys.SucceededOrFailed,text:f.DeployPhaseUtilities.getPhaseConditionTypeText(e.PhaseConditionTypeKeys.SucceededOrFailed)},{key:e.PhaseConditionTypeKeys.Failed,text:f.DeployPhaseUtilities.getPhaseConditionTypeText(e.PhaseConditionTypeKeys.Failed)},{key:e.PhaseConditionTypeKeys.Custom,text:f.DeployPhaseUtilities.getPhaseConditionTypeText(e.PhaseConditionTypeKeys.Custom)}]},t.prototype._getSavedPhaseKey=function(n){return n===e.PhaseConditionTypeKeys.Succeeded||n===e.PhaseConditionTypeKeys.SucceededOrFailed||n===e.PhaseConditionTypeKeys.Failed?n:e.PhaseConditionTypeKeys.Custom},t}(u.Component);t.DeployPhaseCondition=a});

define("DistributedTaskControls/Phase/Components/DeployPhaseAdditionalOptions",["require","exports","react","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Phase/Actions/DeployPhaseActionsCreator","DistributedTaskControls/Phase/Components/DeployPhaseCondition","DistributedTaskControls/Phase/Types","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/Accordion/AccordionCustomRenderer","DistributedTaskControls/SharedControls/InputControls/Components/BooleanInputComponent","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/FabricStyleOverrides","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/Task/TaskInput","VSS/LoaderPlugins/Css!DistributedTaskControls/Phase/Components/DeployPhaseDetailsView"],function(n,t,i,r,u,f,e,o,s,h,c,l){var a,v,y;Object.defineProperty(t,"__esModule",{value:!0});t.DeployPhaseAdditionalOptions=void 0;a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onSkipArtifactDownloadChange=function(n){t._actionCreator.updateSkipArtifactsDownload(n)},t._onEnableAccessTokenChange=function(n){t._actionCreator.updateEnableAccessToken(n)},t._onPhaseConditionChange=function(n){t._actionCreator.updatePhaseCondition(n)},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._actionCreator=r.ActionCreatorManager.GetActionCreator(f.DeployPhaseActionsCreator,this.props.phaseItemStore.getInstanceId())},t.prototype.render=function(){var t=!1,r=!1,n=null,u=l.empty,f;return this.props.phaseItemStore.getState().phaseType===o.DeployPhaseTypes.AgentBasedDeployment?(n=this.props.phaseItemStore.getState().deploymentInput,t=n&&n.enableAccessToken,r=n&&n.skipArtifactsDownload,u=n.condition):this.props.phaseItemStore.getState().phaseType===o.DeployPhaseTypes.MachineGroupBasedDeployment?(n=this.props.phaseItemStore.getState().deploymentInput,t=n&&n.enableAccessToken,r=n&&n.skipArtifactsDownload,u=n.condition):this.props.phaseItemStore.getState().phaseType===o.DeployPhaseTypes.RunOnServer&&(f=this.props.phaseItemStore.getState().deploymentInput,u=f?f.condition:l.empty),i.createElement("div",{className:"deploy-phase-details-section"},i.createElement(h.AccordionCustomRenderer,{label:s.PhaseAdditionalOptionsHeader,initiallyExpanded:!0,headingLevel:2,addSeparator:!1,addSectionHeaderLine:!0},this.props.phaseItemStore.getState().phaseType!==o.DeployPhaseTypes.RunOnServer&&i.createElement("div",null,i.createElement(v,{visible:this.props.showSkipArtifactDownload,value:r,onValueChanged:this._onSkipArtifactDownloadChange,disabled:this.props.disabled}),i.createElement(y,{visible:this.props.showAccessToken,value:t,onValueChanged:this._onEnableAccessTokenChange,disabled:this.props.disabled})),i.createElement(e.DeployPhaseCondition,{onPhaseConditionChange:this._onPhaseConditionChange,disabled:this.props.disabled,condition:this.props.condition})))},t}(u.Component);t.DeployPhaseAdditionalOptions=a;v=function(n){var t={calloutContentProps:{calloutDescription:s.SkipDownloadArtifactHelpText}};return n.visible?i.createElement(c.BooleanInputComponent,{key:s.SkipArtifactDownloadLabel,value:n.value,onValueChanged:n.onValueChanged,infoProps:t,label:s.SkipArtifactDownloadLabel,disabled:n.disabled}):null};y=function(n){var t={calloutContentProps:{calloutDescription:s.EnableAccessTokenHelpText}};return n.visible?i.createElement(c.BooleanInputComponent,{key:s.EnableAccessTokenLabel,value:n.value,onValueChanged:n.onValueChanged,infoProps:t,label:s.EnableAccessTokenLabel,disabled:n.disabled}):null}});

define("DistributedTaskControls/Phase/Actions/PhaseInputsActionsCreator",["require","exports","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Phase/Actions/PhaseInputsActions"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.PhaseInputsActionsCreator=void 0;var e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(n){this._instanceId=n;this._phaseInputsActionsHub=i.ActionsHubManager.GetActionsHub(f.PhaseInputsActionsHub,n)},t.getKey=function(){return u.ActionCreatorKeys.PhaseInputsActionsCreator},t.prototype.updateLinkProcessParameterDialog=function(n){this._phaseInputsActionsHub.updateLinkProcessParameterDialog.invoke(n)},t.prototype.updateTaskInputError=function(n,t,i){this._phaseInputsActionsHub.updateInputError.invoke({name:n,message:t,value:i})},t.prototype.updateTaskInputValue=function(n,t){this._phaseInputsActionsHub.updateInputValue.invoke({name:n,value:t})},t.prototype.updateTaskInputOptions=function(n,t){this._phaseInputsActionsHub.updateInputOptions.invoke({name:n,options:t})},t.prototype.linkToProcessParameter=function(n,t){var i={inputName:n,processParametername:t};this._phaseInputsActionsHub.linkToProcessParameter.invoke(i)},t.prototype.unlinkFromProcessParameter=function(n){this._phaseInputsActionsHub.unlinkFromProcessParameter.invoke(n)},t}(r.ActionCreatorBase);t.PhaseInputsActionsCreator=e});

define("DistributedTaskControls/Components/ConfirmationDialog",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Button","OfficeFabric/Dialog","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/ConfirmationDialog"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.ConfirmationDialog=void 0;var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onConfirmClick=function(){t.props.onConfirm&&t.props.onConfirm();t.props.skipCloseOnOkClick||t._closeDialog()},t._closeDialog=function(){t.props.onCancel&&t.props.onCancel()},t}return __extends(t,n),t.prototype.render=function(){var n="dtc-confirm",t="dtc-cancel",r=this.props.okButtonText||u.Confirm;return this.props.showDialog?i.createElement(e.Dialog,{modalProps:{className:"cix-confirm-dialog bowtie-fabric",containerClassName:"confirm-discard-dialog",isBlocking:!0},hidden:!this.props.showDialog,dialogContentProps:{type:e.DialogType.close,subText:this.props.subText},title:this.props.title,onDismiss:this._closeDialog,closeButtonAriaLabel:u.CloseButtonText,firstFocusableSelector:this.props.focusCancelButton?t:n},i.createElement(e.DialogFooter,null,i.createElement(f.PrimaryButton,{className:n,disabled:this.props.okDisabled,onClick:this._onConfirmClick,ariaLabel:r},r),i.createElement(f.DefaultButton,{className:t,onClick:this._closeDialog,ariaLabel:u.CancelButtonText},u.CancelButtonText))):null},t}(r.Component);t.ConfirmationDialog=o});

define("DistributedTaskControls/Phase/Components/DeletePhaseDialog",["require","exports","react","DistributedTaskControls/Actions/ProcessParameterActions","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/ConfirmationDialog","DistributedTaskControls/Phase/Actions/DeployPhaseActionsCreator","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.DeletePhaseDialog=void 0;var l=function(n){function t(t){var i=__construct(this,n,[t]);for(var e in i)i.hasOwnProperty(e)&&(this[e]=i[e]);return i._onConfirmClick=function(){i._actionCreator.markPhaseAsDeleting();var n={processParameterReferenceData:i.props.phaseStore.getProcessParametersReferenceData(),shouldReferencesIncrease:!1};i._processParametersActionsHub.updateReferenceCount.invoke(n)},i._actionCreator=u.ActionCreatorManager.GetActionCreator(s.DeployPhaseActionsCreator,i.props.phaseStore.getInstanceId()),i._processParametersActionsHub=f.ActionsHubManager.GetActionsHub(r.ProcessParameterActions,i.props.phaseStore.getProcessInstanceId()),i}return __extends(t,n),t.prototype.render=function(){var n=c.format(h.DeletePhaseDialogText,this.props.phaseStore.getState().name);return this.props.showDialog?i.createElement(o.ConfirmationDialog,{title:h.DeletePhaseDialogTitle,subText:n,showDialog:this.props.showDialog,onConfirm:this._onConfirmClick,onCancel:this.props.onCancel}):null},t}(e.Component);t.DeletePhaseDialog=l});

define("DistributedTaskControls/Phase/Stores/DependenciesStore",["require","exports","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Phase/Actions/DependenciesActions","VSS/Utils/String"],function(n,t,i,r,u,f,e,o){var h,s;Object.defineProperty(t,"__esModule",{value:!0});t.DependenciesUtils=t.DependenciesStore=void 0;h=function(n){function t(t){var i=__construct(this,n,[]),r,u;for(r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._updateDependencies=function(n){i._currentState.dependencies=n.dependencies;i._originalState.dependencies=n.dependencies},i._updateCurrentDependencies=function(n){i._currentState.dependencies=n.dependencies;i.emitChanged()},u=t.dependencies||[],i._currentState={dependencies:f.JQueryWrapper.extendDeep([],u)},i._originalState={dependencies:f.JQueryWrapper.extendDeep([],u)},i}return __extends(t,n),t.getKey=function(){return u.StoreKeys.DependenciesStore},t.prototype.initialize=function(n){this._actionsHub=r.ActionsHubManager.GetActionsHub(e.DependenciesActions,n);this._actionsHub.updateDependencies.addListener(this._updateDependencies);this._actionsHub.updateCurrentDependencies.addListener(this._updateCurrentDependencies)},t.prototype.disposeInternal=function(){this._actionsHub.updateDependencies.removeListener(this._updateDependencies);this._actionsHub.updateCurrentDependencies.removeListener(this._updateCurrentDependencies);this._originalState.dependencies=null;this._currentState.dependencies=null},t.prototype.isDirty=function(){return!s.areEqual(this._currentState.dependencies,this._originalState.dependencies)},t.prototype.isValid=function(){var n=this;return this._currentState.dependencies&&this._currentState.dependencies.forEach(function(t){if(n.isDependencyInvalid(t))return!1}),!0},t.prototype.getState=function(){return this._currentState},t.prototype.getCurrentDependencies=function(){return this._currentState&&this._currentState.dependencies?this._currentState.dependencies:[]},t.prototype.isDependencyInvalid=function(n){return!(n.scope&&n.scope.trim()!==o.empty&&n.event&&n.event.trim()!==o.empty)},t}(i.ChangeTrackerStoreBase);t.DependenciesStore=h;s=function(){function n(){}return n.areEqual=function(n,t){var r,i,u;if(!n&&!t)return!0;if(!n||!t||n.length!==t.length)return!1;for(r=!0,i=0,u=n.length;i<u;i++)if(!this._compareStringWithTrim(n[i].scope,t[i].scope)||!this._compareStringWithTrim(n[i].event,t[i].event)){r=!1;break}return r},n._compareStringWithTrim=function(n,t){return n||t?!n&&t||n&&!t?!1:o.ignoreCaseComparer(n.trim(),t.trim())===0:!0},n}();t.DependenciesUtils=s});

define("DistributedTaskControls/Phase/Stores/ExecutionPlanStore",["require","exports","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Phase/Actions/DeployPhaseActions","DistributedTaskControls/Phase/DeployPhaseUtilities","DistributedTaskControls/Phase/Types","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.ExecutionPlanStore=void 0;var l=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._handleUpdateTimeout=function(n){i._currentState.timeoutInMinutes=n;i.emitChanged()},i._handleUpdateJobCancelTimeout=function(n){i._currentState.jobCancelTimeoutInMinutes=n;i.emitChanged()},i._handleUpdateTypeOfParallelism=function(n){i._currentState.parallelExecution.parallelExecutionType=n;i.emitChanged()},i._handleUpdateMaximumNumberOfAgents=function(n){i._currentState.parallelExecution.maxNumberOfAgents=n;i.emitChanged()},i._handleUpdateContinueOnError=function(n){i._currentState.parallelExecution.continueOnError=n;i.emitChanged()},i._handleMultipliers=function(n){i._currentState.parallelExecution.multipliers=n;i.emitChanged()},i._handleExecutionPlanUpdate=function(n){i._initializeStates(n.parallelExecution,n.timeOutInMinutes,n.jobCancelTimeoutInMinutes)},i._minJobCancelTimeout=s.DeployPhaseUtilities.getDefaultJobCancelTimeout(t.minJobCancelTimeoutInMinutes),i._initializeStates(t.parallelExecution,t.timeoutInMinutes,t.jobCancelTimeoutInMinutes),i}return __extends(t,n),t.getKey=function(){return r.StoreKeys.ExecutionPlanStore},t.prototype.initialize=function(n){this._deployPhaseActionsHub=i.ActionsHubManager.GetActionsHub(o.DeployPhaseActionsHub,n);this._deployPhaseActionsHub.updateTimeout.addListener(this._handleUpdateTimeout);this._deployPhaseActionsHub.updateTypeOfParallelism.addListener(this._handleUpdateTypeOfParallelism);this._deployPhaseActionsHub.updateMaximumNumberOfAgents.addListener(this._handleUpdateMaximumNumberOfAgents);this._deployPhaseActionsHub.updateContinueOnError.addListener(this._handleUpdateContinueOnError);this._deployPhaseActionsHub.updateMultipliers.addListener(this._handleMultipliers);this._deployPhaseActionsHub.updateExecutionPlan.addListener(this._handleExecutionPlanUpdate);this._deployPhaseActionsHub.updateJobCancelTimeout.addListener(this._handleUpdateJobCancelTimeout)},t.prototype.disposeInternal=function(){this._deployPhaseActionsHub&&(this._deployPhaseActionsHub.updateTimeout.removeListener(this._handleUpdateTimeout),this._deployPhaseActionsHub.updateTypeOfParallelism.removeListener(this._handleUpdateTypeOfParallelism),this._deployPhaseActionsHub.updateMaximumNumberOfAgents.removeListener(this._handleUpdateMaximumNumberOfAgents),this._deployPhaseActionsHub.updateContinueOnError.removeListener(this._handleUpdateContinueOnError),this._deployPhaseActionsHub.updateMultipliers.removeListener(this._handleMultipliers),this._deployPhaseActionsHub.updateExecutionPlan.removeListener(this._handleExecutionPlanUpdate),this._deployPhaseActionsHub.updateJobCancelTimeout.removeListener(this._handleUpdateJobCancelTimeout))},t.prototype.getParallelExecution=function(){var n,t;return n=u.JQueryWrapper.extendDeep({},this._currentState.parallelExecution),t=n.parallelExecutionType,c.equals(h.ParallelExecutionTypes[h.ParallelExecutionTypes.MultiConfiguration],h.ParallelExecutionTypes[t]||t.toString(),!0)&&(n.multipliers=e.DtcUtils.fixEmptyAndRecurringValuesInDelimitedString(n.multipliers||c.empty)),n},t.prototype.getTimeout=function(){return this._currentState.timeoutInMinutes},t.prototype.getJobCancelTimeout=function(){return this._currentState.jobCancelTimeoutInMinutes},t.prototype.getState=function(){return this._currentState},t.prototype.isDirty=function(){var n=!1,t=this._currentState.parallelExecution.parallelExecutionType,i=this._originalState.parallelExecution.parallelExecutionType,r,u;return c.ignoreCaseComparer(h.ParallelExecutionTypes[h.ParallelExecutionTypes.MultiConfiguration],h.ParallelExecutionTypes[t]||t.toString())===0?(r=e.DtcUtils.fixEmptyAndRecurringValuesInDelimitedString(this._currentState.parallelExecution.multipliers||c.empty),u=e.DtcUtils.fixEmptyAndRecurringValuesInDelimitedString(this._originalState.parallelExecution.multipliers||c.empty),n=r!==u||this._isParallelExecutionInputDirty(this._currentState,this._originalState)):c.ignoreCaseComparer(h.ParallelExecutionTypes[h.ParallelExecutionTypes.MultiMachine],h.ParallelExecutionTypes[t]||t.toString())===0&&(n=this._isParallelExecutionInputDirty(this._currentState,this._originalState)),n=n||c.ignoreCaseComparer(h.ParallelExecutionTypes[t]||t.toString(),h.ParallelExecutionTypes[i]||i.toString())!==0,n=n||this._currentState.timeoutInMinutes!==this._originalState.timeoutInMinutes,n||this._currentState.jobCancelTimeoutInMinutes!==this._originalState.jobCancelTimeoutInMinutes},t.prototype.isValid=function(){var u=!0,i=this._currentState.timeoutInMinutes,r=this._currentState.jobCancelTimeoutInMinutes,n=this._currentState.parallelExecution.parallelExecutionType,t;return(c.ignoreCaseComparer(h.ParallelExecutionTypes[h.ParallelExecutionTypes.MultiConfiguration],h.ParallelExecutionTypes[n]||n.toString())===0||c.ignoreCaseComparer(h.ParallelExecutionTypes[h.ParallelExecutionTypes.MultiMachine],h.ParallelExecutionTypes[n]||n.toString())===0)&&(t=this._currentState.parallelExecution.maxNumberOfAgents,u=!(t===null||t===undefined)&&this.isValidMaxAgentsValue(t.toString())),u&&!(i===null||i===undefined)&&this.isValidTimeoutValue(i.toString())&&!(r===null||r===undefined)&&this.isValidTimeoutValue(r.toString(),this._minJobCancelTimeout,h.DeployPhaseSectionConstants.MaxJobCancelTimeout)},t.prototype.isValidMaxAgentsValue=function(n){return this._isValidValue(n,h.ExecutionPlanConstants.MinValidAgentsCount,h.ExecutionPlanConstants.MaxValidAgentsCount)},t.prototype.isValidTimeoutValue=function(n,t,i){return t===void 0&&(t=h.ExecutionPlanConstants.MinTimeout),i===void 0&&(i=r.MaxPositiveNumber),this._isValidValue(n,t,i)},t.prototype._initializeStates=function(n,t,i){n||(n={parallelExecutionType:h.ParallelExecutionTypes.None});t||(t=0);i||(i=this._minJobCancelTimeout);this._currentState={parallelExecution:u.JQueryWrapper.extendDeep({},n),timeoutInMinutes:t,jobCancelTimeoutInMinutes:i};this._originalState={parallelExecution:u.JQueryWrapper.extendDeep({},n),timeoutInMinutes:t,jobCancelTimeoutInMinutes:i}},t.prototype._isParallelExecutionInputDirty=function(n,t){return n.parallelExecution.maxNumberOfAgents!==t.parallelExecution.maxNumberOfAgents||n.parallelExecution.continueOnError!==t.parallelExecution.continueOnError},t.prototype._isValidValue=function(n,t,i){return e.DtcUtils.isValidNonNegativeIntegerInRange(n,t,i)===r.InputState.Valid},t}(f.ChangeTrackerStoreBase);t.ExecutionPlanStore=l});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))};define("DistributedTaskControls/Stores/AgentsStore",["require","exports","DistributedTaskControls/Actions/AgentsActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/UrlUtilities","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTasksCommon/TFS.Tasks.Utils","VSS/Context","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l){var v,a;Object.defineProperty(t,"__esModule",{value:!0});t.AgentUtils=t.AgentsStore=void 0;v=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._manageAgentClicked=function(){var n=s.ActionUrlResolver.getActionUrl(null,null,"AgentQueue",{project:h.getDefaultWebContext().project.name,area:"admin",queueId:i._agentsState.defaultQueueId,_a:"agents"});e.UrlUtilities.openInNewWindow(n,!0);i.emitChanged()},i._updateAgentQueue=function(n){i._agentsState.defaultQueueId=n;i._agentsState.agentSpecifications=[];i._agentsState.selectedAgentSpecification=null;i._updateErrors();i.emitChanged()},i._updateAgentQueueWithSpecifications=function(n){i._agentsState.defaultQueueId=n.selectedQueueId;i._agentsState.agentSpecifications=n.agentSpecifications||[];i._agentsState.selectedAgentSpecification=n.currentAgentSpecification;i._areAgentSpecificationsInitialized=!0;i._updateErrors();i.emitChanged()},i._createAgentsQueueSection=function(n){i._createUpdateAgentsQueueSection(n);i._updateErrors();i.emitChanged()},i._updateAgentsQueueSection=function(n){var t=i._updateRequired(n),r=i.isDirty();i._createUpdateAgentsQueueSection(n);(n.forceUpdate||t||r!==i.isDirty())&&(i._updateErrors(),i.emitChanged())},i._refreshAgentQueue=function(n){n=n||[];i._setAgentQueues(n.filter(function(n){return!n.pool||n.pool&&!n.pool.isLegacy}));i._updateErrors();i.emitChanged()},i._initializeAgentQueues=function(n){var t=i._initializeQueues(n);i._updateErrors();(t<=0||t!==i._agentsState.defaultQueueId)&&i.emitChanged()},i._initializeQueues=function(n){var r=i._agentsState.defaultQueueId,u=n.permissibleQueues.filter(function(n){return!n.pool||n.pool&&!n.pool.isLegacy}),t=i._getQueueDetailsIfPresent(r,u);return t||(t=i._getQueueDetailsIfPresent(r,n.allQueues),t&&u.push(t)),i._setAgentQueues(u),r},i._handleUpdateAgentSpecifications=function(n){i._areAgentSpecificationsInitialized=!0;n||(n=[]);i._agentsState.agentSpecifications=__spreadArray([],n,!0);i._agentsState.agentSpecifications&&i._agentsState.agentSpecifications.length!==0||(i._agentsState.selectedAgentSpecification=null);i._updateErrors();i.emit(u.AgentsStoreChangedEvents.AgentSpecificationsChangedEvent,i)},i._updateLoadingAgentSpecifications=function(n){i._agentsState.isLoadingAgentSpecifications=n;i.emitChanged()},i._handleUpdateAgentSpecification=function(n){i._agentsState.selectedAgentSpecification=n;i._updateErrors();i.emitChanged()},i._setAgentSpecifications=function(n,t){i._originalAgentsState.selectedAgentSpecification=n;i._agentsState.selectedAgentSpecification=n;i._originalAgentsState.agentSpecifications=t;i._agentsState.agentSpecifications=t;t&&t.length&&(i._areAgentSpecificationsInitialized=!0)},i._allowInheritAgentQueue=t.allowInheritAgentQueue,i._initializeState(),i._originalAgentQueue=null,i._areAgentQueuesInitialized=!1,i._areAgentSpecificationsInitialized=!1,i._hideQueues=t.hideQueues,!t.defaultQueueId||(i._originalAgentsState.defaultQueueId=t.defaultQueueId,i._agentsState.defaultQueueId=t.defaultQueueId),(t.permissibleQueues||t.allQueues)&&(i._initializeQueues({permissibleQueues:t.permissibleQueues,allQueues:t.allQueues}),i._originalAgentsState.defaultQueueId=i._agentsState.defaultQueueId),i._setAgentSpecifications(t.agentSpecification,t.agentSpecifications),i}return __extends(t,n),t.getKey=function(){return u.StoreKeys.AgentsStore},t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._actionsHub=r.ActionsHubManager.GetActionsHub(i.AgentsActions,t);this._actionsHub.createAgentsQueueSection.addListener(this._createAgentsQueueSection);this._actionsHub.updateAgentsQueueSection.addListener(this._updateAgentsQueueSection);this._actionsHub.updateAgentQueue.addListener(this._updateAgentQueue);this._actionsHub.updateAgentQueueWithSpecifications.addListener(this._updateAgentQueueWithSpecifications);this._actionsHub.refreshAgentQueue.addListener(this._refreshAgentQueue);this._actionsHub.manageAgent.addListener(this._manageAgentClicked);this._actionsHub.initializeAgentQueues.addListener(this._initializeAgentQueues);this._actionsHub.updateAgentSpecifications.addListener(this._handleUpdateAgentSpecifications);this._actionsHub.updateSelectedAgentSpecification.addListener(this._handleUpdateAgentSpecification);this._actionsHub.updateLoadingAgentSpecifications.addListener(this._updateLoadingAgentSpecifications)},t.prototype.disposeInternal=function(){this._actionsHub.createAgentsQueueSection.removeListener(this._createAgentsQueueSection);this._actionsHub.updateAgentsQueueSection.removeListener(this._updateAgentsQueueSection);this._actionsHub.updateAgentQueue.removeListener(this._updateAgentQueue);this._actionsHub.updateAgentQueueWithSpecifications.removeListener(this._updateAgentQueueWithSpecifications);this._actionsHub.refreshAgentQueue.removeListener(this._refreshAgentQueue);this._actionsHub.manageAgent.removeListener(this._manageAgentClicked);this._actionsHub.initializeAgentQueues.removeListener(this._initializeAgentQueues);this._actionsHub.updateAgentSpecifications.removeListener(this._handleUpdateAgentSpecifications);this._actionsHub.updateSelectedAgentSpecification.removeListener(this._handleUpdateAgentSpecification);this._actionsHub.updateLoadingAgentSpecifications.removeListener(this._updateLoadingAgentSpecifications)},t.prototype.getTaskAgentQueues=function(){return this._agentsState.queues},t.prototype.isDirty=function(){var n=this._originalAgentsState.selectedAgentSpecification?this._originalAgentsState.selectedAgentSpecification.identifier:null,t=this._agentsState.selectedAgentSpecification?this._agentsState.selectedAgentSpecification.identifier:null;return this._originalAgentsState.defaultQueueId!==this._agentsState.defaultQueueId||n!==t},t.prototype.isValid=function(){var t=this,n;return this._areAgentQueuesInitialized?(n=this._agentsState.queues.some(function(n){return n.id===t._agentsState.defaultQueueId}),n&&this._agentsState.agentSpecificationErrorMessage===""):!0},t.prototype.getState=function(){return this._agentsState},t.prototype._initializeState=function(){this._agentsState=this._getDefaultAgentState();this._originalAgentsState=this._getDefaultAgentState()},t.prototype._getDefaultAgentState=function(){var n=[];return this._allowInheritAgentQueue&&n.push({id:0,name:o.InheritAgentQueueFromDefinition}),{queues:n,defaultQueueId:0,selectedAgentSpecification:null,agentSpecificationErrorMessage:"",isLoadingAgentSpecifications:!1,agentSpecifications:[]}},t.prototype.getSelectedQueue=function(){var n=this;return c.first(this._agentsState.queues,function(t){return t.id===n._agentsState.defaultQueueId})},t.prototype._updateRequired=function(n){if(n.queues&&this._agentsState.queues){var t=n.queues.filter(function(n){return!n.pool||n.pool&&!n.pool.isLegacy});if(this._ensureQueue(t,n.agentQueueFromBuild),this._agentsState.queues.find(function(n){return!t.find(function(t){return n.id===t.id})}))return!0}return!1},t.prototype._createUpdateAgentsQueueSection=function(n){var i=-1,t=n.queues?a.createTaskAgentQueueCopy(n.queues):[];t=t.filter(function(n){return!n.pool||n.pool&&!n.pool.isLegacy});n.agentQueueFromBuild&&n.agentQueueFromBuild.name?(this._originalAgentsState.defaultQueueId=n.agentQueueFromBuild.id,this._agentsState.defaultQueueId=n.agentQueueFromBuild.id,this._originalAgentQueue=a.createBuildTypeAgentCopy(n.agentQueueFromBuild),this._ensureQueue(t,n.agentQueueFromBuild),this._setAgentSpecifications(n.currentAgentSpecification||null,n.agentSpecifications||[])):(this._agentsState.defaultQueueId=0,this._setAgentSpecifications(undefined,[]),this._allowInheritAgentQueue&&(n.currentQueueId===0?(this._agentsState.defaultQueueId=0,this._originalAgentsState.defaultQueueId=0):(this._agentsState.defaultQueueId=i,this._originalAgentsState.defaultQueueId=i)));this._setQueueList(t)},t.prototype._ensureQueue=function(n,t){if(t){var i=c.first(n,function(n){return n.id===t.id});i||n.push(t)}},t.prototype._getQueueDetailsIfPresent=function(n,t){var f=null,i,u,r;if(t)for(i=0,u=t;i<u.length;i++)if(r=u[i],r&&r.id===n){f=r;break}return f},t.prototype._setAgentQueues=function(n){var i=this,t=n?a.createTaskAgentQueueCopy(n):[];this._originalAgentQueue===null&&this._agentsState.defaultQueueId>0&&(this._originalAgentQueue=t.filter(function(n){return n.id===i._agentsState.defaultQueueId})[0]);this._originalAgentQueue?(this._agentsState.defaultQueueId=this._originalAgentQueue.id,this._agentsState.selectedAgentSpecification=this._originalAgentsState.selectedAgentSpecification,this._agentsState.agentSpecifications=this._originalAgentsState.agentSpecifications):(this._agentsState.defaultQueueId=0,this._setAgentSpecifications(undefined,[]));this._ensureQueue(t,this._originalAgentQueue);this._setQueueList(t)},t.prototype._setQueueList=function(n){if(this._allowInheritAgentQueue){var t={id:0,name:o.InheritAgentQueueFromDefinition};this._hideQueues?n=[t]:n.push(t)}n.sort(function(n,t){return l.localeIgnoreCaseComparer(n.name,t.name)});this._agentsState.queues=n;this._areAgentQueuesInitialized=!0},t.prototype._updateErrors=function(){var n=this;if(this._agentsState.selectedAgentSpecification&&this._areAgentSpecificationsInitialized&&(!this._agentsState.agentSpecifications||!this._agentsState.agentSpecifications.some(function(t){return t.identifier===n._agentsState.selectedAgentSpecification.identifier}))){this._agentsState.agentSpecificationErrorMessage=o.InvalidAgentSpecification;return}if(!this._agentsState.selectedAgentSpecification&&this._agentsState.agentSpecifications&&this._agentsState.agentSpecifications.length>0){this._agentsState.agentSpecificationErrorMessage=o.AgentSpecificationRequired;return}this._agentsState.agentSpecificationErrorMessage=""},t}(f.ChangeTrackerStoreBase);t.AgentsStore=v;a=function(){function n(){}return n.createBuildTypeAgentCopy=function(n){var t={id:n.id,name:n.name};return n.pool&&(t.pool={id:n.pool.id,name:n.pool.name,isHosted:n.pool.isHosted}),t},n.createTaskAgentQueueCopy=function(n){var t=[];return n.forEach(function(n){var i={id:n.id,name:n.name,projectId:n.projectId};n.pool&&(i.pool={id:n.pool.id,isHosted:n.pool.isHosted,name:n.pool.name,poolType:n.pool.poolType,scope:n.pool.scope,size:n.pool.size,isLegacy:n.pool.isLegacy,options:n.pool.options});t.push(i)}),t},n}();t.AgentUtils=a});

define("DistributedTaskControls/Phase/Components/DeployPhaseDetailsHeader",["require","exports","react","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/AppContext","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/YamlHelper","DistributedTaskControls/Components/InfoButton","DistributedTaskControls/Components/Task/TaskStore","DistributedTaskControls/Phase/Actions/PhaseInputsActionsCreator","DistributedTaskControls/Phase/DeployPhaseUtilities","DistributedTaskControls/Phase/Stores/DependenciesStore","DistributedTaskControls/Phase/Stores/ExecutionPlanStore","DistributedTaskControls/Phase/Types","DistributedTaskControls/ProcessManagement/ProcessManagementStore","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Stores/AgentsStore","DistributedTaskControls/Variables/ProcessVariables/DataStore","OfficeFabric/Button","OfficeFabric/Label","OfficeFabric/Utilities","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Phase/Components/DeployPhaseDetailsHeader"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it){Object.defineProperty(t,"__esModule",{value:!0});t.DeployPhaseDetailsHeader=void 0;var rt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onLinkSettingsClicked=function(){t._phaseInputsActionsCreator.updateLinkProcessParameterDialog({isVisible:!0})},t._onViewYAMLClicked=function(){var i=o.StoreManager.GetStore(y.ExecutionPlanStore,t.props.phaseItemStore.getInstanceId()),h=o.StoreManager.GetStore(v.DependenciesStore,t.props.phaseItemStore.getInstanceId()),c=t.props.phaseItemStore.getState().refName,l=t.props.phaseItemStore.getState().name,w=t._getYamlTasks(),b=t._getPhaseDemands(),r="",u=!1,f=h.getCurrentDependencies(),k=f?f.map(function(n){return n.scope}):[],d=a.DeployPhaseUtilities.getPhaseCondition(t.props.phaseItemStore.getState()),n,e;t.props.phaseItemStore.getState().phaseType!==p.DeployPhaseTypes.RunOnServer&&(n=t._getPhasePool(),n&&(r=n.name,u=!!(n.pool&&n.pool.isHosted)));e=i.getParallelExecution().parallelExecutionType;s.handleViewJobAsYaml(c,l,t.props.phaseItemStore.getState().phaseType,w,b,r,u,i.getState().timeoutInMinutes,k,d,e)},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._phaseInputsActionsCreator=r.ActionCreatorManager.GetActionCreator(l.PhaseInputsActionsCreator,this.props.phaseItemStore.getInstanceId());this._processManagementStore=o.StoreManager.GetStore(w.ProcessManagementStore,this.props.phaseItemStore.getProcessInstanceId())},t.prototype.render=function(){var n=this.props.phaseTitleString,t=this.props.phaseMarkdown,r={calloutDescription:this.props.phaseTypeDescription,calloutMarkdown:t},f=this._processManagementStore.canEditProcess()||this._processManagementStore.canEditPhaseInputs(),e=u.AppContext.instance().isCapabilitySupported(u.AppCapability.ShowViewYAMLInPhase);return i.createElement("div",{className:"deploy-phase-details-heading-row"},i.createElement("div",{className:"deploy-phase-title"},i.createElement(nt.Label,{className:"phase-type-label"},n),i.createElement(h.Component,{cssClass:"phase-type-info",calloutContent:r,iconStyle:"phase-type-info-icon",isIconFocusable:!0,iconAriaLabel:it.format(b.InfoCalloutAriaLabel,n)})),i.createElement("div",{className:"deploy-phase-controls"},this.props.phaseInputsPresent&&f&&i.createElement(g.CommandButton,{className:tt.css("remove-linkSettings-button","fabric-style-overrides"),ariaLabel:b.LinkSettings,iconProps:{iconName:"Link"},ariaDescription:b.LinkSettingsDescription,onClick:this._onLinkSettingsClicked},b.LinkSettings),e&&i.createElement(g.CommandButton,{className:tt.css("remove-linkSettings-button","fabric-style-overrides"),ariaLabel:b.MenuViewAsYaml,iconProps:{iconName:"Paste"},disabled:!this.props.phaseItemStore.isValid(),ariaDescription:b.ViewAsYamlDescription,onClick:this._onViewYAMLClicked},b.MenuViewAsYaml),this._processManagementStore.canEditPhases()&&i.createElement(g.CommandButton,{className:tt.css("fabric-style-overrides","remove-linkSettings-button","remove-phase-button"),iconProps:{iconName:"Delete"},"aria-label":b.RemoveText,onClick:this.props.onRemove},b.RemoveText)))},t.prototype._getPhaseDemands=function(){var n=[],r=this.props.phaseItemStore,t=r.getState().deploymentInput,u=t&&t.demands||[],i;return u.forEach(function(t){n.push(t)}),i=this.props.phaseItemStore.getReadOnlyDemands()||[],i.forEach(function(t){n.push(t)}),n},t.prototype._getPhasePool=function(){var i=o.StoreManager.GetStore(k.AgentsStore,this.props.phaseItemStore.getInstanceId()),n=i?i.getSelectedQueue():null,t;return n&&n.id===0&&(t=o.StoreManager.GetStore(k.AgentsStore,f.AGENTS_STORE_INSTANCE_ID),n=t?t.getSelectedQueue():null),n},t.prototype._getYamlTasks=function(){var n=[],r=this.props.phaseItemStore.getTaskItems().taskItemList,t=0,u=o.StoreManager.GetStore(d.ProcessVariablesStore),f=u.getVariableList(),i={};return f.forEach(function(n){i[n.name]=n.variable}),r.forEach(function(r){var u=o.StoreManager.GetStore(c.TaskStore,r.getKey()),e=u.getInputToValueMap(),l=u.getTaskDefinition(),a=u.getTaskRefName(),v=u.getTaskVersion(),y=!u.isDisabled(),f=u.getTaskInstance(),p=f.continueOnError,w=f.condition,b=u.getTaskTimeoutInMinutes(),k=u.getTaskRetryCountOnTaskFailure(),d=u.getTaskDisplayName(),h={};Object.keys(e).forEach(function(n){h[n]=u.getTaskInputState(n).isHidden()});var g=u.getProcessParameterToValueMap(),nt=f.environment,tt=new s.YamlTask(e,l,a,d,v,y,p,w,b,h,i,g,nt,!1,t,!1,k);n.push(tt);t++}),n},t}(e.Component);t.DeployPhaseDetailsHeader=rt});

define("DistributedTaskControls/Phase/Components/DeployPhaseDetailsView",["require","exports","react","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Utilities","DistributedTaskControls/ControllerViews/ProcessParametersLinkSettingsView","DistributedTaskControls/Phase/Actions/DeployPhaseActionsCreator","DistributedTaskControls/Phase/Actions/PhaseInputsActionsCreator","DistributedTaskControls/Phase/Components/DeletePhaseDialog","DistributedTaskControls/Phase/Components/DeployPhaseDetailsHeader","DistributedTaskControls/Phase/Types","DistributedTaskControls/ProcessManagement/ProcessManagementStore","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Components/StringInputComponent","VSS/LoaderPlugins/Css!DistributedTaskControls/Phase/Components/DeployPhaseDetailsView"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){Object.defineProperty(t,"__esModule",{value:!0});t.DeployPhaseDetailsView=void 0;var w=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onDialogClose=function(){t._phaseInputsActionCreator.updateLinkProcessParameterDialog({isVisible:!1})},t._linkToProcesParameter=function(n,i){t._phaseInputsActionCreator.linkToProcessParameter(n,i)},t._unLinkfromProcesParameter=function(n){t._phaseInputsActionCreator.unlinkFromProcessParameter(n)},t._showDeletePhaseDialog=function(){t.setState({showDeletePhaseDialog:!0})},t._hideDeletePhaseDialog=function(){t.setState({showDeletePhaseDialog:!1})},t._onNameChanged=function(n){t._actionCreator.updatePhaseName(n)},t._onGetErrorMessage=function(n){return e.DtcUtils.checkValidStringLengthErrorMessage(n,a.DeployPhaseSectionConstants.NameMaxLength,y.PhaseNameLengthErrorMessage)},t._onStoreChanged=function(){t._setState()},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._processManagementStore=f.StoreManager.GetStore(v.ProcessManagementStore,this.props.phaseItemStore.getProcessInstanceId());this._actionCreator=r.ActionCreatorManager.GetActionCreator(s.DeployPhaseActionsCreator,this.props.phaseItemStore.getInstanceId());this._phaseInputsActionCreator=r.ActionCreatorManager.GetActionCreator(h.PhaseInputsActionsCreator,this.props.phaseItemStore.getInstanceId());this.props.phaseItemStore.addChangedListener(this._onStoreChanged);this._processManagementStore.addChangedListener(this._onStoreChanged)},t.prototype.componentWillUnmount=function(){this.props.phaseItemStore.removeChangedListener(this._onStoreChanged);this._processManagementStore.removeChangedListener(this._onStoreChanged)},t.prototype.render=function(){var n=this,t=this.props.phaseItemStore.getState();return i.createElement("div",{className:"deploy-phase-details-header constrained-width"},i.createElement(l.DeployPhaseDetailsHeader,{phaseItemStore:this.props.phaseItemStore,onRemove:this._showDeletePhaseDialog,phaseInputsPresent:this.props.phaseInputsPresent,phaseTitleString:this.props.phaseTitleString,phaseMarkdown:this.props.phaseMarkdown,phaseTypeDescription:this.props.phaseTypeDescription}),i.createElement("div",{className:"phase-name"},i.createElement(p.StringInputComponent,{label:y.DisplayNameText,value:t.name,onValueChanged:function(t){n._onNameChanged(t)},required:!0,getErrorMessage:this._onGetErrorMessage,deferredValidationTime:a.DeployPhaseSectionConstants.NameDeferredValidationTime,disabled:!this._processManagementStore.canEditPhases()})),this.state.showLinkProcessParameterDialog&&i.createElement(o.ProcessParametersLinkSettingsView,{controllerInstanceId:this.props.phaseItemStore.getInstanceId(),processInstanceId:this.props.phaseItemStore.getProcessInstanceId(),inputsList:this.props.phaseInputStore.getInputDefinitions(),inputNameToValueMapping:this.props.phaseInputStore.getInputNameToValueMap(),inputNameToProcParam:this.props.phaseInputStore.getInputNameToProcessParameterNameMap(),dataSourceBindings:[],sourceDefinitions:[],onDialogClose:this._onDialogClose,linkToProcessParameter:this._linkToProcesParameter,unlinkFromProcessParameter:this._unLinkfromProcesParameter}),this.state.showDeletePhaseDialog&&i.createElement(c.DeletePhaseDialog,{phaseItem:this.props.phaseItem,phaseStore:this.props.phaseItemStore,phaseListInstanceId:this.props.phaseListInstanceId,showDialog:this.state.showDeletePhaseDialog,onCancel:this._hideDeletePhaseDialog}),this.props.getSections())},t.prototype._setState=function(){this.setState({showLinkProcessParameterDialog:this.props.phaseInputsPresent&&this.props.phaseInputStore.showLinkProcessParameterDialog()})},t}(u.Component);t.DeployPhaseDetailsView=w});

define("DistributedTaskControls/ControllerViews/TaskListControllerView",["require","exports","react","DistributedTaskControls/Actions/ItemSelectorActions","DistributedTaskControls/Actions/TaskListActionsCreator","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/DragDropManager","DistributedTaskControls/Common/ShortKeys","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Components/Task/TaskActionsCreator","DistributedTaskControls/ProcessManagement/ProcessManagementStore","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Stores/ItemSelectionStore","DistributedTaskControls/Stores/TaskListStore","OfficeFabric/List","VSS/Diag","VSS/Utils/Accessibility","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt){Object.defineProperty(t,"__esModule",{value:!0});t.TaskListControllerView=void 0;var ut=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onRenderItem=function(n,i){var r={instanceId:t.props.instanceId,taskListKeys:t._store.getTaskKeys(),taskGroupType:t.props.taskGroupType,isTaskAdditionInProgress:t._store.isTaskAdditionInProgress(n.getKey()),onRemoveTaskAnimationComplete:t._onTaskRemove,ariaProps:{level:t.props.treeLevel,setSize:t.state.taskItemList?t.state.taskItemList.length:0,positionInSet:i+1,role:"treeitem"}};return n.getOverview(r)},t._onChange=function(){t.setState(t._store.getState())},t._handleKeyDown=function(n){if(t._processManagementStore.canEditTasks())if(n.keyCode===rt.KeyCode.DELETE)t._removeSelectedTasks();else if(n&&n.ctrlKey&&n.altKey)switch(n.keyCode){case c.KeyCodes.MoveSelectedItemUp:t._shiftSelectedTask(-1);break;case c.KeyCodes.MoveSelectedItemDown:t._shiftSelectedTask(1)}},t._onTaskRemove=function(n){var r=t._store.getState().taskItemList.filter(function(t){return n===t.getKey()})[0],u=t._createReferenceCountPayload(r,!1),i;t._actionCreator.removeTask(n,!0,u);i=t._store.getNextItemToBeSelected();t._itemSelectorActions.deselectItem.invoke({data:r,canParticipateInMultiSelect:!0});t._itemSelectorActions.updateItemList.invoke(t.state.taskItemList);i?t._itemSelectorActions.selectItem.invoke({data:i,canParticipateInMultiSelect:!0}):t.props.onRemove?t.props.onRemove():d.logError("[TaskListControllerView._onTaskRemove]: onRemove method has not been initialized.")},t._onRemoveTaskCallDelegate=function(n){var t=f.ActionCreatorManager.GetActionCreator(v.TaskActionCreator,n);t.markTaskAsDeleting()},t._insertTask=function(n){var r=h.DragDropManager.instance().isCopyAction(),u=it.equals(n.sourceItem.key,o.TASK_DEFINITION_DATA_KEY)?null:t._createReferenceCountPayload(n.sourceItem.data,!0),i;t._actionCreator.insertTask(n,r,u);i=t._store.getNextItemToBeSelected();!i||t._itemSelectorActions.selectItem.invoke({data:i,canParticipateInMultiSelect:!0})},t._removeTask=function(n){t._actionCreator.removeTask(n.getKey(),!1)},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._store=l.StoreManager.GetStore(b.TaskListStore,this.props.taskListStoreInstanceId);this._itemSelectionStore=l.StoreManager.GetStore(w.Store,this.props.instanceId);this._actionCreator=f.ActionCreatorManager.GetActionCreator(u.TaskListActionsCreator,this.props.taskListStoreInstanceId);this._itemSelectorActions=e.ActionsHubManager.GetActionsHub(r.Actions,this.props.instanceId);this._processManagementStore=l.StoreManager.GetStore(y.ProcessManagementStore,this._store.getProcessInstanceId());h.DragDropManager.instance().registerInsertCallback(this.props.taskListStoreInstanceId,this._insertTask);h.DragDropManager.instance().registerRemoveCallback(this.props.taskListStoreInstanceId,this._removeTask);this._store.removeTaskCallDelegate=this._onRemoveTaskCallDelegate;this._store.addListener(o.TaskListStoreChangedEvents.TasksSelectionUpdatedEvent,this._onChange);this.setState(this._store.getState())},t.prototype.componentDidMount=function(){this._store.addChangedListener(this._onChange)},t.prototype.componentWillUnmount=function(){h.DragDropManager.instance().unregisterInsertCallback(this.props.taskListStoreInstanceId);h.DragDropManager.instance().unregisterRemoveCallback(this.props.taskListStoreInstanceId);this._store.removeChangedListener(this._onChange);this._store.removeListener(o.TaskListStoreChangedEvents.TasksSelectionUpdatedEvent,this._onChange);this._addTaskAnimationTimeoutHandle&&this._addTaskAnimationTimeoutHandle.cancel()},t.prototype.render=function(){return i.createElement("div",{className:"task-list-container",onKeyDown:this._handleKeyDown},i.createElement(k.List,{role:"group",items:nt.clone(this.state.taskItemList),onRenderCell:this._onRenderItem}))},t.prototype.componentDidUpdate=function(){var n=this;this._store.isSelectionObsolete()&&tt.delay(this,10,function(){n._resetSelections()});this._store.getAdditionInProgressTaskInstanceId()&&(this._addTaskAnimationTimeoutHandle=tt.delay(this,500,function(){n._addTaskAnimationTimeoutHandle=null;n._actionCreator.completeTaskAddition()}))},t.prototype._removeSelectedTasks=function(){var t=this._itemSelectionStore.getState().selectedItems.filter(function(n){return it.caseInsensitiveContains(n.data.getKey(),o.TASK_ITEM_PREFIX)}),n,i;t&&(n=t.map(function(n){return n.data}),n.forEach(function(n){n.removeTask()}),i=n.length===1?p.TaskRemoved:p.TasksRemoved,g.announce(i,!0),this._itemSelectorActions.updateItemList.invoke(this.state.taskItemList),this._publishTelemetryForRemoveTask(n.length))},t.prototype._publishTelemetryForRemoveTask=function(n){var t={};t[a.Properties.SelectedTasksLength]=n;a.Telemetry.instance().publishEvent(a.Feature.RemoveTask,t,a.Source.Keyboard)},t.prototype._createReferenceCountPayload=function(n,t){var i={};return i.processParameterReferencePayload={processParameterReferenceData:n?n.getProcessParameterNameToReferenceCount():[],shouldReferencesIncrease:t},i.processInstanceId=this._store.getProcessInstanceId(),i},t.prototype._resetSelections=function(){this._itemSelectorActions.selectItem.invoke({data:this._store.getNextItemToBeSelected(),canParticipateInMultiSelect:!0})},t.prototype._shiftSelectedTask=function(n){var t=this._itemSelectionStore.getState().selectedItems.filter(function(n){return it.caseInsensitiveContains(n.data.getKey(),o.TASK_ITEM_PREFIX)}),i,r;t&&t.length===1&&t[0]&&(i=t[0],r=i.data.getKey(),this._actionCreator.shiftTask(r,n),a.Telemetry.instance().publishEvent(a.Feature.MoveTask,{},a.Source.Keyboard),this._itemSelectorActions.updateItemList.invoke(this.state.taskItemList))},t}(s.Component);t.TaskListControllerView=ut});

define("DistributedTaskControls/Components/TaskList",["require","exports","react","DistributedTaskControls/ControllerViews/TaskListControllerView"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.TaskList=void 0;var u=function(){function n(n,t,i,r){this._removeDelegate=n;this._taskListStoreInstanceId=t;this._taskGroupType=i;this._treeLevel=r;this._details=null}return n.prototype.getOverview=function(n){return this._overView||(this._overView=i.createElement(r.TaskListControllerView,{instanceId:n,onRemove:this._removeDelegate,taskListStoreInstanceId:this._taskListStoreInstanceId,taskGroupType:this._taskGroupType,treeLevel:this._treeLevel})),this._overView},n.prototype.getDetails=function(){return this._details},n.prototype.getKey=function(){return"common.tasklist"},n}();t.TaskList=u});

define("DistributedTaskControls/Phase/Actions/DependenciesActionsCreator",["require","exports","DistributedTaskControls/Phase/Actions/DependenciesActions","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.DependenciesActionsCreator=void 0;var e=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.getKey=function(){return f.ActionCreatorKeys.DependenciesActionsCreator},t.prototype.initialize=function(n){this._actions=u.ActionsHubManager.GetActionsHub(i.DependenciesActions,n)},t.prototype.updateDependencies=function(n){return this._actions.updateDependencies.invoke(n)},t.prototype.updateCurrentDependencies=function(n){return this._actions.updateCurrentDependencies.invoke(n)},t}(r.ActionCreatorBase);t.DependenciesActionsCreator=e});

define("DistributedTaskControls/Phase/RefNames",["require","exports","VSS/Utils/String"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.RefNames=void 0;var r=function(){function n(){}return n.GenerateUniqueRefNameForJob=function(n){var r=0,t=i.format(this._phaseRefNameFormat,++r),u;if(!!n)for(u=n.filter(function(n){return n!==null&&n!==undefined});u.indexOf(t)>-1;)t=i.format(this._phaseRefNameFormat,++r);return t},n._phaseRefNameFormat="Job_{0}",n}();t.RefNames=r});

define("DistributedTaskControls/Phase/Stores/DefaultPhaseStore",["require","exports","DistributedTaskControls/Common/Common","DistributedTaskControls/Phase/DeployPhaseUtilities","DistributedTaskControls/Phase/Stores/PhaseStoreBase"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.DefaultPhaseStore=void 0;var f=function(n){function t(t){var i=n.call(this,t.itemSelectionInstanceId,t.taskDelegates,t.processInstanceId,t.processParametersNotSupported,t.isFileSystemBrowsable,t.phaseDefinition)||this;return i._initializeStates(t.phase),i}return __extends(t,n),t.getKey=function(){return i.StoreKeys.DefaultPhaseStore},t.prototype.getState=function(){return n.prototype.getState.call(this)},t.prototype._initializeStates=function(t){this._originalState=r.DeployPhaseUtilities.createDeployPhaseCopy(t);this._currentState=r.DeployPhaseUtilities.createDeployPhaseCopy(t);n.prototype._initializeInputsState.call(this)},t}(u.PhaseStoreBase);t.DefaultPhaseStore=f});

define("DistributedTaskControls/Stores/DemandsStore",["require","exports","DistributedTaskControls/Actions/DemandsActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/AppContext","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Common/RegexConstants","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c){var a,l;Object.defineProperty(t,"__esModule",{value:!0});t.DemandsUtils=t.DemandsStore=void 0;a=function(n){function t(t){var i=__construct(this,n,[]),r,u;for(r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._createDemandsListener=function(n){i._createOrUpdateDemandsListener(n.demands);i.emitChanged()},i._updateDemandsListener=function(n){i._createOrUpdateDemandsListener(n.demands);n.forceUpdate&&i.emitChanged()},i._updateDemandCondition=function(n){n.condition&&(i._currentDemandsState.demands[n.index].condition=n.condition,n.condition===f.DemandCondition.Exists&&(i._currentDemandsState.demands[n.index].value=c.empty));i.emitChanged()},i._updateDemandKey=function(n){i._currentDemandsState.demands[n.index].name=n.key;i.emitChanged()},i._updateDemandValue=function(n){n.value!==null&&n.value!==undefined&&(i._currentDemandsState.demands[n.index].value=n.value);i.emitChanged()},i._addDemand=function(){i._currentDemandsState.demands.push({name:c.empty,condition:f.DemandCondition.Exists,value:c.empty});i.emitChanged()},i._deleteDemand=function(n){i._currentDemandsState.demands.splice(n.index,1);i.emitChanged()},u=t.demands||[],i._currentDemandsState={demands:e.JQueryWrapper.extendDeep([],u)},i._originalDemandsState={demands:e.JQueryWrapper.extendDeep([],u)},i}return __extends(t,n),t.getKey=function(){return f.StoreKeys.DemandsStore},t.prototype.initialize=function(n){this._actionsHub=r.ActionsHubManager.GetActionsHub(i.DemandsActions,n);this._actionsHub.createDemands.addListener(this._createDemandsListener);this._actionsHub.updateDemands.addListener(this._updateDemandsListener);this._actionsHub.updateDemandCondition.addListener(this._updateDemandCondition);this._actionsHub.updateDemandKey.addListener(this._updateDemandKey);this._actionsHub.updateDemandValue.addListener(this._updateDemandValue);this._actionsHub.addDemand.addListener(this._addDemand);this._actionsHub.deleteDemand.addListener(this._deleteDemand)},t.prototype.disposeInternal=function(){this._actionsHub.createDemands.removeListener(this._createDemandsListener);this._actionsHub.updateDemands.removeListener(this._updateDemandsListener);this._actionsHub.updateDemandCondition.removeListener(this._updateDemandCondition);this._actionsHub.updateDemandKey.removeListener(this._updateDemandKey);this._actionsHub.updateDemandValue.removeListener(this._updateDemandValue);this._actionsHub.addDemand.removeListener(this._addDemand);this._actionsHub.deleteDemand.removeListener(this._deleteDemand);this._originalDemandsState.demands=null;this._currentDemandsState.demands=null},t.prototype.isDirty=function(){return!l.areEqual(this._currentDemandsState.demands,this._originalDemandsState.demands)},t.prototype.isValid=function(){var n=this,t=!0;return this._currentDemandsState.demands&&this._currentDemandsState.demands.forEach(function(i){(n.isDemandNameInvalid(i)||i.condition===f.DemandCondition.Equals&&n.isDemandValueInvalid(i.value))&&(t=!1)}),t},t.prototype.isDemandNameInvalid=function(n){return!!this.getDemandNameInvalidErrorMessage(n)},t.prototype.getDemandNameInvalidErrorMessage=function(n){if(n.condition!==f.DemandCondition.Equals&&u.AppContext.instance().isCapabilitySupported(u.AppCapability.GreaterThanConditionInDemand)){var t=[],i=n.name;if(o.DemandGtVersionRegEx.test(i)?t=i.split(o.DemandGtVersionRegEx):o.DemandEqualsRegEx.test(i)&&(t=i.split(o.DemandEqualsRegEx)),!!t&&t.length>0){if(!this._getDemandNameInvalidErrorMessage(t[0])){if(!!this._getDemandValueInvalidErrorMessage(t[1]))return this._getDemandValueInvalidErrorMessage(t[1])}else return this._getDemandNameInvalidErrorMessage(t[0]);return c.empty}return this._getDemandNameInvalidErrorMessage(i)}return this._getDemandNameInvalidErrorMessage(n.name)},t.prototype.isDemandValueInvalid=function(n){return!!this._getDemandValueInvalidErrorMessage(n)},t.prototype.getState=function(){return this._currentDemandsState},t.prototype.getCurrentDemands=function(){return this._currentDemandsState&&this._currentDemandsState.demands?this._currentDemandsState.demands:null},t.prototype._createOrUpdateDemandsListener=function(n){this._originalDemandsState.demands=l.createDemandsCopy(n);this._currentDemandsState.demands=l.createDemandsCopy(n)},t.prototype._getDemandNameInvalidErrorMessage=function(n){return!n?h.DemandNameEmptyErrorTooltip:n.trim()===c.empty?h.DemandNameEmptyErrorTooltip:/\s/g.test(n.trim())?h.DemandNameSpaceErrorTooltip:c.empty},t.prototype._getDemandValueInvalidErrorMessage=function(n){return!n?h.DemandValueEmptyErrorTooltip:n.trim()===c.empty?h.DemandValueEmptyErrorTooltip:c.empty},t}(s.ChangeTrackerStoreBase);t.DemandsStore=a;l=function(){function n(){}return n.createDemandsCopy=function(n){var t=[];return n.forEach(function(n){t.push({name:n.name,condition:n.condition,value:n.value})}),t},n.areEqual=function(n,t){var r,i,u;if(n.length!==t.length)return!1;for(r=!0,i=0,u=n.length;i<u;i++)if(!this._compareStringWithTrim(n[i].name,t[i].name)||n[i].condition!==t[i].condition||!this._compareStringWithTrim(n[i].value,t[i].value)){r=!1;break}return r},n._compareStringWithTrim=function(n,t){return n||t?!n&&t||n&&!t?!1:c.ignoreCaseComparer(n.trim(),t.trim())===0:!0},n}();t.DemandsUtils=l});

define("DistributedTaskControls/Phase/Stores/RunOnAgentPhaseStore",["require","exports","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Phase/DeployPhaseUtilities","DistributedTaskControls/Phase/PhaseCache","DistributedTaskControls/Phase/Stores/DependenciesStore","DistributedTaskControls/Phase/Stores/ExecutionPlanStore","DistributedTaskControls/Phase/Stores/PhaseStoreBase","DistributedTaskControls/Phase/Types","DistributedTaskControls/Stores/AgentsStore","DistributedTaskControls/Stores/DemandsStore"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){Object.defineProperty(t,"__esModule",{value:!0});t.RunOnAgentPhaseStore=void 0;var v=function(n){function t(t){var i=n.call(this,t.itemSelectionInstanceId,t.taskDelegates,t.processInstanceId,t.processParametersNotSupported,t.isFileSystemBrowsable,t.phaseDefinition)||this;return i._handleUpdateEnableAccessToken=function(n){i._state.deploymentInput.enableAccessToken=n;i.emitChanged()},i._handleUpdateSkipArtifactsDownload=function(n){i._state.deploymentInput.skipArtifactsDownload=n;i.emitChanged()},i._handleUpdatePhaseCondition=function(n){i.getState().deploymentInput.condition=n;i.emitChanged()},i._handleUpdatePhase=function(n){i._initializeStates(n)},i._allowInheritAgentQueue=t.allowInheritAgentQueue,i._isPipelineOrchestration=t.isPipelineOrchestration,i._showPhaseDependencies=t.showPhaseDependencies,i._minJobCancelTimeoutInMinutes=t.minJobCancelTimeoutInMinutes,i._initializeStates(t.phase),i}return __extends(t,n),t.getKey=function(){return i.StoreKeys.RunOnAgentPhaseStore},t.prototype.getPhaseType=function(){return c.DeployPhaseTypes.AgentBasedDeployment},t.prototype.initialize=function(t){var h,i;n.prototype.initialize.call(this,t);var c=u.DtcUtils.convertSerializedDemandToDemandData(this._state.deploymentInput.demands),v=this._state.deploymentInput.dependencies,f=this._originalState.deploymentInput.queueId,y=this._state.deploymentInput.parallelExecution,p=this._state.deploymentInput.timeoutInMinutes,w=this._state.deploymentInput.jobCancelTimeoutInMinutes;this.addToStoreList(this._demandsStore=r.StoreManager.CreateStore(a.DemandsStore,this.getInstanceId(),{demands:c}));this.addToStoreList(this._dependenciesStore=r.StoreManager.CreateStore(o.DependenciesStore,this.getInstanceId(),{dependencies:v}));h=this._originalState.deploymentInput.agentSpecification;i=[];e.PhaseCache.instance().getDefaultAgentSpecifications&&e.PhaseCache.instance().getDefaultAgentQueueId()===f&&(i=e.PhaseCache.instance().getDefaultAgentSpecifications());this._agentsStore=r.StoreManager.CreateStore(l.AgentsStore,this.getInstanceId(),{defaultQueueId:f,permissibleQueues:e.PhaseCache.instance().getPermissibleQueues(),allQueues:e.PhaseCache.instance().getAllQueues(),allowInheritAgentQueue:this._allowInheritAgentQueue,hideQueues:!this._isPipelineOrchestration,agentSpecification:h,agentSpecifications:i});this.addToStoreList(this._agentsStore);this.addToStoreList(this._executionPlanStore=r.StoreManager.CreateStore(s.ExecutionPlanStore,this.getInstanceId(),{parallelExecution:y,timeoutInMinutes:p,jobCancelTimeoutInMinutes:w,minJobCancelTimeoutInMinutes:this._minJobCancelTimeoutInMinutes}));this._phaseDetailsStores.push(this._demandsStore);this._phaseDetailsStores.push(this._dependenciesStore);this._phaseDetailsStores.push(this._agentsStore);this._phaseDetailsStores.push(this._executionPlanStore);this._deployPhaseActionsHub.updateEnableAccessToken.addListener(this._handleUpdateEnableAccessToken);this._deployPhaseActionsHub.updateSkipArtifactsDownload.addListener(this._handleUpdateSkipArtifactsDownload);this._deployPhaseActionsHub.updatePhaseCondition.addListener(this._handleUpdatePhaseCondition);this._deployPhaseActionsHub.updatePhase.addListener(this._handleUpdatePhase)},t.prototype.disposeInternal=function(){this._deployPhaseActionsHub&&(this._deployPhaseActionsHub.updateEnableAccessToken.removeListener(this._handleUpdateEnableAccessToken),this._deployPhaseActionsHub.updatePhaseCondition.removeListener(this._handleUpdatePhaseCondition),this._deployPhaseActionsHub.updateSkipArtifactsDownload.removeListener(this._handleUpdateSkipArtifactsDownload),this._deployPhaseActionsHub.updatePhase.removeListener(this._handleUpdatePhase));n.prototype.disposeInternal.call(this)},t.prototype.getState=function(){return n.prototype.getState.call(this)},t.prototype.isDirty=function(){var t=this._currentState,i=this._originalState,r=!1;return r=r||t.deploymentInput.skipArtifactsDownload!==i.deploymentInput.skipArtifactsDownload||t.deploymentInput.condition!==i.deploymentInput.condition||t.deploymentInput.enableAccessToken!==i.deploymentInput.enableAccessToken,r||n.prototype.isDirty.call(this)},t.prototype.isAgentSelectionValid=function(){return this._demandsStore.isValid()&&this._agentsStore.isValid()},t.prototype.isValid=function(){return n.prototype.isValid.call(this)&&this._executionPlanStore.isValid()},t.prototype.arePhaseDetailsValid=function(){return n.prototype.arePhaseDetailsValid.call(this)&&this._executionPlanStore.isValid()},t.prototype.updateVisitor=function(t){n.prototype.updateVisitor.call(this,t);this._agentsStore.getSelectedQueue()&&(t.deploymentInput.queueId=this._agentsStore.getSelectedQueue().id);this._agentsStore.getState()&&(t.deploymentInput.agentSpecification=this._agentsStore.getState().selectedAgentSpecification);t.deploymentInput.parallelExecution=this._executionPlanStore.getParallelExecution();t.deploymentInput.timeoutInMinutes=this._executionPlanStore.getTimeout();t.deploymentInput.jobCancelTimeoutInMinutes=this._executionPlanStore.getJobCancelTimeout();t.deploymentInput.enableAccessToken=this._state.deploymentInput.enableAccessToken;t.deploymentInput.dependencies=this._dependenciesStore.getCurrentDependencies();t.deploymentInput.demands=[];t.deploymentInput.demands=u.DtcUtils.convertDemandDataToSerializedDemand(this._demandsStore.getCurrentDemands())},t.prototype.hideAdditionalOptions=function(){return!this._isPipelineOrchestration},t.prototype.showPhaseDependencies=function(){return this._showPhaseDependencies},t.prototype._initializeStates=function(t){this._originalState=f.DeployPhaseUtilities.createDeployPhaseCopy(t);this._currentState=f.DeployPhaseUtilities.createDeployPhaseCopy(t);n.prototype._initializeInputsState.call(this)},Object.defineProperty(t.prototype,"_state",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),t}(h.PhaseStoreBase);t.RunOnAgentPhaseStore=v});

define("DistributedTaskControls/Stores/DeploymentGroupDemandsStore",["require","exports","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Stores/MachinesStore","DistributedTaskControls/Stores/TaskListStore","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});t.DeploymentGroupDemandsStore=void 0;var c=function(n){function t(t){var i=__construct(this,n,[]),u,f;for(u in i)i.hasOwnProperty(u)&&(this[u]=i[u]);return i._getMachines=function(){var n=[];return i._machinesStore.getState()&&(n=i._machinesStore.getState().deploymentMachines),n},i._handleChange=function(){i._currentDemands.deploymentGroupDemands=e.DtcUtils.convertSerializedDemandToDeploymentGroupDemandData(i._taskListStore.getReadOnlyDemands());i._updateMachinesMissingDemands(i._currentDemands.deploymentGroupDemands,i._getMachines());i.emitChanged()},f=t.deploymentGroupDemandsData||[],i._currentDemands={deploymentGroupDemands:r.JQueryWrapper.extendDeep([],f)},i}return __extends(t,n),t.getKey=function(){return i.StoreKeys.DeploymentGroupDemandsStore},t.prototype.initialize=function(n){this._taskListStore=f.StoreManager.GetStore(s.TaskListStore,n);this._machinesStore=f.StoreManager.GetStore(o.MachinesStore,n);this._machinesStore.addChangedListener(this._handleChange);this._taskListStore.addChangedListener(this._handleChange)},t.prototype.disposeInternal=function(){this._currentDemands=null;this._taskListStore.removeChangedListener(this._handleChange);this._machinesStore.removeChangedListener(this._handleChange)},t.prototype.getState=function(){return this._currentDemands},t.prototype.isAnyDemandsNotMet=function(){var n=!1;return this._currentDemands&&this._currentDemands.deploymentGroupDemands.forEach(function(t){t.machinesMissingDemand&&t.machinesMissingDemand.length>0&&(n=!0)}),n},t.prototype.getQueueId=function(){return this._machinesStore.getState()?this._machinesStore.getState().deploymentGroupId:null},t.prototype._updateMachinesMissingDemands=function(n,t){var i=this;n.forEach(function(n){var r=[];t.forEach(function(t){var o=t.agent,u,f,e;if(o){u=o.systemCapabilities;f={};for(e in u)u.hasOwnProperty(e)&&(f[e.toLocaleLowerCase()]=u[e].toLocaleLowerCase());i._isDemandMissing(n,f.hasOwnProperty(n.name.toLocaleLowerCase())?f[n.name.toLocaleLowerCase()]:null)&&r.push({machineNameMissingDemand:o.name,machineIdMissingDemand:t.id})}});n.machinesMissingDemand=r})},t.prototype._isDemandMissing=function(n,t){return n.value!==i.DemandCondition.Exists&&h.localeIgnoreCaseComparer(n.value,t)!==0||n.value===i.DemandCondition.Exists&&!t},t}(u.StoreBase);t.DeploymentGroupDemandsStore=c});

define("DistributedTaskControls/Phase/Stores/RunOnMachineGroupPhaseStore",["require","exports","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Phase/DeployPhaseUtilities","DistributedTaskControls/Phase/Stores/MachineGroupInputsStore","DistributedTaskControls/Phase/Stores/PhaseStoreBase","DistributedTaskControls/Phase/Types","DistributedTaskControls/Stores/DeploymentGroupDemandsStore","DistributedTaskControls/Stores/DeploymentGroupsStore","DistributedTaskControls/Stores/MachinesStore","DistributedTaskControls/Common/RegexConstants","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});t.RunOnMachineGroupPhaseStore=void 0;var p=function(n){function t(t){var i=n.call(this,t.itemSelectionInstanceId,t.taskDelegates,t.processInstanceId,t.processParametersNotSupported,t.isFileSystemBrowsable,t.phaseDefinition)||this;return i._handleMachineGroupInputsChange=function(){i._machineGroupInputsStore.updateVisitor(i._currentState);i._handleUpdateDeploymentMachineGroup(i.getState().deploymentInput.queueId)},i._handleMachineStoreChange=function(){i._isTargetsInitialised=!0;i._handleUpdateDeploymentMachineGroup(i.getState().deploymentInput.queueId)},i._handleUpdateEnableAccessToken=function(n){i.getState().deploymentInput.enableAccessToken=n;i.emitChanged()},i._handleUpdateSkipArtifactsDownload=function(n){i.getState().deploymentInput.skipArtifactsDownload=n;i.emitChanged()},i._handleUpdatePhaseCondition=function(n){i.getState().deploymentInput.condition=n;i.emitChanged()},i._handleUpdateTimeout=function(n){i.getState().deploymentInput.timeoutInMinutes=n;i.emitChanged()},i._handleUpdateJobCancelTimeout=function(n){i.getState().deploymentInput.jobCancelTimeoutInMinutes=n;i.emitChanged()},i._handleUpdateDeploymentMachineGroup=function(n){i.getState().deploymentInput.queueId=n===null||n===undefined?-1:n;i._numberOfMachinesWithTags=i._getNumberOfDeploymentMachinesWithTags();i._numberOfMachinesToDeployToInParallel=i._getNumberOfMachinesToDeployToInParallel();i.emitChanged()},i._handleUpdateDeploymentHealthOption=function(n){i.getState().deploymentInput.deploymentHealthOption=n;y.equals(n,s.DeploymentHealthOptionConstants.Custom,!0)&&(i._numberOfMachinesToDeployToInParallel=i._getNumberOfMachinesToDeployToInParallel());i.emitChanged()},i._handleUpdateHealthPercent=function(n){i.getState().deploymentInput.healthPercent=n;i._numberOfMachinesToDeployToInParallel=i._getNumberOfMachinesToDeployToInParallel();i.emitChanged()},i._handleUpdateTags=function(n){var t=n.filter(function(n){return n.trim().length>0});i.getState().deploymentInput.tags=t;i._numberOfMachinesWithTags=i._getNumberOfDeploymentMachinesWithTags();i._numberOfMachinesToDeployToInParallel=i._getNumberOfMachinesToDeployToInParallel();i._isVariableTagPresent=i._checkVariableTagPresent();i.emitChanged()},i._onDeploymentGroupsStoreChanged=function(){i._numberOfMachinesWithTags=i._getNumberOfDeploymentMachinesWithTags();i._numberOfMachinesToDeployToInParallel=i._getNumberOfMachinesToDeployToInParallel();i.emitChanged()},i._handleUpdatePhase=function(n){i._initializeStates(n)},i._initializeStates(t.phase),i}return __extends(t,n),t.getKey=function(){return i.StoreKeys.RunOnMachineGroupPhaseStore},t.prototype.getPhaseType=function(){return s.DeployPhaseTypes.MachineGroupBasedDeployment},t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._machineGroupInputsStore=r.StoreManager.CreateStore(e.MachineGroupInputsStore,t,{phase:this._currentState,processInstanceId:this.getProcessInstanceId(),phaseType:this.getPhaseType()});this._machineGroupInputsStore.addChangedListener(this._handleMachineGroupInputsChange);this._deploymentGroupsStore=r.StoreManager.GetStore(c.DeploymentGroupsStore);this._deploymentGroupsStore.addChangedListener(this._onDeploymentGroupsStoreChanged);var i=this.getState().deploymentInput?this.getState().deploymentInput.tags:[];this._machinesStore=r.StoreManager.CreateStore(l.MachinesStore,t,i);this._machinesStore.addChangedListener(this._handleMachineStoreChange);this._deployPhaseActionsHub.updateEnableAccessToken.addListener(this._handleUpdateEnableAccessToken);this._deployPhaseActionsHub.updateSkipArtifactsDownload.addListener(this._handleUpdateSkipArtifactsDownload);this._deployPhaseActionsHub.updatePhaseCondition.addListener(this._handleUpdatePhaseCondition);this._deployPhaseActionsHub.updateTimeout.addListener(this._handleUpdateTimeout);this._deployPhaseActionsHub.updateJobCancelTimeout.addListener(this._handleUpdateJobCancelTimeout);this._deployPhaseActionsHub.updateDeploymentHealthOption.addListener(this._handleUpdateDeploymentHealthOption);this._deployPhaseActionsHub.updateHealthPercent.addListener(this._handleUpdateHealthPercent);this._deployPhaseActionsHub.updateTags.addListener(this._handleUpdateTags);this._deployPhaseActionsHub.updatePhase.addListener(this._handleUpdatePhase);this._deployPhaseActionsHub.updateDeploymentMachineGroup.addListener(this._handleUpdateDeploymentMachineGroup);this._deploymentGroupDemandsStore=r.StoreManager.CreateStore(h.DeploymentGroupDemandsStore,t,{deploymentGroupDemandsData:[]});this._deploymentGroupDemandsStore.addChangedListener(this._handleChange);this._numberOfMachinesWithTags=this._getNumberOfDeploymentMachinesWithTags();this._numberOfMachinesToDeployToInParallel=this._getNumberOfMachinesToDeployToInParallel();this._isVariableTagPresent=this._checkVariableTagPresent();this._isTargetsInitialised=!1},t.prototype.disposeInternal=function(){this._deployPhaseActionsHub&&(this._deployPhaseActionsHub.updateEnableAccessToken.removeListener(this._handleUpdateEnableAccessToken),this._deployPhaseActionsHub.updateSkipArtifactsDownload.removeListener(this._handleUpdateSkipArtifactsDownload),this._deployPhaseActionsHub.updatePhaseCondition.removeListener(this._handleUpdatePhaseCondition),this._deployPhaseActionsHub.updateTimeout.removeListener(this._handleUpdateTimeout),this._deployPhaseActionsHub.updateJobCancelTimeout.addListener(this._handleUpdateJobCancelTimeout),this._deployPhaseActionsHub.updateDeploymentHealthOption.removeListener(this._handleUpdateDeploymentHealthOption),this._deployPhaseActionsHub.updateHealthPercent.removeListener(this._handleUpdateHealthPercent),this._deployPhaseActionsHub.updateTags.removeListener(this._handleUpdateTags),this._deployPhaseActionsHub.updatePhase.removeListener(this._handleUpdatePhase),this._deployPhaseActionsHub.updateDeploymentMachineGroup.removeListener(this._handleUpdateDeploymentMachineGroup),this._deploymentGroupDemandsStore.removeChangedListener(this._handleChange));this._machinesStore.removeChangedListener(this._handleMachineStoreChange);this._deploymentGroupsStore.removeChangedListener(this._onDeploymentGroupsStoreChanged);this._machineGroupInputsStore.removeChangedListener(this._handleMachineGroupInputsChange);n.prototype.disposeInternal.call(this)},t.prototype.getState=function(){return this._currentState},t.prototype.isDirty=function(){var t=this.getState(),i=this._originalState,r=!1;return r=this._areTagsDirty(i.deploymentInput.tags,t.deploymentInput.tags)||t.deploymentInput.skipArtifactsDownload!==i.deploymentInput.skipArtifactsDownload||t.deploymentInput.enableAccessToken!==i.deploymentInput.enableAccessToken||t.deploymentInput.condition!==i.deploymentInput.condition||t.deploymentInput.timeoutInMinutes!==i.deploymentInput.timeoutInMinutes||t.deploymentInput.jobCancelTimeoutInMinutes!==i.deploymentInput.jobCancelTimeoutInMinutes||t.deploymentInput.queueId!==i.deploymentInput.queueId||this._isHealthDataDirty(i.deploymentInput,t.deploymentInput),r||n.prototype.isDirty.call(this)},t.prototype.isValid=function(){return n.prototype.isValid.call(this)&&this.areDeploymentTargetsValid()},t.prototype.arePhaseDetailsValid=function(){return n.prototype.arePhaseDetailsValid.call(this)&&this.areDeploymentTargetsValid()},t.prototype.areDeploymentTargetsValid=function(){var n=this.getState(),t=n.deploymentInput.timeoutInMinutes,r=n.deploymentInput.jobCancelTimeoutInMinutes;return u.DtcUtils.isNumberInRange(r,s.DeployPhaseSectionConstants.MinJobCancelTimeout,s.DeployPhaseSectionConstants.MaxJobCancelTimeout)&&u.DtcUtils.isNumberInRange(t,0,i.MaxPositiveNumber)&&this._isValidDeploymentGroupId(n.deploymentInput.queueId)&&this._isValidHealthData(n.deploymentInput)},t.prototype.getOverrideInputs=function(){return this._machineGroupInputsStore.getState().overrideInputs},t.prototype.isValidTimeoutValue=function(n){return u.DtcUtils.isValidNonNegativeIntegerInRange(n,0,i.MaxPositiveNumber)===i.InputState.Valid},t.prototype.isValidJobCancelTimeoutValue=function(n){return u.DtcUtils.isValidNonNegativeIntegerInRange(n,s.DeployPhaseSectionConstants.MinJobCancelTimeout,s.DeployPhaseSectionConstants.MaxJobCancelTimeout)===i.InputState.Valid},t.prototype.getNumberOfMachinesWithSelectedTags=function(){return this._numberOfMachinesWithTags},t.prototype.getNumberOfMachinesToDeployToInParallel=function(){return this._numberOfMachinesToDeployToInParallel},t.prototype._getCurrentSelectedGroup=function(){var n=this.getState().deploymentInput.queueId;return this._deploymentGroupsStore.getDeploymentGroupById(n)},t.prototype.getAllTagsForDeploymentGroup=function(){var t=this._getCurrentSelectedGroup(),n=[],i;return!t||(i=this._machinesStore.getAllTags(t.id),i.forEach(function(t){n.some(function(n){return y.equals(n,t,!0)})||n.push(t)})),n},t.prototype.getDeploymentGroupsNameList=function(){var n=this.getOriginalDeploymentGroupId();return this._deploymentGroupsStore.getDeploymentGroupsNameList(n)},t.prototype.areDemandsNotMet=function(){return this._deploymentGroupDemandsStore?this._deploymentGroupDemandsStore.isAnyDemandsNotMet():!1},t.prototype.updateVisitor=function(t){n.prototype.updateVisitor.call(this,t);this._machineGroupInputsStore.updateVisitor(t)},t.prototype.isTargetsInitialised=function(){return this._isTargetsInitialised},t.prototype.isVariableTagPresent=function(){return this._isVariableTagPresent},t.prototype._checkVariableTagPresent=function(){return this.getState().deploymentInput.tags.some(function(n){return a.VariableParameterRegex.test(n)})},t.prototype.getOriginalDeploymentGroupId=function(){var n=this._originalState;return n.deploymentInput&&n.deploymentInput.queueId},t.prototype._setEffectiveHealthData=function(n){(n.deploymentInput.healthPercent===null||n.deploymentInput.healthPercent===undefined)&&(n.deploymentInput.healthPercent=0);switch(n.deploymentInput.deploymentHealthOption){case s.DeploymentHealthOptionConstants.AllTargetsInParallel:n.deploymentInput.deploymentHealthOption=s.DeploymentHealthOptionConstants.Custom;n.deploymentInput.healthPercent=0;break;case s.DeploymentHealthOptionConstants.HalfOfTargetsInParallel:n.deploymentInput.deploymentHealthOption=s.DeploymentHealthOptionConstants.Custom;n.deploymentInput.healthPercent=50;break;case s.DeploymentHealthOptionConstants.QuarterOfTargetsInParallel:n.deploymentInput.deploymentHealthOption=s.DeploymentHealthOptionConstants.Custom;n.deploymentInput.healthPercent=75;break;case s.DeploymentHealthOptionConstants.OneTargetAtATime:break;case s.DeploymentHealthOptionConstants.Custom:break;default:n.deploymentInput.deploymentHealthOption=s.DeploymentHealthOptionConstants.Custom}},t.prototype._isValidDeploymentGroupId=function(n){if(!this._deploymentGroupsStore.areMachineGroupsInitialized())return!0;var t=this._deploymentGroupsStore.getDeploymentGroupById(n);return t?!0:!1},t.prototype._isValidHealthData=function(n){var t=!0;return y.equals(n.deploymentHealthOption,s.DeploymentHealthOptionConstants.Custom,!0)&&(t=u.DtcUtils.isNumberInRange(n.healthPercent,s.RunOnMachineGroupPhaseConstants.HealthPercentMinValue,s.RunOnMachineGroupPhaseConstants.HealthPercentMaxValue)),t},t.prototype._getNumberOfMachinesToDeployToInParallel=function(){var n=this.getState().deploymentInput,t=n.healthPercent===null||n.healthPercent===undefined?0:n.healthPercent;return Math.floor((1-t/100)*this._numberOfMachinesWithTags)},t.prototype._getNumberOfDeploymentMachinesWithTags=function(){return this._machinesStore.getState()?this._machinesStore.getState().deploymentMachines.length:0},t.prototype._areTagsDirty=function(n,t){return!v.arrayEquals(t,n,function(n,t){return y.localeIgnoreCaseComparer(n,t)===0},!0)},t.prototype._isHealthDataDirty=function(n,t){var i=!1;switch(n.deploymentHealthOption){case s.DeploymentHealthOptionConstants.OneTargetAtATime:i=t.deploymentHealthOption!==n.deploymentHealthOption;break;case s.DeploymentHealthOptionConstants.Custom:i=t.deploymentHealthOption!==n.deploymentHealthOption||t.healthPercent!==n.healthPercent}return i},t.prototype._initializeStates=function(t){this._setEffectiveHealthData(t);this._originalState=f.DeployPhaseUtilities.createDeployPhaseCopy(t);this._currentState=f.DeployPhaseUtilities.createDeployPhaseCopy(t);n.prototype._initializeInputsState.call(this)},t}(o.PhaseStoreBase);t.RunOnMachineGroupPhaseStore=p});

define("DistributedTaskControls/Phase/Stores/RunOnServerPhaseStore",["require","exports","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Phase/DeployPhaseUtilities","DistributedTaskControls/Phase/Stores/DependenciesStore","DistributedTaskControls/Phase/Stores/ExecutionPlanStore","DistributedTaskControls/Phase/Stores/PhaseStoreBase","DistributedTaskControls/Phase/Types"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.RunOnServerPhaseStore=void 0;var h=function(n){function t(t){var i=n.call(this,t.itemSelectionInstanceId,t.taskDelegates,t.processInstanceId,t.processParametersNotSupported,t.isFileSystemBrowsable,t.phaseDefinition,{donotShowOutputVariables:!0})||this;return i._handleUpdatePhase=function(n){i._initializeStates(n)},i._handleUpdatePhaseCondition=function(n){i.getState().deploymentInput===undefined?i.getState().deploymentInput={condition:n,dependencies:null,shareOutputVariables:null,parallelExecution:null,timeoutInMinutes:null,jobCancelTimeoutInMinutes:0}:i.getState().deploymentInput.condition=n;i.emitChanged()},i._isPipelineOrchestration=t.isPipelineOrchestration,i._showPhaseDependencies=t.showPhaseDependencies,i._minJobCancelTimeoutInMinutes=t.minJobCancelTimeoutInMinutes,i._initializeStates(t.phase),i}return __extends(t,n),t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);var i=this._state.deploymentInput.parallelExecution,u=this._state.deploymentInput.timeoutInMinutes,o=this._state.deploymentInput.jobCancelTimeoutInMinutes,s=this._state.deploymentInput.dependencies;this.addToStoreList(this._executionPlanStore=r.StoreManager.CreateStore(e.ExecutionPlanStore,this.getInstanceId(),{parallelExecution:i,timeoutInMinutes:u,jobCancelTimeoutInMinutes:o,minJobCancelTimeoutInMinutes:this._minJobCancelTimeoutInMinutes}));this.addToStoreList(this._dependenciesStore=r.StoreManager.CreateStore(f.DependenciesStore,this.getInstanceId(),{dependencies:s}));this._phaseDetailsStores.push(this._dependenciesStore);this._phaseDetailsStores.push(this._executionPlanStore);this._deployPhaseActionsHub.updatePhase.addListener(this._handleUpdatePhase);this._deployPhaseActionsHub.updatePhaseCondition.addListener(this._handleUpdatePhaseCondition)},t.getKey=function(){return i.StoreKeys.RunOnServerPhaseStore},t.prototype.getPhaseType=function(){return s.DeployPhaseTypes.RunOnServer},t.prototype.getState=function(){return n.prototype.getState.call(this)},t.prototype.disposeInternal=function(){this._deployPhaseActionsHub&&(this._deployPhaseActionsHub.updatePhase.removeListener(this._handleUpdatePhase),this._deployPhaseActionsHub.updatePhaseCondition.removeListener(this._handleUpdatePhaseCondition));n.prototype.disposeInternal.call(this)},t.prototype.updateVisitor=function(t){n.prototype.updateVisitor.call(this,t);t.deploymentInput.parallelExecution=this._executionPlanStore.getParallelExecution();t.deploymentInput.timeoutInMinutes=this._executionPlanStore.getTimeout();t.deploymentInput.jobCancelTimeoutInMinutes=this._executionPlanStore.getJobCancelTimeout();t.deploymentInput.dependencies=this._dependenciesStore.getCurrentDependencies()},t.prototype.isDirty=function(){var t=this._currentState,r=this._originalState,i=!1;return t.deploymentInput!==undefined&&(i=t.deploymentInput.condition!==r.deploymentInput.condition),i||n.prototype.isDirty.call(this)},t.prototype.hideAdditionalOptions=function(){return!this._isPipelineOrchestration},t.prototype.showPhaseDependencies=function(){return this._showPhaseDependencies},t.prototype._initializeStates=function(t){t.deploymentInput||(t.deploymentInput={parallelExecution:{parallelExecutionType:s.ParallelExecutionTypes.None},timeoutInMinutes:0,jobCancelTimeoutInMinutes:this._minJobCancelTimeoutInMinutes});this._originalState=u.DeployPhaseUtilities.createDeployPhaseCopy(t);this._currentState=u.DeployPhaseUtilities.createDeployPhaseCopy(t);n.prototype._initializeInputsState.call(this)},Object.defineProperty(t.prototype,"_state",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),t}(o.PhaseStoreBase);t.RunOnServerPhaseStore=h});

define("DistributedTaskControls/Phase/Stores/DeployPhaseListStore",["require","exports","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Common/Stores/ListDataStoreBase","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Phase/Actions/DeployPhaseListActions","DistributedTaskControls/Phase/DeployPhaseUtilities","DistributedTaskControls/Phase/RefNames","DistributedTaskControls/Phase/Stores/DefaultPhaseStore","DistributedTaskControls/Phase/Stores/RunOnAgentPhaseStore","DistributedTaskControls/Phase/Stores/RunOnMachineGroupPhaseStore","DistributedTaskControls/Phase/Stores/RunOnServerPhaseStore","DistributedTaskControls/Phase/Types","VSS/Diag","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){Object.defineProperty(t,"__esModule",{value:!0});t.DeployPhaseListStore=void 0;var d=function(n){function t(t){var i=__construct(this,n,[!0]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._addPhase=function(n){var r=h.DeployPhaseUtilities.getDefaultDeployPhase(n,i._phaseTypeToDefinitionMap[n],i._minJobCancelTimeoutInMinutes)||i._getDefaultDeployPhase(n,i._phaseTypeToDefinitionMap[n]),t;r.refName=i._generateUniquePhaseRefName();t=i._createStore(r);i._nextSelectablePhaseStore=t;i.addToStoreList(t);i.isSelectionObsolete=!0;i._underAdditionPhaseId=i._nextSelectablePhaseStore.getInstanceId();i.emitChanged()},i._onDeletePhase=function(t){var r=n.prototype.getDataStoreAndIndex.call(i,t),f=r.dataStore,u=r.index;u>=0&&(i.removeFromDataStoreList(f),i._nextSelectablePhaseStore=i.getNextSelectableStoreAfterDelete(u),i.isSelectionObsolete=!0,i.emitChanged())},i._updatePhases=function(n){var t=n&&n.phases?n.phases:[],r=n?n.isForceInitializationOfStore:!1,u;t.length!==i.getDataStoreList().length||r?(u=i._initializeStores(t),i.handleUpdate(u,r),i.emitChanged()):i.handleUpdate()},i._handleShiftPhase=function(n){n&&(i._shiftPhase(n.itemKey,n.shiftBy),i.emitChanged())},i._handleInsertPhase=function(n){var r=i.getDataStoreList(),t=n.phaseToInsert;t&&(i.insertStoreAtTarget(t,n.targetItemInstanceId,n.shouldInsertBefore),i._nextSelectablePhaseStore=t,i.isSelectionObsolete=!0,i.emitChanged())},i._handleCompletePhaseAddition=function(){i._underAdditionPhaseId&&(i._underAdditionPhaseId=k.empty)},i._phaseList=t.phaseList,i._itemSelectionInstanceId=t.itemSelectionInstanceId,i._taskDelegates=t.taskDelegates,i._addTaskVisibilityFilter=t.addTaskVisibilityFilter,i._processParametersNotSupported=t.processParametersNotSupported,i._isFileSystemBrowsable=t.isFileSystemBrowsable,i._allowInheritAgentQueues=t.allowInheritAgentQueues,i._showSkipArtifactDownload=!t.hideSkipArtifactDownload,i._phaseTypeToDefinitionMap={},i._minimumPhaseCount=t.minimumPhaseCount||0,i._createPhaseStoreDelegate=t.createPhaseStoreDelegateMap,i._getDefaultDeployPhase=t.getDefaultDeployPhase,i._isPipelineOrchestration=t.isPipelineOrchestration!=undefined&&t.isPipelineOrchestration!=null?t.isPipelineOrchestration:!0,i._showPhaseDependencies=!!t.showPhaseDependencies,i._minJobCancelTimeoutInMinutes=h.DeployPhaseUtilities.getDefaultJobCancelTimeout(t.minJobCancelTimeout),t.phaseDefinitions&&t.phaseDefinitions.forEach(function(n){i._phaseTypeToDefinitionMap[n.phaseType]=n}),i}return __extends(t,n),t.getKey=function(){return r.StoreKeys.DeployPhaseListStore},t.prototype.initialize=function(t){var u=this,r;n.prototype.initialize.call(this,t);this._deployPhaseListActionsHub=i.ActionsHubManager.GetActionsHub(s.DeployPhaseListActionsHub,t);this._deployPhaseListActionsHub.addPhase.addListener(this._addPhase);this._deployPhaseListActionsHub.deletePhase.addListener(this._onDeletePhase);this._deployPhaseListActionsHub.updatePhases.addListener(this._updatePhases);this._deployPhaseListActionsHub.shiftPhase.addListener(this._handleShiftPhase);this._deployPhaseListActionsHub.insertPhase.addListener(this._handleInsertPhase);this._deployPhaseListActionsHub.completePhaseAddition.addListener(this._handleCompletePhaseAddition);r=[];this._phaseList.forEach(function(n){var t=u._createStore(n);r.push(t)});this.initializeListDataStore(r)},t.prototype.updateVisitor=function(n){n.deployPhases=[];var t=1;this.getDataStoreList().forEach(function(i){var r=u.JQueryWrapper.extend({},null);i.updateVisitor(r);r.rank=t;t=t+1;n.deployPhases.push(r)})},t.prototype.disposeInternal=function(){w.logVerbose("[DeployPhaseList.disposeInternal]: store getting disposed");this._deployPhaseListActionsHub.addPhase.removeListener(this._addPhase);this._deployPhaseListActionsHub.deletePhase.removeListener(this._onDeletePhase);this._deployPhaseListActionsHub.updatePhases.removeListener(this._updatePhases);this._deployPhaseListActionsHub.shiftPhase.removeListener(this._handleShiftPhase);this._deployPhaseListActionsHub.insertPhase.removeListener(this._handleInsertPhase);this._deployPhaseListActionsHub.completePhaseAddition.removeListener(this._handleCompletePhaseAddition);n.prototype.disposeInternal.call(this)},t.prototype.getPhaseStores=function(){return b.clone(this.getDataStoreList())},t.prototype.getNextSelectablePhaseStore=function(){return this._nextSelectablePhaseStore},t.prototype.getTaskVisibilityFilter=function(){return this._addTaskVisibilityFilter},t.prototype.shouldShowSkipArtifactDownload=function(){return this._showSkipArtifactDownload},Object.defineProperty(t.prototype,"isSelectionObsolete",{get:function(){return this._isSelectionObsolete},set:function(n){this._isSelectionObsolete=n},enumerable:!1,configurable:!0}),t.prototype.isValid=function(){var i=this.getDataStoreList(),t=!0;return i&&i.length<this._minimumPhaseCount?t=!1:n.prototype.isValid.call(this)||(t=!1),t},t.prototype.getPhaseCount=function(){var n=this.getDataStoreList();return n?n.length:0},t.prototype.isPhaseAdditionInProgress=function(n){return this._underAdditionPhaseId===n},t.prototype._createStore=function(n){var t,u=r.DEPLOY_PHASE_ITEM_PREFIX+this.getInstanceId()+"-phase-"+o.DtcUtils.getUniqueInstanceId(),i={phaseType:n.phaseType,contributedPhaseInputs:[],phaseInputToContributionMap:null};this._phaseTypeToDefinitionMap&&this._phaseTypeToDefinitionMap[n.phaseType]&&(i=this._phaseTypeToDefinitionMap[n.phaseType]);switch(n.phaseType){case p.DeployPhaseTypes.DefaultPhase:t=e.StoreManager.CreateStore(l.DefaultPhaseStore,r.TaskListStoreInstanceId,{phase:n,itemSelectionInstanceId:this._itemSelectionInstanceId,taskDelegates:this._taskDelegates,processInstanceId:r.TaskListStoreInstanceId,processParametersNotSupported:this._processParametersNotSupported,isFileSystemBrowsable:this._isFileSystemBrowsable,phaseDefinition:i});break;case p.DeployPhaseTypes.MachineGroupBasedDeployment:t=e.StoreManager.CreateStore(v.RunOnMachineGroupPhaseStore,u,{phase:n,itemSelectionInstanceId:this._itemSelectionInstanceId,taskDelegates:this._taskDelegates,processInstanceId:this.getInstanceId(),processParametersNotSupported:this._processParametersNotSupported,isFileSystemBrowsable:this._isFileSystemBrowsable,phaseDefinition:i});break;case p.DeployPhaseTypes.RunOnServer:t=e.StoreManager.CreateStore(y.RunOnServerPhaseStore,u,{phase:n,itemSelectionInstanceId:this._itemSelectionInstanceId,taskDelegates:this._taskDelegates,processInstanceId:this.getInstanceId(),processParametersNotSupported:this._processParametersNotSupported,isPipelineOrchestration:this._isPipelineOrchestration,showPhaseDependencies:this._showPhaseDependencies,minJobCancelTimeoutInMinutes:this._minJobCancelTimeoutInMinutes,isFileSystemBrowsable:this._isFileSystemBrowsable,phaseDefinition:i});break;case p.DeployPhaseTypes.AgentBasedDeployment:case p.DeployPhaseTypes.DefaultPhase:t=e.StoreManager.CreateStore(a.RunOnAgentPhaseStore,u,{phase:n,itemSelectionInstanceId:this._itemSelectionInstanceId,taskDelegates:this._taskDelegates,processInstanceId:this.getInstanceId(),processParametersNotSupported:this._processParametersNotSupported,allowInheritAgentQueue:!!this._allowInheritAgentQueues,isPipelineOrchestration:this._isPipelineOrchestration,showPhaseDependencies:this._showPhaseDependencies,minJobCancelTimeoutInMinutes:this._minJobCancelTimeoutInMinutes,isFileSystemBrowsable:this._isFileSystemBrowsable,phaseDefinition:i});break;default:this._createPhaseStoreDelegate&&(t=this._createPhaseStoreDelegate[n.phaseType](u,n,{phase:n,itemSelectionInstanceId:this._itemSelectionInstanceId,taskDelegates:this._taskDelegates,processInstanceId:this.getInstanceId(),processParametersNotSupported:this._processParametersNotSupported,isFileSystemBrowsable:this._isFileSystemBrowsable,phaseDefinition:i}))}return t},t.prototype._shiftPhase=function(n,t){var r=this.getDataStoreList(),u,i;r&&r.length>0&&(u=-1,i=-1,u=b.findIndex(r,function(t){return t&&t.getInstanceId()===n}),i=u+t,u!==-1&&i!==-1&&i<r.length&&(i=t<0?i:i+1,this.reorderDataStoreList(n,i)))},t.prototype._initializeStores=function(n){var i=this,t=[];return n.forEach(function(n){var r=i._createStore(n);t.push(r)}),t},t.prototype._generateUniquePhaseRefName=function(){var t=null,n;return this._isPipelineOrchestration&&(n=[],this.getPhaseStores().forEach(function(t){return n.push(t.getState().refName)}),t=c.RefNames.GenerateUniqueRefNameForJob(n)),t},t}(f.ListDataStoreBase);t.DeployPhaseListStore=d});

define("DistributedTaskControls/Phase/Actions/DeployPhaseListActionsCreator",["require","exports","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Phase/Actions/DependenciesActionsCreator","DistributedTaskControls/Phase/Actions/DeployPhaseActionsCreator","DistributedTaskControls/Phase/Actions/DeployPhaseListActions","DistributedTaskControls/Phase/Stores/DeployPhaseListStore","DistributedTaskControls/Phase/Types","DistributedTaskControls/Phase/Stores/DependenciesStore"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){Object.defineProperty(t,"__esModule",{value:!0});t.DeployPhaseListActionsCreator=void 0;var v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(n){this._instanceId=n;this._deployPhaseListActionsHub=r.ActionsHubManager.GetActionsHub(h.DeployPhaseListActionsHub,n)},t.getKey=function(){return f.ActionCreatorKeys.DeployPhaseListActionsCreator},t.prototype.addPhase=function(n){this._deployPhaseListActionsHub.addPhase.invoke(n)},t.prototype.deletePhase=function(n,t){var r=e.StoreManager.GetStore(c.DeployPhaseListStore,this._instanceId);r.getPhaseStores().forEach(function(n){var f,s;if(n.getPhaseType()===l.DeployPhaseTypes.AgentBasedDeployment||n.getPhaseType()===l.DeployPhaseTypes.RunOnServer){var r=n.getInstanceId(),h=e.StoreManager.GetStore(a.DependenciesStore,r),u=h.getCurrentDependencies();u.length>0&&(f=u.filter(function(n){return n.scope!==t.refName}),s=i.ActionCreatorManager.GetActionCreator(o.DependenciesActionsCreator,r),s.updateCurrentDependencies({dependencies:f}))}});this._deployPhaseListActionsHub.deletePhase.invoke(n)},t.prototype.updatePhases=function(n,t){var f={phases:n,isForceInitializationOfStore:t},u,r;this._deployPhaseListActionsHub.updatePhases.invoke(f);u=e.StoreManager.GetStore(c.DeployPhaseListStore,this._instanceId);r={};u.getDataStoreList().forEach(function(n,t){var i=n.getInstanceId();r[t]=i});n=n||[];n.forEach(function(n,u){var f=i.ActionCreatorManager.GetActionCreator(s.DeployPhaseActionsCreator,r[u]);f.updatePhase(n,t)})},t.prototype.shiftPhase=function(n,t){this._deployPhaseListActionsHub.shiftPhase.invoke({itemKey:n,shiftBy:t})},t.prototype.insertPhase=function(n){this._deployPhaseListActionsHub.insertPhase.invoke(n)},t.prototype.startDragPhase=function(){this._deployPhaseListActionsHub.startDragPhase.invoke({})},t.prototype.endDragPhase=function(){this._deployPhaseListActionsHub.endDragPhase.invoke({})},t.prototype.completePhaseAddition=function(){this._deployPhaseListActionsHub.completePhaseAddition.invoke({})},t}(u.ActionCreatorBase);t.DeployPhaseListActionsCreator=v});

define("DistributedTaskControls/Phase/Components/DeployPhaseItemOverview",["require","exports","react","react-dom","react-transition-group","DistributedTaskControls/Actions/ItemSelectorActions","DistributedTaskControls/Actions/ProcessParameterActions","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/DragDropManager","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Task/AddTaskItem","DistributedTaskControls/Components/TaskList","DistributedTaskControls/Components/TwoPanelOverviewComponent","DistributedTaskControls/Phase/Actions/DeployPhaseListActionsCreator","DistributedTaskControls/Phase/Actions/DeployPhaseListActions","DistributedTaskControls/Phase/Components/DeletePhaseDialog","DistributedTaskControls/ProcessManagement/ProcessManagementStore","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Button","OfficeFabric/List","VSSUI/Tooltip","OfficeFabric/Utilities","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/LoaderPlugins/Css!DistributedTaskControls/Phase/Components/DeployPhaseItemOverview"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st){var ct;Object.defineProperty(t,"__esModule",{value:!0});t.DeployPhaseItemOverview=t.DeployPhaseItemOverviewContent=void 0;var lt=500,at=1e3,ht=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleKeyDown=function(n){t._processManagementStore.canEditPhases()&&n.keyCode===st.KeyCode.DELETE&&t._showDeletePhaseDialog()},t._handleDeletePhaseAnimationComplete=function(){var i={refName:t.props.phaseItemStore.getState().refName,name:t.props.phaseItemStore.getState().name},n;t._deployPhaseListActionsCreator.deletePhase(t.props.phaseItemStore.getInstanceId(),i);n={processParameterReferenceData:t.props.phaseItemStore.getProcessParametersReferenceData(),shouldReferencesIncrease:!1};t._processParametersActionsHub.updateReferenceCount.invoke(n)},t._onAddTaskClicked=function(){var n=t._items[0];t._itemSelectorActions.selectItem.invoke({data:t._addTaskItem})},t._onRenderItem=function(n){return n.getOverview(t.props.instanceId)},t._onStoreChanged=function(){t._setState()},t._onDragStart=function(n){l.DragDropManager.instance().onDragStart(n,{listId:t.props.phaseListInstanceId,key:t.props.item.getKey(),data:t.props.item},!1,"move");st.BrowserCheckUtils.isChrome()||st.BrowserCheckUtils.isSafari()?setTimeout(function(){t._deployPhaseListActionsHub.startDragPhase.invoke({})},1):t._deployPhaseListActionsHub.startDragPhase.invoke({})},t._onDragOver=function(n){l.DragDropManager.instance().onDragOver(n,t._itemAcceptsDropData)},t._onDragLeave=function(n){l.DragDropManager.instance().onDragLeave(n,t._itemAcceptsDropData)},t._onDrop=function(n){var i=l.DragDropManager.instance().getSource(),r=t.props.phaseListInstanceId,u=t.props.item;(ot.equals(i.key,h.TASK_DEFINITION_DATA_KEY)||i.data.getKey&&ot.caseInsensitiveContains(i.data.getKey(),h.TASK_ITEM_PREFIX))&&(r=t.props.phaseItemStore.getInstanceId(),u=null);l.DragDropManager.instance().onDrop(n,{listId:r,key:t.props.item.getKey(),data:u},t._itemAcceptsDropData)},t._onDragEnd=function(n){var i=l.DragDropManager.instance().onDragEnd(n);i===l.DropStatus.Accepted&&v.Telemetry.instance().publishEvent(v.Feature.MovePhase,{},v.Source.DragAndDrop);t._deployPhaseListActionsHub.endDragPhase.invoke({})},t._itemAcceptsDropData=function(n,i){if(!n||!n.data)return!1;if(ot.equals(n.key,h.TASK_DEFINITION_DATA_KEY)&&t._processManagementStore.canEditTasks())return n.listId===t.props.phaseItemStore.getInstanceId();if(n.data.getKey&&ot.caseInsensitiveContains(n.data.getKey(),h.TASK_ITEM_PREFIX)&&t._processManagementStore.canEditTasks()){var r=t.props.taskGroupType;return r?y.DtcUtils.isTaskSupportedForTaskGroup(r,n.data.getRunsOn()):!0}return!i&&n.data.getKey&&ot.caseInsensitiveContains(n.data.getKey(),h.DEPLOY_PHASE_ITEM_PREFIX)&&t._processManagementStore.canEditPhases()},t._showDeletePhaseDialog=function(){t.setState({showDeletePhaseDialog:!0})},t._hideDeletePhaseDialog=function(){t.setState({showDeletePhaseDialog:!1})},t.c_reorderPhaseListInProgressClassName="is-reorder-phase-list-inprogress",t}return __extends(t,n),t.prototype.componentWillMount=function(){var i=this,n=this.props.phaseItemStore.getInstanceId(),t;this._processManagementStore=a.StoreManager.GetStore(nt.ProcessManagementStore,this.props.phaseItemStore.getProcessInstanceId());this._deployPhaseListActionsCreator=o.ActionCreatorManager.GetActionCreator(k.DeployPhaseListActionsCreator,this.props.phaseListInstanceId);this._deployPhaseListActionsHub=s.ActionsHubManager.GetActionsHub(d.DeployPhaseListActionsHub,this.props.phaseListInstanceId);this._processParametersActionsHub=s.ActionsHubManager.GetActionsHub(e.ProcessParameterActions,n);this._itemSelectorActions=s.ActionsHubManager.GetActionsHub(f.Actions,this.props.itemSelectionInstanceId);this._items=[];t=this.props.taskGroupType;this._items.push(this._addTaskItem=new p.AddTaskItem({visibilityFilter:this.props.addTaskVisibilityFilter,taskListStoreInstanceId:n,hideOverview:!0,taskGroupType:t}));this._items.push(new w.TaskList(function(){i._itemSelectorActions.selectItem.invoke({data:i.props.item})},n,t,this.props.ariaProps?this.props.ariaProps.level+1:1));this.setState({name:this.props.phaseItemStore.getState().name,isValid:this.props.phaseItemStore.isValid(),isReorderPhaseListInProgress:this.props.phaseItemStore.isReorderPhaseListInProgress,animationState:this.props.isPhaseAdditionInProgress?h.ReactCSSTransitionStates.Enter:h.ReactCSSTransitionStates.None})},t.prototype.componentWillEnter=function(n){this.props.isPhaseAdditionInProgress?this.setState({animationState:h.ReactCSSTransitionStates.EnterActive},function(){setTimeout(function(){n&&n()},lt)}):n&&n()},t.prototype.componentDidEnter=function(){var n=this;this.props.isPhaseAdditionInProgress&&this.setState({animationState:h.ReactCSSTransitionStates.None},function(){n.props.updatePhaseSelection&&n.props.updatePhaseSelection();n._deployPhaseListActionsHub.completePhaseAddition.invoke({})})},t.prototype.componentWillLeave=function(n){this.setState({animationState:h.ReactCSSTransitionStates.LeaveActive},function(){setTimeout(function(){n&&n()},at)})},t.prototype.componentDidMount=function(){this.props.phaseItemStore.addChangedListener(this._onStoreChanged);this.props.isPhaseAdditionInProgress&&this._phaseContainer.scrollIntoView(!1)},t.prototype.componentWillUnmount=function(){this.props.phaseItemStore.removeChangedListener(this._onStoreChanged);this.state.isDeleting&&(this._handleDeletePhaseAnimationComplete(),this.props.updatePhaseSelection&&this.props.updatePhaseSelection())},t.prototype.componentWillUpdate=function(n){var t=this.state.isReorderPhaseListInProgress!==n.phaseItemStore.isReorderPhaseListInProgress,i=n.phaseItemStore.isDeleting();this.expandTasksContainer(i,n.phaseItemStore.isReorderPhaseListInProgress,t)},t.prototype.componentDidUpdate=function(){this.collapseTasksContainer()},t.prototype.render=function(){var r={ariaProps:this.props.ariaProps,title:this.state.name,view:this._getView(),item:this.props.item,instanceId:this.props.instanceId,overviewClassName:"phase-item-title",controlSection:this._getControlSection(),isDraggable:this._processManagementStore.canEditPhases()},t="phase-item";this.state.isReorderPhaseListInProgress&&(t+=" "+this.c_reorderPhaseListInProgressClassName);var n=this.state.animationState,u=ft.css("phase-item-overview",{"phase-collapsed":this.state.isReorderPhaseListInProgress,"phase-add-delete-animation-enter":n===h.ReactCSSTransitionStates.Enter||n===h.ReactCSSTransitionStates.EnterActive,"phase-add-delete-animation-enter-active":n===h.ReactCSSTransitionStates.EnterActive,"phase-add-delete-animation-leave":n===h.ReactCSSTransitionStates.Leave||n===h.ReactCSSTransitionStates.LeaveActive,"phase-add-delete-animation-leave-active":n===h.ReactCSSTransitionStates.LeaveActive}),f=ft.css("phase-item-task-list-container",{"collapse-expand-transition":!!this.state.collapseExpandAnimation,"deleting-phase-collapse-transition":!!this.state.isDeleting});return i.createElement("div",{className:u,ref:this._resolveRef("_phaseContainer")},i.createElement("div",{ref:this._resolveRef("_phaseItem"),className:t,onKeyDown:this._handleKeyDown,draggable:this._processManagementStore.canEditPhases(),onDragStart:this._onDragStart,onDragEnter:this._onDragOver,onDragOver:this._onDragOver,onDragLeave:this._onDragLeave,onDrop:this._onDrop,onDragEnd:this._onDragEnd},i.createElement(b.TwoPanelOverviewComponent,__assign({},r))),i.createElement("div",{className:f,ref:this._resolveRef("_taskListContainer")},i.createElement(rt.List,{role:"group",ref:this._resolveRef("_taskListComp"),items:this._items,onRenderCell:this._onRenderItem})),this.state.showDeletePhaseDialog&&i.createElement(g.DeletePhaseDialog,{phaseItem:this.props.item,phaseStore:this.props.phaseItemStore,phaseListInstanceId:this.props.phaseListInstanceId,showDialog:this.state.showDeletePhaseDialog,onCancel:this._hideDeletePhaseDialog}))},t.prototype._getView=function(){return i.createElement("div",{className:"phase-overview-description"},this.props.phaseItemStore.arePhaseDetailsValid()?i.createElement("div",{className:"ms-font-s overview-description"},this._areDemandsNotMet()?i.createElement(ut.TooltipHost,{content:tt.MissingDemandWarning,directionalHint:13},i.createElement("span",{"data-is-focusable":!0,"aria-describedby":this.props.phaseTitleDescriptionString+this.props.instanceId,className:"bowtie-icon bowtie-status-warning left",tabIndex:0})):i.createElement("i",{className:this.props.phaseIconName}),this.props.phaseTitleDescriptionString):i.createElement("div",{className:"ms-font-s overview-error-indicator"},i.createElement("i",{className:"bowtie-icon bowtie-status-error-outline left"}),tt.SettingsRequiredMessage))},t.prototype._getControlSection=function(){if(!this._processManagementStore.canEditTasks())return null;var n=ot.localeFormat(tt.AddTaskToPhase,this.state.name);return i.createElement("div",{className:"phase-add-task"},i.createElement(ut.TooltipHost,{content:n,directionalHint:6},i.createElement(it.CommandButton,{className:"add-task-button",iconProps:{iconName:"Add"},onClick:this._onAddTaskClicked,ariaLabel:n})))},t.prototype._areDemandsNotMet=function(){return this.props.phaseItemStore?this.props.phaseItemStore.areDemandsNotMet():!1},t.prototype._setState=function(){var t=this.state.isReorderPhaseListInProgress!==this.props.phaseItemStore.isReorderPhaseListInProgress,n=this.props.phaseItemStore.isDeleting();this.setState({name:this.props.phaseItemStore.getState().name,isValid:this.props.phaseItemStore.isValid(),isReorderPhaseListInProgress:this.props.phaseItemStore.isReorderPhaseListInProgress,collapseExpandAnimation:t,isDeleting:n,animationState:n?h.ReactCSSTransitionStates.Leave:h.ReactCSSTransitionStates.None});n&&this.props.onDeletingPhase()},t.prototype.expandTasksContainer=function(n,t,i){var u=r.findDOMNode(this._taskListContainer),e=r.findDOMNode(this._taskListComp),f;u&&e&&(n?(f=r.findDOMNode(this._phaseItem),f&&(f.setAttribute("style","height:"+f.clientHeight+"px"),u.setAttribute("style","height:"+e.clientHeight+"px"))):i?u.setAttribute("style","height:"+e.clientHeight+"px"):t||u.removeAttribute("style"))},t.prototype.collapseTasksContainer=function(){var n=r.findDOMNode(this._taskListContainer),t;n&&(this.state.isDeleting?(t=r.findDOMNode(this._phaseItem),t&&(t.setAttribute("style","height:0px"),n.setAttribute("style","height:0px"))):this.state.isReorderPhaseListInProgress&&et.delay(this,0,function(){n.setAttribute("style","height:0px")}))},t}(c.Component);t.DeployPhaseItemOverviewContent=ht;ct=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleDeletePhase=function(){t.setState({isDeleting:!0})},t}return __extends(t,n),t.prototype.componentDidMount=function(){this.setState({isMounted:!0})},t.prototype.render=function(){var n=!!this.props.isPhaseAdditionInProgress;return i.createElement(u.TransitionGroup,{component:"div",className:"phase-item-overview-animation-container"},this.state.isMounted&&!this.state.isDeleting&&i.createElement(ht,__assign({key:this.props.item.getKey()},this.props,{onDeletingPhase:this._handleDeletePhase})))},t}(c.Component);t.DeployPhaseItemOverview=ct});

define("PipelineWorkflow/Scripts/Editor/Environment/GatesPhaseActionsCreator",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","PipelineWorkflow/Scripts/Editor/Environment/GatesPhaseActionsHub"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.GatesPhaseActionsCreator=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return"GatesPhaseActionsCreator"},t.prototype.initialize=function(n){this.actionsHub=r.ActionsHubManager.GetActionsHub(u.GatesPhaseActionsHub,n)},t.prototype.updateStabilizationTime=function(n){this.actionsHub.updateStabilizationTime.invoke(n)},t.prototype.updateTimeout=function(n){this.actionsHub.updateTimeout.invoke(n)},t.prototype.updateSamplingInterval=function(n){this.actionsHub.updateSamplingInterval.invoke(n)},t.prototype.updateMinimumSuccessDuration=function(n){this.actionsHub.updateMinimumSuccessDuration.invoke(n)},t}(i.ActionCreatorBase);t.GatesPhaseActionsCreator=f});

define("PipelineWorkflow/Scripts/Shared/Environment/GatesDeployPhaseItem",["require","exports","react","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Phase/Actions/DeployPhaseActionsCreator","DistributedTaskControls/Phase/Components/DeployPhaseAdditionalOptions","DistributedTaskControls/Phase/Components/DeployPhaseDetailsView","DistributedTaskControls/Phase/Components/DeployPhaseItemOverview","DistributedTaskControls/Phase/Types","DistributedTaskControls/ProcessManagement/ProcessManagementStore","DistributedTaskControls/SharedControls/InputControls/Components/DurationInputComponent","DistributedTaskControls/SharedControls/InputControls/Utilities","DistributedTasksCommon/TFS.Tasks.Types","OfficeFabric/Utilities","PipelineWorkflow/Scripts/Editor/Environment/GatesPhaseActionsCreator","PipelineWorkflow/Scripts/Editor/Environment/GatesPhaseStore","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","ReleaseManagement/Core/Constants","VSS/Utils/String","DistributedTaskControls/SharedControls/Accordion/AccordionCustomRenderer","VSS/LoaderPlugins/Css!RM:PipelineWorkflow/Scripts/Shared/Environment/GatesDeployPhaseItem"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g){Object.defineProperty(t,"__esModule",{value:!0});t.GatesDeployPhaseItem=void 0;var nt=function(){function n(n,t,o,s,l,a){var v=this;this._phaseStore=n;this._phaseListInstanceId=t;this._itemSelectionInstanceId=o;this._addTaskVisibilityFilter=s;this._getPhaseNames=l;this._showSkipArtifactDownload=a;this._getSections=function(){var n=[],t=v._phaseStore,o=u.StoreManager.GetStore(c.ProcessManagementStore,t.getProcessInstanceId()),r=!o.canEditPhaseInputs(),f=v._getGatesDeploymentInput(v._phaseStore.getState()),s=i.createElement(e.DeployPhaseAdditionalOptions,{key:h.DeployPhaseSectionConstants.AdditionalOptionsKey,phaseItemStore:t,showSkipArtifactDownload:!1,disabled:r,getSections:null,phaseInputsPresent:!1,condition:f.condition});return n.push(v._getGatesOptionsComponentSection(f,r)),n.push(s),n};this._onUpdateTimeout=function(n){v._gatesPhaseActionCreator.updateTimeout(n)};this._onUpdateSamplingIntervalTime=function(n){v._gatesPhaseActionCreator.updateSamplingInterval(n)};this._onUpdateMinimumSuccessfulWindow=function(n){v._gatesPhaseActionCreator.updateMinimumSuccessDuration(n)};this._onUpdateStabilizationTime=function(n){v._gatesPhaseActionCreator.updateStabilizationTime(n)};this._onUpdatePhaseCondition=function(n){v._deployPhaseActionCreator.updatePhaseCondition(n)};this._details=null;this._gatesPhaseActionCreator=r.ActionCreatorManager.GetActionCreator(p.GatesPhaseActionsCreator,this._phaseStore.getInstanceId());this._deployPhaseActionCreator=r.ActionCreatorManager.GetActionCreator(f.DeployPhaseActionsCreator,this._phaseStore.getInstanceId())}return n.CreateDeploymentGatesPhaseItemDelegate=function(t,i,r,u,f,e){return new n(t,i,r,u,f,e)},n.prototype.getOverview=function(n,t,r,u){var f=y.css("bowtie-icon","bowtie-toll","left");return this._overView=i.createElement(s.DeployPhaseItemOverview,{key:this.getKey(),item:this,instanceId:n,phaseItemStore:this._phaseStore,addTaskVisibilityFilter:this._addTaskVisibilityFilter,phaseListInstanceId:this._phaseListInstanceId,itemSelectionInstanceId:this._itemSelectionInstanceId,getPhaseNames:this._getPhaseNames,isPhaseAdditionInProgress:t,updatePhaseSelection:r,ariaProps:u,taskGroupType:v.TaskGroupType.RunsOnServerGate,phaseIconName:f,phaseTitleDescriptionString:b.GatesPhaseTitle}),this._overView},n.prototype.getDetails=function(n){return this._details||(this._details=i.createElement(o.DeployPhaseDetailsView,{key:this.getKey(),instanceId:n,phaseItemStore:this._phaseStore,phaseListInstanceId:this._phaseListInstanceId,phaseItem:this,showSkipArtifactDownload:!1,getPhaseNames:this._getPhaseNames,getSections:this._getSections,phaseInputsPresent:!1,phaseInputStore:null,phaseTitleString:b.GatesPhaseTitle,phaseMarkdown:b.GatesPhaseHelpMarkdown,phaseTypeDescription:b.GatesPhaseTypeDescription,condition:this._getGatesDeploymentInput(this._phaseStore.getState()).condition})),this._details},n.prototype._getGatesDeploymentInput=function(n){return n.deploymentInput},n.prototype._getGatesOptionsComponentSection=function(n,t){var r=w.GatesPhaseStore.isValidSamplingInterval(n.samplingInterval),u=w.GatesPhaseStore.isValidMinimumSuccessDuration(n.minimumSuccessDuration),f=w.GatesPhaseStore.isValidTimeout(n.timeout),e=!r||!u||!f;return i.createElement("div",{className:"gates-phases-options"},this._getStabilizationOptionControl(n.stabilizationTime,t),i.createElement(g.AccordionCustomRenderer,{label:b.EvaluationOptionsLabelText,initiallyExpanded:!0,headingLevel:2,addSeparator:!1,addSectionHeaderLine:!0,showErrorDelegate:function(){return e}},this._getSamplingIntervalTimeOptionControl(n.samplingInterval,t,r),this._getMinimumSuccessDurationOptionControl(n.minimumSuccessDuration,t,u),this._getTimeoutOptionControl(n.timeout,t,f)))},n.prototype._getStabilizationOptionControl=function(n,t){var f=b.GatesStabilizationTimeLabel,r=b.GatesStabilizationTimeHelp,u="";return w.GatesPhaseStore.isValidStabilizationTime(n)||(u=d.localeFormat(b.GatesPhaseTimeError,k.GateConstants.MinimumStabilizationTimeInMinutes,k.GateConstants.MaximumStabilizationTimeInMinutes)),i.createElement(l.DurationInputComponent,{cssClass:"gates-stabilization-time",value:n,onValueChanged:this._onUpdateStabilizationTime,label:f,errorMessage:u,infoProps:a.InputControlUtils.getCalloutInfoProps(r),showMinute:!0,showHour:!0,required:!1,inputAriaDescription:r,inputAriaLabel:b.AriaLabelGatesStabilizationTimeValue,unitAriaLabel:b.AriaLabelGatesStabilizationTimeUnit,disabled:t})},n.prototype._getTimeoutOptionControl=function(n,t,r){var e=b.GatesTimeoutLabel,u=b.GatesTimeoutHelp,f="";return r||(f=d.localeFormat(b.GatesPhaseTimeError,k.GateConstants.MinimumTimeoutInMinutes,k.GateConstants.MaximumTimeoutInMinutes)),i.createElement(l.DurationInputComponent,{cssClass:"gate-list-timeout-time",value:n,onValueChanged:this._onUpdateTimeout,label:e,errorMessage:f,infoProps:a.InputControlUtils.getCalloutInfoProps(u),showMinute:!0,showHour:!0,showDay:!0,required:!1,inputAriaDescription:u,inputAriaLabel:b.AriaLabelGatesTimeoutValue,unitAriaLabel:b.AriaLabelGatesTimeoutUnit,disabled:t})},n.prototype._getSamplingIntervalTimeOptionControl=function(n,t,r){var e=b.SamplingIntervalLabel,u=b.SamplingIntervalHelp,f="";return r||(f=d.localeFormat(b.GatesPhaseTimeError,w.GatesPhaseStore.getGatesMinimumSamplingIntervalTimeout(),k.GateConstants.MaximumSamplingIntervalInMinutes)),i.createElement(l.DurationInputComponent,{cssClass:"gate-list-sampling-interval-time",value:n,onValueChanged:this._onUpdateSamplingIntervalTime,label:e,errorMessage:f,infoProps:a.InputControlUtils.getCalloutInfoProps(u),showMinute:!0,showHour:!0,showDay:!0,required:!1,inputAriaDescription:u,inputAriaLabel:b.AriaLabelGatesSamplingIntervalTimeValue,unitAriaLabel:b.AriaLabelGatesSamplingIntervalTimeUnit,disabled:t})},n.prototype._getMinimumSuccessDurationOptionControl=function(n,t,r){var e=b.MinimumSuccessDurationLabel,u=b.MinimumSuccessDurationHelp,f="";return r||(f=d.localeFormat(b.GatesPhaseTimeError,k.GateConstants.MinimumSuccessDurationMinAllowedValueInMinutes,k.GateConstants.MinimumSuccessDurationMaxAllowedValueInMinutes)),i.createElement(l.DurationInputComponent,{cssClass:"gate-list-success-window-time",value:n,onValueChanged:this._onUpdateMinimumSuccessfulWindow,label:e,errorMessage:f,infoProps:a.InputControlUtils.getCalloutInfoProps(u),showMinute:!0,showDay:!0,showHour:!0,required:!1,inputAriaDescription:u,inputAriaLabel:b.AriaLabelMinimumSuccessDurationValue,unitAriaLabel:b.AriaLabelMinimumSuccessDurationUnit,disabled:t})},n.prototype.getKey=function(){return this._phaseStore.getInstanceId()},n.prototype.getStore=function(){return this._phaseStore},n}();t.GatesDeployPhaseItem=nt});

define("PipelineWorkflow/Scripts/Shared/Environment/ReleaseDeployPhaseHelper",["require","exports","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Phase/Types","PipelineWorkflow/Scripts/Editor/Common/Types","PipelineWorkflow/Scripts/Editor/Environment/GatesPhaseStore","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","PipelineWorkflow/Scripts/Shared/Environment/GatesDeployPhaseItem","ReleaseManagement/Core/Contracts","VSS/Utils/Array","VSS/Utils/String","PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils","PipelineWorkflow/Scripts/Shared/Environment/GatesPhaseUtils"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){Object.defineProperty(t,"__esModule",{value:!0});t.ReleaseDeployPhaseHelper=void 0;var v=function(){function n(n){var t=this;this._deployPhase=n;this._jobInfoList=[];this._deployPhase&&this._deployPhase.deploymentJobs.forEach(function(n){n&&t._jobInfoList.push({id:n.job.id,name:n.job.name,taskStatusList:t._getTaskStatusList(n.tasks),tasksCount:n.tasks.length,status:n.job.status,rank:n.job.rank})})}return n.prototype.getJobInfoList=function(){return this._jobInfoList},n.prototype._getTaskStatusList=function(n){var t=h.clone(n);return t.sort(function(n,t){return n.rank-t.rank}),t.map(function(n){return{id:n.id,name:n.name,status:n.status,startTime:n.startTime}})},n.prototype.getTasksWithStatusCountFromPhase=function(n){var u=0,f=0,e=0,o=0,h=0,c=0,i,r,t;if(this._jobInfoList)for(i=0,r=this._jobInfoList;i<r.length;i++)if(t=r[i],n&&n>0&&n!==t.rank||(u+=t.tasksCount,t.taskStatusList&&t.taskStatusList.length>0&&t.taskStatusList.forEach(function(n){switch(n.status){case s.TaskStatus.Pending:h++;break;case s.TaskStatus.InProgress:o++;break;case s.TaskStatus.Success:case s.TaskStatus.Succeeded:case s.TaskStatus.PartiallySucceeded:f++;break;case s.TaskStatus.Skipped:c++;break;case s.TaskStatus.Failure:case s.TaskStatus.Canceled:case s.TaskStatus.Failed:e++}})),n&&n>0&&n===t.rank)break;return{totalTasks:u,successfulTasks:f,failedTasks:e,inProgressTasks:o,pendingTasks:h,skippedTasks:c}},n.prototype.getCompletedTasksCountFromPhase=function(){var n=this.getTasksWithStatusCountFromPhase(),t=n.successfulTasks,i=n.failedTasks,r=n.skippedTasks;return t+i+r},n.prototype.getLastTaskWithStatusInFirstJobWithStatusDetails=function(n,t){var r=-1,u=null,f,i;return this._jobInfoList&&(f=this._jobInfoList.sort(function(n,t){return n.rank-t.rank}),i=h.first(f,function(t){return n.indexOf(t.status)>=0}),i&&i.taskStatusList.forEach(function(n,i){t.indexOf(n.status)>=0&&(r=i,u=n)})),{taskWithStatusIndex:r,taskStatus:u}},n.prototype.getLastTaskWithStatusInDeploymentJob=function(n,t){var r=-1,u=null,i;return this._jobInfoList&&(i=h.first(this._jobInfoList,function(t){return t.rank===n}),i&&i.taskStatusList.forEach(function(n,i){t.indexOf(n.status)>=0&&(r=i,u=n)})),{taskWithStatusIndex:r,taskStatus:u}},n.prototype.getTasksCountFromPhase=function(){var n=0;return this._jobInfoList&&this._jobInfoList.forEach(function(t){n+=t.tasksCount}),n},n.getDTPhaseType=function(n){switch(n){case s.DeployPhaseTypes.Undefined:return r.DeployPhaseTypes.Undefined;case s.DeployPhaseTypes.AgentBasedDeployment:return r.DeployPhaseTypes.AgentBasedDeployment;case s.DeployPhaseTypes.RunOnServer:return r.DeployPhaseTypes.RunOnServer;case s.DeployPhaseTypes.MachineGroupBasedDeployment:return r.DeployPhaseTypes.MachineGroupBasedDeployment;case s.DeployPhaseTypes.DeploymentGates:return u.DeploymentGatesPhaseTypeString;default:return null}},n.getRMPhaseType=function(n){switch(n){case r.DeployPhaseTypes.AgentBasedDeployment:case r.DeployPhaseTypes.DefaultPhase:return s.DeployPhaseTypes.AgentBasedDeployment;case r.DeployPhaseTypes.MachineGroupBasedDeployment:return s.DeployPhaseTypes.MachineGroupBasedDeployment;case r.DeployPhaseTypes.RunOnServer:return s.DeployPhaseTypes.RunOnServer;case u.DeploymentGatesPhaseTypeString:return s.DeployPhaseTypes.DeploymentGates;default:return null}},n.getCreatePhaseStoreDelegateMap=function(){var t={};return t[u.DeploymentGatesPhaseTypeString]=n._createDeploymentGatesStore,t},n.getDefaultDeployPhase=function(n){switch(n){case u.DeploymentGatesPhaseTypeString:return{name:e.GatesPhaseTitle,refName:null,phaseType:u.DeploymentGatesPhaseTypeString,rank:-1,tasks:[],deploymentInput:a.GatesPhaseUtils.getDefaultGatesDeploymentInput()};default:return null}},n.getCreateItemDelegateMap=function(){var n={};return n[u.DeploymentGatesPhaseTypeString]=o.GatesDeployPhaseItem.CreateDeploymentGatesPhaseItemDelegate,n},n.isPhaseCompleted=function(n){return n.status===s.DeployPhaseStatus.Succeeded||n.status===s.DeployPhaseStatus.Canceled||n.status===s.DeployPhaseStatus.Failed||n.status===s.DeployPhaseStatus.PartiallySucceeded?!0:!1},n.getFormattedJobName=function(n,t){var i=n.name||c.empty,r=c.empty;return(t&&t.job&&this.isMultiplierJob(t.job.name)||n.deploymentJobs&&n.deploymentJobs.length>1)&&(r=this.getJobNameWithMultiplier(i,t.job.name)),r||i},n.getJobNameWithMultiplier=function(n,t){if(n&&t){var i=this._extractMultiplierName(t);return c.localeFormat(e.LogsTabJobNameFormat,n,i)}return c.empty},n.getDeployPhase=function(n,t){var i,u,r,f;return l.FeatureFlagUtils.enableNewRouteForLogApis()?(i={},u=n.releaseDeployPhases.filter(function(n){return n.runPlanId===t.planId}),u.forEach(function(n){n.deploymentJobs&&n.deploymentJobs.forEach(function(t){t.job&&(i[t.job.timelineRecordId]=n.phaseId);t.tasks&&t.tasks.forEach(function(t){i[t.timelineRecordId]=n.phaseId})})}),r=c.empty,t.job?r=i[t.job.timelineRecordId]:t.tasks&&t.tasks.length>0&&(f=h.first(t.tasks).timelineRecordId,r=i[f]),h.first(u,function(n){return n.phaseId===r})):h.first(n.releaseDeployPhases,function(n){return n.id===t.releaseDeployPhaseId})},n._extractMultiplierName=function(n){var r=n,t,i,u;return n&&(t=e.Multiplier,i=n.indexOf(t),i>=0&&(u=n.substring(i+t.length,n.length),r=u.replace(","," | "))),r},n.isMultiplierJob=function(n){var t=!1,i,r;return n&&(i=e.Multiplier,r=n.indexOf(i),r>=0&&(t=!0)),t},n._createDeploymentGatesStore=function(n,t,r){return i.StoreManager.CreateStore(f.GatesPhaseStore,n,r)},n}();t.ReleaseDeployPhaseHelper=v});

define("PipelineWorkflow/Scripts/Shared/Utils/EnvironmentUtils",["require","exports","DistributedTaskControls/Phase/Types","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Canvas/GraphLayoutHelper","DistributedTaskControls/Common/JQueryWrapper","PipelineWorkflow/Scripts/Common/Types","PipelineWorkflow/Scripts/Common/NavigationStateUtils","PipelineWorkflow/Scripts/Shared/Constants","PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils","PipelineWorkflow/Scripts/Shared/Environment/ReleaseDeployPhaseHelper","DistributedTaskControls/SharedControls/InputControls/Components/DurationInputComponent","ReleaseManagement/Core/Contracts","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});t.EnvironmentUtils=void 0;var p=function(){function n(){}return n.getNodes=function(n,t,i){return n?n.map(function(n){return{key:n.instanceId,data:n.environment,getNodeElement:t,nodeRankHint:n.environment.rank,friendlyName:n.environment.name,nodeHeightHint:i?i(n.instanceId):undefined}}):[]},n.getDeployPhases=function(t){return t?t.map(function(t){var i=f.JQueryWrapper.extendDeep({},t),e,o,u,v;return i.phaseType=c.ReleaseDeployPhaseHelper.getDTPhaseType(t.phaseType),i.tasks=n.getTasks(t.workflowTasks),i.phaseInputs={},h.FeatureFlagUtils.isPhaseOutputVariableGroupEnabled()&&(t.phaseType===a.DeployPhaseTypes.AgentBasedDeployment||t.phaseType===a.DeployPhaseTypes.RunOnServer)&&(i.phaseInputs[s.SharedConstants.PipelineConstant_phaseinput_outputVariable]={refName:i.refName}),h.FeatureFlagUtils.isSelectiveArtifactsEnabled()&&(t.phaseType===a.DeployPhaseTypes.AgentBasedDeployment?(e=t.deploymentInput,i.phaseInputs[s.SharedConstants.PipelineConstant_phaseinput_artifactdownloadinput]={artifactsDownloadInput:e.artifactsDownloadInput,skipArtifactsDownload:e.skipArtifactsDownload}):t.phaseType===a.DeployPhaseTypes.MachineGroupBasedDeployment&&(o=t.deploymentInput,i.phaseInputs[s.SharedConstants.PipelineConstant_phaseinput_artifactdownloadinput]={artifactsDownloadInput:o.artifactsDownloadInput,skipArtifactsDownload:o.skipArtifactsDownload})),t.phaseType===a.DeployPhaseTypes.DeploymentGates&&(u=t.deploymentInput,v=i,v.deploymentInput={timeout:r.DtcUtils.convertMinutesToDuration(u.timeoutInMinutes,l.TimeUnits.Hours),stabilizationTime:r.DtcUtils.convertMinutesToDuration(u.stabilizationTime,l.TimeUnits.Minutes),samplingInterval:r.DtcUtils.convertMinutesToDuration(u.samplingInterval,l.TimeUnits.Minutes),minimumSuccessDuration:r.DtcUtils.convertMinutesToDuration(u.minimumSuccessDuration,l.TimeUnits.Minutes),condition:u.condition},i=v),i}):[]},n.getTasks=function(n){var i=this,t=[];return n&&n.length>0&&(t=n.map(function(n,t){return i._getTask(n,t)})),t},n.getWorkflowTasks=function(n){var i=this,t=[];return n&&n.length>0&&(t=n.map(function(n){return i._getWorkflowTask(n)})),t},n.hasAnySchedules=function(n){return n&&n.schedules&&n.schedules.length>0},n.canStartOnReleaseCreation=function(t,i){return t&&t.conditions&&t.conditions.length===1&&t.conditions[0].conditionType===e.PipelineEnvironmentTriggerConditionType.Event&&y.equals(t.conditions[0].name,e.PipelineEnvironmentTriggerTypeConstants.ReleaseStarted,!0)&&(!i||!n.hasAnySchedules(t))},n.hasAnyManualPreDeployApprovals=function(t){var i,r,u;return t&&t.preDeployApprovals?(i=t.preDeployApprovals,i.hasOwnProperty("approvals")?(r=i,n._hasManualApproval(r.approvals)):(u=i,n._hasManualApproval(u))):!1},n.hasAnyManualPreDeployApprovalSnapshot=function(t){if(t&&t.preApprovalsSnapshot){var i=t.preApprovalsSnapshot,r=i.approvals;return n._hasManualApproval(r)}return!1},n.fixEnvironmentRanks=function(n,t,i){var a=o.NavigationStateUtils.splitGraph(),f,r,e,h,s,c,l;a?this._fixEnvironmentRanksForSplitGraph(n,t,i):i&&t&&(f=u.GraphLayoutHelper.createStagingOrderAndDependencies(i,t),f&&(r=f.stagingOrder,e=f.dependencies,r&&e&&(h=this._getEnvironmentTriggerInstanceIds(r[0]),this._appendVirtualEdgeForFirstStageNodes(e,h),s=u.GraphLayoutHelper.getDisjointTreeFromEdges(e),s&&(c=this._sortTreesAsPerLayoutOrder(s,r[0]),l=this._getFlatEnvironmentOrder(r,c),this._fixEnvironmentsRank(n,l)))))},n.sortEnvironmentsByRank=function(n){n&&n.sort(function(n,t){return n.rank-t.rank})},n.getDefaultSpecificParallelDeploymentsExecutionPolicy=function(){return{concurrencyCount:1,queueDepthCount:0}},n.getPhaseDefinitions=function(){var t=[s.SharedConstants.PipelineConstant_phaseinput_artifactdownloadinput],r={phaseinput_artifactdownloadinput:"ms.vss-releaseManagement-web.phase-artifacts-selection-view"},u=[],f={},n;return h.FeatureFlagUtils.isPhaseOutputVariableGroupEnabled()&&(n="ms.vss-releaseManagement-web.phase-output-variables-group",t.push(s.SharedConstants.PipelineConstant_phaseinput_outputVariable),r[s.SharedConstants.PipelineConstant_phaseinput_outputVariable]=n,u.push(s.SharedConstants.PipelineConstant_phaseinput_outputVariable),f[s.SharedConstants.PipelineConstant_phaseinput_outputVariable]=n),[{phaseType:i.DeployPhaseTypes.AgentBasedDeployment,contributedPhaseInputs:t,phaseInputToContributionMap:r},{phaseType:i.DeployPhaseTypes.RunOnServer,contributedPhaseInputs:u,phaseInputToContributionMap:f},{phaseType:i.DeployPhaseTypes.MachineGroupBasedDeployment,contributedPhaseInputs:[s.SharedConstants.PipelineConstant_phaseinput_artifactdownloadinput],phaseInputToContributionMap:{phaseinput_artifactdownloadinput:"ms.vss-releaseManagement-web.phase-artifacts-selection-view"}}]},n.getWorkflowTasksAndDeploymentInputs=function(t,u){return t.deployPhases.map(function(t){var e=f.JQueryWrapper.extendDeep({},t),l,v,o;return e.phaseType=c.ReleaseDeployPhaseHelper.getRMPhaseType(e.phaseType),e.workflowTasks=n.getWorkflowTasks(t.tasks),delete e.tasks,e.refName=null,e.phaseInputs&&(h.FeatureFlagUtils.isSelectiveArtifactsEnabled()&&(l=e.phaseInputs[s.SharedConstants.PipelineConstant_phaseinput_artifactdownloadinput],l&&(t.phaseType===i.DeployPhaseTypes.AgentBasedDeployment||t.phaseType===i.DeployPhaseTypes.MachineGroupBasedDeployment)&&(e.deploymentInput.skipArtifactsDownload=l.skipArtifactsDownload,e.deploymentInput.artifactsDownloadInput=n._normalizeArtifactsDownloadInput(l.artifactsDownloadInput,u))),h.FeatureFlagUtils.isPhaseOutputVariableGroupEnabled()&&(v=e.phaseInputs[s.SharedConstants.PipelineConstant_phaseinput_outputVariable],v&&!!v.refName&&(t.phaseType===i.DeployPhaseTypes.AgentBasedDeployment||t.phaseType===i.DeployPhaseTypes.RunOnServer)&&(e.refName=v.refName))),e.phaseType===a.DeployPhaseTypes.DeploymentGates&&(o=t.deploymentInput,e.deploymentInput={timeoutInMinutes:r.DtcUtils.convertDurationToNumberInMinutes(o.timeout),stabilizationTime:r.DtcUtils.convertDurationToNumberInMinutes(o.stabilizationTime),samplingInterval:r.DtcUtils.convertDurationToNumberInMinutes(o.samplingInterval),minimumSuccessDuration:r.DtcUtils.convertDurationToNumberInMinutes(o.minimumSuccessDuration),condition:o.condition}),e})},n._normalizeArtifactsDownloadInput=function(n,t){return n&&n.downloadInputs&&t&&v.removeWhere(n.downloadInputs,function(n){var i=!0;return t.forEach(function(t){y.equals(n.alias,t.alias,!0)&&y.equals(n.artifactType,t.type,!0)&&(i=!1)}),i}),n},n._fixEnvironmentRanksForSplitGraph=function(n,t,i){var r,f,e,o,s,h;i&&t&&(r=u.GraphLayoutHelper.createStagingOrderAndDependencies(i,t),r&&(f=r.stagingOrder,e=r.dependencies,f&&e&&(o=u.GraphLayoutHelper.getDisjointTreeFromEdges(e),o&&(s=this._sortTreesAsPerLayoutOrder(o,f[0]),h=this._getFlatEnvironmentOrder(f,s),this._fixEnvironmentsRank(n,h)))))},n._hasManualApproval=function(n){var t;return n&&n.length>0&&(t=v.first(n,function(n){return!n.isAutomated})),!!t},n._sortTreesAsPerLayoutOrder=function(n,t){var i=[];return t&&t.forEach(function(t){n.some(function(r,u){if(r.indexOf(t.key)>=0)return i.push(r),n.splice(u,1),!0})}),i},n._getEnvironmentTriggerInstanceIds=function(n){var t=[],i=[];return n&&n.forEach(function(n){n.data&&n.data.conditions&&(n.data.conditions[0]?y.equals(n.data.conditions[0].name,e.PipelineEnvironmentTriggerTypeConstants.ReleaseStarted,!0)&&t.push(n.key):i.push(n.key))}),{manualTriggerEnvironmentInstanceIds:i,releaseTriggerEnvironmentInstanceIds:t}},n._appendVirtualEdgeForFirstStageNodes=function(n,t){t.releaseTriggerEnvironmentInstanceIds&&t.releaseTriggerEnvironmentInstanceIds.length>0&&(n[r.DtcUtils.getUniqueInstanceId()]=t.releaseTriggerEnvironmentInstanceIds);t.manualTriggerEnvironmentInstanceIds&&t.manualTriggerEnvironmentInstanceIds.forEach(function(t){n[r.DtcUtils.getUniqueInstanceId()]=[t]})},n._getFlatEnvironmentOrder=function(n,t){for(var o,s,r,u=[],f=[],e=n.length,h=t.length,i=0;i<h;i++)u[i]=[];if(e>0)for(i=0;i<e;i++)for(o=n[i].length,s=function(r){var f=n[i][r];f&&f.data&&t.some(function(n,t){if(n.indexOf(f.key)>=0)return u[t].push(f.data.id),!0})},r=0;r<o;r++)s(r);return u.forEach(function(n){n&&n.length>0&&(f=f.concat(n))}),f},n._fixEnvironmentsRank=function(n,t){n&&t&&n.forEach(function(n){var i=t.indexOf(n.id);i>=0&&(n.rank=i+1)})},n._getTask=function(n,t){return{displayName:n.name,refName:n.refName,enabled:n.enabled,timeoutInMinutes:n.timeoutInMinutes,inputs:n.inputs,task:{id:n.taskId,versionSpec:n.version,definitionType:n.definitionType},order:t,alwaysRun:n.alwaysRun,continueOnError:n.continueOnError,condition:n.condition,overrideInputs:n.overrideInputs,environment:n.environment,retryCountOnTaskFailure:n.retryCountOnTaskFailure}},n._getWorkflowTask=function(n){return{name:n.displayName,refName:n.refName,enabled:n.enabled,timeoutInMinutes:n.timeoutInMinutes,inputs:n.inputs,taskId:n.task.id,version:n.task.versionSpec,definitionType:n.task.definitionType,alwaysRun:n.alwaysRun,continueOnError:n.continueOnError,overrideInputs:n.overrideInputs,condition:n.condition,environment:n.environment,retryCountOnTaskFailure:n.retryCountOnTaskFailure}},n}();t.EnvironmentUtils=p});

define("PipelineWorkflow/Scripts/Shared/Utils/ReleaseEnvironmentUtils",["require","exports","q","DistributedTasksCommon/ServiceEndpoints/ServiceEndpoint.Common","DistributedTaskControls/Common/Primitives","DistributedTaskControls/Common/RegexConstants","DistributedTaskControls/Sources/AgentsSource","DistributedTaskControls/Sources/ConnectedServiceEndpointSource","DistributedTaskControls/Sources/TaskDefinitionSource","DistributedTaskControls/Common/Utilities","DistributedTaskControls/ProcessManagement/Types","PipelineWorkflow/Scripts/Editor/Sources/AadAuthorizerSource","PipelineWorkflow/Scripts/Shared/Sources/ReleaseSource","PipelineWorkflow/Scripts/Common/Types","PipelineWorkflow/Scripts/Shared/Utils/EnvironmentUtils","PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils","PipelineWorkflow/Scripts/SharedComponents/Security/PermissionHelper","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","ReleaseManagement/Core/Contracts","TFS/DistributedTask/Contracts","VSS/VSS","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt){var it,rt;Object.defineProperty(t,"__esModule",{value:!0});t.ReleaseEnvironmentUtils=t.ReleaseDialogContentConstants=void 0,function(n){n.EnvironmentTrigger_ManualOptionValueKey=1;n.EnvironmentTrigger_AutomatedOptionValueKey=2;n.Environment_Endpoint_ConnectedServiceKeyPrefix="connectedservice:";n.Environment_Endpoint_SubscriptionNameKey="subscriptionName"}(it=t.ReleaseDialogContentConstants||(t.ReleaseDialogContentConstants={}));rt=function(){function n(){}return n.getEnvironmentsAuthInfo=function(t){var i=n._getTenantsEndpointsURLForAutomatedEnvironments(t);return n._getDeploymentAuthorizationInfoFromTenantInfo(i)},n.getEnvironmentAuthInfo=function(t){var i=n._getTenantsEndpointsURLForAutomatedEnvironmentsHelper(t);return n._getDeploymentAuthorizationInfoFromTenantInfo(i)},n.authorizeDeployments=function(n){if(n&&n.length>0){var t=n.map(function(n){return l.AadAuthorizerSource.instance().authorize(n)});return i.all(t).then(function(n){return a.ReleaseSource.instance().setDeploymentAuthorizationHeader(n),i.resolve(undefined)})}return i.resolve(undefined)},n.getEnvironmentsEndpoints=function(t){var i=n._getAutomatedEnvironmentsWithPhases(t);return n._getEnvironmentsEndpointsHelper(i)},n.getEnvironmentsEndpointsWithoutFilter=function(t){return n._getEnvironmentsEndpointsHelper(t)},n.getEnvironmentEndpoints=function(t){return n._getEnvironmentsEndpointsHelper([t])},n._getEnvironmentsEndpointsHelper=function(t){var e={},f=[],u={},r={};return p.FeatureFlagUtils.isDeploymentAuthorizationEnabled()?s.TaskDefinitionSource.instance().getTaskDefinitionList().then(function(o){return e=n._getTaskDefinitionsMap(o),t.forEach(function(t){var i=n._getDeployPhasesEnabledTasks(t),r;i&&i.length>0&&(r=n._getEnvironmentUniqueEndpointIds(e,i,t.processParameters),f=nt.union(r,f,tt.ignoreCaseComparer),r.forEach(function(n){u[n]||(u[n]=[]);u[n].push(t.id)}))}),n._getOboBasedServiceEndpointsForEndpointIds(f).then(function(n){return n.forEach(function(n){var t=u[n.id];t&&t.length>0&&t.forEach(function(t){r[t]||(r[t]=[]);r[t].push(n)})}),i.resolve(r)})}):i.resolve(r)},n.getEnvironmentsPhasesDemandsWarning=function(t){return n._getEnvironmentsPhasesDemandsWarningHelper(t)},n.getEnvironmentPhasesDemandsWarning=function(t){return n._getEnvironmentsPhasesDemandsWarningHelper([t])},n.isEnvironmentPermissible=function(n,t,i,r,u){var f=w.PermissionHelper.hasEditReleaseEnvironmentPermissions(t,i,r,n);return f&&u!==k.EnvironmentStatus.InProgress},n.getEnvironmentCapabilities=function(t,i,r,u,f){var e=c.ProcessManagementCapabilities.None;return t&&n.isEnvironmentPermissible(t,i,r,u,f)&&(e=c.ProcessManagementCapabilities.EditTaskInputs|c.ProcessManagementCapabilities.EditPhaseInputs|c.ProcessManagementCapabilities.EditProcessInputs),e},n._getEnvironmentsPhasesDemandsWarningHelper=function(t){var r=[];return t&&t.length>0&&t.forEach(function(t){var i=n._getEnvironmentPhasesDemandsWarning(t);i&&i.length>0&&nt.addRange(r,i)}),r&&r.length>0?i.allSettled(r).then(function(n){var t=[];return n.forEach(function(n){n&&n.state==="rejected"&&n.reason&&n.reason.hasWarning&&t.push(n.reason)}),i.resolve(t)}):i.resolve([])},n._getEnvironmentPhasesDemandsWarning=function(t){var u=[],f,r;return t&&(f=n._getDeployPhases(t),r=n._getAgentBasedDeployPhases(f),r&&r.length>0&&r.forEach(function(r){var e=n.getPhaseDemandsWarning(r),f;e&&(f=i.defer(),e.then(function(n){f.resolve(n)},function(n){f.reject(__assign(__assign({},n),{environmentId:t.id,environmentName:t.name}))}),u.push(f.promise))})),u},n.getPhaseDemandsWarning=function(t){var u=n._getQueueIdOfAgentBasedDeployPhase(t),r;return u!==0?(r={phaseRank:t.rank,phaseName:t.name},i.all([s.TaskDefinitionSource.instance().getTaskDefinitionList(),n._getTaskAgentQueueWithForceRefreshIfNeeded(u)]).spread(function(u,f){return n._getPhaseWarningDataForDemands(t,u,f).then(function(n){return n&&n.hasWarning?i.reject(__assign(__assign({},r),n)):i.resolve({})})},function(n){return i.reject(__assign(__assign({},r),{hasWarning:!0,warningMessage:g.getErrorMessage(n)}))})):i.resolve({})},n.isDeploymentTriggerManual=function(n){return n?!n.triggerOptions||n.triggerOptions.length<=1:!1},n.getToggledManullyTriggeredEnvironmentCount=function(t){var i=n.getToggledManuallyTriggeredEnvironment(t);return i.length},n.getToggledManuallyTriggeredEnvironment=function(t){var f=[],i,u,r,e;if(t&&t.length>0)for(i=0,u=t;i<u.length;i++)r=u[i],e=n.isDeploymentTriggerManual(r),e||r.selectedTriggerKey!==it.EnvironmentTrigger_ManualOptionValueKey||f.push(r);return f},n._getPhaseWarningDataForDemands=function(t,r,u){var f=this,o,s;return u&&u.pool?u.pool.isHosted?i.resolve({}):e.AgentsSource.instance().getTaskAgentPool(u.id).then(function(o){var s,h;return o.agentCloudId>0?i.resolve({}):(s=[],s=n.getPhaseDemands(t,r),s=n._removeVaraibleDemand(s),s||(s=[]),h=f._fetchGetAgentsPromiseFromCache(u.pool.id,s),h||(h=e.AgentsSource.instance().getAgents(u.pool.id,null,!1,!1,null,s),f._getAgentsPromisesCache.push({poolId:u.pool.id,demands:s,promise:h})),h.then(function(r){var f=n._getPhaseWarningDataForAvailableAgents(t,u,s,r);return i.resolve(f)},function(n){return i.resolve({hasWarning:!0,warningMessage:g.getErrorMessage(n)})}))}):(o=!t?tt.empty:t.name,s=tt.localeFormat(b.NoAgentQueueFound,o,n._getQueueIdOfAgentBasedDeployPhase(t)),i.resolve({hasWarning:!0,warningMessage:s}))},n._fetchGetAgentsPromiseFromCache=function(n,t){var i=nt.first(this._getAgentsPromisesCache,function(i){return i.poolId===n&&nt.arrayEquals(i.demands,t,function(n,t){return tt.equals(n,t,!0)})});return i?i.promise:null},n._getPhaseWarningDataForAvailableAgents=function(n,t,i,r){if(n&&t&&i){if(r&&r.length>0){var u=nt.first(r,function(n){return n.status===d.TaskAgentStatus.Online&&n.enabled});return u?{}:{hasWarning:!0,warningMessage:tt.localeFormat(b.AgentOfflineOrDisabled,n.name)}}return{hasWarning:!0,warningMessage:tt.localeFormat(b.DemandsNotMetForDeployPhase,n.name,t.name,i.join(b.JoinNames))}}return{}},n.getPhaseDemands=function(t,i){var f;if(t){var e=n._buildTaskDefinitionMap(i),r=nt.clone(n._getDemandsOfAgentBasedDeployPhase(t)),u=y.EnvironmentUtils.getTasks(t.workflowTasks);return u&&u.length>0&&(f=[],u.forEach(function(n){var t,i;n.enabled&&(t=e[n.task.id],t&&(t.demands&&t.demands.length>0&&(i=t.demands.filter(function(n){return!nt.contains(f,n.toLowerCase())}),nt.addRange(r,i)),t.satisfies&&t.satisfies.length>0&&nt.addRange(f,t.satisfies.map(function(n){return n.toLowerCase()}))))}),r=nt.unique(r)),r}return[]},n.getEnvironmentNamesInProgress=function(n){var t=[];return n&&n.environments&&n.environments.forEach(function(n){n.preDeployApprovals.some(function(n){return n.status===k.ApprovalStatus.Pending})?t.push(n.name):n.deploySteps.some(function(n){return n.status===k.DeploymentStatus.InProgress})&&t.push(n.name)}),t},n._getAgentBasedDeployPhases=function(n){return n&&n.length>0?n.filter(function(n){return n.phaseType===v.PipelineDeployPhaseTypes.AgentBasedDeployment}):[]},n._getQueueIdOfAgentBasedDeployPhase=function(n){return n&&n.deploymentInput?n.deploymentInput.queueId:0},n._getDemandsOfAgentBasedDeployPhase=function(n){return n&&n.deploymentInput?n.deploymentInput.demands:[]},n._removeVaraibleDemand=function(n){if(n&&n.length>0){var t=nt.clone(n);return t.filter(function(n){return!f.VariableParameterRegex.test(n)})}return[]},n._buildTaskDefinitionMap=function(n){var t={};return n&&n.length>0&&n.forEach(function(n){t[n.id]=n}),t},n._getTaskAgentQueueWithForceRefreshIfNeeded=function(n){var t=i.defer(),r,u=e.AgentsSource.instance().getTaskAgentQueue(n);return u.then(function(n){r=n}).fin(function(){r?t.resolve(r):e.AgentsSource.instance().getTaskAgentQueue(n,!0).then(function(n){t.resolve(n)},function(n){t.reject(n)})}),t.promise},n._getDeploymentAuthorizationInfoFromTenantInfo=function(n){var t=[];return n&&Object.keys(n).forEach(function(i){t.push({tenantId:i,resources:n[i],vstsAccessTokenKey:tt.empty,authorizationHeaderFor:v.PipelineAuthorizationHeaderType.OnBehalfOf})}),t},n._getTenantsEndpointsURLForAutomatedEnvironments=function(n){var t=this;return n&&n.length>0&&n.forEach(function(n){n&&n.triggerOptions&&n.triggerOptions.length>0&&n.selectedTriggerKey!==it.EnvironmentTrigger_ManualOptionValueKey&&n.endpoints&&n.endpoints.length>0&&t._getTenantsEndpointsURLForAutomatedEnvironmentsHelper(n.endpoints)}),{}},n._getTenantsEndpointsURLForAutomatedEnvironmentsHelper=function(n){var t={};return n&&n.length>0&&n.forEach(function(n){if(n&&n.authorization&&n.authorization.parameters){var i=tt.empty,u=nt.first(Object.keys(n.authorization.parameters),function(n){return tt.ignoreCaseComparer(n,r.EndpointAuthorizationParameters.TenantId)===0});u&&(i=n.authorization.parameters[u],i&&(t[i]||(t[i]=[]),t[i].push(n.url)))}}),t},n._getOboBasedServiceEndpointsForEndpointIds=function(t){var r=[],u;return t&&t.length>0?t.length===1?o.ConnectedServiceEndpointSource.instance().getServiceEndpoint(t[0]).then(function(t){return n._isEndpointRequireOboAuthorization(t)&&r.push(t),i.resolve(r)}):(u=[],o.ConnectedServiceEndpointSource.instance().getServiceEndpoints(undefined,undefined,t).then(function(t){return t.forEach(function(t){n._isEndpointRequireOboAuthorization(t)&&u.push(o.ConnectedServiceEndpointSource.instance().getServiceEndpoint(t.id))}),u.length>0?i.all(u).then(function(n){return nt.addRange(r,n),i.resolve(r)}):i.resolve(r)})):i.resolve(r)},n._getAutomatedEnvironmentsWithPhases=function(t){var i=[];return t&&t.length>0&&(i=t.filter(function(t){var i=n._getDeployPhases(t);return t&&i&&i.length>0&&y.EnvironmentUtils.canStartOnReleaseCreation(t)&&!y.EnvironmentUtils.hasAnySchedules(t)&&!y.EnvironmentUtils.hasAnyManualPreDeployApprovals(t)})),i},n._getTaskDefinitionsMap=function(n){var t={};return n.forEach(function(n){t[n.id]||(t[n.id]=[]);t[n.id].push(n)}),t},n._getTaskDefinitionFromMap=function(n,t){return n[t]&&n[t].length>0?n[t][0]:undefined},n._getEnvironmentUniqueEndpointIds=function(t,i,r){var u=[];return i&&i.length>0&&t&&i.forEach(function(i){var f=n._getTaskDefinitionFromMap(t,i.taskId),e;f&&f.inputs&&f.inputs.length>0&&(e=f.inputs.filter(function(n){return tt.caseInsensitiveContains(n.type,it.Environment_Endpoint_ConnectedServiceKeyPrefix)}).map(function(n){return n.name}),e.forEach(function(n){var f=i.inputs[n],t,e,o;f&&(t=tt.empty,e=h.DtcUtils.getProcParamNameFromProcessParameter(f),t=e?h.DtcUtils.resolveProcessParameterEndpoint(r,e):f,t&&(o=nt.first(u,function(n){return tt.ignoreCaseComparer(n,t)===0}),o||u.push(t)))}))}),u},n._isEndpointRequireOboAuthorization=function(n){return n&&(tt.ignoreCaseComparer(n.type,r.ServiceEndpointType.AzureRM)===0||tt.ignoreCaseComparer(n.type,r.ServiceEndpointType.AzureDeploymentManager)===0)&&n.data[r.EndpointAuthorizationParameters.OboAuthorization]&&u.Boolean.isTrue(n.data[r.EndpointAuthorizationParameters.OboAuthorization])},n._getDeployPhasesEnabledTasks=function(t){var r=[],i=n._getDeployPhases(t);return i&&i.length>0&&i.forEach(function(n){return n.workflowTasks.forEach(function(n){n.enabled&&r.push(n)})}),r},n._getDeployPhases=function(n){var t=[];return n&&(n.hasOwnProperty("deployPhases")?t=n.deployPhases:n.hasOwnProperty("deployPhasesSnapshot")&&(t=n.deployPhasesSnapshot)),t},n._getAgentsPromisesCache=[],n}();t.ReleaseEnvironmentUtils=rt});

define("PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseActions",["require","exports","DistributedTaskControls/Common/Actions/Base","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/Constants","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.CreateReleaseActions=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return r.CreateReleaseKeys.ActionHubKey_CreateReleaseActionHub},t.prototype.initialize=function(){this._initializeDefinition=new u.Action;this._initializeProject=new u.Action;this._initializeEnvironmentsPhasesWarning=new u.Action;this._initializeEnvironmentsEndpoints=new u.Action;this._updateErrorMessage=new u.Action;this._updateDescription=new u.Action;this._updateSelectedDeploymentTrigger=new u.Action;this._initializeArtifactsVersions=new u.Action;this._updateArtifactSelectedVersion=new u.Action;this._toggleDeploymentTrigger=new u.Action;this._updateManualDeploymentTriggers=new u.Action;this._getVersionPickerContributions=new u.Action},Object.defineProperty(t.prototype,"initializeDefinition",{get:function(){return this._initializeDefinition},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"initializeProject",{get:function(){return this._initializeProject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"initializeEnvironmentsPhasesWarning",{get:function(){return this._initializeEnvironmentsPhasesWarning},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"initializeEnvironmentsEndpoints",{get:function(){return this._initializeEnvironmentsEndpoints},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateErrorMessage",{get:function(){return this._updateErrorMessage},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateDescription",{get:function(){return this._updateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateSelectedDeploymentTrigger",{get:function(){return this._updateSelectedDeploymentTrigger},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"initializeDefinitionArtifactsVersions",{get:function(){return this._initializeArtifactsVersions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateArtifactSelectedVersion",{get:function(){return this._updateArtifactSelectedVersion},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toggleDeploymentTrigger",{get:function(){return this._toggleDeploymentTrigger},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateManualDeploymentTriggers",{get:function(){return this._updateManualDeploymentTriggers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getVersionPickerContributions",{get:function(){return this._getVersionPickerContributions},enumerable:!1,configurable:!0}),t}(i.ActionsHubBase);t.CreateReleaseActions=f});

define("PipelineWorkflow/Scripts/Shared/Environment/EnvironmentActionCreator",["require","exports","PipelineWorkflow/Scripts/Shared/Constants","PipelineWorkflow/Scripts/Shared/Environment/EnvironmentActionsHub","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.EnvironmentActionCreator=void 0;var e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return i.SharedActionCreatorKeys.Environment},t.prototype.getActionsHub=function(){return this._environmentActionsHub},t.prototype.initialize=function(n){this._environmentActionsHub=u.ActionsHubManager.GetActionsHub(r.EnvironmentActionsHub,n)},t.prototype.initializeEnvironment=function(n,t){this.getActionsHub().initializeEnvironment.invoke({environment:n,artifacts:t})},t.prototype.updateExistingEnvironment=function(n){this.getActionsHub().updateExistingEnvironment.invoke({environment:n})},t}(f.ActionCreatorBase);t.EnvironmentActionCreator=e});

define("PipelineWorkflow/Scripts/Shared/EnvironmentList/EnvironmentListActionCreator",["require","exports","VSS/Diag","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base","PipelineWorkflow/Scripts/Shared/Constants","PipelineWorkflow/Scripts/Shared/EnvironmentList/EnvironmentListActionsHub","PipelineWorkflow/Scripts/Shared/Environment/EnvironmentActionCreator"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.EnvironmentListActionCreator=void 0;var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return e.SharedActionCreatorKeys.EnvironmentList},t.prototype.initialize=function(n){this._instanceId=n;this._environmentListActionsHub=u.ActionsHubManager.GetActionsHub(o.EnvironmentListActionsHub,n)},t.prototype.initializeEnvironmentList=function(n,t){var r,u,f,e;if(i.logVerbose("EnvironmentListActionCreator invoking initializeEnvironmentList instanceID ".concat(this._instanceId)),this._environmentListActionsHub.initializeEnvironmentList.invoke({environmentList:n}),n)for(r=0,u=n;r<u.length;r++)f=u[r],e=this.getEnvironmentActionCreator(f.id.toString()),e.initializeEnvironment(f,t);i.logVerbose("EnvironmentListActionCreator invoked initializeEnvironment for indv environments instanceID ".concat(this._instanceId))},t.prototype.refreshEnvironmentList=function(n,t){var r,u,f,e;if(i.logVerbose("EnvironmentListActionCreator invoking refreshEnvironmentList instanceID ".concat(this._instanceId)),this._environmentListActionsHub.refreshEnvironmentList.invoke({environmentList:n}),n)for(r=0,u=n;r<u.length;r++)f=u[r],e=this.getEnvironmentActionCreator(f.id.toString()),e.initializeEnvironment(f,t);i.logVerbose("EnvironmentListActionCreator invoked initializeEnvironment for indv environments instanceID ".concat(this._instanceId))},t.prototype.updateExistingEnvironments=function(n,t){var i,r,u,f;if(this._environmentListActionsHub.updateExistingEnvironmentList.invoke({environmentList:n}),n)for(i=0,r=n;i<r.length;i++)u=r[i],f=this.getEnvironmentActionCreator(u.id.toString()),f.updateExistingEnvironment(u,t)},t.prototype.getEnvironmentActionCreator=function(n){return r.ActionCreatorManager.GetActionCreator(s.EnvironmentActionCreator,n)},t}(f.ActionCreatorBase);t.EnvironmentListActionCreator=h});

define("PipelineWorkflow/Scripts/Editor/Artifact/ArtifactSource",["require","exports","q","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Common/Sources/SourceManager","PipelineWorkflow/Scripts/Common/Sources/ReleaseManagementSourceBase","PipelineWorkflow/Scripts/Editor/Sources/ReleaseEditorWebPageData","PipelineWorkflow/Scripts/Editor/Sources/CreateReleasePanelData","PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","ReleaseManagement/Core/Constants","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","VSS/Context","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});t.ArtifactSource=void 0;var p=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._isDataLoaded=!1,t._getDefinitionArtifactVersionsPromise={},t}return __extends(t,n),t.getKey=function(){return"ArtifactSource"},t.prototype.postInputValuesQuery=function(n){return this.getClient().postInputValuesQuery(n)},t.prototype.getArtifactTypesDefinition=function(){var n=this;return this._artifactTypesDefinitionPromise?this._artifactTypesDefinitionPromise:this.getClient().getArtifactTypesDefinition().then(function(t){return n._artifactTypesDefinitionPromise=i.resolve(t),n._artifactTypesDefinitionPromise},function(n){return i.reject(n)})},t.prototype.getPreFetchedArtifactTypeDefinitions=function(){return e.ReleaseEditorWebPageDataHelper.instance().getArtifactTypeDefinitions()},t.prototype.getDefinitionArtifactsVersions=function(n,t,r){var e=this,l,u;if(t===void 0&&(t=!1),!this._isDataLoaded&&s.FeatureFlagUtils.isCreateReleaseDataProviderEnabled()){var f=o.CreateReleasePanelDataHelper.getInstance(),h=f.getReleaseDefinition(),c=f.getLinkedProjects()?f.getLinkedProjects()[0]:null;h&&c&&(l=y.format("{0}:{1}",c.name,h.id),this._getDefinitionArtifactVersionsPromise[l]=i.resolve(f.getArtifactVersions()));this._isDataLoaded=!0}return(r=r||a.getDefaultWebContext().project.name,u=y.format("{0}:{1}",r,n),!this._getDefinitionArtifactVersionsPromise[u]||t)?this.getClient().getDefinitionArtifactsVersions(n,r).then(function(n){return e._getDefinitionArtifactVersionsPromise[u]=i.resolve(n),e._getDefinitionArtifactVersionsPromise[u]}):this._getDefinitionArtifactVersionsPromise[u]},t.prototype.getArtifactsVersion=function(n){return this.getClient().getArtifactsVersion(n)},t.prototype.getArtifactVersionDetails=function(n,t){var y=this,f=i.defer(),u,e,o,s,v;if(n&&n.definitionReference&&t){u=r.JQueryWrapper.extendDeep({},n);e={};u.definitionReference[c.ArtifactDefinitionConstants.DefaultVersionSpecificId]={id:t.id,name:t.name};for(o in u.definitionReference)e[o]=u.definitionReference[o].id;e[l.ArtifactDefaultVersionConstants.DefaultVersionType]=l.ArtifactDefaultVersionConstants.SpecificVersion;u.definitionReference[c.ArtifactDefinitionConstants.ProjectId]||(s=a.getDefaultWebContext(),e[c.ArtifactDefinitionConstants.ProjectId]=s.project.id);v={currentValues:e,inputValues:[{inputId:l.ArtifactDefaultVersionConstants.DefaultVersionSpecific}],resource:u.type};this.postInputValuesQuery(v).then(function(i){try{var r=y._createBuildVersionFromResult(n.alias,i,t);f.resolve(r)}catch(u){f.reject(u)}},function(n){f.reject(n)})}else f.reject(h.InvalidParmetersMessage);return f.promise},t.instance=function(){return u.SourceManager.getSource(t)},t.prototype._createBuildVersionFromResult=function(n,t,i){var u={},f,r;if(!t||!t.inputValues||t.inputValues.length===0||(f=t.inputValues[0],!f||!f.possibleValues))return u;if(f.possibleValues.length>0)return r=v.first(f.possibleValues,function(n){return!!i&&!!i.id&&y.localeIgnoreCaseComparer(n.value,i.id)===0}),r=r||f.possibleValues[0],r&&r.data&&(u.id=r.value,u.name=r.displayValue,u.definitionId=r.data[c.BuildVersionConstants.DefinitionIdKey],u.definitionName=r.data[c.BuildVersionConstants.DefinitionNameKey],u.sourceBranch=r.data[c.BuildVersionConstants.SourceBranchKey],u.sourceVersion=r.data[c.BuildVersionConstants.SourceVersionKey],u.sourceRepositoryId=r.data[c.BuildVersionConstants.RepositoryIdKey],u.sourceRepositoryType=r.data[c.BuildVersionConstants.RepositoryTypeKey]),u;if(t.resource===c.ArtifactTypes.BuildArtifactType)throw new Error(y.localeFormat(h.InvalidIdForBuildArtifactErrorMessage,n));return u},t.artifactsDataSourceType="artifacts",t.artifactItemsDataSourceType="artifactItems",t}(f.ReleaseManagementSourceBase);t.ArtifactSource=p});

define("PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseActionsCreator",["require","exports","q","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Variables/ProcessVariables/Actions/ProcessVariablesActionCreator","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Sources/ContributionSource","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","PipelineWorkflow/Scripts/Common/ArtifactUtility","PipelineWorkflow/Scripts/Common/Actions/ProgressIndicatorActionsCreator","PipelineWorkflow/Scripts/Common/Actions/DialogActions","PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils","PipelineWorkflow/Scripts/Common/Constants","PipelineWorkflow/Scripts/Common/Types","PipelineWorkflow/Scripts/Common/TelemetryHelper","PipelineWorkflow/Scripts/Editor/Common/DefinitionVariablesUtils","PipelineWorkflow/Scripts/Editor/Sources/DeployPipelineDefinitionSource","PipelineWorkflow/Scripts/Shared/Sources/ReleaseSource","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/Constants","PipelineWorkflow/Scripts/Shared/Utils/ReleaseEnvironmentUtils","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseActions","DistributedTaskControls/Common/Stores/StoreManager","PipelineWorkflow/Scripts/Common/Stores/ProgressIndicatorStore","PipelineWorkflow/Scripts/Shared/EnvironmentList/EnvironmentListActionCreator","PipelineWorkflow/Scripts/Editor/Artifact/ArtifactSource","PipelineWorkflow/Scripts/Shared/Utils/VariablesUtils","ReleaseManagement/Core/Contracts","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","VSS/Performance","VSS/VSS","VSS/Utils/String","VSS/Context"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt){Object.defineProperty(t,"__esModule",{value:!0});t.CreateReleaseActionsCreator=void 0;var yt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._fetchedVersions={},t}return __extends(t,n),t.getKey=function(){return nt.CreateReleaseKeys.ActionsCreatorKey_CreateReleaseActionsCreator},t.prototype.initialize=function(n){this._actions=r.ActionsHubManager.GetActionsHub(it.CreateReleaseActions,n);this._commonActions=r.ActionsHubManager.GetActionsHub(v.DialogActions,n);this._processVariablesActionCreator=f.ActionCreatorManager.GetActionCreator(o.ProcessVariablesActionCreator,n)},t.prototype.initializeData=function(n,t,i,r,u,e,o){this._endPerfScenario=o;this._progressIndicatorActionsCreator=f.ActionCreatorManager.GetActionCreator(a.ProgressIndicatorActionsCreator,t);this._environmentListActionCreator=f.ActionCreatorManager.GetActionCreator(ft.EnvironmentListActionCreator,i);this._initializeVersionPickerContributionsData();n===-1?this._initializeProjectData(u,e,t):this._initializeData(n,t,r,u,e)},t.prototype.createRelease=function(n,t,i,r,u,f){var e=this;this._logActionStart(nt.CreateReleaseProgressIndicatorAction.authorizeDeploymentAction);this._authorizeAutomatedDeployments(t).then(function(){return r?e._startRelease(n,t,u):e._createNewRelease(n,t,i,u,f)}).catch(function(n){e.updateErrorMessage(lt.getErrorMessage(n))}).fin(function(){g.ReleaseSource.instance().setDeploymentAuthorizationHeader(undefined);e._logActionComplete(nt.CreateReleaseProgressIndicatorAction.authorizeDeploymentAction)})},t.prototype.updateErrorMessage=function(n){n!==null&&this._actions.updateErrorMessage.invoke(n)},t.prototype.updateDescription=function(n){this._actions.updateDescription.invoke(n)},t.prototype.updateSelectedDeploymentTrigger=function(n){this._actions.updateSelectedDeploymentTrigger.invoke(n)},t.prototype.updateArtifactSelectedVersion=function(n,t){if(t){var i={artifactIndex:n,selectedVersionId:t.id,selectedVersionName:t.name};this._actions.updateArtifactSelectedVersion.invoke(i)}},t.prototype.toggleDeploymentTrigger=function(n){this._actions.toggleDeploymentTrigger.invoke(n)},t.prototype.updateManualDeploymentTriggers=function(n){this._actions.updateManualDeploymentTriggers.invoke(n)},t.prototype.getPipelineReleaseStartParameters=function(n,t,i){var u=[],r;return n.environmentTriggers.forEach(function(n){n.triggerOptions&&n.triggerOptions.length>1&&n.selectedTriggerKey===tt.ReleaseDialogContentConstants.EnvironmentTrigger_ManualOptionValueKey&&u.push(n.environmentName)}),r={},r[e.Properties.ReleaseCreationSource]=i||w.PipelineReleaseCreationSourceConstants.Other,{definitionId:n.data.id,isDraft:!1,description:!n.description?at.empty:n.description,manualEnvironments:u,artifacts:this._getArtifactsMetadata(n),variables:ot.VariablesUtils.getVariablesInScope(t,s.VariableConstants.DefaultScopeKey),environmentsMetadata:this._getEnvironmentMetadata(n.data.environments,t),properties:r}},t.prototype._initializeData=function(n,t,i,r){var u=this,o=rt.StoreManager.GetStore(ut.ProgressIndicatorStore,t),f,e;o.isActionInProgress(nt.CreateReleaseProgressIndicatorAction.initializeDefinitionAction)||this._progressIndicatorActionsCreator.actionStarted(nt.CreateReleaseProgressIndicatorAction.initializeDefinitionAction);e=r&&r.name?!1:!0;f=i?g.ReleaseSource.instance().getRelease(n):d.DeployPipelineDefinitionSource.instance().get(n,e,!r?at.empty:r.name);f.then(function(t){if(t.id===n){u._actions.initializeDefinition.invoke(t);u._initializeEnvironmentsPhasesWarning(t.environments);u._initializeEnvironmentsForCanvas(t.environments);u._initializeEnvironmentsEndpoints(t.environments);var f=t;u._initializeArtifactsVersionsByArtifacts(f.artifacts,i?f.releaseDefinition.id:n,!r?at.empty:r.name);i||u._initializeOverridableVariables(t)}},function(n){u.updateErrorMessage(lt.getErrorMessage(n));u._endPerfScenario?u._endPerfScenario():ct.getScenarioManager().abortScenario(p.CommonConstants.FeatureArea,p.PerfScenarios.CreateReleaseDialog)}).fin(function(){u._progressIndicatorActionsCreator.actionCompleted(nt.CreateReleaseProgressIndicatorAction.initializeDefinitionAction)})},t.prototype._initializeProjectData=function(n,t,i){var r=this,u,f;this._progressIndicatorActionsCreator.actionStarted(nt.CreateReleaseProgressIndicatorAction.initializeDefinitionAction);u=at.format("{0}:{1}",vt.getDefaultWebContext().project.id,t);f=d.DeployPipelineDefinitionSource.instance().getReleaseDefinitionsForArtifactSource(ht.ArtifactTypes.Build,u,null,!n?at.empty:n.name);f.then(function(u){var f={project:n,releaseDefinitions:u};r._actions.initializeProject.invoke(f);r._initializeData(u[0].id,i,!1,n,t)},function(n){r.updateErrorMessage(lt.getErrorMessage(n));r._endPerfScenario?r._endPerfScenario():ct.getScenarioManager().abortScenario(p.CommonConstants.FeatureArea,p.PerfScenarios.CreateReleaseDialog);r._progressIndicatorActionsCreator.actionCompleted(nt.CreateReleaseProgressIndicatorAction.initializeDefinitionAction)})},t.prototype._initializeOverridableVariables=function(n){var r=this,t=k.DefinitionVariablesUtils.mapDefinitionToVariablesData(n,!0),i=t.environments,f=(n.environments||[]).map(function(n){return n.id}),u;!!i&&i.length>0&&(this._progressIndicatorActionsCreator.actionStarted(nt.CreateReleaseProgressIndicatorAction.initializeOverridableVariablesAction),u=k.DefinitionVariablesUtils.getScopePermissions(n.path,n.id,f),u.then(function(n){var u=r._getPermissionsMap(n);t.environments=i.filter(function(n){if(u[n.definitionId]===undefined||u[n.definitionId])return!0})},function(){t.environments=i}).fin(function(){var n={skipSystemVariables:!0,definitionId:t.definitionId,variableList:k.DefinitionVariablesUtils.getProcessVariables(t),scopes:k.DefinitionVariablesUtils.getScopes(t.environments),disabledMode:!1,hideAddVariables:!0};r._processVariablesActionCreator.createProcessVariables(n);r._progressIndicatorActionsCreator.actionCompleted(nt.CreateReleaseProgressIndicatorAction.initializeOverridableVariablesAction)}))},t.prototype._initializeVersionPickerContributionsData=function(){var n=this,t;this._progressIndicatorActionsCreator.actionStarted(nt.CreateReleaseProgressIndicatorAction.initializeVersionPickerContributionsAction);t=h.ContributionSource.instance().getContributions(p.ContributionIds.CreateReleaseVersionPickerContributionId);t.then(function(t){n._actions.getVersionPickerContributions.invoke(t)},function(t){n.updateErrorMessage(lt.getErrorMessage(t))}).fin(function(){n._progressIndicatorActionsCreator.actionCompleted(nt.CreateReleaseProgressIndicatorAction.initializeVersionPickerContributionsAction)})},t.prototype._getPermissionsMap=function(n){var t={};return!!n&&n.length>0&&n.forEach(function(n){t[n.scopeKey]=n.hasPermission}),t},t.prototype._initializeArtifactsVersionsByArtifacts=function(n,t,i){var r=et.ArtifactSource.instance().getDefinitionArtifactsVersions(t,i?!1:!0,i);this._initializeArtifactVersions(r,n)},t.prototype._initializeArtifactVersions=function(n,t){var i=this;this._progressIndicatorActionsCreator.actionStarted(nt.CreateReleaseProgressIndicatorAction.initializeArtifactVersionsAction);n.then(function(n){i._actions.initializeDefinitionArtifactsVersions.invoke({artifacts:t,versions:n});i._endPerfScenario?i._endPerfScenario():ct.getScenarioManager().endScenario(p.CommonConstants.FeatureArea,p.PerfScenarios.CreateReleaseDialog)},function(n){i.updateErrorMessage(lt.getErrorMessage(n));i._endPerfScenario?i._endPerfScenario():ct.getScenarioManager().abortScenario(p.CommonConstants.FeatureArea,p.PerfScenarios.CreateReleaseDialog)}).fin(function(){i._progressIndicatorActionsCreator.actionCompleted(nt.CreateReleaseProgressIndicatorAction.initializeArtifactVersionsAction)})},t.prototype._initializeEnvironmentsForCanvas=function(n){this._environmentListActionCreator.refreshEnvironmentList(n)},t.prototype._initializeEnvironmentsPhasesWarning=function(n){var t=this,i;this._progressIndicatorActionsCreator.actionStarted(nt.CreateReleaseProgressIndicatorAction.initializeEnvironmentPhaseWarningAction);i=tt.ReleaseEnvironmentUtils.getEnvironmentsPhasesDemandsWarning(n);i.then(function(n){t._actions.initializeEnvironmentsPhasesWarning.invoke(n);t._progressIndicatorActionsCreator.actionCompleted(nt.CreateReleaseProgressIndicatorAction.initializeEnvironmentPhaseWarningAction)})},t.prototype._initializeEnvironmentsEndpoints=function(n){var t=this,i;this._progressIndicatorActionsCreator.actionStarted(nt.CreateReleaseProgressIndicatorAction.initializeEnvironmentEndpointsAction);i=tt.ReleaseEnvironmentUtils.getEnvironmentsEndpoints(n);i.then(function(n){t._actions.initializeEnvironmentsEndpoints.invoke(n)},function(n){t.updateErrorMessage(lt.getErrorMessage(n))}).fin(function(){t._progressIndicatorActionsCreator.actionCompleted(nt.CreateReleaseProgressIndicatorAction.initializeEnvironmentEndpointsAction)})},t.prototype._authorizeAutomatedDeployments=function(n){if(n&&y.FeatureFlagUtils.isDeploymentAuthorizationEnabled()){var t=tt.ReleaseEnvironmentUtils.getEnvironmentsAuthInfo(n.environmentTriggers);return tt.ReleaseEnvironmentUtils.authorizeDeployments(t)}return i.resolve(undefined)},t.prototype._getEnvironmentMetadata=function(n,t){var r,i,u,f,e;if(!n||n.length===0)return[];for(r=[],i=0,u=n;i<u.length;i++)f=u[i],e=ot.VariablesUtils.getVariablesInScope(t,f.id),r.push({definitionEnvironmentId:f.id,variables:e});return r},t.prototype._getBuildTypeUnfetchedVersions=function(n){var t=[];return(n.artifactsVersionsData||[]).forEach(function(n){var i=l.ArtifactUtility.getArtifactVersionById(n.artifactVersion.versions,n.selectedVersionId);i||n.artifactSource.type!==ht.ArtifactTypes.Build||t.push(n)}),t},t.prototype._fetchNotFoundVersions=function(n){var r=this,t=[],u=this._getBuildTypeUnfetchedVersions(n);return u.forEach(function(n){var f=i.defer();t.push(f.promise);var u=n.artifactSource,e={id:n.selectedVersionId,name:n.selectedVersionName},o=et.ArtifactSource.instance().getArtifactVersionDetails(u,e);o.then(function(n){r._fetchedVersions[u.alias]=n},function(){if(u.type===ht.ArtifactTypes.Build){var n=at.localeFormat(c.InvalidIdForBuildArtifactErrorMessage,u.alias);f.reject(n)}}).fin(function(){f.resolve(null)})}),t},t.prototype._getArtifactsMetadata=function(n){var t=this,i=[];return n.canShowArtifactsVersions&&!n.hasAnyErrorsInArtifacts&&(i=n.artifactsVersionsData.map(function(n){var i={alias:n.artifactVersion.alias,instanceReference:undefined},r=l.ArtifactUtility.getArtifactVersionById(n.artifactVersion.versions,n.selectedVersionId);return i.instanceReference=r?r:t._isVersionFetched(i.alias,n.selectedVersionId)?t._fetchedVersions[i.alias]:{name:n.selectedVersionName,id:n.selectedVersionId},i})),i},t.prototype._isVersionFetched=function(n,t){if(this._fetchedVersions.hasOwnProperty(n)){var i=this._fetchedVersions[n];return i.id===t||at.equals(i.name,t,!0)}return!1},t.prototype._createNewRelease=function(n,t,r,u,f){var e=this,o=function(n){e.updateErrorMessage(lt.getErrorMessage(n));e._logActionComplete(nt.CreateReleaseProgressIndicatorAction.createReleaseAction);ct.getScenarioManager().abortScenario(p.CommonConstants.FeatureArea,p.PerfScenarios.StartRelease)};this._logActionStart(nt.CreateReleaseProgressIndicatorAction.createReleaseAction);i.all(this._fetchNotFoundVersions(t)).then(function(){var i=e.getPipelineReleaseStartParameters(t,r,f),s=g.ReleaseSource.instance().createRelease(i,u);return b.TelemetryHelper.publishReleaseTimeVariablesTelemetry(t.data,r),s.then(function(t){e._logActionComplete(nt.CreateReleaseProgressIndicatorAction.createReleaseAction);n&&n(t,u);ct.getScenarioManager().endScenario(p.CommonConstants.FeatureArea,p.PerfScenarios.StartRelease)},o)},o)},t.prototype._startRelease=function(n,t){var r=this,u=function(n){r.updateErrorMessage(lt.getErrorMessage(n));r._logActionComplete(nt.CreateReleaseProgressIndicatorAction.updateReleaseAction);ct.getScenarioManager().abortScenario(p.CommonConstants.FeatureArea,p.PerfScenarios.StartRelease)};this._logActionStart(nt.CreateReleaseProgressIndicatorAction.updateReleaseAction);i.all(this._fetchNotFoundVersions(t)).then(function(){var i=t.data,f=r._getArtifactsMetadata(t);return r._updateArtifactVersionMetaData(i,f),r._dropApprovals(i),i.description=t.description,g.ReleaseSource.instance().updateRelease(i).then(function(f){var e=r._getEnvironmentsSwitchedFromAutomatedToManual(t),o={status:st.ReleaseStatus.Active,manualEnvironments:e,comment:f.description,name:at.empty};g.ReleaseSource.instance().patchRelease(i.id,o).then(function(t){r._logActionComplete(nt.CreateReleaseProgressIndicatorAction.updateReleaseAction);n&&n(t);ct.getScenarioManager().endScenario(p.CommonConstants.FeatureArea,p.PerfScenarios.StartRelease)},u)},u)},u)},t.prototype._updateArtifactVersionMetaData=function(n,t){var r,f,i,o,u,e;if(n&&n.artifacts&&t&&t.length>0)for(r=0,f=n.artifacts;r<f.length;r++)i=f[r],i.alias&&(o=i.alias,u=this._getArtifactMetadata(o,t),i.definitionReference[w.PipelineArtifactDefinitionConstants.Version].id=u.instanceReference.id,i.definitionReference[w.PipelineArtifactDefinitionConstants.Version].name=u.instanceReference.name,e=u.instanceReference.sourceBranch,i.definitionReference[w.PipelineArtifactDefinitionConstants.BranchId]={id:e,name:e})},t.prototype._logActionStart=function(n){this._progressIndicatorActionsCreator&&this._progressIndicatorActionsCreator.actionStarted(n)},t.prototype._logActionComplete=function(n){this._progressIndicatorActionsCreator&&this._progressIndicatorActionsCreator.actionCompleted(n)},t.prototype._getArtifactMetadata=function(n,t){for(var r,u={alias:n,instanceReference:{commitMessage:"",id:"",name:"",isMultiDefinitionType:!1,definitionId:"",definitionName:"",sourceBranch:"",sourceVersion:"",sourceRepositoryId:"",sourceRepositoryType:"",sourcePullRequestVersion:null}},i=0,f=t;i<f.length;i++)if(r=f[i],n===r.alias){u=r;break}return u},t.prototype._dropApprovals=function(n){n.environments.forEach(function(n){n.preDeployApprovals=[];n.postDeployApprovals=[]})},t.prototype._getEnvironmentsSwitchedFromAutomatedToManual=function(n){for(var u,i=[],f=tt.ReleaseEnvironmentUtils.getToggledManuallyTriggeredEnvironment(n.environmentTriggers),t=0,r=f;t<r.length;t++)u=r[t],i.push(u.environmentName);return i},t}(u.ActionCreatorBase);t.CreateReleaseActionsCreator=yt});

define("DistributedTaskControls/Components/OverlayPanelHeading",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/InfoButton","DistributedTaskControls/Components/SafeLink","DistributedTaskControls/Components/TooltipIfOverflow","OfficeFabric/Label","OfficeFabric/Utilities","VSSUI/VssIcon","VSS/Utils/Accessibility","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/OverlayPanelHeading"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.OverlayPanelHeading=void 0;var l=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._isHeaderAnnounced=!1,t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",{className:s.css("overlay-panel-heading-row",this.props.cssClass)},i.createElement("div",{className:"left-section"},i.createElement(o.Label,{id:this.props.labelId,className:"overlay-panel-heading-label",role:"heading","aria-level":2},this.props.label),this.props.subHeader&&this._getSubHeader(),this.props.infoButtonRequired&&i.createElement(u.Component,{cssClass:"overlay-panel-heading-info",calloutContent:{calloutDescription:this.props.infoButtonCallOut}}),this.props.description&&this._getDescriptionElement()))},t.prototype.componentDidMount=function(){if(this.props.announceHeaderInformation&&!this._isHeaderAnnounced){this._isHeaderAnnounced=!0;var n=this.props.label;this.props.descriptionLabel&&(n+=this.props.descriptionLabel);c.announce(n)}},t.prototype._getSubHeader=function(){return i.createElement("span",{className:"subHeaderContainer"},i.createElement("span",{className:"vertical-line"}),i.createElement("span",{className:"subheader-style"},this.props.subHeader))},t.prototype._getDescriptionElement=function(){var n,t,r,u;return this.props.linkedUrl?i.createElement("div",{className:"description-container overlay-panel-heading-link-container"},i.createElement(f.SafeLink,{href:this.props.linkedUrl,target:"_blank"},this.props.description)):(n=null,this.props.descriptionIcon&&(t=0,this.props.descriptionIconType&&(t=this.props.descriptionIconType),n=i.createElement(h.VssIcon,{className:s.css("description-icon",this.props.descriptionIconClass),iconName:this.props.descriptionIcon,iconType:t})),r="description-content",u=this._getDescriptionContent(r),i.createElement("div",{className:"description-container"},n,typeof this.props.description=="string"?this._getContentWithTooltip(u,r):u))},t.prototype._getDescriptionContent=function(n){return i.createElement("div",{className:n},this.props.description)},t.prototype._getContentWithTooltip=function(n,t){return i.createElement(e.TooltipIfOverflow,{tooltip:this.props.description.toString(),targetElementClassName:t,containerClassName:"tooltip-container-class"},i.createElement("div",{className:"tooltip-container-class"},n))},t}(r.Component);t.OverlayPanelHeading=l});

define("DistributedTaskControls/SharedControls/InputControls/Components/PickListV2InputComponent",["require","exports","react","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","OfficeFabric/Utilities","VSSUI/Components/PickList/index","VSS/Diag"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.PickListV2InputComponent=void 0;var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._getListItem=function(n){return{key:n.key,name:n.name}},t._onChanged=function(n){if(!!n)t.props.onValueChanged(n.selectedItems||[])},t._getPickListItems=function(){var n=t.props.options||[];return t.props.getPickListItems?t.props.getPickListItems(n):n},t}return __extends(t,n),t.prototype.getType=function(){return r.InputControlType.INPUT_TYPE_PICK_LIST_V2},t.prototype.getControl=function(){return o.logVerbose("[PickListV2InputComponent.getControl]: Method called."),i.createElement("div",{className:"input-control-dropdown input-field-picklist"},this._getPickListDropDown())},t.prototype._getPickListDropDown=function(){return i.createElement(e.PickListDropdown,{selectedItems:this.state.value,getPickListItems:this._getPickListItems,getListItem:this._getListItem,onSelectionChanged:this._onChanged,selectionMode:this.props.selectionMode,showSelectAll:this.props.showSelectAll,className:f.css("dtc-picklist-dropdown",this.props.pickListInputClassName),ariaLabelFormat:this.props.ariaLabel,ariaDescribedBy:this.props.ariaDescribedBy})},t}(u.InputBase);t.PickListV2InputComponent=s});

define("DistributedTaskControls/Components/FlatViewCheckBox",["require","exports","react","DistributedTaskControls/Common/Components/Base","OfficeFabric/Checkbox","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/FlatViewCheckBox"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.FlatViewCheckBox=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onChange=function(n,i){t.props.onValueChanged(i)},t._onFocus=function(){t._element&&t._element.find("label").addClass("focus")},t._onBlur=function(){t._element&&t._element.find("label").removeClass("focus")},t}return __extends(t,n),t.prototype.render=function(){var t=this,n="flat-view-checkbox";return n+=!this.props.rowSelected&&!this.props.value?" hide":"",i.createElement("div",{className:"flat-view-checkbox-container",ref:function(n){t._element=$(n)}},i.createElement(u.Checkbox,{className:n,checked:!!this.props.value,onChange:this._onChange,onFocus:this._onFocus,onBlur:this._onBlur,ariaLabel:this.props.ariaLabel,disabled:!!this.props.isDisabled}))},t}(r.Component);t.FlatViewCheckBox=f});

define("DistributedTaskControls/Variables/Common/ControllerViewBase",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/FlatViewTableWithAddButton","DistributedTaskControls/Components/FlatViewTable","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/DetailsList","VSS/Utils/UI","VSS/LoaderPlugins/Css!DistributedTaskControls/Variables/Common/ControllerViewBase"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.VariablesControllerViewBase=void 0;var l=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._refreshVariableList=function(){t.setState(t._store.getState())},t._addNewVariable=function(n){t._actionCreator.addVariable({});o.DtcUtils.scrollElementToView(n.currentTarget,c.Positioning.VerticalScrollBehavior.Middle)},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._store=this._getViewStore();this._actionCreator=this._getActionCreator();this.setState(this._store.getState());this._store.addChangedListener(this._refreshVariableList)},t.prototype.componentWillUnmount=function(){this._store.removeChangedListener(this._refreshVariableList)},t.prototype.render=function(){var t=this._getHeaders(),n=this._store.getState();return n.hideAddVariables?i.createElement(f.FlatViewTable,{disabled:!!n.variablesDisabledMode,layoutMode:h.DetailsListLayoutMode.fixedColumns,isHeaderVisible:this._isHeaderVisible(),headers:t,rows:this._getVariableRows(),onCellValueChanged:this._onCellValueChanged.bind(this),ariaLabel:this._getAriaLabel()}):i.createElement(u.FlatViewTableWithAddButton,{disabled:!!n.variablesDisabledMode,layoutMode:h.DetailsListLayoutMode.fixedColumns,flatViewContainerClass:"dtc-variables-list",containerClass:"variables-section",isHeaderVisible:this._isHeaderVisible(),headers:t,rows:this._getVariableRows(),onCellValueChanged:this._onCellValueChanged.bind(this),onAdd:this._addNewVariable,addButtonClass:"fabric-style-overrides add-new-item-button add-variable-btn",addButtonDescription:s.AddVariableDescription,ariaLabel:this._getAriaLabel(),setFocusOnRender:!1,stopAutoFocus:this.isAutoFocusDisabled(),focusSelectorOnAddRow:".dtc-variable-name-cell .flat-view-text"})},t.prototype._onCellValueChanged=function(n,t){switch(t.columnKey){case e.VariableColumnKeys.NameColumnKey:this._actionCreator.updateVariableKey({index:t.rowIndex,key:n});break;case e.VariableColumnKeys.ValueColumnKey:this._actionCreator.updateVariableValue({index:t.rowIndex,variable:{value:n}});break;case e.VariableColumnKeys.SettableAtQueueTimeColumnKey:this._actionCreator.updateVariableValue({index:t.rowIndex,variable:{value:this._store.getCurrentVariablesArray()[t.rowIndex].value,allowOverride:n==="true"}})}},t.prototype._isHeaderVisible=function(){return!0},t.prototype._isVariablesInDisabledMode=function(){return!1},t.prototype.isAutoFocusDisabled=function(){return!1},t}(r.Component);t.VariablesControllerViewBase=l});

define("DistributedTaskControls/Variables/Common/ViewStoreBase",["require","exports","DistributedTaskControls/Common/Stores/Base"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.VariablesViewStoreBase=void 0;var r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(i.ViewStoreBase);t.VariablesViewStoreBase=r});

define("DistributedTaskControls/Variables/Filters/ProcessVariablesFilterActions",["require","exports","VSS/Flux/Action","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Variables/Common/Constants"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.ProcessVariablesFilterActions=void 0;var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._filter=new i.Action;this._defaultFilterTrigger=new i.Action},t.getKey=function(){return u.VariableActionHubKeys.VariablesSection_FiltersActionsHub},Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultFilterTrigger",{get:function(){return this._defaultFilterTrigger},enumerable:!1,configurable:!0}),t}(r.ActionsHubBase);t.ProcessVariablesFilterActions=f});

define("DistributedTaskControls/Variables/Filters/ProcessVariablesFilterUtility",["require","exports","DistributedTaskControls/Variables/Common/VariableUtils","DistributedTaskControls/Variables/Common/Constants","VSS/Utils/String"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.ProcessVariablesFilterUtility=void 0;var f=function(){function n(){}return n.filterVariables=function(t,i){var r,f=n.getScopes(i),u;return r=this.filterByScope(t,f),u=n.getKeyword(i),this._filterByKeyword(t,r,u)},n.areDefaultScopesChanged=function(n,t){var r,u,e,f,o,i;if(n=n||[],t=t||[],n.length!==t.length)return!0;for(r={},u=0,e=n;u<e.length;u++)i=e[u],r[i.key]=i.value;for(f=0,o=t;f<o.length;f++)i=o[f],r[i.key]=i.value;return t.length===0||t.length===2&&Object.keys(r).length===2?!1:!0},n.filterByScope=function(n,t){var f,r,o,u,e,s;if(!(t&&t.length>0))return this._getIndexes(n);for(f=[],r=0,o=n.length;r<o;r++)for(u=0,e=t;u<e.length;u++)s=e[u],i.VariablesUtils.isScopeEqual(s,n[r].scope)&&f.push(r);return f},n.doesVariableMatchFilter=function(t,i){var r=n.getKeyword(i),u=n.getScopes(i);return n._doesVariableMatchKeyword(t,r)&&n._doesVariableMatchScopes(t,u)},n.getScopes=function(n){var t=n&&n.getState();return t&&t[r.ProcessVariablesFilterKeys.Scope]?t[r.ProcessVariablesFilterKeys.Scope].value:null},n.getKeyword=function(n){var t=n&&n.getState();return t&&t[r.ProcessVariablesFilterKeys.Keyword]?t[r.ProcessVariablesFilterKeys.Keyword].value:u.empty},n.doesValueMatchKeyword=function(n,t){return!n.isSecret&&u.caseInsensitiveContains(n.value,t)},n._doesVariableMatchKeyword=function(t,i){return n._doesNameMatchKeyword(t,i)||n.doesValueMatchKeyword(t,i)||n._doesScopeMatchKeyword(t,i)},n._filterByKeyword=function(t,i,r){for(var f,e=[],u=0,o=i;u<o.length;u++)f=o[u],n._doesVariableMatchKeyword(t[f],r)&&e.push(f);return e},n._getIndexes=function(n){for(var i=[],t=0,r=n.length;t<r;t++)i.push(t);return i},n._doesNameMatchKeyword=function(n,t){return u.caseInsensitiveContains(n.name,t)},n._doesScopeMatchKeyword=function(n,t){return u.caseInsensitiveContains(n.scope.value,t)},n._doesVariableMatchScopes=function(n,t){var r,u,f;if(!t||t.length===0)return!0;for(r=0,u=t;r<u.length;r++)if(f=u[r],i.VariablesUtils.isScopeEqual(f,n.scope))return!0;return!1},n}();t.ProcessVariablesFilterUtility=f});

define("DistributedTaskControls/Variables/ProcessVariables/ViewStore",["require","exports","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Variables/Common/ViewStoreBase","DistributedTaskControls/Variables/ProcessVariables/DataStore","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Variables/ProcessVariables/Actions/ProcessVariablesViewActions","DistributedTaskControls/Variables/Filters/ProcessVariablesFilterActions","DistributedTaskControls/Variables/Common/VariableUtils","DistributedTaskControls/Variables/Filters/ProcessVariablesFilterUtility","DistributedTaskControls/Variables/ProcessVariablesV2/ValidationHelper","OfficeFabric/Utilities","VSSUI/Utilities/Filter","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});t.ProcessVariablesViewStore=void 0;var p=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return t&&(i._scopeKey=t.scopeKey),i}return __extends(t,n),t.prototype.initialize=function(n){this._state={};this._actionsHub=e.ActionsHubManager.GetActionsHub(o.ProcessVariablesViewActions,n);this._actionsHub.createProcessVariables.addListener(this._createProcessVariables);this._actionsHub.updateProcessVariables.addListener(this._updateProcessVariables);this._actionsHub.addVariable.addListener(this._addVariable);this._actionsHub.addScopedProcessVariables.addListener(this._addScopedVariables);this._actionsHub.cloneScopedProcessVariables.addListener(this._cloneScopedVariables);this._actionsHub.deleteScope.addListener(this._deleteScope);this._actionsHub.deleteVariable.addListener(this._deleteVariable);this._actionsHub.resetViewIndexToDataIndexMap.addListener(this._resetViewIndexToDataIndexMap);this._actionsHub.getMenuItemContributions.addListener(this._onMenuItemsFetched);this._filtersActionsHub=e.ActionsHubManager.GetActionsHub(s.ProcessVariablesFilterActions,n);this._filtersActionsHub.filter.addListener(this._filter);this._filtersActionsHub.defaultFilterTrigger.addListener(this._handleDefaultFilterChanged);this._dataStore=i.StoreManager.GetStore(u.ProcessVariablesStore,n);this._dataStore.addChangedListener(this._onDataStoreChanged);this._setDefaultFilterOnLoad();this._onDataStoreChanged()},t.prototype.getState=function(){return this._state},t.prototype.getCurrentVariablesArray=function(){for(var r=this._dataStore.getCurrentVariablesArray(),t=this._state.viewIndexTodataIndexMap,i=[],n=0,u=t.length;n<u;n++)i.push(r[t[n]]);return i},t.prototype.getDuplicateVariableNamesMap=function(){var n=this._dataStore.getCurrentVariablesArray();return l.ValidationHelper.getDuplicateVariableNamesMap(n,f.VariableConstants.DefaultScopeKey)},t.prototype.getDefaultScopeDuplicateVariableNamesMap=function(){var n=this.getDuplicateVariableNamesMap();return n.hasOwnProperty(f.VariableConstants.DefaultScopeKey)?n[f.VariableConstants.DefaultScopeKey]:{}},t.prototype.shouldShowPermissionWarning=function(n){return this._dataStore.shouldShowPermissionWarning(n)},t.prototype.getPermissionWarningMessage=function(){return this._dataStore.getPermissionWarningMessage()},t.prototype.disposeInternal=function(){this._actionsHub.createProcessVariables.removeListener(this._createProcessVariables);this._actionsHub.updateProcessVariables.removeListener(this._updateProcessVariables);this._actionsHub.addVariable.removeListener(this._addVariable);this._actionsHub.addScopedProcessVariables.removeListener(this._addScopedVariables);this._actionsHub.cloneScopedProcessVariables.removeListener(this._cloneScopedVariables);this._actionsHub.deleteScope.removeListener(this._deleteScope);this._actionsHub.deleteVariable.removeListener(this._deleteVariable);this._actionsHub.resetViewIndexToDataIndexMap.removeListener(this._resetViewIndexToDataIndexMap);this._actionsHub.getMenuItemContributions.addListener(this._onMenuItemsFetched);this._filtersActionsHub.defaultFilterTrigger.removeListener(this._handleDefaultFilterChanged);this._filtersActionsHub.filter.removeListener(this._filter);this._dataStore.removeChangedListener(this._onDataStoreChanged)},t.getKey=function(){return f.VariableStoreKeys.StoreKey_VariablesListViewStore},t.prototype._setDefaultFilterOnLoad=function(){this._scopeKey&&(this._state.filter=new v.Filter,this._state.filter.setState(this._getDefaultState(this._scopeKey)),this._postFilterSetChanges())},t.prototype._createProcessVariables=function(){this._state.viewIndexTodataIndexMap=null},t.prototype._updateProcessVariables=function(){this._filterVariables();this.emitChanged()},t.prototype._addVariable=function(){var n=this._dataStore.getCurrentVariablesArray(),t=n.length;this._state.viewIndexTodataIndexMap.push(t)},t.prototype._addScopedVariables=function(n){for(var u,f=this._dataStore.getCurrentVariablesArray(),i=f.length,r=n.variableList,t=0,e=r.length;t<e;t++)u=h.VariablesUtils.convertDefinitionVariableToModelVariable(r[t]),c.ProcessVariablesFilterUtility.doesVariableMatchFilter(u,this._state.filter)&&this._state.viewIndexTodataIndexMap.push(i),i++},t.prototype._cloneScopedVariables=function(n){for(var i=this._dataStore.getCurrentVariablesArray(),r=i.length,f=h.VariablesUtils.getVariablesInScope(i,n.sourceScopeKey),u=h.VariablesUtils.cloneScopedProcessVariables(f,n.targetScope),t=0,e=u.length;t<e;t++)c.ProcessVariablesFilterUtility.doesVariableMatchFilter(u[t],this._state.filter)&&this._state.viewIndexTodataIndexMap.push(r),r++},t.prototype._deleteScope=function(n){for(var u,i=this._dataStore.getCurrentVariablesArray(),r=0,t=0,f=i.length;t<f;t++)u=i[t],u.scope.key===n.key&&(this._delete(t-r),r++)},t.prototype._deleteVariable=function(n){this._delete(n.index)},t.prototype._onMenuItemsFetched=function(n){this._state.variableValueMenuItems=n&&n.length?n:null;this.emitChanged()},t.prototype._delete=function(n){var t=this._state.viewIndexTodataIndexMap,r=t.indexOf(n),i,u;for(r!==-1&&t.splice(r,1),i=0,u=t.length;i<u;i++)t[i]>n&&(t[i]=t[i]-1)},t.prototype._initializeDataIndexesOrder=function(){var t,i,n;if(!this._state.viewIndexTodataIndexMap)for(t=this._dataStore.getCurrentVariablesArray(),i=t.length,this._state.viewIndexTodataIndexMap=[],n=0;n<i;n++)this._state.viewIndexTodataIndexMap.push(n)},t.prototype._onDataStoreChanged=function(){this._state.stopAutoFocus=!1;this._initializeDataIndexesOrder();a.assign(this._state,this._dataStore.getState());this._state.variablesArray=this.getCurrentVariablesArray();this.emitChanged()},t.prototype._handleDefaultFilterChanged=function(n){this._scopeKey!==n&&(this._state.stopAutoFocus=!0,this._state.filter||(this._state.filter=new v.Filter),this._state.filter.setState(this._getDefaultState(n),!0),this._postFilterSetChanges(),this._scopeKey=n,this.emitChanged())},t.prototype._filter=function(n){this._state.stopAutoFocus=!0;this._state.filter=n;this._postFilterSetChanges();this.emitChanged()},t.prototype._postFilterSetChanges=function(){this._filterVariables()},t.prototype._resetViewIndexToDataIndexMap=function(){this._state.viewIndexTodataIndexMap=null},t.prototype._filterVariables=function(){var n=this._dataStore.getCurrentVariablesArray();this._state.viewIndexTodataIndexMap=c.ProcessVariablesFilterUtility.filterVariables(n,this._state.filter);this._state.variablesArray=this.getCurrentVariablesArray()},t.prototype._getDefaultState=function(n){var i=null,t;return n&&(t=this._dataStore.getDefaultScopes(n),t&&t.length>0&&(i={keyword:{value:y.empty},scope:{value:t}})),i},__decorate([a.autobind],t.prototype,"_createProcessVariables",null),__decorate([a.autobind],t.prototype,"_updateProcessVariables",null),__decorate([a.autobind],t.prototype,"_addVariable",null),__decorate([a.autobind],t.prototype,"_addScopedVariables",null),__decorate([a.autobind],t.prototype,"_cloneScopedVariables",null),__decorate([a.autobind],t.prototype,"_deleteScope",null),__decorate([a.autobind],t.prototype,"_deleteVariable",null),__decorate([a.autobind],t.prototype,"_onMenuItemsFetched",null),__decorate([a.autobind],t.prototype,"_onDataStoreChanged",null),__decorate([a.autobind],t.prototype,"_handleDefaultFilterChanged",null),__decorate([a.autobind],t.prototype,"_filter",null),__decorate([a.autobind],t.prototype,"_resetViewIndexToDataIndexMap",null),t}(r.VariablesViewStoreBase);t.ProcessVariablesViewStore=p});

define("DistributedTaskControls/Variables/ProcessVariables/ControllerView",["require","exports","react","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/FlatViewTableTypes","DistributedTaskControls/Components/FlatViewCheckBox","DistributedTaskControls/Variables/ProcessVariables/Actions/ProcessVariablesActionCreator","DistributedTaskControls/Variables/Common/ControllerViewBase","DistributedTaskControls/Variables/ProcessVariables/ViewStore","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Variables/Common/VariableUtils","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/DetailsList","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});t.ProcessVariablesControllerView=void 0;var p=function(n){function t(t){var i=__construct(this,n,[t]);for(var f in i)i.hasOwnProperty(f)&&(this[f]=i[f]);return i._processVariableViewStore=r.StoreManager.CreateStore(h.ProcessVariablesViewStore,t.instanceId,{}),i._processVariablesActionCreator=u.ActionCreatorManager.GetActionCreator(o.ProcessVariablesActionCreator,t.instanceId),i}return __extends(t,n),t.prototype._getViewStore=function(){return this._processVariableViewStore},t.prototype._getActionCreator=function(){return this._processVariablesActionCreator},t.prototype._getHeaders=function(){var n=[],t="flatview-header header-variables-table";return n.push({key:c.VariableColumnKeys.NameColumnKey,name:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.NameColumnKey,c.ProcessVariableColumnOptionProperties.HeaderName,a.NameLabel),minWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.NameColumnKey,c.ProcessVariableColumnOptionProperties.MinWidth,200),headerClassName:t,columnActionsMode:v.ColumnActionsMode.disabled}),n.push({key:c.VariableColumnKeys.ValueColumnKey,name:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.ValueColumnKey,c.ProcessVariableColumnOptionProperties.HeaderName,a.ValueLabel),minWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.ValueColumnKey,c.ProcessVariableColumnOptionProperties.MinWidth,400),headerClassName:t,columnActionsMode:v.ColumnActionsMode.disabled}),this.props.options.settableAtQueueTime&&n.push({key:c.VariableColumnKeys.SettableAtQueueTimeColumnKey,name:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.SettableAtQueueTimeColumnKey,c.ProcessVariableColumnOptionProperties.HeaderName,a.SettableAtQueueTimeText),minWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.SettableAtQueueTimeColumnKey,c.ProcessVariableColumnOptionProperties.MinWidth,80),maxWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.SettableAtQueueTimeColumnKey,c.ProcessVariableColumnOptionProperties.MaxWidth,100),headerClassName:t,columnActionsMode:v.ColumnActionsMode.disabled}),n},t.prototype._getColumnOptionsPropertyValue=function(n,t,i){var r=this.props.options.columnOptionOverrides;return!!r&&!!r[n]&&!!r[n][t]?r[n][t]:i},t.prototype._isColumnReadOnly=function(n){return this._getColumnOptionsPropertyValue(n,c.ProcessVariableColumnOptionProperties.IsReadOnly,!1)},t.prototype._getVariableRows=function(){var n=this,u=[],o=this._getViewStore().getState(),s=o.variablesArray,t="Unlock",r=a.UnLockText,h=this._getViewStore().getDefaultScopeDuplicateVariableNamesMap();return s.forEach(function(o,s){var v={cells:{}};v.rowAriaLabel=l.VariablesUtils.getVariableRowAriaLabel(o);v.cells[c.VariableColumnKeys.NameColumnKey]={cssClass:"dtc-variable-name-cell",content:o.name,contentType:f.ContentType.SimpleText,contentHasErrors:o.name.trim()===y.empty||h[o.name.trim().toLocaleLowerCase()]>1,isTextDisabled:!!o.isSystemVariable,controlIcon:"Delete",controlTitle:l.VariablesUtils.getDeleteVariableIconAriaLabel(o),controlClickCallback:function(){n._getActionCreator().deleteVariable({index:s,key:o.name})}};o.isSecret?(t="Lock",r=a.ChangeVariableTypeToPlain):(t="Unlock",r=a.ChangeVariableTypeToSecret);v.cells[c.VariableColumnKeys.ValueColumnKey]={cssClass:"dtc-variable-value-cell",content:o.value,contentType:!o.isSecret?f.ContentType.SimpleText:f.ContentType.PasswordText,payload:o,isTextDisabled:!!o.isSystemVariable,controlIcon:t,controlTitle:r,controlClickCallback:function(){n._getActionCreator().updateVariableValue({index:s,variable:{value:o.value,isSecret:!o.isSecret}})}};n.props.options.settableAtQueueTime&&(v.cells[c.VariableColumnKeys.SettableAtQueueTimeColumnKey]={content:i.createElement(e.FlatViewCheckBox,{value:o.allowOverride,rowSelected:!1,onValueChanged:function(t){n._onCellValueChanged(t.toString(),{rowIndex:s,columnKey:c.VariableColumnKeys.SettableAtQueueTimeColumnKey})},isDisabled:!!o.isSystemVariable}),contentType:f.ContentType.JsxElement});u.push(v)}),u},t.prototype._getAriaLabel=function(){return a.ARIALabelProcessVariablesTable},t}(s.VariablesControllerViewBase);t.ProcessVariablesControllerView=p});

define("DistributedTaskControls/Variables/ProcessVariablesV2/ControllerView",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/FlatViewTableTypes","DistributedTaskControls/Components/FlatViewButton","DistributedTaskControls/Components/FlatViewCheckBox","DistributedTaskControls/Components/FlatViewDropdown","DistributedTaskControls/Components/FlatViewIcon","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Variables/Common/VariableUtils","DistributedTaskControls/Variables/ProcessVariables/ControllerView","DistributedTaskControls/Variables/ProcessVariablesV2/ValidationHelper","OfficeFabric/DetailsList","VSSUI/Tooltip","VSSUI/Util","VSSUI/ContextualMenuButton","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Variables/ProcessVariablesV2/ControllerView"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){var d,g;Object.defineProperty(t,"__esModule",{value:!0});t.ProcessVariablesV2ControllerView=void 0;d=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onColumnClick=function(n,i){if(t._isSortingEnabled()){var r=t._getActionCreator();r.sort({columnKey:i.key,isSortedDescending:!i.isSortedDescending})}},t}return __extends(t,n),t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);var t=this.props.options.valueMenuItemContributionKey;t&&this._getActionCreator().getContributedMenuItems(t)},t.prototype._getHeaders=function(){var n=[],t=this._getViewStore().getState();return this.props.options.hideError||n.push({key:c.VariableColumnKeys.IconColumnKey,name:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.IconColumnKey,c.ProcessVariableColumnOptionProperties.HeaderName,h.VariableErrorMessageColumnHeader),isIconOnly:!0,columnActionsMode:y.ColumnActionsMode.disabled,minWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.IconColumnKey,c.ProcessVariableColumnOptionProperties.MinWidth,20),maxWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.IconColumnKey,c.ProcessVariableColumnOptionProperties.MaxWidth,20)}),n.push({key:c.VariableColumnKeys.NameColumnKey,name:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.NameColumnKey,c.ProcessVariableColumnOptionProperties.HeaderName,h.NameLabel),minWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.NameColumnKey,c.ProcessVariableColumnOptionProperties.MinWidth,200),maxWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.NameColumnKey,c.ProcessVariableColumnOptionProperties.MaxWidth,300),onColumnClick:this._onColumnClick,columnActionsMode:this._isSortingEnabled()?y.ColumnActionsMode.clickable:y.ColumnActionsMode.disabled,isSorted:this._isSortingEnabled()&&t.sortedColumnKey===c.VariableColumnKeys.NameColumnKey,isSortedDescending:t.sortedColumnKey===c.VariableColumnKeys.NameColumnKey?t.isSortedDescending:!1}),this.props.options.hideDelete||n.push({key:c.VariableColumnKeys.DeleteColumnKey,name:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.DeleteColumnKey,c.ProcessVariableColumnOptionProperties.HeaderName,h.VariableDeleteColumnHeader),isIconOnly:!0,columnActionsMode:y.ColumnActionsMode.disabled,minWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.DeleteColumnKey,c.ProcessVariableColumnOptionProperties.MinWidth,32),maxWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.DeleteColumnKey,c.ProcessVariableColumnOptionProperties.MaxWidth,32)}),n.push({key:c.VariableColumnKeys.ValueColumnKey,name:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.ValueColumnKey,c.ProcessVariableColumnOptionProperties.HeaderName,h.ValueLabel),columnActionsMode:y.ColumnActionsMode.disabled,minWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.ValueColumnKey,c.ProcessVariableColumnOptionProperties.MinWidth,300),maxWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.ValueColumnKey,c.ProcessVariableColumnOptionProperties.MaxWidth,450),isSorted:this._isSortingEnabled()&&t.sortedColumnKey===c.VariableColumnKeys.ValueColumnKey,isSortedDescending:t.sortedColumnKey===c.VariableColumnKeys.ValueColumnKey?t.isSortedDescending:!1}),this.props.options.valueMenuItemContributionKey&&this._getViewStore().getState().variableValueMenuItems&&n.push({key:c.VariableColumnKeys.ContributedValueMenuColumnKey,name:"",columnActionsMode:y.ColumnActionsMode.disabled,minWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.SecretColumnKey,c.ProcessVariableColumnOptionProperties.MinWidth,16),maxWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.SecretColumnKey,c.ProcessVariableColumnOptionProperties.MaxWidth,16)}),this.props.options.hideSecret||n.push({key:c.VariableColumnKeys.SecretColumnKey,name:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.SecretColumnKey,c.ProcessVariableColumnOptionProperties.HeaderName,h.VariableSecretColumnHeader),isIconOnly:!0,columnActionsMode:y.ColumnActionsMode.disabled,iconClassName:"dtc-variables-secret-icon",iconName:"Lock",minWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.SecretColumnKey,c.ProcessVariableColumnOptionProperties.MinWidth,32),maxWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.SecretColumnKey,c.ProcessVariableColumnOptionProperties.MaxWidth,32)}),this.props.options.supportScopes&&n.push({key:c.VariableColumnKeys.ScopeColumnKey,name:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.ScopeColumnKey,c.ProcessVariableColumnOptionProperties.HeaderName,h.ScopeText),minWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.ScopeColumnKey,c.ProcessVariableColumnOptionProperties.MinWidth,220),maxWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.ScopeColumnKey,c.ProcessVariableColumnOptionProperties.MaxWidth,220),onColumnClick:this._onColumnClick,columnActionsMode:this._isSortingEnabled()?y.ColumnActionsMode.clickable:y.ColumnActionsMode.disabled,isSorted:this._isSortingEnabled()&&t.sortedColumnKey===c.VariableColumnKeys.ScopeColumnKey,isSortedDescending:t.sortedColumnKey===c.VariableColumnKeys.ScopeColumnKey?t.isSortedDescending:!1}),this.props.options.settableAtQueueTime&&n.push({key:c.VariableColumnKeys.SettableAtQueueTimeColumnKey,name:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.SettableAtQueueTimeColumnKey,c.ProcessVariableColumnOptionProperties.HeaderName,h.SettableAtQueueTimeText),columnActionsMode:y.ColumnActionsMode.disabled,isFixedColumn:!0,minWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.SettableAtQueueTimeColumnKey,c.ProcessVariableColumnOptionProperties.MinWidth,130),maxWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.SettableAtQueueTimeColumnKey,c.ProcessVariableColumnOptionProperties.MaxWidth,140)}),n},t.prototype._getVariableRows=function(){var n=this,i=[],t=this._getViewStore().getState(),r=t.variablesArray,u=t.scopes,f=t.variablesDisabledMode,e=v.ValidationHelper.getDuplicateVariableNamesMap(r,c.VariableConstants.DefaultScopeKey);return r.forEach(function(t,r){var o={cells:{}},s;o.rowAriaLabel=l.VariablesUtils.getVariableRowAriaLabel(t);s=e[t.scope&&t.scope.key||c.VariableConstants.DefaultScopeKey];o.cells[c.VariableColumnKeys.IconColumnKey]=n._getIconCellContent(t,s,f);o.cells[c.VariableColumnKeys.NameColumnKey]=n._getNameCellContent(t,s);o.cells[c.VariableColumnKeys.ValueColumnKey]=n._getValueCellContent(t);n.props.options.settableAtQueueTime&&(o.cells[c.VariableColumnKeys.SettableAtQueueTimeColumnKey]=n._getSettableAtQueueTime(t,r));o.cells[c.VariableColumnKeys.SecretColumnKey]=n._getSecretCellContent(t,r);o.cells[c.VariableColumnKeys.DeleteColumnKey]=n._getDeleteCellContent(t,r);n.props.options.supportScopes&&(o.cells[c.VariableColumnKeys.ScopeColumnKey]=n._getScopeCellContent(t,u,r));o.cells[c.VariableColumnKeys.ContributedValueMenuColumnKey]=n._getContributedMenuItemCellContent(t,r);i.push(o)}),i},t.prototype._onCellValueChanged=function(n,t){switch(t.columnKey){case c.VariableColumnKeys.NameColumnKey:this._getActionCreator().updateVariableKey({index:this._getDataIndex(t.rowIndex),key:n});break;case c.VariableColumnKeys.ValueColumnKey:this._getActionCreator().updateVariableValue({index:this._getDataIndex(t.rowIndex),variable:{value:n}});break;case c.VariableColumnKeys.SettableAtQueueTimeColumnKey:this._getActionCreator().updateVariableValue({index:this._getDataIndex(t.rowIndex),variable:{value:this._getViewStore().getCurrentVariablesArray()[t.rowIndex].value,allowOverride:n==="true"}});break;case c.VariableColumnKeys.ScopeColumnKey:var u=this._getViewStore().getState(),f=u.scopes,r=void 0,i=f.filter(function(t){return t.value===n});i&&i.length>0&&(r=i[0]);this._getActionCreator().updateVariableValue({index:this._getDataIndex(t.rowIndex),variable:{value:this._getViewStore().getCurrentVariablesArray()[t.rowIndex].value,scope:r}})}},t.prototype.isAutoFocusDisabled=function(){var n=this._getViewStore().getState();return n.stopAutoFocus},t.prototype._getIconCellContent=function(n,t,r){var f,e;if(r===void 0&&(r=!1),f=r?null:this._getMessageIconProps(n,t),f){var o=f.message,h=f.iconName,c=f.className;e=i.createElement(p.TooltipHost,{content:o,directionalHint:5},i.createElement(s.FlatViewIcon,{ariaLiveRegionMessage:o,rowSelected:!1,iconName:h,className:c}))}return{content:e,contentType:u.ContentType.JsxElement}},t.prototype._getMessageIconProps=function(n,t){var r=v.ValidationHelper.getValueValidationState(n),i;return r.state===v.ValidState.Invalid?{iconName:"Error",className:"dtc-variable-validation-error",message:r.message}:(i=v.ValidationHelper.getNameValidationState(n,t),i.state===v.ValidState.Invalid)?{iconName:"Error",className:"dtc-variable-validation-error",message:i.message}:n.scope&&this._getViewStore().shouldShowPermissionWarning(n.scope.key)?{iconName:"Info",message:this._getViewStore().getPermissionWarningMessage()}:null},t.prototype._getNameCellContent=function(n,t){var i=v.ValidationHelper.getNameValidationState(n,t);return{cssClass:"dtc-variable-name-cell",content:n.name,contentType:u.ContentType.SimpleText,contentHasErrors:i.state===v.ValidState.Invalid,isTextDisabled:!!n.disableVariable||!!n.isSystemVariable||!!n.disableSecretVariableName||!!this._isColumnReadOnly(c.VariableColumnKeys.NameColumnKey),placeHolder:h.VariableNamePlaceHolder}},t.prototype._getValueCellContent=function(n){var t=v.ValidationHelper.getValueValidationState(n);return{cssClass:"dtc-variable-value-cell",content:n.value,contentType:!n.isSecret?u.ContentType.SimpleText:u.ContentType.PasswordText,contentHasErrors:t.state===v.ValidState.Invalid,payload:n,isTextDisabled:!!n.disableVariable||!!n.isSystemVariable||!!this._isColumnReadOnly(c.VariableColumnKeys.ValueColumnKey),placeHolder:h.VariableValuePlaceHolder,ariaLabel:k.format(h.VariableValueLabel,n.name)}},t.prototype._getSecretCellContent=function(n,t){var e=this,r,o=k.empty;return r=this._isVariableDisabled(n),o=r?!n.isSecret?h.PlainVariable:h.SecretVariable:!n.isSecret?h.ChangeVariableTypeToSecret:h.ChangeVariableTypeToPlain,{content:i.createElement(f.FlatViewButton,{tooltip:o,rowSelected:!1,iconProps:{iconName:!n.isSecret?"Unlock":"Lock"},onClick:function(){e._getActionCreator().updateVariableValue({index:e._getDataIndex(t),variable:{value:n.value,isSecret:!n.isSecret}})},disabled:r}),contentType:u.ContentType.JsxElement}},t.prototype._isVariableDisabled=function(n){return!!n.disableVariable||!!n.isSystemVariable||!!this._isColumnReadOnly(c.VariableColumnKeys.SecretColumnKey)},t.prototype._getScopeCellContent=function(n,t,r){var a=this,f=k.empty,s=[],l=[],e=t.filter(function(t){return t.key===n.scope.key});return e&&e.length>0&&(f=e[0].value),s=t.map(function(n){return n.value}),t.forEach(function(n){n.isDisabled&&l.push(n.value)}),this._isColumnReadOnly(c.VariableColumnKeys.ScopeColumnKey)?{content:f,contentType:u.ContentType.SimpleText,contentHasErrors:!1,isTextDisabled:!0}:{content:i.createElement(o.FlatViewDropdown,{disabledConditions:l,staticFlatViewDropdown:!0,maxAutoExpandDropWidth:300,conditions:s,selectedCondition:f,rowSelected:!1,isDisabled:!!n.disableVariable,onValueChanged:function(n){a._onCellValueChanged(n,{rowIndex:r,columnKey:c.VariableColumnKeys.ScopeColumnKey})}}),contentType:u.ContentType.JsxElement,ariaLabel:k.format(h.VariableScopeLabel,n.name)}},t.prototype._getDeleteCellContent=function(n,t){var r=this;return{content:i.createElement(f.FlatViewButton,{tooltip:l.VariablesUtils.getDeleteVariableIconAriaLabel(n),rowSelected:!1,iconProps:{iconName:"Delete"},onClick:function(){r._getActionCreator().deleteVariable({index:r._getDataIndex(t),key:n.name})},disabled:!!n.disableVariable||!!n.isSystemVariable||!!this._isColumnReadOnly(c.VariableColumnKeys.DeleteColumnKey)}),contentType:u.ContentType.JsxElement}},t.prototype._getSettableAtQueueTime=function(n,t){var r=this;return{content:i.createElement(e.FlatViewCheckBox,{ariaLabel:l.VariablesUtils.getSettableAtQueueTimeAriaLabel(n),value:n.allowOverride,rowSelected:!1,onValueChanged:function(n){r._onCellValueChanged(n.toString(),{rowIndex:t,columnKey:c.VariableColumnKeys.SettableAtQueueTimeColumnKey})},isDisabled:!!n.disableVariable||!!n.isSystemVariable||!!this._isColumnReadOnly(c.VariableColumnKeys.SettableAtQueueTimeColumnKey)}),contentType:u.ContentType.JsxElement}},t.prototype._getContributedMenuItemCellContent=function(n,t){var s=this,f=this._getViewStore().getState().variableValueMenuItems,r,e,o;if(f&&f.length)return r=__assign({},this.props.options.menuItemContributionContext),r.variable=n,r.updateVariableValue=function(i){var r=__assign({},n);r.value=i;s._getActionCreator().updateVariableValue({index:t,variable:r})},e=f.map(function(n){return __assign({},n)}),e.forEach(function(n){return n.data={menuContext:r}}),o=i.createElement(g,null,i.createElement(p.TooltipHost,{content:h.GetVariableValueTooltip,directionalHint:1,hostClassName:"flex flex-grow"},i.createElement(b.ContextualMenuButton,{className:"process-variables-value-menu",iconProps:{iconName:"MoreVertical"},getItems:function(){return e}}))),{content:o,contentType:u.ContentType.JsxElement}},t.prototype._getDataIndex=function(n){return this._getViewStore().getState().viewIndexTodataIndexMap[n]},t.prototype._isSortingEnabled=function(){return!this.props.options.disableSorting},t}(a.ProcessVariablesControllerView);t.ProcessVariablesV2ControllerView=d;g=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",{className:w.css("flex flex-grow",this.props.rowSelected?"row-selected":"")},this.props.children)},t}(r.Component)});

define("PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseArtifactsComponent",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/SharedControls/InputControls/Components/ComboBoxInputComponent","DistributedTaskControls/Components/FlatViewDropdown","DistributedTaskControls/Components/FlatViewIcon","DistributedTaskControls/Components/FlatViewTable","DistributedTaskControls/Components/FlatViewText","DistributedTaskControls/Common/FlatViewTableTypes","DistributedTaskControls/Sources/ContributionSource","VSSUI/Tooltip","VSSUI/ContextualMenuButton","PipelineWorkflow/Scripts/Common/ArtifactUtility","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/Constants","PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","OfficeFabric/Utilities","OfficeFabric/DetailsList","VSS/Utils/Array","VSS/Utils/String","VSS/LoaderPlugins/Css!RM:PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseArtifactsComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var tt,it;Object.defineProperty(t,"__esModule",{value:!0});t.CreateReleaseArtifactsComponent=void 0;tt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=!this.props?nt.empty:this.props.cssClass;return i.createElement("div",{className:k.css("create-release-artifacts-content",n)},this._artifactsDisplayContent())},t.prototype._getSelectedVersion=function(n,t){var i,r;return n&&n.versions&&t?(r=g.first(n.versions,function(n){return nt.localeIgnoreCaseComparer(n.name,t)===0}),i=r?v.ArtifactUtility.getArtifactVersionDisplayValue(r):t):i=t,i},t.prototype._getVersions=function(n){var t=[];return n&&n.versions&&(t=n.versions.map(function(n){return v.ArtifactUtility.getArtifactVersionDisplayValue(n)})),t},t.prototype._getErrorTooltipComponent=function(n,t,r){var u=n?"artifact-version-error":undefined,f="".concat(r,"-tooltip-message-override");return n&&i.createElement(l.TooltipHost,{directionalHint:4,content:t},i.createElement(e.FlatViewIcon,{ariaLiveRegionMessage:t,rowSelected:!0,iconName:"Error",className:u}))},t.prototype._getArtifactsRows=function(){var n=this,r=[],e=this.props.artifactsVersionsData||[],o=this.props.versionPickerContributions||[],c=this._hasContributionMenuItems(e,o);return e.forEach(function(e,l){var a={cells:{}},k=n._getVersions(e.artifactVersion),d=!e.artifactVersion?nt.empty:e.artifactVersion.alias,y,p,b;a.cells[t.ARTIFACT_ERROR_HEADER_KEY]=n._getIconCellContent(e,l);y=i.createElement(s.FlatViewText,{text:d});a.cells[t.ARTIFACT_SOURCE_HEADER_KEY]={cssClass:"artifact-source-cell",content:y,contentType:h.ContentType.JsxElement,isTextDisabled:!0};p=n._getSelectedVersion(e.artifactVersion,e.selectedVersionName);a.cells[t.ARTIFACT_VERSION_BRANCH_HEADER_KEY]={content:i.createElement(f.FlatViewDropdown,{maxAutoExpandDropWidth:300,cssClass:"artifact-version-selector",conditions:k,selectedCondition:p,rowSelected:!1,onValueChanged:function(t){var i,r;if(n.props.onArtifactSelectedVersionChange){i=v.ArtifactUtility.getArtifactVersionIdByName(e.artifactVersion.versions,t,!0);i||(i=t);r={id:i,name:t};n.props.onArtifactSelectedVersionChange(l,r)}},ariaLabel:nt.localeFormat(w.ArtifactVersionsOptionAriaLabelText,e.artifactVersion.alias),type:u.ComboBoxType.Editable,enableFilter:!0,allowEdit:!0,hasErrors:e.hasError}),contentType:h.ContentType.JsxElement,contentHasErrors:e.hasError};c&&(b=n._getVersionPickerMenuItems(o,e),a.cells[t.ARTIFACT_VERSION_PICKER_HEADER_KEY]=n._getMenuItemCellContent(e.artifactSource,l,b));r.push(a)}),r},t.prototype._getVersionPickerMenuItems=function(n,t){var i=this._getContributionsForArtifactType(n,t.artifactSource.type);return i.length===0?[]:i.map(function(n){return{key:n.id,name:n.properties.name||n.properties.text,href:n.properties.href,iconProps:n.properties.iconProps,onClick:function(t,i){i&&i.data&&c.ContributionSource.instance().getContributionResult(n).then(function(n){return n.execute(i.data.menuContext)})}}})},t.prototype._getMenuItemCellContent=function(n,t,r){var f=this,e,u,o;if(r&&r.length)return e={artifact:n,onVersionSelected:function(n){if(f.props.onArtifactSelectedVersionChange)f.props.onArtifactSelectedVersionChange(t,n)}},u=r.map(function(n){return __assign({},n)}),u.forEach(function(n){return n.data={menuContext:e}}),o=i.createElement(it,null,i.createElement(l.TooltipHost,{content:w.VersionPickerTooltip,directionalHint:1,hostClassName:"flex flex-grow"},i.createElement(a.ContextualMenuButton,{className:"version-picker-value-menu",iconProps:{iconName:"MoreVertical"},getItems:function(){return u}}))),{content:o,contentType:h.ContentType.JsxElement}},t.prototype._getIconCellContent=function(n,t){var i=this._getErrorTooltipComponent(n.hasError,n.errorMessage,t);return{content:i,contentType:h.ContentType.JsxElement}},t.prototype._getContributionsForArtifactType=function(n,t){var i=[];return t&&n&&n.length>0&&p.FeatureFlagUtils.isArtifactVersionPickerEnabled()&&n.forEach(function(n){n.properties&&n.properties.artifactTypes&&g.contains(n.properties.artifactTypes,t)&&g.add(i,n)}),i},t.prototype._isVersionPickerSupportedForSourceRepositoryType=function(n,t){return nt.localeIgnoreCaseComparer(t,b.ArtifactTypes.Build)!==0?!0:n&&n.versions&&n.versions.length>0&&nt.localeIgnoreCaseComparer(n.versions[0].sourceRepositoryType,y.CreateReleaseArtifactConstants.repoTypeTfsGit)===0},t.prototype._hasContributionMenuItems=function(n,t){var i=this,r=!1;return n&&n.length>0&&n.forEach(function(n){if(i._isVersionPickerSupportedForSourceRepositoryType(n.artifactVersion,n.artifactSource.type)&&i._getContributionsForArtifactType(t,n.artifactSource.type).length>0){r=!0;return}}),r},t.prototype._artifactsDisplayContent=function(){var n=[],u=this.props.artifactsVersionsData||[],f=this.props.versionPickerContributions||[],r=this._hasContributionMenuItems(u,f);return n.push({key:t.ARTIFACT_ERROR_HEADER_KEY,name:w.CreateReleasePanelArtifactErrorIconAriaLabel,isIconOnly:!0,isFixedColumn:!0,minWidth:20,maxWidth:20,columnActionsMode:d.ColumnActionsMode.disabled}),n.push({key:t.ARTIFACT_SOURCE_HEADER_KEY,name:w.ArtifactSourceAlias,isFixedColumn:!0,maxWidth:217,minWidth:217,columnActionsMode:d.ColumnActionsMode.disabled}),n.push({key:t.ARTIFACT_VERSION_BRANCH_HEADER_KEY,name:w.VersionBranchCombinationText,isFixedColumn:!0,maxWidth:r?483:493,minWidth:r?270:280,columnActionsMode:d.ColumnActionsMode.disabled}),r&&n.push({key:t.ARTIFACT_VERSION_PICKER_HEADER_KEY,name:nt.empty,isFixedColumn:!1,maxWidth:10,minWidth:10,columnActionsMode:d.ColumnActionsMode.disabled}),i.createElement(o.FlatViewTable,{headers:n,rows:this._getArtifactsRows(),onCellValueChanged:function(){}})},t.ARTIFACT_SOURCE_HEADER_KEY="alias",t.ARTIFACT_VERSION_BRANCH_HEADER_KEY="versions",t.ARTIFACT_ERROR_HEADER_KEY="error-icon",t.ARTIFACT_VERSION_PICKER_HEADER_KEY="versionPickerMenu",t}(r.Component);t.CreateReleaseArtifactsComponent=tt;it=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",{className:k.css("flex flex-grow",this.props.rowSelected?"row-selected":"")},this.props.children)},t}(r.Component)});

define("DistributedTaskControls/Components/Canvas/PathHelpers",["require","exports","VSS/Utils/String"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.PathBuilder=void 0;var r=function(){function n(){this._pathBuilder=i.empty}return n.prototype.start=function(n){return this._pathBuilder+=" "+i.format("M{0},{1}",n.x,n.y),this},n.prototype.line=function(n){return this._pathBuilder+=" "+i.format("L{0},{1}",n.x,n.y),this},n.prototype.quadraticBezier=function(n,t){return this._pathBuilder+=" "+i.format("Q {0} {1}, {2} {3}",t.x,t.y,n.x,n.y),this},n.prototype.arc=function(n,t,r,u,f){return this._pathBuilder+=" "+i.format("A {0} {1} {2} {3} {4} {5} {6}",t,r,0,u,f,n.x,n.y),this},n.prototype.toString=function(){return this._pathBuilder},n}();t.PathBuilder=r});

define("DistributedTaskControls/Components/Canvas/Edge",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/Canvas/Types","DistributedTaskControls/Components/Canvas/PathHelpers","VSS/Utils/String","VSS/Diag","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/Canvas/Edge"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.Edge=void 0;var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var a=this.props,t=a.from,n=a.to,h=e.empty,v=this.props.fromDepth||0,l,c,r;return t.x>n.x&&o.logError("Edge can only be drawn from left to right."),t.y===n.y||t.x===n.x?h=(new f.PathBuilder).start(t).line(n).toString():(l=n.x-t.x,c=(new f.PathBuilder).start(t),t.y>n.y?(r=t.x+Math.min(l/2+u.depthScaleModifier(v),l-u.Constants.minOffset),c.quadraticBezier({x:r,y:t.y-this._getQuadraticBezierVerticalDisplacement()},{x:r,y:t.y}).line({x:r,y:n.y+this._getQuadraticBezierVerticalDisplacement()}).quadraticBezier({x:n.x,y:n.y},{x:r,y:n.y}),h=c.toString()):t.y<n.y&&(r=t.x+Math.max(l/2-u.depthScaleModifier(v),u.Constants.minOffset),c.quadraticBezier({x:r,y:t.y+this._getQuadraticBezierVerticalDisplacement()},{x:r,y:t.y}).line({x:r,y:n.y-this._getQuadraticBezierVerticalDisplacement()}).quadraticBezier({x:n.x,y:n.y},{x:r,y:n.y}),h=c.toString())),this.props.showLabels?i.createElement("g",null,i.createElement("text",{x:t.x,y:t.y,fontSize:"12px"},"("+t.x+","+t.y+")"),i.createElement("path",{className:s.css("dtc-canvas-path",this.props.cssClass),d:h}),";",i.createElement("text",{x:n.x,y:n.y,textAnchor:"end",fontSize:"12px"},"("+n.x+","+n.y+")")):i.createElement("path",{className:s.css("dtc-canvas-path",this.props.cssClass),d:h})},t.prototype._getQuadraticBezierVerticalDisplacement=function(){return this.props.quadraticBezierVerticalDisplacement?this.props.quadraticBezierVerticalDisplacement:u.Constants.verticalDisplacement},t}(r.Component);t.Edge=h});

define("DistributedTaskControls/Components/Canvas/Graph",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/Canvas/Types","DistributedTaskControls/Components/Canvas/Edge","DistributedTaskControls/Components/Canvas/GraphLayoutHelper","DistributedTaskControls/SharedControls/ErrorComponent/ErrorComponent","DistributedTaskControls/Common/Telemetry","VSS/Utils/String","VSS/Utils/Array","VSS/Utils/Core","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/Canvas/Graph"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){var y,v;Object.defineProperty(t,"__esModule",{value:!0});t.Graph=t.GraphList=void 0;y=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._disjointGraphs=[],i._graphComponents=[],i.state={incomingEdges:[],incomingEdgesEvaluated:!1},i}return __extends(t,n),t.prototype.componentWillMount=function(){this._disjointGraphs=e.GraphLayoutHelper.splitGraph(this.props.nodes,this.props.edges);this._graphComponents=[]},t.prototype.componentWillReceiveProps=function(n){this._disjointGraphs=e.GraphLayoutHelper.splitGraph(n.nodes,n.edges);this.setState({incomingEdgesEvaluated:!1});this._graphComponents=[]},t.prototype.getGraphComponents=function(){return this._graphComponents},t.prototype.render=function(){var t=this,r=[],n,u;return this._disjointGraphs.forEach(function(n){r.push(i.createElement(v,__assign({ref:function(n){return n&&t._graphComponents.push(n)},key:n.nodes[0].key},t.props,{nodes:n.nodes,edges:n.edges,leftMargin:0})))}),n=this._getGraphLeftMargin(),u=this._getHeight(),i.createElement("div",{className:"dtc-graph-list-parent"},n&&n>0?i.createElement("div",{className:"dtc-incoming-edge-container",style:{width:n,height:u}},i.createElement("svg",{className:"dtc-incoming-edge-canvas"},this.state.incomingEdges)):null,i.createElement("div",{className:"dtc-disjoint-graph-container"},r))},t.prototype.componentDidMount=function(){this._evaluateAndSetIncomingEdges()},t.prototype.componentDidUpdate=function(){this._evaluateAndSetIncomingEdges()},t.prototype._evaluateAndSetIncomingEdges=function(){var r=this,n,t;this.state.incomingEdgesEvaluated||(n=e.GraphLayoutHelper.getIncomingEdgeLayouts(this.props,this._graphComponents),t=n.map(function(n){return i.createElement(f.Edge,{from:n.from,to:n.to,fromDepth:n.fromDepth,quadraticBezierVerticalDisplacement:r._getQuadraticBezierVerticalDisplacement(),key:n.key})}),this.setState({incomingEdgesEvaluated:!0,incomingEdges:t}))},t.prototype._getQuadraticBezierVerticalDisplacement=function(){return this.props.nodeHeight/u.Constants.edgeQuadraticBezierScaleDownFactor},t.prototype._getGraphLeftMargin=function(){return e.GraphLayoutHelper.resolveGraphLeftMargin(this.props.leftMargin)},t.prototype._getHeight=function(){var i=0,n,t,r;if(this._graphComponents)for(n=0,t=this._graphComponents;n<t.length;n++)r=t[n],i+=r.getGraphSize().height;return i},t}(r.Component);t.GraphList=y;v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._nodesComparer=function(n,t){return n.key===t.key&&n.nodeRankHint===t.nodeRankHint&&n.nodeHeightHint===t.nodeHeightHint&&n.friendlyName===t.friendlyName},t._identifiedAncestors={},t.__unitTestMode=!1,t._incomingNodeRelativePositions=[],t}return __extends(t,n),t.prototype.componentWillMount=function(){this._validateNodesAndEdges(this.props.nodes,this.props.edges);this._stagingOrderAndDependencies=e.GraphLayoutHelper.createStagingOrderAndDependencies(this.props.nodes,this.props.edges)},t.prototype.componentWillReceiveProps=function(n){l.equals(n.edges,this.props.edges)?c.arrayEquals(n.nodes,this.props.nodes,this._nodesComparer,!1,!0)||(this._validateNodesAndEdges(n.nodes,n.edges),this._stagingOrderAndDependencies=e.GraphLayoutHelper.createStagingOrderAndDependencies(n.nodes,n.edges)):(this._validateNodesAndEdges(n.nodes,n.edges),this._stagingOrderAndDependencies=e.GraphLayoutHelper.createStagingOrderAndDependencies(n.nodes,n.edges),this._identifiedAncestors={})},t.prototype.getStagingOrder=function(){return this._stagingOrderAndDependencies?this._stagingOrderAndDependencies.stagingOrder:[]},t.prototype.getGraphSize=function(){return{height:this._svgHeight,width:this._svgWidth}},t.prototype.getPositionOfIncomingNodes=function(){return this._incomingNodeRelativePositions},t.prototype.render=function(){var r=this._stagingOrderAndDependencies,n=r.stagingOrder,e;this._publishTelemetry(n);var s=r.dependencies,t=r.layoutError,u={x:0,y:0},h=this._getNodeElements(n,u),f=[];return t||(f=this._getEdgeElements(n,s)),e=this._getGraphLeftMargin(),this._svgWidth=u.x+this.props.horizontalMargin+e,this._svgHeight=u.y+this.props.verticalMargin,t?this._incomingNodeRelativePositions=[]:this._populateIncomingNodeIndices(n[0]),i.createElement("div",{className:"dtc-canvas-container"},t&&i.createElement(o.ErrorComponent,{cssClass:"dtc-canvas-error",errorMessage:t}),i.createElement("div",{className:"dtc-graph-container"},i.createElement("svg",{className:"svg-surface",height:this._svgHeight+"px",width:this._svgWidth+"px",focusable:"false"},f),h))},t.prototype._populateIncomingNodeIndices=function(n){var i=this,t=this.props.edges[h.empty];this._incomingNodeRelativePositions=[];t&&n.forEach(function(n){t[n.key]&&i._incomingNodeRelativePositions.push({x:n.midPoints.left.x,y:n.midPoints.left.y})})},t.prototype._validateNodesAndEdges=function(n,t){e.GraphLayoutHelper.validateNodesAndEdges(n,t)},t.prototype._getNodeElements=function(n,t){var i=this,r=this._getGraphLeftMargin(),u=e.GraphLayoutHelper.getNodeDataForLayout(n,this.props,r,t);return u.map(function(n){return i._getNodeElement(n,n.nodeHeightHint||i.props.nodeHeight,i.props.nodeWidth)})},t.prototype._getEdgeElements=function(n,t){var r=this,u=e.GraphLayoutHelper.getEdgeDataForLayout(n,t,this.props.edges,this.props,this.props.selectedNodeKey,this._identifiedAncestors);return u.map(function(n){var t=a.css({"dtc-cross-stage-edge":n.isCrossStage,"dtc-highlight-edge":n.highlightEdge});return i.createElement(f.Edge,{cssClass:t,from:n.from,to:n.to,key:n.key,fromDepth:n.fromDepth,crossStages:n.isCrossStage||!1,quadraticBezierVerticalDisplacement:r._getQuadraticBezierVerticalDisplacement(),showLabels:r.__unitTestMode})})},t.prototype._publishTelemetry=function(n){var i,r;n&&n.length>0&&this.props.telemetryKey&&!t.s_telemetryKeyTracker[this.props.telemetryKey]&&(i=0,n.forEach(function(n){n&&(i=Math.max(n.length,i))}),r={},r[s.Properties.canvasColumnCount]=n.length,r[s.Properties.canvasRowCount]=i,s.Telemetry.instance().publishEvent(s.Feature.CanvasDimensions,r),t.s_telemetryKeyTracker[this.props.telemetryKey]=!0)},t.prototype._getNodeElement=function(n,t,r){var u={position:"absolute",height:t,width:r,top:n.topLeftPosition.y,left:n.topLeftPosition.x};return i.createElement("div",{className:"div-node",style:u,key:n.key},n.getNodeElement&&n.getNodeElement(n.key,n.data))},t.prototype._getGraphLeftMargin=function(){return e.GraphLayoutHelper.resolveGraphLeftMargin(this.props.leftMargin)},t.prototype._getQuadraticBezierVerticalDisplacement=function(){return this.props.nodeHeight/u.Constants.edgeQuadraticBezierScaleDownFactor},t.s_telemetryKeyTracker={},t}(r.Component);t.Graph=v});

define("DistributedTaskControls/Components/Canvas/GridFocusZone",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Primitives","DistributedTaskControls/Common/Common","OfficeFabric/Utilities","VSS/Diag"],function(n,t,i,r,u,f,e,o){var h,s;Object.defineProperty(t,"__esModule",{value:!0});t.GridFocusZone=t.Direction=void 0,function(n){n[n.Vertical=0]="Vertical";n[n.Horizontal=1]="Horizontal"}(h=t.Direction||(t.Direction={}));s=function(n){function t(i){var r=__construct(this,n,[i]);for(var f in r)r.hasOwnProperty(f)&&(this[f]=r[f]);return r._handleGlobalKeydown=function(n){n.which===9&&r._populateNavigationGridIfRequired()},r._onFocus=function(n){r._selectElementWithoutTakingFocus(n)},r._onMouseDown=function(n){r._selectElementWithoutTakingFocus(n)},r._onKeyDown=function(n){if(r._populateNavigationGridIfRequired(),!n.altKey){var i=n.target;if(u.Boolean.isTrue(i.getAttribute(t._gridFocusableAttribute))){switch(n.which){case 38:if(r._moveVertical(r._selectedCell.rowIndex-1,r._selectedCell.columnIndex,-1,r.props.columnMarginCount,r._navigationGrid.length,function(n){return n>=0},function(n){return n>=0}))break;return;case 40:if(r._moveVertical(r._selectedCell.rowIndex+1,r._selectedCell.columnIndex,1,r.props.columnMarginCount,0,function(n){return n<r._navigationGrid.length},function(n){return n<r._maxColumnCount}))break;return;case 37:if(r._moveHorizontal(r._selectedCell.columnIndex-1,r._selectedCell.rowIndex,-1,r.props.rowMarginCount,r._maxColumnCount,function(n){return n>=0},function(n){return n>=0}))break;return;case 39:if(r._moveHorizontal(r._selectedCell.columnIndex+1,r._selectedCell.rowIndex,1,r.props.rowMarginCount,0,function(n){return n<r._maxColumnCount},function(n){return n<r._navigationGrid.length}))break;return;default:return}n.preventDefault();n.stopPropagation()}}},r._navigationGrid=[],r._maxColumnCount=0,r.state={error:null},r}return __extends(t,n),t.prototype.componentDidMount=function(){if(this._navigationGrid=[],this._parentElement){var n=this._parentElement.ownerDocument.defaultView;n.addEventListener("keydown",this._handleGlobalKeydown)}},t.prototype.componentWillUnmount=function(){if(this._parentElement){var n=this._parentElement.ownerDocument.defaultView;n.removeEventListener("keydown",this._handleGlobalKeydown)}},t.prototype.componentWillReceiveProps=function(n){this.props.gridZoneKey!==n.gridZoneKey&&(this._navigationGrid=[])},t.prototype.render=function(){return this.state.error?(o.logError(this.state.error),null):i.createElement("div",{className:e.css(this.props.cssClass,"dtc-grid-focus-zone"),ref:this._resolveRef("_parentElement"),role:"presentation",onKeyDown:this._onKeyDown,onFocus:this._onFocus,onMouseDown:this._onMouseDown},this.props.children)},t.prototype._populateNavigationGridIfRequired=function(){var o,u,l,n,e,s,i;if(this._navigationGrid.length===0){var h=this._parentElement.querySelectorAll("[".concat(t._gridFocusableAttribute,"]")),a=h.length,v=h.item(0),y=this._parentElement.getBoundingClientRect(),r=this._navigationGrid;for(o=0;o<a;o++){u=h.item(o);u.setAttribute(f.DomAttributeConstants.TabIndex,f.DomAttributeConstants.TabIndexMinusOne);var c=this._getCellLocationForElement(u,y),n=c.rowIndex,i=c.columnIndex;u===v&&(u.setAttribute(f.DomAttributeConstants.TabIndex,f.DomAttributeConstants.TabIndexZero),this._selectedCell={rowIndex:n,columnIndex:i});r[n]||(r[n]=[]);r[n][i]&&this.setState({error:"Multiple elements map to same cell in the grid. Reduce the gridCellHeight and gridCellWidth and try again."});r[n][i]=u}for(l=r.length,n=0;n<l;n++)if(e=r[n],e){for(s=e.length,i=0;i<s;i++)e[i]&&e[i].setAttribute(t._locationAttribute,"".concat(n).concat(t._locationSeparator).concat(i));s>this._maxColumnCount&&(this._maxColumnCount=s)}}},t.prototype._getCellLocationForElement=function(n,t){var i=n.getBoundingClientRect(),r=i.top-t.top,u=i.left-t.left,f=Math.floor(r/this.props.gridCellHeight),e=Math.floor(u/this.props.gridCellWidth);return{rowIndex:f,columnIndex:e}},t.prototype._selectElementWithoutTakingFocus=function(n){this._populateNavigationGridIfRequired();var i=n.target;this._selectTargetElement(i,u.Boolean.isFalse(i.getAttribute(t._gridFocusableAttribute)))},t.prototype._moveVertical=function(n,i,r,u,f,e,o){for(var s=n,c=i,h=!1,l;o(c);){for(h=!1;e(s);)if(l=this._findNearestColumnWithElementInAGivenRow(s,c,u),l===t._invalidIndex)s=s+r;else{i=l;h=!0;break}if(h)break;else c+=u*(r>0?1:-1)+r,s=f}return h&&this._selectElement(s,i)?!0:!1},t.prototype._moveHorizontal=function(n,i,r,u,f,e,o){for(var s=n,c=i,h=!1,l;o(c);){for(h=!1;e(s);)if(l=this._findNearestRowWithElementInAGivenColumn(s,c,u),l===t._invalidIndex)s=s+r;else{h=!0;i=l;break}if(h)break;else s=f,c+=u*(r>0?1:-1)+r}return h&&this._selectElement(i,s)?!0:!1},t.prototype._selectTargetElement=function(n,i){for(var r;n&&n!==this._parentElement&&n.getAttribute;)if(u.Boolean.isTrue(n.getAttribute(t._gridFocusableAttribute))){if(r=n.getAttribute(t._locationAttribute),r){var f=r.split(t._locationSeparator),s=parseInt(f[0]),h=parseInt(f[1]);this._selectElement(s,h,i)}else o.Debug.logInfo("Target element does not have cell location. This should get regenerated with next update");break}else n=e.getParent(n)},t.prototype._findNearestRowWithElementInAGivenColumn=function(n,t,i){var r=this;return this._findNearestIndexWithElementInAGivenDimension(t,i,0,this._navigationGrid.length-1,function(t){return r._getElement(t,n)})},t.prototype._findNearestColumnWithElementInAGivenRow=function(n,t,i){var r=this;return this._findNearestIndexWithElementInAGivenDimension(t,i,0,this._maxColumnCount-1,function(t){return r._getElement(n,t)})},t.prototype._findNearestIndexWithElementInAGivenDimension=function(n,i,r,u,f){for(var e=n,o=n,s=t._invalidIndex,h=0;!f(e)&&!f(o);){if(e>=u&&o<=r)break;if(h>=i)break;e<u&&e++;e>r&&o--;h++}return f(e)&&(s=e),f(o)&&(s=o),s},t.prototype._getElement=function(n,t){return this._navigationGrid[n]?this._navigationGrid[n][t]:null},t.prototype._selectElement=function(n,t,i){var r,u;return!this._navigationGrid[n]||!this._navigationGrid[n][t]?!1:(r=this._navigationGrid[n][t],r?(this._selectedCell&&this._navigationGrid[this._selectedCell.rowIndex]&&(u=this._navigationGrid[this._selectedCell.rowIndex][this._selectedCell.columnIndex],u&&u!==r&&u.setAttribute(f.DomAttributeConstants.TabIndex,f.DomAttributeConstants.TabIndexMinusOne)),this._selectedCell={rowIndex:n,columnIndex:t},r.setAttribute(f.DomAttributeConstants.TabIndex,f.DomAttributeConstants.TabIndexZero),i||r.focus(),!0):!1)},t._gridFocusableAttribute="data-is-grid-focusable",t._locationAttribute="data-grid-cell-location",t._locationSeparator="_",t._invalidIndex=-1,t}(r.Component);t.GridFocusZone=s});

define("PipelineWorkflow/Scripts/Common/Canvas/LayoutConstants",["require","exports"],function(n,t){var i,r,e,u,f;Object.defineProperty(t,"__esModule",{value:!0});t.ReleaseProgressCanvasConstants=t.ReleaseEnvironmentSummaryCanvasConstants=t.ReleaseSummaryLayoutConstants=t.LayoutConstants=void 0;i=function(){function n(){}return n.corePropertiesWidth=200,n.corePropertiesHeight=80,n.releaseCorePropertiesHeight=90,n.horizontalMargin=80,n.verticalMargin=60,n.postDeploymentIndicatorElementRadius=18,n.postDeploymentIndicatorElementRadiusSmall=14,n.gatesInprogressIndicatorElementRadius=17,n.triggersAndPreDeploymentApprovalsElementWidth=n.postDeploymentIndicatorElementRadius*2,n.triggersAndPreDeploymentApprovalsElementHeight=62,n.prePostDeploymentApprovalsAndGatesElementHeight=66,n.stabilizationPhaseGatesRendererHeight=50,n.evaluationPhaseGatesRendererHeight=46,n.nodeWidth=n.corePropertiesWidth+n.triggersAndPreDeploymentApprovalsElementWidth/2+n.postDeploymentIndicatorElementRadius,n.nodeHeight=Math.max(n.corePropertiesHeight,n.triggersAndPreDeploymentApprovalsElementHeight,n.postDeploymentIndicatorElementRadius*2),n.releaseNodeHeight=Math.max(n.releaseCorePropertiesHeight,n.triggersAndPreDeploymentApprovalsElementHeight,n.postDeploymentIndicatorElementRadius*2),n.marginLeftForCorePropertiesToOverlapOnTriggersAndPreDeployments=-n.triggersAndPreDeploymentApprovalsElementWidth/2,n.marginLeftForPostDeploymentToOverlapOnCoreProperties=-n.postDeploymentIndicatorElementRadius,n.artifactPropertiesWidth=140,n.artifactPropertiesHeight=90,n.artifactPropertiesTopMargin=10,n.artifactTriggerRadius=18,n.artifactTriggerLeftMargin=30,n.artifactLeftMargin=10,n.releaseScheduleTriggerSideLength=18,n.gapBetweenArtifactAndEnvironmentPanel=20,n.verticalMarginOfEdgeJoiningArtifactAndEnvironmentPanel=153,n.gridFocusZoneCellHeight=10,n.gridFocusZoneCellWidth=10,n.gridFocusMargin=5,n.inProgressPhaseContentHeight=130,n.inProgressDeploymentGroupPhaseContentHeight=55,n.subStatusMargin=15,n.subStatusLineHeight=20,n}();t.LayoutConstants=i;r=function(){function n(){}return n.verticalMarginOfEdgeJoiningReleaseAndEnvironmentPanel=140,n.gapBetweenReleaseAndEnvironmentPanel=20,n.releasePropertiesWidth=200,n.releasePropertiesMinimumHeight=195,n}();t.ReleaseSummaryLayoutConstants=r;e=function(){function n(){}return n.corePropertiesWidth=60,n.corePropertiesHeight=100,n.releaseCorePropertiesHeight=90,n.horizontalMargin=100,n.verticalMargin=100,n.postDeploymentApprovalsElementRadius=20,n.triggersAndPreDeploymentApprovalsElementWidth=i.postDeploymentIndicatorElementRadius*2,n.triggersAndPreDeploymentApprovalsElementHeight=26,n.nodeWidth=i.corePropertiesWidth+i.triggersAndPreDeploymentApprovalsElementWidth/2+i.postDeploymentIndicatorElementRadius,n.nodeHeight=Math.max(i.corePropertiesHeight,i.triggersAndPreDeploymentApprovalsElementHeight,i.postDeploymentIndicatorElementRadius*2),n.releaseNodeHeight=Math.max(i.releaseCorePropertiesHeight,i.triggersAndPreDeploymentApprovalsElementHeight,i.postDeploymentIndicatorElementRadius*2),n.marginLeftForCorePropertiesToOverlapOnTriggersAndPreDeployments=-i.triggersAndPreDeploymentApprovalsElementWidth/2,n.marginLeftForPostDeploymentToOverlapOnCoreProperties=-i.postDeploymentIndicatorElementRadius,n.artifactPropertiesRadius=45,n.artifactTriggerRadius=18,n.releaseScheduleTriggerSideLength=18,n.gapBetweenArtifactAndEnvironmentPanel=20,n.verticalMarginOfEdgeJoiningArtifactAndEnvironmentPanel=140,n}();u=function(){function n(){}return n.nodeWidth=150,n.verticalMarginOfEdgeJoiningReleaseAndEnvironmentPanel=107,n.verticalMargin=40,n}();t.ReleaseEnvironmentSummaryCanvasConstants=u;f=function(){function n(){}return n.verticalMargin=i.verticalMargin+i.releaseScheduleTriggerSideLength,n.horizontalMargin=100,n}();t.ReleaseProgressCanvasConstants=f});

define("PipelineWorkflow/Scripts/SharedComponents/EnvironmentsCanvas/EnvironmentsCanvasViewStore",["require","exports","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Stores/Base","PipelineWorkflow/Scripts/Shared/Constants","PipelineWorkflow/Scripts/Shared/EnvironmentList/EnvironmentListStore"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.EnvironmentsCanvasViewStore=void 0;var e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onEnvironmentListStoreChanged=function(){t._updateState()},t}return __extends(t,n),t.getKey=function(){return u.SharedStoreKeys.EnvironmentsCanvasViewStore},t.prototype.initialize=function(n){this._state={};this._environmentListStore=this._getEnvironmentListStore(n);this._environmentListStore.addChangedListener(this._onEnvironmentListStoreChanged);this._onEnvironmentListStoreChanged()},t.prototype.disposeInternal=function(){this._environmentListStore.removeChangedListener(this._onEnvironmentListStoreChanged)},t.prototype.getState=function(){return this._state},t.prototype._getEnvironmentListStore=function(n){return i.StoreManager.GetStore(f.EnvironmentListStore,n)},t.prototype._isInitialized=function(){return!!this._state.environmentConnections&&!!this._state.environmentsData},t.prototype._updateState=function(){this._state.environmentConnections=this._environmentListStore.getEnvironmentConnections();this._state.environmentsData=this._environmentListStore.getEnvironmentsData();this.emitChanged()},t}(r.StoreBase);t.EnvironmentsCanvasViewStore=e});

define("PipelineWorkflow/Scripts/SharedComponents/EnvironmentsCanvas/EnvironmentsCanvas",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Components/Canvas/Graph","DistributedTaskControls/Components/Canvas/GridFocusZone","DistributedTaskControls/Common/Utilities","PipelineWorkflow/Scripts/Shared/Utils/EnvironmentUtils","PipelineWorkflow/Scripts/Common/Canvas/LayoutConstants","PipelineWorkflow/Scripts/Common/NavigationStateUtils","PipelineWorkflow/Scripts/SharedComponents/EnvironmentsCanvas/EnvironmentsCanvasViewStore","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","VSS/Utils/String","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!RM:PipelineWorkflow/Scripts/SharedComponents/EnvironmentsCanvas/EnvironmentsCanvas"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});t.EnvironmentsCanvas=void 0;var p=function(n){function t(t){var i=__construct(this,n,[t]),r,u;for(r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._handleStoreChange=function(){var n=i._canvasViewStore.getState();n.gridZoneKey="gridZoneKey".concat(o.DtcUtils.getUniqueInstanceId());i.props.onDidUpdate&&i.props.onDidUpdate();i.setState(n)},i._canvasViewStore=i.getViewStore(),u=i._canvasViewStore.getState(),i.state=u,i._canvasViewStore.addChangedListener(i._handleStoreChange),i}return __extends(t,n),t.prototype.componentWillUnmount=function(){u.StoreManager.DeleteStore(l.EnvironmentsCanvasViewStore,this.props.instanceId);this._canvasViewStore.removeChangedListener(this._handleStoreChange)},t.getDerivedStateFromProps=function(n){return n.forceRefresh?{gridZoneKey:"gridZoneKey".concat(o.DtcUtils.getUniqueInstanceId())}:null},t.prototype.render=function(){var n=this._getGraphProps(this.state),t=c.NavigationStateUtils.splitGraph();return i.createElement("div",{ref:this._resolveRef("canvasContainerElement"),role:"region","aria-label":this.props.ariaLabel||a.EnvironmentsText+", "+a.ARIADescriptionEnvironmentCanvas,className:y.css("cd-environment-canvas",this.props.cssClass)},this.props.label&&i.createElement("div",{className:"environment-canvas-heading"},i.createElement("h2",{className:"cd-environment-canvas-title"},this.props.label),this.props.headerMenu&&i.createElement("div",{className:"cd-environment-canvas-title-menu"},this.props.headerMenu)),i.createElement(e.GridFocusZone,{gridCellHeight:this.props.gridCellHeight||h.LayoutConstants.gridFocusZoneCellHeight,gridCellWidth:this.props.gridCellWidth||h.LayoutConstants.gridFocusZoneCellWidth,rowMarginCount:h.LayoutConstants.gridFocusMargin,columnMarginCount:h.LayoutConstants.gridFocusMargin,gridZoneKey:this.state.gridZoneKey},t?i.createElement(f.GraphList,__assign({},n)):i.createElement(f.Graph,__assign({},n))))},t.prototype.getCanvasContainerElement=function(){return this._canvasContainerElement},t.prototype.getViewStore=function(){return u.StoreManager.GetStore(l.EnvironmentsCanvasViewStore,this.props.instanceId)},t.prototype._getGraphProps=function(n){var t=s.EnvironmentUtils.getNodes(n.environmentsData,this.getNodeElement,this.getNodeHeightHint)||[],i=h.LayoutConstants.verticalMargin+2*h.LayoutConstants.releaseScheduleTriggerSideLength;return this.props.hideIncomingEdges&&this._removeIncomingEdges(n.environmentConnections),{nodeWidth:this.props.nodeWidth||h.LayoutConstants.corePropertiesWidth,nodeHeight:this.props.nodeHeight||h.LayoutConstants.corePropertiesHeight,horizontalMargin:this.props.horizontalMargin||h.LayoutConstants.horizontalMargin,verticalMargin:this.props.verticalMargin||i,nodes:t,edges:n.environmentConnections,selectedNodeKey:n.selectedEnvironmentKey,leftMargin:this.props.leftMargin}},t.prototype._removeIncomingEdges=function(n){n&&delete n[v.empty]},t}(r.Component);t.EnvironmentsCanvas=p});

define("PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseEnvironmentNode",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Utilities","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/Constants","VSSUI/Tooltip","OfficeFabric/Utilities","VSS/Utils/String","VSS/Utils/UI","VSS/LoaderPlugins/Css!RM:PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseEnvironmentNode"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});t.CreateReleaseEnvironmentNode=void 0;var c=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t._renderTooltipContent=function(){return i.createElement("div",{className:"compact-environment-node-tooltip"},i.createElement("div",{className:"node-tooltip-section tooltip-environment-name-container"},i.createElement("span",{className:"tooltip-environment-name"},t.props.environmentName)),i.createElement("div",{className:"node-tooltip-section tooltip-environment-description-container"},i.createElement("span",{className:o.css("tooltip-icon","bowtie-icon",t.props.bowtieIcon)}),i.createElement("span",{className:"tooltip-environment-description"},t.props.environmentDescription)),t._isWarningPresent()&&i.createElement("div",{className:"node-tooltip-section tooltip-environment-warning-container"},i.createElement("span",{className:o.css("tooltip-icon","bowtie-icon","bowtie-status-warning")}),i.createElement("span",{className:"tooltip-environment-warning"},t.props.environmentWarning)))},t._onNodeClick=function(){if(t.props.onEnvironmentNodeClick)t.props.onEnvironmentNodeClick(t.props.environmentId)},t._handleKeyDown=function(n){(n.keyCode===h.KeyCode.ENTER||n.keyCode===h.KeyCode.SPACE)&&(t._onNodeClick(),n.preventDefault(),n.stopPropagation())},t}return __extends(t,n),t.prototype.render=function(){return i.createElement(e.TooltipHost,{directionalHint:1,tooltipProps:{onRenderContent:this._renderTooltipContent},delay:e.TooltipDelay.medium},this._getNodeContent())},t.prototype._getNodeContent=function(){var t={height:this.props.nodeHeight||f.CreateReleaseEnvironmentNodeConstants.compactEnvironmentNodeHeight,width:this.props.nodeWidth||f.CreateReleaseEnvironmentNodeConstants.compactEnvironmentNodeWidth},r=o.css(this.props.cssClass,"compact-environment-node"),e=this.props.ariaLabel||this.props.environmentName,h=this.props.environmentId.toString(),n="node-description"+u.DtcUtils.getUniqueInstanceId(),c=s.localeFormat("{0} {1}",this.props.environmentDescription,this.props.environmentWarning);return i.createElement("div",{className:r,key:h,"aria-disabled":this.props.isDisabled,"data-is-grid-focusable":!0,onKeyDown:this._handleKeyDown,"aria-label":e,onClick:this._onNodeClick,"aria-describedby":n},i.createElement("div",{className:"hidden",id:n},c),i.createElement("div",{className:o.css("node-content","dtc-canvas-element-border",this.props.borderCssClass),style:t},i.createElement("div",{className:o.css("environment-node-icon","bowtie-icon",this._isWarningPresent()?"bowtie-status-warning":this.props.bowtieIcon)}),i.createElement("div",{ref:this._resolveRef("_environmentNameContainer"),className:"node-environment-name"},this.props.environmentName),this._isEnvironmentNameOverflow()&&i.createElement("span",{className:"text-fadeout"})))},t.prototype._isEnvironmentNameOverflow=function(){return this._environmentNameContainer&&this._environmentNameContainer.offsetWidth<this._environmentNameContainer.scrollWidth?!0:!1},t.prototype._isWarningPresent=function(){return!!this.props.environmentWarning},t}(r.Component);t.CreateReleaseEnvironmentNode=c});

define("PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseEnvironmentsCanvas",["require","exports","react","PipelineWorkflow/Scripts/SharedComponents/EnvironmentsCanvas/EnvironmentsCanvas","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseEnvironmentNode","PipelineWorkflow/Scripts/Shared/Utils/ReleaseEnvironmentUtils","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","VSS/Utils/String","VSS/Utils/Array","VSS/LoaderPlugins/Css!RM:PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseEnvironmentsCanvas"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.CreateReleaseEnvironmentsCanvas=void 0;var h=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t.getNodeElement=function(n,r){var o,e=t._getEnvironmentTrigger(r.id);return r&&(o={environmentId:r.id,environmentName:r.name,onEnvironmentNodeClick:t.props.onEnvironmentNodeClick,ariaLabel:r.name,environmentDescription:t._getEnvironmentDescription(e),bowtieIcon:t._getEnvironmentNodeIcon(e),borderCssClass:t._getEnvironmentNodeBorderClass(e),environmentWarning:t._getWarningMessage(e),isDisabled:f.ReleaseEnvironmentUtils.isDeploymentTriggerManual(e)}),i.createElement(u.CreateReleaseEnvironmentNode,__assign({},o))},t.getNodeHeightHint=function(){return 0},t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",{className:"create-release-environment-canvas-container"},i.createElement("div",{className:"create-release-environment-canvas-content"},n.prototype.render.call(this)))},t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this.props.onDidUpdate&&this.props.onDidUpdate()},t.prototype._getEnvironmentNodeIcon=function(n){return n?n.selectedTriggerKey===f.ReleaseDialogContentConstants.EnvironmentTrigger_ManualOptionValueKey?"bowtie-trigger-user":"bowtie-trigger-approval":o.empty},t.prototype._getWarningMessage=function(n){return n?n.warningMessage:o.empty},t.prototype._getEnvironmentDescription=function(n){return n?n.selectedTriggerKey===f.ReleaseDialogContentConstants.EnvironmentTrigger_ManualOptionValueKey?f.ReleaseEnvironmentUtils.isDeploymentTriggerManual(n)?e.CreateReleaseManualEnvironmentNodeDescription:e.CreateReleaseToggledManualEnvironmentNodeDescription:e.CreateReleaseAutomatedEnvironmentNodeDescription:o.empty},t.prototype._getEnvironmentNodeBorderClass=function(n){return n?f.ReleaseEnvironmentUtils.isDeploymentTriggerManual(n)?"manual-trigger-environment-node non-clickable-environment-node":n.selectedTriggerKey===f.ReleaseDialogContentConstants.EnvironmentTrigger_ManualOptionValueKey?"manual-trigger-environment-node":"automated-trigger-environment-node":o.empty},t.prototype._getEnvironmentTrigger=function(n){var t;return this.props.environmentTriggers&&(t=s.first(this.props.environmentTriggers,function(t){return t.environmentId===n})),t},t}(r.EnvironmentsCanvas);t.CreateReleaseEnvironmentsCanvas=h});

define("PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseControllerView",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/Accordion/AccordionCustomRenderer","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Components/LoadingComponent","OfficeFabric/TextField","DistributedTaskControls/Components/OverlayPanelHeading","DistributedTaskControls/SharedControls/InputControls/Components/PickListV2InputComponent","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Variables/ProcessVariablesV2/ControllerView","DistributedTaskControls/SharedControls/InputControls/Components/DropDownInputComponent","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseActionsCreator","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseArtifactsComponent","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/Constants","PipelineWorkflow/Scripts/Common/Constants","PipelineWorkflow/Scripts/Common/TelemetryHelper","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseEnvironmentsCanvas","PipelineWorkflow/Scripts/Shared/Utils/ReleaseEnvironmentUtils","PipelineWorkflow/Scripts/Common/Types","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","PipelineWorkflow/Scripts/Common/ArtifactUtility","OfficeFabric/MessageBar","OfficeFabric/Button","OfficeFabric/Spinner","OfficeFabric/Selection","VSS/Utils/Array","VSS/Utils/String","VSS/Context","VSS/Performance","VSS/LoaderPlugins/Css!RM:PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseControllerView"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt){Object.defineProperty(t,"__esModule",{value:!0});t.CreateReleaseControllerView=void 0;var at=function(n){function t(t){var i=__construct(this,n,[t]),r,u;for(r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._onProjectChanged=function(n){var t=n.option,u={id:t.key,name:t.text},r=i.props.createReleaseStore.getInstanceId();i._actionsCreator.initializeData(-1,r,r,!1,u,i.props.buildDefinitionId)},i._onDefinitionChanged=function(n){var r=n.option,t=i.props.createReleaseStore.getInstanceId();i._actionsCreator.initializeData(parseInt(String(r.key)),t,t,!1,i.state.selectedProject)},i._onStoreChange=function(){var n=i.props.createReleaseStore.getState();n.hasVariables=(i.props.variablesListStore.getVariableList()||[]).length>0;i.setState(n)},i._getPickListItems=function(n){var f=[],r,e,t,u,o;if(n&&i.state.data&&i.state.data.environments)for(r=i.state.data.environments,r.sort(function(n,t){return n.rank-t.rank}),e=function(t){var i=st.first(n,function(n){return n.key===t.id.toString()});i&&f.push(i)},t=0,u=r;t<u.length;t++)o=u[t],e(o);return f},i._onCreateReleaseClick=function(){lt.getScenarioManager().startScenario(k.CommonConstants.FeatureArea,k.PerfScenarios.StartRelease,undefined,undefined,d.TelemetryHelper.getServiceInstanceIdForTelemetry());var n=i.props.variablesListStore.getVariableList();i._publishTelemetry();i._actionsCreator.createRelease(i._onCreateReleaseSuccessful,i.state,n,i.props.startReleaseMode,i.state.selectedProject?i.state.selectedProject.name:ct.getDefaultWebContext().project.name,tt.PipelineReleaseCreationSourceConstants.ReleaseHub)},i._onArtifactSelectedVersionChange=function(n,t){i._actionsCreator.updateArtifactSelectedVersion(n,t)},i._onReleaseDescriptionChange=function(n){i._actionsCreator.updateDescription(n)},i._onEnvironmentNodeClick=function(n){i._actionsCreator.toggleDeploymentTrigger(n);i._environmentToggledByCanvas=!0},i._onEnvironmentTriggerChanged=function(n){i._actionsCreator.updateManualDeploymentTriggers(n.map(function(n){return n.key}));i._environmentToggledByPicklist=!0},i._onCreateReleaseSuccessful=function(n,t){if(i.props.onQueueRelease)i.props.onQueueRelease(n,t);i._publishQueueReleaseTelemetry();i._onCloseClick()},i._onErrorBarDismiss=function(){i._actionsCreator.updateErrorMessage(ht.empty)},i._environmentToggledByCanvas=!1,i._environmentToggledByPicklist=!1,u=i.props.createReleaseStore.getInstanceId(),i._actionsCreator=e.ActionCreatorManager.GetActionCreator(p.CreateReleaseActionsCreator,u),i.state=__assign({},i.props.createReleaseStore.getState()),i}return __extends(t,n),t.prototype.componentWillMount=function(){this.props.progressStore.addChangedListener(this._onStoreChange);this.props.createReleaseStore.addChangedListener(this._onStoreChange);this.props.variablesListStore.addChangedListener(this._onStoreChange)},t.prototype.componentWillUnmount=function(){this.props.progressStore.removeChangedListener(this._onStoreChange);this.props.createReleaseStore.removeChangedListener(this._onStoreChange);this.props.variablesListStore.removeChangedListener(this._onStoreChange)},t.prototype.render=function(){return i.createElement("div",{className:"create-release-controller-view flex-grow"},i.createElement("div",{className:"create-release-content-section"},this._isDefinitionDataLoaded()&&this._getErrorSection(),this._getProjectsSection(),i.createElement("div",{className:"create-release-definition-section"},this._getReleaseDefinitionsSection(),this._getDefinitionLoadingSection(),this._getEnvironmentTriggerSection(),this._getArtifactSection(),this._getVariablesSection(),this._getDescriptionSection(),this._getCreateReleaseLoadingComponent())),i.createElement("div",{className:"create-release-footer-section"},this._getFooterSection()))},t.prototype._getDefinitionLoadingSection=function(){return this._isDefinitionDataLoaded()?null:i.createElement(o.LoadingComponent,{className:"create-release-panel-main-loading",size:et.SpinnerSize.large})},t.prototype._getProjectsSection=function(){return this.state.selectedProject?i.createElement("div",{className:"create-release-projects"},i.createElement("div",{className:"create-release-projects-header-text"},it.ProjectsTitle),i.createElement(y.DropDownInputControl,{ariaLabel:it.SelectProjectText,cssClass:"create-release-projects-drop-down",onValueChanged:this._onProjectChanged,selectedKey:this.state.selectedProject.id,options:this._getLinkedProjects()})):null},t.prototype._getReleaseDefinitionsSection=function(){return this.state.selectedProject?i.createElement("div",{className:"create-release-definition"},i.createElement("div",{className:"create-release-definition-header-text"},it.ReleaseDefinitionsTitle),i.createElement(y.DropDownInputControl,{ariaLabel:it.SelectDefinitionText,cssClass:"create-release-definition-drop-down",onValueChanged:this._onDefinitionChanged,selectedKey:this.state.data?this.state.data.id:null,options:this._getLinkedReleaseDefinitions()})):null},t.prototype._getLinkedReleaseDefinitions=function(){return(this.state.linkedReleaseDefinitions||[]).map(function(n){return{key:n.id,text:n.name}})},t.prototype._getLinkedProjects=function(){return(this.props.createReleaseStore.getlinkedProjects()||[]).map(function(n){return{key:n.id,text:n.name}})},t.prototype._getVariablesSection=function(){if(this.props.startReleaseMode||!this.state.hasVariables||!this.state.data)return null;var n=this.props.createReleaseStore.getInstanceId(),t=this._getVariablesSectionOptions();return i.createElement(f.AccordionCustomRenderer,{label:it.CreateReleasePanelVariablesAccordionLabel,initiallyExpanded:!0,headingLevel:2,addSeparator:!0,description:it.CreateReleasePanelVariablesAccordionDescription,descriptionInfoText:it.CreateReleasePanelVariablesSectionInfoText},i.createElement(v.ProcessVariablesV2ControllerView,{instanceId:n,options:t}))},t.prototype._getVariablesSectionOptions=function(){var n={settableAtQueueTime:!1,supportScopes:!0,supportGridView:!1,disableSorting:!0,hideDelete:!0,hideSecret:!0,hideError:!0,columnOptionOverrides:{}},i,t;return this.props.startReleaseMode||(n.valueMenuItemContributionKey="ms.vss-releaseManagement-web.create-release-variables-value-menu",i=this._actionsCreator.getPipelineReleaseStartParameters(this.state,this.props.variablesListStore.getVariableList()||[],tt.PipelineReleaseCreationSourceConstants.ReleaseHub),t=__assign({},i),t.artifactsVersionsData=this.state.artifactsVersionsData,n.menuItemContributionContext=t),n.columnOptionOverrides[a.VariableColumnKeys.NameColumnKey]={minWidth:150,maxWidth:150,isReadOnly:!0},n.columnOptionOverrides[a.VariableColumnKeys.ValueColumnKey]={minWidth:200,maxWidth:200,isReadOnly:!1},n.columnOptionOverrides[a.VariableColumnKeys.ScopeColumnKey]={minWidth:150,maxWidth:150,isReadOnly:!0},n},t.prototype._getHeaderSection=function(){var n=this.state.data?this.state.data.name:ht.empty,t=this.props.startReleaseMode?it.CreateReleasePanelStartReleaseLabel:it.CreateReleasePanelHeaderLabel;return i.createElement(h.OverlayPanelHeading,{label:t,infoButtonRequired:!1,description:n})},t.prototype._getCreateReleaseLoadingComponent=function(){return this._isCreateReleaseInProgress()?i.createElement(o.LoadingComponent,{className:"create-release-loading-component",size:et.SpinnerSize.large,blocking:!0}):null},t.prototype._getErrorSection=function(){return this.state.errorMessage?i.createElement("div",{className:"create-release-error-section"},i.createElement(ut.MessageBar,{className:"release-dialog-message-bar",onDismiss:this._onErrorBarDismiss,messageBarType:ut.MessageBarType.error,dismissButtonAriaLabel:it.CloseText},this.state.errorMessage)):null},t.prototype._getEnvironmentTriggerSection=function(){return i.createElement(f.AccordionCustomRenderer,{label:it.CreateReleasePanelDeploymentTriggerLabel,initiallyExpanded:!0,headingLevel:2,addSeparator:!0,description:it.CreateReleasePanelDeploymentTriggerDescription,bowtieIconName:"bowtie-trigger"},i.createElement(g.CreateReleaseEnvironmentsCanvas,{nodeHeight:b.CreateReleaseEnvironmentNodeConstants.compactEnvironmentNodeHeight,nodeWidth:b.CreateReleaseEnvironmentNodeConstants.compactEnvironmentNodeWidth,gridCellHeight:b.CreateReleaseEnvironmentNodeConstants.gridCellHeight,gridCellWidth:b.CreateReleaseEnvironmentNodeConstants.gridCellWidth,verticalMargin:b.CreateReleaseEnvironmentNodeConstants.createReleaseEnvironmentCanvasVerticalMargin,horizontalMargin:b.CreateReleaseEnvironmentNodeConstants.createReleaseEnvironmentCanvasHorizontalMargin,instanceId:this.props.environmentListStore.getInstanceId(),cssClass:"create-release-environment-canvas",environmentTriggers:this.state.environmentTriggers,onEnvironmentNodeClick:this._onEnvironmentNodeClick,ariaLabel:it.CreateReleaseEnvironmentCanvasAriaLabel,leftMargin:b.CreateReleaseEnvironmentNodeConstants.createReleaseEnvironmentCanvasLeftMargin,onDidUpdate:this.props.onDidUpdate}),i.createElement("div",{className:"create-release-environment-picklist"},this._getPickList()))},t.prototype._getPickList=function(){if(this.state.data){var r=this._getSelectedEnvironments(),u={calloutContentProps:{calloutMarkdown:it.CreateReleaseEnvironmentDropdownHelpText}},n=this._getPickListOptions(),t=this._getPickListItems(n);return t&&t.length>0?i.createElement(c.PickListV2InputComponent,{label:it.CreateReleaseEnvironmentDropdownLabel,ariaLabel:it.CreateReleaseEnvironmentDropdownLabel,selectionMode:ot.SelectionMode.multiple,key:"pick-list-component",infoProps:u,pickListInputClassName:"environment-trigger-pick-list-input",value:r,onValueChanged:this._onEnvironmentTriggerChanged,options:n,getPickListItems:this._getPickListItems,showSelectAll:!0}):null}},t.prototype._getArtifactSection=function(){var n=this;return this._showArtifactSection()?i.createElement(f.AccordionCustomRenderer,{label:it.CreateReleasePanelArtifactAccordionLabel,initiallyExpanded:!0,headingLevel:2,addSeparator:!0,description:it.CreateReleasePanelArtifactAccordionDescription,showErrorDelegate:function(){return n.state.hasAnyErrorsInArtifacts},bowtieIconName:"bowtie-package"},this._isArtifactDataLoaded()?i.createElement("div",{className:"create-release-panel-artifact-section"},i.createElement(w.CreateReleaseArtifactsComponent,{artifactsVersionsData:this.state.artifactsVersionsData,versionPickerContributions:this.state.versionPickerContributions,onArtifactSelectedVersionChange:this._onArtifactSelectedVersionChange})):i.createElement(o.LoadingComponent,null)):null},t.prototype._getDescriptionSection=function(){return i.createElement("div",null,i.createElement("div",{className:"create-release-panel-description-header-text"},it.ReleaseDescriptionText),i.createElement("div",{className:"create-release-panel-description-section"},i.createElement(s.TextField,{className:"create-release-content-description",ariaLabel:it.ReleaseDescriptionText,resizable:!0,value:this.state.description,multiline:!0,onChanged:this._onReleaseDescriptionChange,maxLength:k.CommonConstants.ReleaseDescriptionLengthLimit})))},t.prototype._getFooterSection=function(){var n=this;return i.createElement("div",{className:"create-release-panel-footer"},i.createElement(ft.PrimaryButton,{ariaLabel:u.Create,onClick:this._onCreateReleaseClick,className:"create-release-queue-button",disabled:!this._canCreatePipelineRelease()},u.Create),i.createElement(ft.DefaultButton,{className:"create-release-cancel-button",onClick:function(){n._onCloseClick()},ariaLabel:it.CancelText},it.CancelText))},t.prototype._isArtifactDataLoaded=function(){return!this.props.progressStore.isActionInProgress(b.CreateReleaseProgressIndicatorAction.initializeArtifactVersionsAction)},t.prototype._isDefinitionDataLoaded=function(){return!this.props.progressStore.isActionInProgress(b.CreateReleaseProgressIndicatorAction.initializeDefinitionAction)},t.prototype._isCreateReleaseInProgress=function(){return this.props.progressStore.isActionInProgress(b.CreateReleaseProgressIndicatorAction.createReleaseAction)||this.props.progressStore.isActionInProgress(b.CreateReleaseProgressIndicatorAction.updateReleaseAction)},t.prototype._canCreatePipelineRelease=function(){return!!this.state.data&&this.state.canShowDialogContent&&!this.state.hasAnyErrorsInArtifacts&&!this.props.progressStore.hasAnyActionsInProgress()},t.prototype._showArtifactSection=function(){return this.state.data?this.state.data.artifacts&&this.state.data.artifacts.length>0:!1},t.prototype._getPickListOptions=function(){var r=[],n,i,t,u;if(this.state.environmentTriggers&&this.state.environmentTriggers.length>0)for(n=0,i=this.state.environmentTriggers;n<i.length;n++)t=i[n],u=nt.ReleaseEnvironmentUtils.isDeploymentTriggerManual(t),u||r.push({key:t.environmentId.toString(),name:t.environmentName});return r},t.prototype._getSelectedEnvironments=function(){var r=[],t,i,n,u;if(this.state.environmentTriggers&&this.state.environmentTriggers.length>0)for(t=0,i=this.state.environmentTriggers;t<i.length;t++)n=i[t],u=nt.ReleaseEnvironmentUtils.isDeploymentTriggerManual(n),u||n.selectedTriggerKey!==nt.ReleaseDialogContentConstants.EnvironmentTrigger_ManualOptionValueKey||r.push({key:n.environmentId.toString(),name:n.environmentName});return r},t.prototype._onCloseClick=function(){this.props.onCloseClick&&this.props.onCloseClick()},t.prototype._publishTelemetry=function(){(this.state.artifactsVersionsData||[]).forEach(function(n){var i=!1,r=!0,t;(!n.artifactVersion.versions||n.artifactVersion.versions&&n.artifactVersion.versions.length===0)&&(i=!1,r=!1);r&&(i=!!rt.ArtifactUtility.getArtifactVersionById(n.artifactVersion.versions,n.selectedVersionId));t={};t[l.Properties.IsVersionManuallyEntered]=!i;t[l.Properties.AreVersionsAvailable]=r;t[l.Properties.ArtifactType]=n.artifactSource.type;l.Telemetry.instance().publishEvent(l.Feature.ArtifactVersionInputMethod,t)})},t.prototype._publishQueueReleaseTelemetry=function(){var n={},t=nt.ReleaseEnvironmentUtils.getToggledManullyTriggeredEnvironmentCount(this.state.environmentTriggers);n[l.Properties.ToggledEnvironmentsCount]=t;n[l.Properties.EnvironmentToggledByCanvas]=this._environmentToggledByCanvas;n[l.Properties.EnvironmentToggledByPicklist]=this._environmentToggledByPicklist;n[l.Properties.DescriptionAdded]=!!this.state.description;l.Telemetry.instance().publishEvent(l.Feature.CreateReleasePanelQueueRelease,n)},t}(r.Component);t.CreateReleaseControllerView=at});

define("PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleasePanel",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/Canvas/GraphLayoutHelper","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseControllerView","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/Constants","PipelineWorkflow/Scripts/Shared/Utils/EnvironmentUtils","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","VSSUI/Panel","VSSUI/Util"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.CreateReleasePanel=void 0;var l=function(n){function t(i){var r=__construct(this,n,[i]);for(var f in r)r.hasOwnProperty(f)&&(this[f]=r[f]);return r._closePanel=function(){r.state&&r.state.showPanel&&r.setState({showPanel:!1});r._handleOnClosed()},r._handleOnClosed=function(){r.props.onClose&&r.props.onClose()},r._setPanelWidth=function(){var f;if(r.props.environmentListStore){var s=r.props.environmentListStore.getEnvironmentConnections(),h=r.props.environmentListStore.getEnvironmentsData(),c=o.EnvironmentUtils.getNodes(h,null),i=u.GraphLayoutHelper.createStagingOrderAndDependencies(c,s);if(i&&i.stagingOrder){var e=i.stagingOrder.length,l=e<t._maxColumnsToShow?e:t._maxColumnsToShow,n=(l+1)*r._columnWidth;n>document.documentElement.clientWidth-200&&(n=document.documentElement.clientWidth-200);f=r._getMinWidth();n<f&&(n=f);r.setState({width:n})}}},r.state={showPanel:!0,width:r._getMinWidth()},r._columnWidth=e.CreateReleaseEnvironmentNodeConstants.compactEnvironmentNodeWidth+e.CreateReleaseEnvironmentNodeConstants.createReleaseEnvironmentCanvasHorizontalMargin,r}return __extends(t,n),t.prototype.render=function(){var n=this.props.createReleaseStore.getState().data,r=this.state.width<=t._defaultMinWidth?"cr-rel-xs":this.state.width<=t._defaultSmallWidth?"cr-rel-s":this.state.width<=t._defaultMediumWidth?"cr-rel-m":"cr-rel-l";return i.createElement("div",null,this.state.showPanel&&i.createElement(h.Panel,{onDismiss:this._closePanel,titleProps:{text:this.props.startReleaseMode?s.CreateReleasePanelStartReleaseLabel:s.CreateReleasePanelHeaderLabel},description:n&&n.name,modal:!0,className:"create-release-panel",contentClassName:c.css("create-release-panel-content",r),elementToFocusOnDismiss:this.props.elementToFocusOnDismiss},i.createElement(f.CreateReleaseControllerView,{createReleaseStore:this.props.createReleaseStore,progressStore:this.props.progressStore,environmentListStore:this.props.environmentListStore,variablesListStore:this.props.variablesListStore,onCloseClick:this._closePanel,onQueueRelease:this.props.onQueueRelease,onDidUpdate:this._setPanelWidth,startReleaseMode:this.props.startReleaseMode,buildDefinitionId:this.props.buildDefinitionId})))},t.prototype._getMinWidth=function(){return this.props.minWidth?this.props.minWidth:t._defaultMinWidth},t._maxColumnsToShow=10,t._defaultMinWidth=630,t._defaultSmallWidth=720,t._defaultMediumWidth=1200,t}(r.Component);t.CreateReleasePanel=l});

define("PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseStore",["require","exports","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Stores/Base","PipelineWorkflow/Scripts/Common/Actions/DialogActions","PipelineWorkflow/Scripts/Common/ArtifactUtility","PipelineWorkflow/Scripts/Common/Types","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/Constants","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseActions","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","PipelineWorkflow/Scripts/Shared/Utils/ReleaseEnvironmentUtils","ReleaseManagement/Core/Constants","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){Object.defineProperty(t,"__esModule",{value:!0});t.CreateReleaseStore=void 0;var y=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._options=t,i._handleInitializeDefinitionArtifactsVersions=function(n){var t,u,e,r;n&&(t=n.versions,u=n.artifacts,!t||!t.artifactVersions||(e=t.artifactVersions,r=[],r=e.map(function(n){var o=!!n.errorMessage&&!!n.errorMessage.trim(),t=a.first(u,function(t){return v.localeIgnoreCaseComparer(n.alias,t.alias)===0}),r,s,e;return r=!i._options.buildName||!i._options.buildSource||n.sourceId!==i._options.buildSource?i._getDefaultArtifactVersion(n,t):i._options.buildName,s=(t&&t.definitionReference&&t.definitionReference[l.ArtifactDefinitionConstants.Version]&&!!t.definitionReference[l.ArtifactDefinitionConstants.Version].id?t.definitionReference[l.ArtifactDefinitionConstants.Version].id:f.ArtifactUtility.getArtifactVersionIdByName(n.versions,r))||r,e={artifactVersion:n,artifactSource:t,selectedVersionId:s,selectedVersionName:r,hasError:o,errorMessage:o?n.errorMessage:r?undefined:h.ArtifactVersionSelectErrorMessageDefault},e.errorMessage&&(e.hasError=!0),e}),i._state.artifactsVersionsData=r,i._updateDependentStateProperties(),i.emitChanged()))},i._handleUpdateArtifactSelectedVersion=function(n){if(!!i._state.artifactsVersionsData&&i._state.artifactsVersionsData.length>n.artifactIndex){var r=!n.selectedVersionName||!n.selectedVersionName.trim(),u=i._state.artifactsVersionsData[n.artifactIndex].artifactVersion,t=null;u&&(t=f.ArtifactUtility.getArtifactVersionById(u.versions,n.selectedVersionId));t?(i._state.artifactsVersionsData[n.artifactIndex].selectedVersionId=t.id,i._state.artifactsVersionsData[n.artifactIndex].selectedVersionName=t.name):(i._state.artifactsVersionsData[n.artifactIndex].selectedVersionId=n.selectedVersionId,i._state.artifactsVersionsData[n.artifactIndex].selectedVersionName=n.selectedVersionName);i._state.artifactsVersionsData[n.artifactIndex].hasError=r;i._state.artifactsVersionsData[n.artifactIndex].errorMessage=r?h.ArtifactVersionSelectErrorMessageDefault:undefined;i._updateDependentStateProperties();i.emitChanged()}},i._handleInitializeData=function(n){var f,l,r,e,s,y;if(n&&n.environments&&n.environments.length>0){for(f=[],l=n.environments,r=0,e=l;r<e.length;r++){var u=e[r],o=c.ReleaseDialogContentConstants.EnvironmentTrigger_ManualOptionValueKey,a=i._getAdditionalTriggerOptionText(u.conditions,u.schedules),p={key:o,text:h.ManualTriggerText},t={};t.environmentName=u.name;t.environmentId=u.id;t.selectedTriggerKey=o;t.triggerOptions=[];a&&(s=o+1,y={key:s,text:a},t.triggerOptions.push(y),t.selectedTriggerKey=s);t.triggerOptions.push(p);f.push(t)}i._state.data=n;i._state.environmentTriggers=f;i._state.errorMessage=v.empty;i._state.description=v.empty;i._updateDependentStateProperties();i.emitChanged()}},i._handleInitializeProject=function(n){i._state.linkedReleaseDefinitions=n.releaseDefinitions;i._state.selectedProject=n.project},i._handleInitializeEnvironmentsPhasesWarning=function(n){var t=i._state;t.environmentTriggers&&t.environmentTriggers.length>0&&n&&n.length>0&&(t.environmentTriggers.forEach(function(t){var r=[];n.forEach(function(n){n&&n.environmentId===t.environmentId&&n.hasWarning&&r.push(n.warningMessage)});r.length>0&&(t.warningMessage=i._getWarningMessage(r.join(v.newLine),t.warningMessage),t.hasWarning=i._canSetEnvironmentTriggerWarning(t))}),i._updateDependentStateProperties(),i.emitChanged())},i._handleInitializeEnvironmentsEndpoints=function(n){var t=i._state,r=!1;t.environmentTriggers&&t.environmentTriggers.length>0&&n&&(t.environmentTriggers.forEach(function(t){var f=[],u=n[t.environmentId],e;u&&u.length>0&&(t.endpoints=a.clone(u),u.forEach(function(n){n&&n.data&&n.data[c.ReleaseDialogContentConstants.Environment_Endpoint_SubscriptionNameKey]&&f.push(n.data[c.ReleaseDialogContentConstants.Environment_Endpoint_SubscriptionNameKey])}));f.length>0&&(r=!0,e=v.localeFormat(h.DeploymentAuthorizationRequiredFor,f.join(h.JoinNames)),t.warningMessage=i._getWarningMessage(t.warningMessage,e),t.hasWarning=i._canSetEnvironmentTriggerWarning(t))}),r&&(i._updateDependentStateProperties(),i.emitChanged()))},i._handleUpdateErrorMessage=function(n){v.localeComparer(i._state.errorMessage,n)!==0&&(i._state.errorMessage=n?n:v.empty,i.emitChanged())},i._handleUpdateDescription=function(n){v.localeComparer(i._state.description,n)!==0&&(i._state.description=n?n:v.empty,i.emitChanged())},i._handleUpdateSelectedDeploymentTrigger=function(n){if(n&&i._state.environmentTriggers&&i._state.environmentTriggers.length>0){var t=a.first(i._state.environmentTriggers,function(t){return t.environmentId===n.environmentId&&t.selectedTriggerKey!==n.selectedTriggerOptionKey});t&&(t.selectedTriggerKey=n.selectedTriggerOptionKey,t.hasWarning=i._canSetEnvironmentTriggerWarning(t),i._updateDependentStateProperties(),i.emitChanged())}},i._handleShowDialog=function(){i._updateDialogVisibility(i._state.showDialog,!0)},i._handleCloseDialog=function(){i._updateDialogVisibility(i._state.showDialog,!1)},i._handleToggleDeploymentTrigger=function(n){if(i._state.environmentTriggers&&i._state.environmentTriggers.length>0){var t=a.first(i._state.environmentTriggers,function(t){return t.environmentId===n}),r=c.ReleaseEnvironmentUtils.isDeploymentTriggerManual(t);t&&!r&&(t.selectedTriggerKey=t.selectedTriggerKey===c.ReleaseDialogContentConstants.EnvironmentTrigger_ManualOptionValueKey?c.ReleaseDialogContentConstants.EnvironmentTrigger_AutomatedOptionValueKey:c.ReleaseDialogContentConstants.EnvironmentTrigger_ManualOptionValueKey,t.hasWarning=i._canSetEnvironmentTriggerWarning(t),i._updateDependentStateProperties(),i.emitChanged())}},i._handleUpdateManualDeploymentTriggers=function(n){for(var t,f,e=n||[],r=0,u=i._state.environmentTriggers;r<u.length;r++)t=u[r],f=c.ReleaseEnvironmentUtils.isDeploymentTriggerManual(t),f||(t.selectedTriggerKey=a.contains(e,t.environmentId.toString())?c.ReleaseDialogContentConstants.EnvironmentTrigger_ManualOptionValueKey:c.ReleaseDialogContentConstants.EnvironmentTrigger_AutomatedOptionValueKey);i._updateDependentStateProperties();i.emitChanged()},i._handleInitializeVersionPickerContributions=function(n){i._state.versionPickerContributions=n||[];i._updateDependentStateProperties();i.emitChanged()},i._state={showDialog:!!i._options&&!!i._options.showDialog,selectedProject:!!i._options.linkedProjects&&i._options.linkedProjects.length>0?i._options.linkedProjects[0]:null},i}return __extends(t,n),t.getKey=function(){return o.CreateReleaseKeys.StoreKey_CreateReleaseStoreKey},t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._commonActions=i.ActionsHubManager.GetActionsHub(u.DialogActions,t);this._commonActions.showDialog.addListener(this._handleShowDialog);this._commonActions.closeDialog.addListener(this._handleCloseDialog);this._actions=i.ActionsHubManager.GetActionsHub(s.CreateReleaseActions,t);this._actions.initializeDefinition.addListener(this._handleInitializeData);this._actions.initializeProject.addListener(this._handleInitializeProject);this._actions.initializeEnvironmentsPhasesWarning.addListener(this._handleInitializeEnvironmentsPhasesWarning);this._actions.initializeEnvironmentsEndpoints.addListener(this._handleInitializeEnvironmentsEndpoints);this._actions.updateErrorMessage.addListener(this._handleUpdateErrorMessage);this._actions.updateDescription.addListener(this._handleUpdateDescription);this._actions.updateSelectedDeploymentTrigger.addListener(this._handleUpdateSelectedDeploymentTrigger);this._actions.initializeDefinitionArtifactsVersions.addListener(this._handleInitializeDefinitionArtifactsVersions);this._actions.updateArtifactSelectedVersion.addListener(this._handleUpdateArtifactSelectedVersion);this._actions.toggleDeploymentTrigger.addListener(this._handleToggleDeploymentTrigger);this._actions.updateManualDeploymentTriggers.addListener(this._handleUpdateManualDeploymentTriggers);this._actions.getVersionPickerContributions.addListener(this._handleInitializeVersionPickerContributions)},t.prototype.getState=function(){return this._state},t.prototype.getlinkedProjects=function(){return this._options.linkedProjects},t.prototype.disposeInternal=function(){this._commonActions.showDialog.removeListener(this._handleShowDialog);this._commonActions.closeDialog.removeListener(this._handleCloseDialog);this._actions.initializeDefinition.removeListener(this._handleInitializeData);this._actions.initializeProject.removeListener(this._handleInitializeProject);this._actions.initializeEnvironmentsPhasesWarning.removeListener(this._handleInitializeEnvironmentsPhasesWarning);this._actions.initializeEnvironmentsEndpoints.removeListener(this._handleInitializeEnvironmentsEndpoints);this._actions.updateErrorMessage.removeListener(this._handleUpdateErrorMessage);this._actions.updateDescription.removeListener(this._handleUpdateDescription);this._actions.updateSelectedDeploymentTrigger.removeListener(this._handleUpdateSelectedDeploymentTrigger);this._actions.initializeDefinitionArtifactsVersions.removeListener(this._handleInitializeDefinitionArtifactsVersions);this._actions.updateArtifactSelectedVersion.removeListener(this._handleUpdateArtifactSelectedVersion);this._actions.toggleDeploymentTrigger.removeListener(this._handleToggleDeploymentTrigger);this._actions.updateManualDeploymentTriggers.removeListener(this._handleUpdateManualDeploymentTriggers);this._actions.getVersionPickerContributions.removeListener(this._handleInitializeVersionPickerContributions)},t.prototype._getDefaultArtifactVersion=function(n,t){if(t&&t.definitionReference){var i=t.definitionReference[l.ArtifactDefinitionConstants.Version];if(i&&i.id!==v.empty&&i.name!==v.empty)return i.name}return n&&n.defaultVersion?n.defaultVersion.name:undefined},t.prototype._updateDialogVisibility=function(n,t){n!==t&&(this._state.showDialog=t,this.emitChanged())},t.prototype._getAdditionalTriggerOptionText=function(n,t){var i=v.empty,r=!!t&&t.length>0,u,f;return n&&n.length>0&&(n.length===1?i=this._getFirstConditionTriggerOptionText(n[0],r):(u=n.map(function(n){return n.name}).join(h.JoinNames),f=r?h.ScheduledTriggerAfterEnvironmentsText:h.AutoTriggerAfterEnvironmentsText,i=v.localeFormat(f,u))),i},t.prototype._getFirstConditionTriggerOptionText=function(n,t){var i=v.empty,r;return n!=null&&(n.conditionType===e.PipelineEnvironmentTriggerConditionType.Event?i=t?h.ScheduledTriggerAfterReleaseText:h.AutoTriggerAfterReleaseText:n.conditionType===e.PipelineEnvironmentTriggerConditionType.EnvironmentState&&(r=t?h.ScheduledTriggerAfterEnvironmentText:h.AutoTriggerAfterEnvironmentText,i=v.localeFormat(r,n.name))),i},t.prototype._updateDependentStateProperties=function(){this._state.canShowDialogContent=this._canShowDialogContent();this._state.canShowArtifactsVersions=this._canShowArtifactsVersions();this._state.hasAnyErrorsInArtifacts=this._hasAnyErrorsInArtifacts();this._state.canQueue=this._canCreatePipelineRelease();this._state.hasTriggerWarning=this._hasAnyTriggersWarning()},t.prototype._hasAnyErrorsInArtifacts=function(){var n=this._state,t;return n.canShowArtifactsVersions&&(t=a.first(n.artifactsVersionsData,function(n){return n.hasError})),!!t},t.prototype._hasAnyTriggersWarning=function(){var n=this._state,t;return!n.environmentTriggers||n.environmentTriggers.length<=0?!1:(t=a.first(n.environmentTriggers,function(n){return n.hasWarning}),!!t)},t.prototype._canShowDialogContent=function(){var n=this._state;if(!n.data)return!1;var t=!!n.data.environments&&n.data.environments.length>0,i=t&&!!n.environmentTriggers&&n.environmentTriggers.length===n.data.environments.length,r=!!n.data.artifacts&&n.data.artifacts.length>0,u=!r||!!n.artifactsVersionsData&&n.artifactsVersionsData.length>0;return i&&u},t.prototype._canShowArtifactsVersions=function(){var n=this._state,t,i;return n.data?(t=!!n.data.artifacts&&n.data.artifacts.length>0,i=t&&!!n.artifactsVersionsData&&n.artifactsVersionsData.length>0,i&&!!n.versionPickerContributions):!1},t.prototype._canCreatePipelineRelease=function(){return this._state.canShowDialogContent&&!this._state.hasAnyErrorsInArtifacts},t.prototype._canSetEnvironmentTriggerWarning=function(n){return n&&n.selectedTriggerKey!==c.ReleaseDialogContentConstants.EnvironmentTrigger_ManualOptionValueKey&&!!n.warningMessage},t.prototype._getWarningMessage=function(n,t){return n&&t?[n,t].join(v.newLine):n?n:t?t:v.empty},t}(r.StoreBase);t.CreateReleaseStore=y});

define("PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleasePanelHelper",["require","exports","react","react-dom","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Variables/ProcessVariablesV2/DataStore","PipelineWorkflow/Scripts/Common/Stores/ProgressIndicatorStore","PipelineWorkflow/Scripts/Shared/EnvironmentList/EnvironmentListStore","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/Constants","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseActionsCreator","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleasePanel","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseStore","VSS/Utils/String","VSS/Context","VSS/LWP"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){var w,b;Object.defineProperty(t,"__esModule",{value:!0});t.CreateReleasePanelHelper=void 0;w=function(){function n(n){var t=this;this._options=n;this._onCreateReleasePanelClose=function(n){r.unmountComponentAtNode(t._createReleasePanelContainer);t._createReleasePanelContainer.remove();f.StoreManager.DeleteStore(a.CreateReleaseStore,n);f.StoreManager.DeleteStore(o.ProgressIndicatorStore,n);f.StoreManager.DeleteStore(s.EnvironmentListStore,n);t._options.onClose&&t._options.onClose()};this._onCreateRelease=function(n,i){if(t._options.onQueueRelease)t._options.onQueueRelease(n,i)}}return n.prototype.openCreateReleasePanel=function(){var t=this,n;this.initializeCreateReleaseStore(h.CreateReleasePanelInstances.CreateReleasePanelInstanceId);this._createReleasePanelContainer=document.createElement("div");document.body.appendChild(this._createReleasePanelContainer);n=i.createElement(l.CreateReleasePanel,{hasCloseButton:!0,onClose:function(){t._onCreateReleasePanelClose(h.CreateReleasePanelInstances.CreateReleasePanelInstanceId)},createReleaseStore:this._createReleaseStore,progressStore:this._createReleaseProgressIndicatorStore,environmentListStore:this._createReleaseEnvironmentListStore,variablesListStore:this._createReleaseVariablesStore,onQueueRelease:this._onCreateRelease,startReleaseMode:!!this._options.startReleaseMode,buildDefinitionId:this._options.buildDefinitionId});r.render(n,this._createReleasePanelContainer)},n.prototype.initializeCreateReleaseStore=function(n){this._createReleaseStore=f.StoreManager.CreateStore(a.CreateReleaseStore,n,{showDialog:!0,linkedProjects:this._options.linkedProjects,buildName:this._options.buildName,buildSource:v.format("{0}:{1}",y.getDefaultWebContext().project.id,this._options.buildDefinitionId)});this._createReleaseProgressIndicatorStore=f.StoreManager.GetStore(o.ProgressIndicatorStore,n);this._createReleaseEnvironmentListStore=f.StoreManager.GetStore(s.EnvironmentListStore,n);this._createReleaseVariablesStore=f.StoreManager.GetStore(e.ProcessVariablesV2Store,n);this._createReleaseActionCreator=u.ActionCreatorManager.GetActionCreator(c.CreateReleaseActionsCreator,n);var t=this._options.startReleaseMode?this._options.releaseId:this._options.definitionId;this._createReleaseActionCreator.initializeData(t,n,n,this._options.startReleaseMode,!!this._options.linkedProjects&&this._options.linkedProjects.length>0?this._options.linkedProjects[0]:null,this._options.buildDefinitionId,this._options.endPerfScenario)},n.prototype.getCreateReleaseStore=function(){return this._createReleaseStore},n.prototype.getCreateReleaseActionCreator=function(){return this._createReleaseActionCreator},n}();t.CreateReleasePanelHelper=w;b=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return""},t.prototype.componentDidMount=function(){var n=new w(this.props);n.openCreateReleasePanel()},t}(i.Component);p.registerLWPComponent("createReleasePanelProxy",b)});

define("PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseExtension",["require","exports","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleasePanelHelper","PipelineWorkflow/Scripts/Editor/Sources/CreateReleasePanelData","PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils","VSS/SDK/Shim"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});f.registerContent("cd-create-release",function(n){var t=n.options,f;t.startReleaseMode?f=new i.CreateReleasePanelHelper(t):(u.FeatureFlagUtils.isCreateReleaseDataProviderEnabled()&&r.CreateReleasePanelDataHelper.getInstance().initializeData(),f=new i.CreateReleasePanelHelper(t));f.openCreateReleasePanel()})});

define("PipelineWorkflow/Scripts/Shared/LegacyLWP/PrefetchPipelineWorkFlow",["require","exports","react","VSS/LWP","VSS/VSS"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return u.using(["PipelineWorkflow/Scripts/Extensions/ReleaseProgressExtension","PipelineWorkflow/Scripts/Extensions/Hub","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseExtension"],function(){}),i.createElement("div",null)},t}(i.Component),e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",null)},t}(i.Component);r.registerLWPComponent("prefetch-progressview-editor",f);r.registerLWPComponent("prefetch-create-release-panel",e)});

if (window.performance && window.performance.mark) { window.performance.mark('endLoadBundleInner-async'); }