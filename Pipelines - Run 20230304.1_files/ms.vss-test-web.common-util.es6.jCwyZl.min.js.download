"use strict";define("Test/common-util",["require","exports","Tfs/Platform/Page","VSS/Core/Util/String"],(function(e,t,s,a){var o,n,r;o=t.Resources={},t.Resources.DayFormat="{0}d",t.Resources.HourFormat="{0}h",t.Resources.MinuteFormat="{0}m",t.Resources.SecondFormat="{0}s",t.Resources.MillisecondFormat="{0}ms",t.Resources.UnspecifiedText="Unspecified",t.Resources.AllText="All",t.Resources.PriorityText="Priority",t.Resources.NotAssociatedText="NotAssociated",t.Resources.TestOutcome_Result_Unspecified="Unspecified",t.Resources.TestOutcome_Passed="Passed",t.Resources.TestOutcome_Failed="Failed",t.Resources.TestOutcome_Others="Others",t.Resources.TestOutcome_None="None",t.Resources.TestOutcome_Inconclusive="Inconclusive",t.Resources.TestOutcome_Timeout="Timeout",t.Resources.TestOutcome_Aborted="Aborted",t.Resources.TestOutcome_PassedOnRerun="Passed on rerun",t.Resources.TestOutcome_Blocked="Blocked",t.Resources.TestOutcome_NotExecuted="Not executed",t.Resources.TestOutcome_Warning="Warning",t.Resources.TestOutcome_Error="Error",t.Resources.TestOutcome_NotApplicable="Not Applicable",t.Resources.TestOutcome_Paused="Paused",t.Resources.TestOutcome_InProgress="In Progress",t.Resources.TestOutcome_NotImpacted="Not Impacted",t.Resources.ResultOutcomeInfo="{0} {1}",t.Resources.ResultGridHeader_Duration="Duration",t.Resources.NotAvailableText="not available",t.Resources.ResultGridHeader_FailingRelease="Failing since release",t.Resources.ResultGridHeader_FailingBuild="Failing since build",t.Resources.ResultGridHeader_FailingSince="Failing since",t.Resources.ResultOutcomeAndMachineNameInfo="{0} {1} on {2}",t.Resources.Owner="Owner",t.Resources.DebugPivotLabel="Debug",t.Resources.CommentsText="Comments",t.Resources.ErrorMessageLabel="Error message",t.Resources.EnterFullScreenModeText="Enter full screen mode",t.Resources.ExitFullScreenModeText="Exit full screen mode",t.Resources.CloseDetailsPane="Close test result details",t.Resources.CloseOverlayPanel="Close panel",t.Resources.StackTraceLabel="Stack trace",t.Resources.WorkItemsText="Work items",t.Resources.AttachmentsHeaderText="Attachments",t.Resources.HistoryHeaderText="History",t.Resources.LoadingTestResultDetailsLabel="Loading details...",t.Resources.TagsText="Tags",t.Resources.ResultHeader_DateStarted="Date started",t.Resources.ResultHeader_DateCompleted="Date completed",t.Resources.Header_Information="Result Details",function(e){n=t.Common={};class s{}t.Common.TestReportColorPalette=s,s.Failed="#DA0A00",s.Passed="#107C10",s.Aborted="#F15854",s.NotExecuted="#828282",s.NotImpacted="#FFB900",s.OtherOutcome="#BFBFBF",s.ExistingFailures="#F5A9A9",s.Duration="#5DA5DA",s.TotalTests="#B276B2",s.AbortedForLegend="#A80000",function(e){e[e.Build=0]="Build",e[e.Release=1]="Release",e[e.ExploratorySession=2]="ExploratorySession",e[e.WorkItem=3]="WorkItem",e[e.Unsupported=4]="Unsupported"}(t.Common.ViewContext||(t.Common.ViewContext={})),function(e){e[e.InProgress=0]="InProgress",e[e.Completed=1]="Completed",e[e.Others=2]="Others"}(t.Common.ViewContextStatus||(t.Common.ViewContextStatus={}));class a{}t.Common.Constants=a,a.buildReportsDataproviderId="ms.vss-test-web.test-tab-build-summary-data-provider",a.buildTestPivotProviderId="ms.vss-test-web.build-test-results-tab",a.releaseTestPivotProviderId="ms.vss-test-web.release-test-results-tab",a.OTHER_OUTCOME_LIST=[7,10,4,13,1,11,8,12,5,0,9],function(e){e.Group_By_Container="AutomatedTestStorage",e.Group_By_Test_Run="TestRun",e.Group_By_Requirement="Requirement",e.Group_By_Test_Suite="TestSuite",e.Group_By_Priority="Priority",e.Group_By_Owner="Owner",e.Group_By_None=""}(t.Common.TestResultsGroupPivots||(t.Common.TestResultsGroupPivots={})),function(e){e.Build="ms.vss-test-web.build-test-results-tab",e.Release="ms.vss-test-web.test-result-in-release-environment-editor-tab",e.Pipeline="ms.vss-test-web.unified-test-results-tab",e.AX="ms.vss-test-analytics-web.new-test-analytics-hub"}(t.Common.ContributionSource||(t.Common.ContributionSource={}));class o{}t.Common.FeatureFlagConstants=o,o.QueryFromTcmService="WebAccess.TestManagement.QueryFromTcmService",o.TriReportCustomization="TestManagement.Server.TRIReportCustomization",o.InProgressRefreshUsingSignalREnabled="TestManagement.Server.SignalRReportingRuns",o.WebAccessTestManagementFiltersForRerun="WebAccess.TestManagement.FiltersForRerun",o.PublishOnTcmService="TestManagement.Server.EnablePublishOnTcmService",o.TestTabInNewWebPlatform="WebAccess.TestManagement.TestTabInNewWebPlatform",o.EnableTestFlakiness="TestManagement.Server.EnableTestFlakiness",o.ShowTestProjectSettings="TestManagement.Server.ShowTestProjectSettings",o.EnableFetchAllResultsUntilMegaBatchSize="TestManagement.Server.FetchAllResultsUntilMegaBatchSize",o.ShowCloudTestLink="WebAccess.TestManagement.ShowCloudTestLink",o.CTUrlSharing="WebAccess.TestManagement.CTUrlSharing",o.EnableFlakyDetectionTypeChangeDialogBox="WebAccess.TestManagement.EnableFlakyDetectionTypeUpdateConfirmationDialogBox";class r{}t.Common.SourceWorkflow=r,r.BUILD_SOURCE_WORKFLOW="CI",r.RELEASE_SOURCE_WORKFLOW="CD";class i{}t.Common.FilterByFields=i,i.Outcome="Outcome",i.Owner="Owner",i.Container="AutomatedTestStorage",i.TestCaseName="TestCaseName",i.TestRun="TestRun",i.Branch="Branch",i.Tags="Tags",i.Stages="Stages",i.TestRunId="TestRunId";class l{}t.Common.TestResultsOutcomeFilterPivots=l,l.Filter_By_All="All",l.Filter_By_Failed="Failed",l.Filter_By_Passed="Passed",l.Filter_By_Others="Others",l.Filter_By_NotImpacted="NotImpacted",l.Filter_By_PassedOnRerun="PassedOnRerun",l.Filter_By_Aborted="Aborted";class u{}t.Common.ColumnIndices=u,u.Outcome="outcome",u.NewFailure="newFailures",u.Test="test",u.FailingSince="failingSince",u.FailingBuild="failingBuild",u.Duration="duration",u.DateStarted="dateStarted",u.DateCompleted="dateCompleted",u.Owner="owner",u.FailingRelease="failingRelease",u.EnvironmentName="environmentName",u.Tags="tags";t.Common.IconDetails=class{},function(e){e[e.Unspecified=0]="Unspecified",e[e.None=1]="None",e[e.Passed=2]="Passed",e[e.Failed=3]="Failed",e[e.Inconclusive=4]="Inconclusive",e[e.Timeout=5]="Timeout",e[e.Aborted=6]="Aborted",e[e.Blocked=7]="Blocked",e[e.NotExecuted=8]="NotExecuted",e[e.Warning=9]="Warning",e[e.Error=10]="Error",e[e.NotApplicable=11]="NotApplicable",e[e.Paused=12]="Paused",e[e.InProgress=13]="InProgress",e[e.NotImpacted=14]="NotImpacted",e[e.Others=15]="Others"}(t.Common.TestOutcomeEnum||(t.Common.TestOutcomeEnum={})),function(e){e[e.None=0]="None",e[e.Marked=1]="Marked",e[e.Unmarked=2]="Unmarked"}(t.Common.TestResultFlakyState||(t.Common.TestResultFlakyState={}));class c{constructor(e,t){this.testRunId=e,this.testResultId=t}equals(e){return!!(this.testRunId&&this.testResultId&&e)&&(this.testRunId===e.testRunId&&this.testResultId===e.testResultId)}toString(){let e=this.testRunId.toString();return e=e.concat(":"),e=e.concat(this.testResultId.toString()),e.toString()}}t.Common.TestCaseResultIdentifier=c;t.Common.TestCaseResultIdentifierWithDuration=class extends c{constructor(e,t,s){super(e,t),this.durationInMs=s}}}(),function(e){t.CommonUtils={};class n{static _getDurationObject(e){let t=e.split("."),s=0;t[0]&&t[1]&&t[1].indexOf(":")>0&&(s=parseInt(t[0]),e=t[1]),t=(e=e.replace(".",":")).split(":");let a=0;if(t[3]){const e=parseFloat("."+t[3]);a=Math.round(1e3*e)}return{days:s,hours:t[0]?parseInt(t[0]):0,minutes:t[1]?parseInt(t[1]):0,seconds:t[2]?parseInt(t[2]):0,milliseconds:a}}static getPercentageInDisplayFormat(e,t=2){return(0,a.format)("{0}%",n.getCustomizedDecimalValueInCurrentLocale(e,t))}static getPercentageInDisplayFormatWithoutSymbol(e,t=2){return n.getCustomizedDecimalValueInCurrentLocale(e,t)}static parseDuration(e){let t,s;return s=n._getDurationObject(e),t="",t=s.days>0?(0,a.localeFormat)("{0} {1}",(0,a.localeFormat)(o.DayFormat,s.days),s.hours>0?(0,a.localeFormat)(o.HourFormat,s.hours):""):s.hours>0?(0,a.localeFormat)("{0} {1}",(0,a.localeFormat)(o.HourFormat,s.hours),s.minutes>0?(0,a.localeFormat)(o.MinuteFormat,s.minutes):""):s.minutes>0?(0,a.localeFormat)("{0} {1}",(0,a.localeFormat)(o.MinuteFormat,s.minutes),s.seconds>0?(0,a.localeFormat)(o.SecondFormat,s.seconds===Math.round(s.seconds)?s.seconds.toString():s.seconds.toFixed(2)):""):s.seconds>0?(0,a.localeFormat)("{0} {1}",(0,a.localeFormat)(o.SecondFormat,s.seconds),s.milliseconds>0?(0,a.localeFormat)(o.MillisecondFormat,s.milliseconds):""):0===s.milliseconds?(0,a.localeFormat)(o.SecondFormat,0):(0,a.localeFormat)(o.MillisecondFormat,s.milliseconds),t}static isZeroDuration(e){const t=n._getDurationObject(e);return 0===t.days&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.milliseconds}static parseFailureData(e){const t={newFailures:0,existingFailures:0,totalFailures:0};return t.newFailures=e&&e.newFailures?e.newFailures.count:0,t.existingFailures=e&&e.existingFailures?e.existingFailures.count:0,t.totalFailures=t.newFailures+t.existingFailures,t}static getDurationInMilliseconds(e){const t=n._getDurationObject(e);return 24*t.days*60*60*1e3+60*t.hours*60*1e3+60*t.minutes*1e3+1e3*t.seconds+t.milliseconds}static getDurationInSeconds(e){const t=n._getDurationObject(e);return 24*t.days*60*60+60*t.hours*60+60*t.minutes+t.seconds}static getDurationInMinutes(e){const t=n._getDurationObject(e);return 24*t.days*60+60*t.hours+t.minutes+parseFloat((t.seconds/60).toFixed(2))}static getDurationInHours(e){const t=n._getDurationObject(e);return 24*t.days+t.hours+parseFloat((t.minutes/60).toFixed(2))}static getCustomizedDecimalValueInCurrentLocale(e,t){return this.getCustomizedDecimalValue(e,t).toLocaleString()}static getCustomizedDecimalValue(e,t=2){let s=t;return s=Math.pow(10,s),Math.floor(e*s)/s}}t.CommonUtils.TestReportDataParser=n;class r{static convertShallowTestResultToTestCaseResult(e){return{id:e.id,durationInMs:e.durationInMs,testRun:{id:e.runId.toString()},testCaseReferenceId:e.refId}}static ConvertMilliSecondsToReadableFormatForResultSummary(e){let t,s,o;o=Math.floor(e/1e3),e=Math.floor(e%1e3),s=Math.floor(o/60),o%=60,t=Math.floor(s/60),s%=60,s<10&&(s="0"+s),o<10&&(o="0"+o);const n=r.getMillisecondsFormatForDuration(e);return(0,a.format)("{0}:{1}:{2}.{3}",t,s,o,n)}static getMillisecondsFormatForDuration(e){let t;return t=e<10?"00"+e:e<100?"0"+e:""+e,t}}function i(e,t){t=t||l;const s=Array.from(new Set(e));return s.sort(t),s}function l(e,t){return e==t?0:e>t?1:-1}t.CommonUtils.TCMContractsConverter=r,t.CommonUtils.first=function(e,t){if(e&&0!==e.length)return void 0===t?e[0]:e.find(t)},t.CommonUtils.union=function(e,t,s){let a;return t&&0!==t.length?(a=e.concat(t),a=i(a,s),a):e},t.CommonUtils.uniqueSort=i,t.CommonUtils.defaultComparer=l;t.CommonUtils.IconDetails=class{},t.CommonUtils.hasArtifactChanged=function(e,t){return e.status!==t.status||(e.data.mainData.id!==t.data.mainData.id||!(!e.data.subData||!t.data.subData||e.data.subData.environment.id===t.data.subData.environment.id))},t.CommonUtils.getProjectName=function(e){const t=(0,s.getTFSPageData)(e);return t&&t.project?t.project.name:""}}(),function(e){t.FilterHelper={};t.FilterHelper.FilterHelper=class{static getInitialFilterState(){const e={};let t=[];return t.push(n.TestResultsOutcomeFilterPivots.Filter_By_Aborted),t.push(n.TestResultsOutcomeFilterPivots.Filter_By_Failed),e[n.FilterByFields.Outcome]={values:t},e}static generateFilterString(e){let t=[];for(let s in e){let o=e[s];if(o.values.length){let e;switch(o.values.sort(),s){case n.FilterByFields.Outcome:e="Outcome eq {0}";let s=o.values.map((e=>this._getOutcomeFilterString(e)));t.push((0,a.format)(e,s.join(",")));break;case n.FilterByFields.Owner:e="Owner eq {0}";let r=o.values.join(",");(0,a.equals)(r,"")&&(r=","),t.push((0,a.format)(e,r));break;case n.FilterByFields.Container:e="AutomatedTestStorage eq {0}";let i=o.values.join(",");(0,a.equals)(i,"")&&(i=","),t.push((0,a.format)(e,i))}}}return t.join(" and ")}static _getOutcomeFilterString(e){return e===n.TestResultsOutcomeFilterPivots.Filter_By_Others?n.Constants.OTHER_OUTCOME_LIST.join(","):e}static getSearchText(e){if(e&&e.hasOwnProperty(n.FilterByFields.TestCaseName)){let t=e[n.FilterByFields.TestCaseName];if(t.values.length)return t.values.join(",")}return null}static isTagFilterEnabled(e){return!(!e||!e.hasOwnProperty(n.FilterByFields.Tags))}}}(),t.TCMPerfScenarios={},t.TCMPerfScenarios.Area="TestManagement",t.TCMPerfScenarios.TestResultsInBuildTimeLine_SummaryDetails="VSO.TFS.TRA.TestResultInBuildTimeLine_SummaryDetails",t.TCMPerfScenarios.TestPivotInBuildLoad=n.Constants.buildTestPivotProviderId,t.TCMPerfScenarios.TestPivotInReleaseLoad=n.Constants.releaseTestPivotProviderId,t.TCMPerfScenarios.TestSummaryLoaded="test-summary-loaded",t.TCMPerfScenarios.TestResultDetailsViewLoaded="VSO.TFS.TRA.TestResultsInTestTab.NavigateResultDetails",r=t.TelemetryConstants={},t.TelemetryConstants.buildContext="Build",t.TelemetryConstants.releaseContext="Release",t.TelemetryConstants.areaTestManagement="TestManagement",t.TelemetryConstants.inProgress="InProgress",t.TelemetryConstants.completed="Completed",t.TelemetryConstants.others="Others",t.TelemetryConstants.totalTests="TotalTests",t.TelemetryConstants.failedTests="FailedTests",t.TelemetryConstants.passedTests="PassedTests",t.TelemetryConstants.totalTestsExists="TotalTestsExists",t.TelemetryConstants.failedTestsExists="FailedTestsExists",t.TelemetryConstants.eventClicked="Clicked",t.TelemetryConstants.workflow="Workflow",t.TelemetryConstants.id="Id",t.TelemetryConstants.featureTestTab_SignalRRefreshed="NewTestTab_SignalRRefreshed",t.TelemetryConstants.featureTimelineInBuild="BuildTimeline",t.TelemetryConstants.featureTestTab_Filter="NewTestTab_Filter",t.TelemetryConstants.featureTestTab_FilterButtonClicked="NewTestTab_FilterButtonClicked",t.TelemetryConstants.featureTestTab_BuildLinkClicked="NewTestTab_BuildLinkClicked",t.TelemetryConstants.featureTestTab_ReleaseLinkClicked="NewTestTab_ReleaseLinkClicked",t.TelemetryConstants.featureTestTab_TestRowVisited="TestTab_TestRowSingleVisited",t.TelemetryConstants.featureTestTab_DetailsPanelClosed="TestTab_DetailsPaneClosed",t.TelemetryConstants.featureTestTab_DetailsPanelFullView="TestTab_DetailsPaneFullView",t.TelemetryConstants.featureTestTab_DetailsDirectLink="TestTab_DetailsDirectLink",t.TelemetryConstants.featureTestTab_ErrorInSummaryDataProvider="TestTab_ErrorInSummaryDataProvider",t.TelemetryConstants.featureTestTab_ErrorInResultsGridDataProvider="TestTab_ErrorInResultsGridDataProvider",t.TelemetryConstants.featureTestTabSignalR="NewTestTab_SignalR",t.TelemetryConstants.featureTestTab_ColumnsChanged="NewTestTab_ColumnsChanged",t.TelemetryConstants.featureTestTab_DurationSorted="NewTestTab_DurationSorted",t.TelemetryConstants.featureTestTab_ShowMoreTestResultsAfterFilter="NewTestTab_ShowMoreTestResultsAfterFilter",t.TelemetryConstants.featureTestTab_InProgressViewRefreshed="NewTestTab_InProgressViewRefreshed",t.TelemetryConstants.featureTestTab_SummaryExpandCollapseClicked="NewTestTab_SummaryExpandCollapseClicked",t.TelemetryConstants.featureTestTab_GroupByClicked="NewTestTab_GroupByClicked",t.TelemetryConstants.featureTestTab_MarkUnMarkFlakyClicked="NewTestTab_MarkUnMarkFlakyClicked",t.TelemetryConstants.featureTestTab_FlakyCanceledClicked="NewTestTab__FlakyCanceledClicked",t.TelemetryConstants.featureTestTab_TestTabClicked="NewTestTab_TestTabClicked",t.TelemetryConstants.featureTestTab_TestTabWithOnlyNotReportedTests="NewTestTab_TestTabWithOnlyNotReportedTests",t.TelemetryConstants.featureTestTab_summaryInBuildTimelineRendered="NewTestTab_SummaryInBuildTimelineRendered",t.TelemetryConstants.featureResultsListView_SelectionOfHierarchicalResults="ResultsListView_SelectionOfHierarchicalResults",t.TelemetryConstants.featureAnalyticsInProductLink_PassRate_SummarySection="AnalyticsInProductLink_PassRate_SummarySection",t.TelemetryConstants.featureAnalyticsInProductLink_UniqueFailingTests_TestTab="AnalyticsInProductLink_UniqueFailingTests_TestTab",t.TelemetryConstants.featureTestTab_TestInAzurePipelineFwLinkClicked="NewTestTab_TestInAzurePipelineFwLinkClicked",t.TelemetryConstants.featureFlakyTestProjectSettings="FlakyTestProjectSettingsUpdate",t.TelemetryConstants.featureFlakyDialogBoxCancellation="FlakyTestSettingsUpdateCancellation",t.TelemetryConstants.errorOccurredDuringSignalRConnection="NewTestTab_ErrorOccurredDuringSignalRConnection",t.TelemetryConstants.featureNewTestLoggingSettings="NewTestLoggingSettingsUpdate",function(e){function s(e,t,s,o){try{const a=e.getService("IVssTelemetryService");var i,l,u,c,m;if(t&&t.status){switch(+t.status){case n.ViewContextStatus.InProgress:i=r.inProgress;break;case n.ViewContextStatus.Completed:i=r.completed;break;case n.ViewContextStatus.Others:i=r.others}l=t.data.mainData.id,(u=t.viewContext===n.ViewContext.Release?r.releaseContext:r.buildContext)===r.releaseContext&&(c=t.data.subData.environment.id),m=t.contributionSource}o.artifactType=u,o.artifactId=l,o.artifactStatus=i,o.contributionSource=m,u===r.releaseContext&&(o.artifactStageId=c),a.publishEvent(r.areaTestManagement,s,o)}catch(e){console.error(a.format("[TelemetryService.logProperties]: Error in logging Customer Intelligence data. Error: {0}",e.message))}}t.Telemetry={},t.Telemetry.publishEvent=s,t.Telemetry.publishDetailsPaneEvents=function(e,t,a,o,n){let r="HalfScreen";a&&(r="FullScreen"),n.DetailsPaneMode=r,s(e,t,o,n)}}(),function(e){t.TestOutcomeUtils={},t.TestOutcomeUtils.getIconDetails=function(e){return e?a[e]:a[1]},t.TestOutcomeUtils.getFriendlyName=function(e){return s[e]};const s={0:o.TestOutcome_Result_Unspecified,1:o.TestOutcome_None,2:o.TestOutcome_Passed,3:o.TestOutcome_Failed,4:o.TestOutcome_Inconclusive,5:o.TestOutcome_Timeout,6:o.TestOutcome_Aborted,7:o.TestOutcome_Blocked,8:o.TestOutcome_NotExecuted,9:o.TestOutcome_Warning,10:o.TestOutcome_Error,11:o.TestOutcome_NotApplicable,12:o.TestOutcome_Paused,13:o.TestOutcome_InProgress,14:o.TestOutcome_NotImpacted,[n.TestOutcomeEnum.Others]:o.TestOutcome_Others},a={0:{iconName:"Help",className:"icon-inconclusive"},1:{iconName:"Remove",className:"icon-inconclusive"},2:{iconName:"CheckMark",className:"icon-passed"},3:{iconName:"Cancel",className:"icon-failed"},4:{iconName:"Unknown",className:"icon-inconclusive"},5:{iconName:"Clock",className:"icon-inconclusive"},6:{iconName:"CircleStop",className:"icon-failed"},7:{iconName:"Blocked2",className:"icon-failed"},8:{iconName:"NotExecuted",className:"icon-inconclusive"},9:{iconName:"Warning",className:"icon-warning"},10:{iconName:"Error",className:"icon-failed"},11:{iconName:"Blocked",className:"icon-inconclusive"},12:{iconName:"CirclePause",className:"icon-inconclusive"},13:{iconName:"MSNVideos",className:"icon-inprogress"},14:{iconName:"NotImpactedSolid",className:"icon-inconclusive"},[n.TestOutcomeEnum.Others]:{iconName:"Unknown",className:"icon-inconclusive"}}}(),function(e){t[e]={};class s{constructor(e,t){this.value=e,this.displayValue=t}}function n(e){return void 0===e.displayValue&&e.value?e.value.toString():e.displayValue?e.displayValue:o.UnspecifiedText}function r(e,t){return(0,a.localeIgnoreCaseComparer)(i(e),i(t))}function i(e){return e?e instanceof s?n(e):e.toString():o.UnspecifiedText}t[e].FilterValueItem=s,t[e].areFilterStatesEqual=function(e,t){if(null==e&&null==t)return!0;if(null==e)return!1;if(null==t)return!1;if(0==Object.keys(e).length&&0==Object.keys(t).length)return!0;if(0==Object.keys(e).length||0==Object.keys(t).length)return!1;let s=Object.keys(e).sort(),o=Object.keys(t).sort();if(!(0,a.equals)(JSON.stringify(s),JSON.stringify(o)))return!1;for(let s in e)if(s in t){let o=e[s].values.sort(r),n=t[s].values.sort(r);if(!(0,a.equals)(JSON.stringify(o),JSON.stringify(n)))return!1;let i=e[s].options,l=t[s].options;if(!(0,a.equals)(JSON.stringify(i),JSON.stringify(l)))return!1}return!0},t[e].getDisplayValue=n,t[e].sortFilterState=function(e){if(!e)return e;for(let t in e){let s=e[t].values.sort(r);e[t].values=s}}}("TestResultsFilteringCommon"),function(e){t[e]={};class s{static getPassTestRate(e){let t=s.getTotalCount(e);return(e[2]?e[2].count:0)/t*100}static getPassedTestStatisticsInPipeline(e){let t={passTestRate:-1,passTestCount:0,totalTestCount:0,totalNotReportedTestCount:0};if(e.resultSummaryByRunState)for(let a of Object.keys(e.resultSummaryByRunState)){const o=e.resultSummaryByRunState[parseInt(a)];if(o&&(3===parseInt(a)||6===parseInt(a))){let e=s.getPassedTestStatisticsInPipelineByRunState(o);t.passTestCount+=e.passTestCount,t.totalTestCount+=e.totalTestCount,t.totalNotReportedTestCount+=e.totalNotReportedTestCount}}return t.totalTestCount>0&&(t.passTestRate=t.passTestCount/t.totalTestCount*100),t}static getPassedTestStatisticsInPipelineByRunState(e){let t={passTestRate:0,passTestCount:0,totalTestCount:0,totalNotReportedTestCount:0};if(e&&e.aggregatedResultDetailsByOutcome){let s=e.aggregatedResultDetailsByOutcome[14]?e.aggregatedResultDetailsByOutcome[14].count:0;t.totalTestCount=e.totalTestCount-s,t.passTestCount=e.aggregatedResultDetailsByOutcome[2]?e.aggregatedResultDetailsByOutcome[2].count:0,t.totalNotReportedTestCount=e.notReportedTestCount}return t}static getTotalCount(e){let t=0;for(let s in e){let a=e[s],o=a.count;a.outcome,t+=o}return t}}t[e].TestSummaryReportUtils=s}("TestSummaryReportUtils")}),["Resources","Common","Common.Utils","FilterHelper","TCMPerfScenarios","TelemetryConstants","Telemetry","TestOutcomeUtils","TestResults.Filtering.Common","TestSummaryReport.Utils"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-test-web.common-util"}}));